function cM(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const o=Object.getOwnPropertyDescriptor(i,r);o&&Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();function G0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Mm={exports:{}},fc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Av;function uM(){if(Av)return fc;Av=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,r,o){var l=null;if(o!==void 0&&(l=""+o),r.key!==void 0&&(l=""+r.key),"key"in r){o={};for(var c in r)c!=="key"&&(o[c]=r[c])}else o=r;return r=o.ref,{$$typeof:t,type:i,key:l,ref:r!==void 0?r:null,props:o}}return fc.Fragment=e,fc.jsx=n,fc.jsxs=n,fc}var Rv;function fM(){return Rv||(Rv=1,Mm.exports=uM()),Mm.exports}var T=fM(),km={exports:{}},ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ov;function dM(){if(Ov)return ke;Ov=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function y(R){return R===null||typeof R!="object"?null:(R=m&&R[m]||R["@@iterator"],typeof R=="function"?R:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,w={};function x(R,q,F){this.props=R,this.context=q,this.refs=w,this.updater=F||b}x.prototype.isReactComponent={},x.prototype.setState=function(R,q){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,q,"setState")},x.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function E(){}E.prototype=x.prototype;function A(R,q,F){this.props=R,this.context=q,this.refs=w,this.updater=F||b}var O=A.prototype=new E;O.constructor=A,C(O,x.prototype),O.isPureReactComponent=!0;var H=Array.isArray,L={H:null,A:null,T:null,S:null,V:null},K=Object.prototype.hasOwnProperty;function Y(R,q,F,te,ae,we){return F=we.ref,{$$typeof:t,type:R,key:q,ref:F!==void 0?F:null,props:we}}function X(R,q){return Y(R.type,q,void 0,void 0,void 0,R.props)}function oe(R){return typeof R=="object"&&R!==null&&R.$$typeof===t}function Q(R){var q={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(F){return q[F]})}var le=/\/+/g;function re(R,q){return typeof R=="object"&&R!==null&&R.key!=null?Q(""+R.key):q.toString(36)}function ce(){}function ie(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(ce,ce):(R.status="pending",R.then(function(q){R.status==="pending"&&(R.status="fulfilled",R.value=q)},function(q){R.status==="pending"&&(R.status="rejected",R.reason=q)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function $(R,q,F,te,ae){var we=typeof R;(we==="undefined"||we==="boolean")&&(R=null);var ue=!1;if(R===null)ue=!0;else switch(we){case"bigint":case"string":case"number":ue=!0;break;case"object":switch(R.$$typeof){case t:case e:ue=!0;break;case p:return ue=R._init,$(ue(R._payload),q,F,te,ae)}}if(ue)return ae=ae(R),ue=te===""?"."+re(R,0):te,H(ae)?(F="",ue!=null&&(F=ue.replace(le,"$&/")+"/"),$(ae,q,F,"",function(cn){return cn})):ae!=null&&(oe(ae)&&(ae=X(ae,F+(ae.key==null||R&&R.key===ae.key?"":(""+ae.key).replace(le,"$&/")+"/")+ue)),q.push(ae)),1;ue=0;var Ge=te===""?".":te+":";if(H(R))for(var He=0;He<R.length;He++)te=R[He],we=Ge+re(te,He),ue+=$(te,q,F,we,ae);else if(He=y(R),typeof He=="function")for(R=He.call(R),He=0;!(te=R.next()).done;)te=te.value,we=Ge+re(te,He++),ue+=$(te,q,F,we,ae);else if(we==="object"){if(typeof R.then=="function")return $(ie(R),q,F,te,ae);throw q=String(R),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return ue}function _(R,q,F){if(R==null)return R;var te=[],ae=0;return $(R,te,"","",function(we){return q.call(F,we,ae++)}),te}function j(R){if(R._status===-1){var q=R._result;q=q(),q.then(function(F){(R._status===0||R._status===-1)&&(R._status=1,R._result=F)},function(F){(R._status===0||R._status===-1)&&(R._status=2,R._result=F)}),R._status===-1&&(R._status=0,R._result=q)}if(R._status===1)return R._result.default;throw R._result}var z=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)};function J(){}return ke.Children={map:_,forEach:function(R,q,F){_(R,function(){q.apply(this,arguments)},F)},count:function(R){var q=0;return _(R,function(){q++}),q},toArray:function(R){return _(R,function(q){return q})||[]},only:function(R){if(!oe(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},ke.Component=x,ke.Fragment=n,ke.Profiler=r,ke.PureComponent=A,ke.StrictMode=i,ke.Suspense=f,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,ke.__COMPILER_RUNTIME={__proto__:null,c:function(R){return L.H.useMemoCache(R)}},ke.cache=function(R){return function(){return R.apply(null,arguments)}},ke.cloneElement=function(R,q,F){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var te=C({},R.props),ae=R.key,we=void 0;if(q!=null)for(ue in q.ref!==void 0&&(we=void 0),q.key!==void 0&&(ae=""+q.key),q)!K.call(q,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&q.ref===void 0||(te[ue]=q[ue]);var ue=arguments.length-2;if(ue===1)te.children=F;else if(1<ue){for(var Ge=Array(ue),He=0;He<ue;He++)Ge[He]=arguments[He+2];te.children=Ge}return Y(R.type,ae,void 0,void 0,we,te)},ke.createContext=function(R){return R={$$typeof:l,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:o,_context:R},R},ke.createElement=function(R,q,F){var te,ae={},we=null;if(q!=null)for(te in q.key!==void 0&&(we=""+q.key),q)K.call(q,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(ae[te]=q[te]);var ue=arguments.length-2;if(ue===1)ae.children=F;else if(1<ue){for(var Ge=Array(ue),He=0;He<ue;He++)Ge[He]=arguments[He+2];ae.children=Ge}if(R&&R.defaultProps)for(te in ue=R.defaultProps,ue)ae[te]===void 0&&(ae[te]=ue[te]);return Y(R,we,void 0,void 0,null,ae)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(R){return{$$typeof:c,render:R}},ke.isValidElement=oe,ke.lazy=function(R){return{$$typeof:p,_payload:{_status:-1,_result:R},_init:j}},ke.memo=function(R,q){return{$$typeof:d,type:R,compare:q===void 0?null:q}},ke.startTransition=function(R){var q=L.T,F={};L.T=F;try{var te=R(),ae=L.S;ae!==null&&ae(F,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(J,z)}catch(we){z(we)}finally{L.T=q}},ke.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},ke.use=function(R){return L.H.use(R)},ke.useActionState=function(R,q,F){return L.H.useActionState(R,q,F)},ke.useCallback=function(R,q){return L.H.useCallback(R,q)},ke.useContext=function(R){return L.H.useContext(R)},ke.useDebugValue=function(){},ke.useDeferredValue=function(R,q){return L.H.useDeferredValue(R,q)},ke.useEffect=function(R,q,F){var te=L.H;if(typeof F=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return te.useEffect(R,q)},ke.useId=function(){return L.H.useId()},ke.useImperativeHandle=function(R,q,F){return L.H.useImperativeHandle(R,q,F)},ke.useInsertionEffect=function(R,q){return L.H.useInsertionEffect(R,q)},ke.useLayoutEffect=function(R,q){return L.H.useLayoutEffect(R,q)},ke.useMemo=function(R,q){return L.H.useMemo(R,q)},ke.useOptimistic=function(R,q){return L.H.useOptimistic(R,q)},ke.useReducer=function(R,q,F){return L.H.useReducer(R,q,F)},ke.useRef=function(R){return L.H.useRef(R)},ke.useState=function(R){return L.H.useState(R)},ke.useSyncExternalStore=function(R,q,F){return L.H.useSyncExternalStore(R,q,F)},ke.useTransition=function(){return L.H.useTransition()},ke.version="19.1.0",ke}var Nv;function su(){return Nv||(Nv=1,km.exports=dM()),km.exports}var M=su();const bt=G0(M),q5=cM({__proto__:null,default:bt},[M]);var Am={exports:{}},dc={},Rm={exports:{}},Om={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dv;function hM(){return Dv||(Dv=1,function(t){function e(_,j){var z=_.length;_.push(j);e:for(;0<z;){var J=z-1>>>1,R=_[J];if(0<r(R,j))_[J]=j,_[z]=R,z=J;else break e}}function n(_){return _.length===0?null:_[0]}function i(_){if(_.length===0)return null;var j=_[0],z=_.pop();if(z!==j){_[0]=z;e:for(var J=0,R=_.length,q=R>>>1;J<q;){var F=2*(J+1)-1,te=_[F],ae=F+1,we=_[ae];if(0>r(te,z))ae<R&&0>r(we,te)?(_[J]=we,_[ae]=z,J=ae):(_[J]=te,_[F]=z,J=F);else if(ae<R&&0>r(we,z))_[J]=we,_[ae]=z,J=ae;else break e}}return j}function r(_,j){var z=_.sortIndex-j.sortIndex;return z!==0?z:_.id-j.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var f=[],d=[],p=1,m=null,y=3,b=!1,C=!1,w=!1,x=!1,E=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function H(_){for(var j=n(d);j!==null;){if(j.callback===null)i(d);else if(j.startTime<=_)i(d),j.sortIndex=j.expirationTime,e(f,j);else break;j=n(d)}}function L(_){if(w=!1,H(_),!C)if(n(f)!==null)C=!0,K||(K=!0,re());else{var j=n(d);j!==null&&$(L,j.startTime-_)}}var K=!1,Y=-1,X=5,oe=-1;function Q(){return x?!0:!(t.unstable_now()-oe<X)}function le(){if(x=!1,K){var _=t.unstable_now();oe=_;var j=!0;try{e:{C=!1,w&&(w=!1,A(Y),Y=-1),b=!0;var z=y;try{t:{for(H(_),m=n(f);m!==null&&!(m.expirationTime>_&&Q());){var J=m.callback;if(typeof J=="function"){m.callback=null,y=m.priorityLevel;var R=J(m.expirationTime<=_);if(_=t.unstable_now(),typeof R=="function"){m.callback=R,H(_),j=!0;break t}m===n(f)&&i(f),H(_)}else i(f);m=n(f)}if(m!==null)j=!0;else{var q=n(d);q!==null&&$(L,q.startTime-_),j=!1}}break e}finally{m=null,y=z,b=!1}j=void 0}}finally{j?re():K=!1}}}var re;if(typeof O=="function")re=function(){O(le)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,ie=ce.port2;ce.port1.onmessage=le,re=function(){ie.postMessage(null)}}else re=function(){E(le,0)};function $(_,j){Y=E(function(){_(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(_){_.callback=null},t.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<_?Math.floor(1e3/_):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(_){switch(y){case 1:case 2:case 3:var j=3;break;default:j=y}var z=y;y=j;try{return _()}finally{y=z}},t.unstable_requestPaint=function(){x=!0},t.unstable_runWithPriority=function(_,j){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var z=y;y=_;try{return j()}finally{y=z}},t.unstable_scheduleCallback=function(_,j,z){var J=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?J+z:J):z=J,_){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=z+R,_={id:p++,callback:j,priorityLevel:_,startTime:z,expirationTime:R,sortIndex:-1},z>J?(_.sortIndex=z,e(d,_),n(f)===null&&_===n(d)&&(w?(A(Y),Y=-1):w=!0,$(L,z-J))):(_.sortIndex=R,e(f,_),C||b||(C=!0,K||(K=!0,re()))),_},t.unstable_shouldYield=Q,t.unstable_wrapCallback=function(_){var j=y;return function(){var z=y;y=j;try{return _.apply(this,arguments)}finally{y=z}}}}(Om)),Om}var Lv;function pM(){return Lv||(Lv=1,Rm.exports=hM()),Rm.exports}var Nm={exports:{}},hn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _v;function mM(){if(_v)return hn;_v=1;var t=su();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(f,d,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:m==null?null:""+m,children:f,containerInfo:d,implementation:p}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,hn.createPortal=function(f,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(f,d,null,p)},hn.flushSync=function(f){var d=l.T,p=i.p;try{if(l.T=null,i.p=2,f)return f()}finally{l.T=d,i.p=p,i.d.f()}},hn.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(f,d))},hn.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},hn.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var p=d.as,m=c(p,d.crossOrigin),y=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?i.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:m,integrity:y,fetchPriority:b}):p==="script"&&i.d.X(f,{crossOrigin:m,integrity:y,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},hn.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=c(d.as,d.crossOrigin);i.d.M(f,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(f)},hn.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,m=c(p,d.crossOrigin);i.d.L(f,p,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},hn.preloadModule=function(f,d){if(typeof f=="string")if(d){var p=c(d.as,d.crossOrigin);i.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(f)},hn.requestFormReset=function(f){i.d.r(f)},hn.unstable_batchedUpdates=function(f,d){return f(d)},hn.useFormState=function(f,d,p){return l.H.useFormState(f,d,p)},hn.useFormStatus=function(){return l.H.useHostTransitionStatus()},hn.version="19.1.0",hn}var Hv;function $5(){if(Hv)return Nm.exports;Hv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Nm.exports=mM(),Nm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv;function gM(){if(Iv)return dc;Iv=1;var t=pM(),e=su(),n=$5();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,u=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(u=a.return),s=a.return;while(s)}return a.tag===3?u:null}function l(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function c(s){if(o(s)!==s)throw Error(i(188))}function f(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(i(188));return a!==s?null:s}for(var u=s,h=a;;){var g=u.return;if(g===null)break;var v=g.alternate;if(v===null){if(h=g.return,h!==null){u=h;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===u)return c(g),s;if(v===h)return c(g),a;v=v.sibling}throw Error(i(188))}if(u.return!==h.return)u=g,h=v;else{for(var S=!1,k=g.child;k;){if(k===u){S=!0,u=g,h=v;break}if(k===h){S=!0,h=g,u=v;break}k=k.sibling}if(!S){for(k=v.child;k;){if(k===u){S=!0,u=v,h=g;break}if(k===h){S=!0,h=v,u=g;break}k=k.sibling}if(!S)throw Error(i(189))}}if(u.alternate!==h)throw Error(i(190))}if(u.tag!==3)throw Error(i(188));return u.stateNode.current===u?s:a}function d(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=d(s),a!==null)return a;s=s.sibling}return null}var p=Object.assign,m=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),O=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),oe=Symbol.for("react.activity"),Q=Symbol.for("react.memo_cache_sentinel"),le=Symbol.iterator;function re(s){return s===null||typeof s!="object"?null:(s=le&&s[le]||s["@@iterator"],typeof s=="function"?s:null)}var ce=Symbol.for("react.client.reference");function ie(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===ce?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case C:return"Fragment";case x:return"Profiler";case w:return"StrictMode";case L:return"Suspense";case K:return"SuspenseList";case oe:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case b:return"Portal";case O:return(s.displayName||"Context")+".Provider";case A:return(s._context.displayName||"Context")+".Consumer";case H:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Y:return a=s.displayName||null,a!==null?a:ie(s.type)||"Memo";case X:a=s._payload,s=s._init;try{return ie(s(a))}catch{}}return null}var $=Array.isArray,_=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z={pending:!1,data:null,method:null,action:null},J=[],R=-1;function q(s){return{current:s}}function F(s){0>R||(s.current=J[R],J[R]=null,R--)}function te(s,a){R++,J[R]=s.current,s.current=a}var ae=q(null),we=q(null),ue=q(null),Ge=q(null);function He(s,a){switch(te(ue,a),te(we,s),te(ae,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?nv(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=nv(a),s=iv(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}F(ae),te(ae,s)}function cn(){F(ae),F(we),F(ue)}function $n(s){s.memoizedState!==null&&te(Ge,s);var a=ae.current,u=iv(a,s.type);a!==u&&(te(we,s),te(ae,u))}function Se(s){we.current===s&&(F(ae),F(we)),Ge.current===s&&(F(Ge),sc._currentValue=z)}var De=Object.prototype.hasOwnProperty,Te=t.unstable_scheduleCallback,Ee=t.unstable_cancelCallback,Ct=t.unstable_shouldYield,gt=t.unstable_requestPaint,at=t.unstable_now,Jt=t.unstable_getCurrentPriorityLevel,$e=t.unstable_ImmediatePriority,it=t.unstable_UserBlockingPriority,un=t.unstable_NormalPriority,ge=t.unstable_LowPriority,Ue=t.unstable_IdlePriority,ve=t.log,ct=t.unstable_setDisableYieldValue,Ke=null,Ie=null;function An(s){if(typeof ve=="function"&&ct(s),Ie&&typeof Ie.setStrictMode=="function")try{Ie.setStrictMode(Ke,s)}catch{}}var Pt=Math.clz32?Math.clz32:or,Po=Math.log,Rn=Math.LN2;function or(s){return s>>>=0,s===0?32:31-(Po(s)/Rn|0)|0}var sr=256,Fo=4194304;function Ui(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function lr(s,a,u){var h=s.pendingLanes;if(h===0)return 0;var g=0,v=s.suspendedLanes,S=s.pingedLanes;s=s.warmLanes;var k=h&134217727;return k!==0?(h=k&~v,h!==0?g=Ui(h):(S&=k,S!==0?g=Ui(S):u||(u=k&~s,u!==0&&(g=Ui(u))))):(k=h&~v,k!==0?g=Ui(k):S!==0?g=Ui(S):u||(u=h&~s,u!==0&&(g=Ui(u)))),g===0?0:a!==0&&a!==g&&(a&v)===0&&(v=g&-g,u=a&-a,v>=u||v===32&&(u&4194048)!==0)?a:g}function On(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function Ps(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Su(){var s=sr;return sr<<=1,(sr&4194048)===0&&(sr=256),s}function ma(){var s=Fo;return Fo<<=1,(Fo&62914560)===0&&(Fo=4194304),s}function Fs(s){for(var a=[],u=0;31>u;u++)a.push(s);return a}function ga(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function W8(s,a,u,h,g,v){var S=s.pendingLanes;s.pendingLanes=u,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=u,s.entangledLanes&=u,s.errorRecoveryDisabledLanes&=u,s.shellSuspendCounter=0;var k=s.entanglements,N=s.expirationTimes,V=s.hiddenUpdates;for(u=S&~u;0<u;){var Z=31-Pt(u),ee=1<<Z;k[Z]=0,N[Z]=-1;var U=V[Z];if(U!==null)for(V[Z]=null,Z=0;Z<U.length;Z++){var P=U[Z];P!==null&&(P.lane&=-536870913)}u&=~ee}h!==0&&Uy(s,h,0),v!==0&&g===0&&s.tag!==0&&(s.suspendedLanes|=v&~(S&~a))}function Uy(s,a,u){s.pendingLanes|=a,s.suspendedLanes&=~a;var h=31-Pt(a);s.entangledLanes|=a,s.entanglements[h]=s.entanglements[h]|1073741824|u&4194090}function Py(s,a){var u=s.entangledLanes|=a;for(s=s.entanglements;u;){var h=31-Pt(u),g=1<<h;g&a|s[h]&a&&(s[h]|=a),u&=~g}}function gp(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function yp(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Fy(){var s=j.p;return s!==0?s:(s=window.event,s===void 0?32:xv(s.type))}function J8(s,a){var u=j.p;try{return j.p=s,a()}finally{j.p=u}}var qr=Math.random().toString(36).slice(2),fn="__reactFiber$"+qr,Nn="__reactProps$"+qr,qs="__reactContainer$"+qr,bp="__reactEvents$"+qr,Q8="__reactListeners$"+qr,eT="__reactHandles$"+qr,qy="__reactResources$"+qr,ya="__reactMarker$"+qr;function vp(s){delete s[fn],delete s[Nn],delete s[bp],delete s[Q8],delete s[eT]}function $s(s){var a=s[fn];if(a)return a;for(var u=s.parentNode;u;){if(a=u[qs]||u[fn]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(s=lv(s);s!==null;){if(u=s[fn])return u;s=lv(s)}return a}s=u,u=s.parentNode}return null}function Ks(s){if(s=s[fn]||s[qs]){var a=s.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return s}return null}function ba(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function Zs(s){var a=s[qy];return a||(a=s[qy]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ft(s){s[ya]=!0}var $y=new Set,Ky={};function qo(s,a){Ys(s,a),Ys(s+"Capture",a)}function Ys(s,a){for(Ky[s]=a,s=0;s<a.length;s++)$y.add(a[s])}var tT=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zy={},Yy={};function nT(s){return De.call(Yy,s)?!0:De.call(Zy,s)?!1:tT.test(s)?Yy[s]=!0:(Zy[s]=!0,!1)}function Tu(s,a,u){if(nT(a))if(u===null)s.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var h=a.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+u)}}function Eu(s,a,u){if(u===null)s.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+u)}}function ar(s,a,u,h){if(h===null)s.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(u);return}s.setAttributeNS(a,u,""+h)}}var Cp,Gy;function Gs(s){if(Cp===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);Cp=a&&a[1]||"",Gy=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Cp+s+Gy}var wp=!1;function xp(s,a){if(!s||wp)return"";wp=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(a){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(P){var U=P}Reflect.construct(s,[],ee)}else{try{ee.call()}catch(P){U=P}s.call(ee.prototype)}}else{try{throw Error()}catch(P){U=P}(ee=s())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(P){if(P&&U&&typeof P.stack=="string")return[P.stack,U.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=h.DetermineComponentFrameRoot(),S=v[0],k=v[1];if(S&&k){var N=S.split(`
`),V=k.split(`
`);for(g=h=0;h<N.length&&!N[h].includes("DetermineComponentFrameRoot");)h++;for(;g<V.length&&!V[g].includes("DetermineComponentFrameRoot");)g++;if(h===N.length||g===V.length)for(h=N.length-1,g=V.length-1;1<=h&&0<=g&&N[h]!==V[g];)g--;for(;1<=h&&0<=g;h--,g--)if(N[h]!==V[g]){if(h!==1||g!==1)do if(h--,g--,0>g||N[h]!==V[g]){var Z=`
`+N[h].replace(" at new "," at ");return s.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",s.displayName)),Z}while(1<=h&&0<=g);break}}}finally{wp=!1,Error.prepareStackTrace=u}return(u=s?s.displayName||s.name:"")?Gs(u):""}function iT(s){switch(s.tag){case 26:case 27:case 5:return Gs(s.type);case 16:return Gs("Lazy");case 13:return Gs("Suspense");case 19:return Gs("SuspenseList");case 0:case 15:return xp(s.type,!1);case 11:return xp(s.type.render,!1);case 1:return xp(s.type,!0);case 31:return Gs("Activity");default:return""}}function Xy(s){try{var a="";do a+=iT(s),s=s.return;while(s);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function ii(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Wy(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function rT(s){var a=Wy(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),h=""+s[a];if(!s.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,v=u.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(S){h=""+S,v.call(this,S)}}),Object.defineProperty(s,a,{enumerable:u.enumerable}),{getValue:function(){return h},setValue:function(S){h=""+S},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Mu(s){s._valueTracker||(s._valueTracker=rT(s))}function Jy(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var u=a.getValue(),h="";return s&&(h=Wy(s)?s.checked?"true":"false":s.value),s=h,s!==u?(a.setValue(s),!0):!1}function ku(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var oT=/[\n"\\]/g;function ri(s){return s.replace(oT,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Sp(s,a,u,h,g,v,S,k){s.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.type=S:s.removeAttribute("type"),a!=null?S==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+ii(a)):s.value!==""+ii(a)&&(s.value=""+ii(a)):S!=="submit"&&S!=="reset"||s.removeAttribute("value"),a!=null?Tp(s,S,ii(a)):u!=null?Tp(s,S,ii(u)):h!=null&&s.removeAttribute("value"),g==null&&v!=null&&(s.defaultChecked=!!v),g!=null&&(s.checked=g&&typeof g!="function"&&typeof g!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?s.name=""+ii(k):s.removeAttribute("name")}function Qy(s,a,u,h,g,v,S,k){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(s.type=v),a!=null||u!=null){if(!(v!=="submit"&&v!=="reset"||a!=null))return;u=u!=null?""+ii(u):"",a=a!=null?""+ii(a):u,k||a===s.value||(s.value=a),s.defaultValue=a}h=h??g,h=typeof h!="function"&&typeof h!="symbol"&&!!h,s.checked=k?s.checked:!!h,s.defaultChecked=!!h,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(s.name=S)}function Tp(s,a,u){a==="number"&&ku(s.ownerDocument)===s||s.defaultValue===""+u||(s.defaultValue=""+u)}function Xs(s,a,u,h){if(s=s.options,a){a={};for(var g=0;g<u.length;g++)a["$"+u[g]]=!0;for(u=0;u<s.length;u++)g=a.hasOwnProperty("$"+s[u].value),s[u].selected!==g&&(s[u].selected=g),g&&h&&(s[u].defaultSelected=!0)}else{for(u=""+ii(u),a=null,g=0;g<s.length;g++){if(s[g].value===u){s[g].selected=!0,h&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function e3(s,a,u){if(a!=null&&(a=""+ii(a),a!==s.value&&(s.value=a),u==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=u!=null?""+ii(u):""}function t3(s,a,u,h){if(a==null){if(h!=null){if(u!=null)throw Error(i(92));if($(h)){if(1<h.length)throw Error(i(93));h=h[0]}u=h}u==null&&(u=""),a=u}u=ii(a),s.defaultValue=u,h=s.textContent,h===u&&h!==""&&h!==null&&(s.value=h)}function Ws(s,a){if(a){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=a;return}}s.textContent=a}var sT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function n3(s,a,u){var h=a.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?h?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":h?s.setProperty(a,u):typeof u!="number"||u===0||sT.has(a)?a==="float"?s.cssFloat=u:s[a]=(""+u).trim():s[a]=u+"px"}function i3(s,a,u){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,u!=null){for(var h in u)!u.hasOwnProperty(h)||a!=null&&a.hasOwnProperty(h)||(h.indexOf("--")===0?s.setProperty(h,""):h==="float"?s.cssFloat="":s[h]="");for(var g in a)h=a[g],a.hasOwnProperty(g)&&u[g]!==h&&n3(s,g,h)}else for(var v in a)a.hasOwnProperty(v)&&n3(s,v,a[v])}function Ep(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),aT=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Au(s){return aT.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Mp=null;function kp(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Js=null,Qs=null;function r3(s){var a=Ks(s);if(a&&(s=a.stateNode)){var u=s[Nn]||null;e:switch(s=a.stateNode,a.type){case"input":if(Sp(s,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),a=u.name,u.type==="radio"&&a!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+ri(""+a)+'"][type="radio"]'),a=0;a<u.length;a++){var h=u[a];if(h!==s&&h.form===s.form){var g=h[Nn]||null;if(!g)throw Error(i(90));Sp(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(a=0;a<u.length;a++)h=u[a],h.form===s.form&&Jy(h)}break e;case"textarea":e3(s,u.value,u.defaultValue);break e;case"select":a=u.value,a!=null&&Xs(s,!!u.multiple,a,!1)}}}var Ap=!1;function o3(s,a,u){if(Ap)return s(a,u);Ap=!0;try{var h=s(a);return h}finally{if(Ap=!1,(Js!==null||Qs!==null)&&(pf(),Js&&(a=Js,s=Qs,Qs=Js=null,r3(a),s)))for(a=0;a<s.length;a++)r3(s[a])}}function va(s,a){var u=s.stateNode;if(u===null)return null;var h=u[Nn]||null;if(h===null)return null;u=h[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(i(231,a,typeof u));return u}var cr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rp=!1;if(cr)try{var Ca={};Object.defineProperty(Ca,"passive",{get:function(){Rp=!0}}),window.addEventListener("test",Ca,Ca),window.removeEventListener("test",Ca,Ca)}catch{Rp=!1}var $r=null,Op=null,Ru=null;function s3(){if(Ru)return Ru;var s,a=Op,u=a.length,h,g="value"in $r?$r.value:$r.textContent,v=g.length;for(s=0;s<u&&a[s]===g[s];s++);var S=u-s;for(h=1;h<=S&&a[u-h]===g[v-h];h++);return Ru=g.slice(s,1<h?1-h:void 0)}function Ou(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Nu(){return!0}function l3(){return!1}function Dn(s){function a(u,h,g,v,S){this._reactName=u,this._targetInst=g,this.type=h,this.nativeEvent=v,this.target=S,this.currentTarget=null;for(var k in s)s.hasOwnProperty(k)&&(u=s[k],this[k]=u?u(v):v[k]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Nu:l3,this.isPropagationStopped=l3,this}return p(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Nu)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Nu)},persist:function(){},isPersistent:Nu}),a}var $o={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Du=Dn($o),wa=p({},$o,{view:0,detail:0}),cT=Dn(wa),Np,Dp,xa,Lu=p({},wa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_p,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==xa&&(xa&&s.type==="mousemove"?(Np=s.screenX-xa.screenX,Dp=s.screenY-xa.screenY):Dp=Np=0,xa=s),Np)},movementY:function(s){return"movementY"in s?s.movementY:Dp}}),a3=Dn(Lu),uT=p({},Lu,{dataTransfer:0}),fT=Dn(uT),dT=p({},wa,{relatedTarget:0}),Lp=Dn(dT),hT=p({},$o,{animationName:0,elapsedTime:0,pseudoElement:0}),pT=Dn(hT),mT=p({},$o,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),gT=Dn(mT),yT=p({},$o,{data:0}),c3=Dn(yT),bT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},CT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wT(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=CT[s])?!!a[s]:!1}function _p(){return wT}var xT=p({},wa,{key:function(s){if(s.key){var a=bT[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Ou(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?vT[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_p,charCode:function(s){return s.type==="keypress"?Ou(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ou(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),ST=Dn(xT),TT=p({},Lu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),u3=Dn(TT),ET=p({},wa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_p}),MT=Dn(ET),kT=p({},$o,{propertyName:0,elapsedTime:0,pseudoElement:0}),AT=Dn(kT),RT=p({},Lu,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),OT=Dn(RT),NT=p({},$o,{newState:0,oldState:0}),DT=Dn(NT),LT=[9,13,27,32],Hp=cr&&"CompositionEvent"in window,Sa=null;cr&&"documentMode"in document&&(Sa=document.documentMode);var _T=cr&&"TextEvent"in window&&!Sa,f3=cr&&(!Hp||Sa&&8<Sa&&11>=Sa),d3=" ",h3=!1;function p3(s,a){switch(s){case"keyup":return LT.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function m3(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var el=!1;function HT(s,a){switch(s){case"compositionend":return m3(a);case"keypress":return a.which!==32?null:(h3=!0,d3);case"textInput":return s=a.data,s===d3&&h3?null:s;default:return null}}function IT(s,a){if(el)return s==="compositionend"||!Hp&&p3(s,a)?(s=s3(),Ru=Op=$r=null,el=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return f3&&a.locale!=="ko"?null:a.data;default:return null}}var zT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function g3(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!zT[s.type]:a==="textarea"}function y3(s,a,u,h){Js?Qs?Qs.push(h):Qs=[h]:Js=h,a=Cf(a,"onChange"),0<a.length&&(u=new Du("onChange","change",null,u,h),s.push({event:u,listeners:a}))}var Ta=null,Ea=null;function BT(s){Wb(s,0)}function _u(s){var a=ba(s);if(Jy(a))return s}function b3(s,a){if(s==="change")return a}var v3=!1;if(cr){var Ip;if(cr){var zp="oninput"in document;if(!zp){var C3=document.createElement("div");C3.setAttribute("oninput","return;"),zp=typeof C3.oninput=="function"}Ip=zp}else Ip=!1;v3=Ip&&(!document.documentMode||9<document.documentMode)}function w3(){Ta&&(Ta.detachEvent("onpropertychange",x3),Ea=Ta=null)}function x3(s){if(s.propertyName==="value"&&_u(Ea)){var a=[];y3(a,Ea,s,kp(s)),o3(BT,a)}}function VT(s,a,u){s==="focusin"?(w3(),Ta=a,Ea=u,Ta.attachEvent("onpropertychange",x3)):s==="focusout"&&w3()}function jT(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return _u(Ea)}function UT(s,a){if(s==="click")return _u(a)}function PT(s,a){if(s==="input"||s==="change")return _u(a)}function FT(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Kn=typeof Object.is=="function"?Object.is:FT;function Ma(s,a){if(Kn(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var u=Object.keys(s),h=Object.keys(a);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var g=u[h];if(!De.call(a,g)||!Kn(s[g],a[g]))return!1}return!0}function S3(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function T3(s,a){var u=S3(s);s=0;for(var h;u;){if(u.nodeType===3){if(h=s+u.textContent.length,s<=a&&h>=a)return{node:u,offset:a-s};s=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=S3(u)}}function E3(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?E3(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function M3(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=ku(s.document);a instanceof s.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)s=a.contentWindow;else break;a=ku(s.document)}return a}function Bp(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var qT=cr&&"documentMode"in document&&11>=document.documentMode,tl=null,Vp=null,ka=null,jp=!1;function k3(s,a,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;jp||tl==null||tl!==ku(h)||(h=tl,"selectionStart"in h&&Bp(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),ka&&Ma(ka,h)||(ka=h,h=Cf(Vp,"onSelect"),0<h.length&&(a=new Du("onSelect","select",null,a,u),s.push({event:a,listeners:h}),a.target=tl)))}function Ko(s,a){var u={};return u[s.toLowerCase()]=a.toLowerCase(),u["Webkit"+s]="webkit"+a,u["Moz"+s]="moz"+a,u}var nl={animationend:Ko("Animation","AnimationEnd"),animationiteration:Ko("Animation","AnimationIteration"),animationstart:Ko("Animation","AnimationStart"),transitionrun:Ko("Transition","TransitionRun"),transitionstart:Ko("Transition","TransitionStart"),transitioncancel:Ko("Transition","TransitionCancel"),transitionend:Ko("Transition","TransitionEnd")},Up={},A3={};cr&&(A3=document.createElement("div").style,"AnimationEvent"in window||(delete nl.animationend.animation,delete nl.animationiteration.animation,delete nl.animationstart.animation),"TransitionEvent"in window||delete nl.transitionend.transition);function Zo(s){if(Up[s])return Up[s];if(!nl[s])return s;var a=nl[s],u;for(u in a)if(a.hasOwnProperty(u)&&u in A3)return Up[s]=a[u];return s}var R3=Zo("animationend"),O3=Zo("animationiteration"),N3=Zo("animationstart"),$T=Zo("transitionrun"),KT=Zo("transitionstart"),ZT=Zo("transitioncancel"),D3=Zo("transitionend"),L3=new Map,Pp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Pp.push("scrollEnd");function wi(s,a){L3.set(s,a),qo(a,[s])}var _3=new WeakMap;function oi(s,a){if(typeof s=="object"&&s!==null){var u=_3.get(s);return u!==void 0?u:(a={value:s,source:a,stack:Xy(a)},_3.set(s,a),a)}return{value:s,source:a,stack:Xy(a)}}var si=[],il=0,Fp=0;function Hu(){for(var s=il,a=Fp=il=0;a<s;){var u=si[a];si[a++]=null;var h=si[a];si[a++]=null;var g=si[a];si[a++]=null;var v=si[a];if(si[a++]=null,h!==null&&g!==null){var S=h.pending;S===null?g.next=g:(g.next=S.next,S.next=g),h.pending=g}v!==0&&H3(u,g,v)}}function Iu(s,a,u,h){si[il++]=s,si[il++]=a,si[il++]=u,si[il++]=h,Fp|=h,s.lanes|=h,s=s.alternate,s!==null&&(s.lanes|=h)}function qp(s,a,u,h){return Iu(s,a,u,h),zu(s)}function rl(s,a){return Iu(s,null,null,a),zu(s)}function H3(s,a,u){s.lanes|=u;var h=s.alternate;h!==null&&(h.lanes|=u);for(var g=!1,v=s.return;v!==null;)v.childLanes|=u,h=v.alternate,h!==null&&(h.childLanes|=u),v.tag===22&&(s=v.stateNode,s===null||s._visibility&1||(g=!0)),s=v,v=v.return;return s.tag===3?(v=s.stateNode,g&&a!==null&&(g=31-Pt(u),s=v.hiddenUpdates,h=s[g],h===null?s[g]=[a]:h.push(a),a.lane=u|536870912),v):null}function zu(s){if(50<Ja)throw Ja=0,X1=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var ol={};function YT(s,a,u,h){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zn(s,a,u,h){return new YT(s,a,u,h)}function $p(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ur(s,a){var u=s.alternate;return u===null?(u=Zn(s.tag,a,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=a,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&65011712,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,a=s.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u.refCleanup=s.refCleanup,u}function I3(s,a){s.flags&=65011714;var u=s.alternate;return u===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,a=u.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function Bu(s,a,u,h,g,v){var S=0;if(h=s,typeof s=="function")$p(s)&&(S=1);else if(typeof s=="string")S=XE(s,u,ae.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case oe:return s=Zn(31,u,a,g),s.elementType=oe,s.lanes=v,s;case C:return Yo(u.children,g,v,a);case w:S=8,g|=24;break;case x:return s=Zn(12,u,a,g|2),s.elementType=x,s.lanes=v,s;case L:return s=Zn(13,u,a,g),s.elementType=L,s.lanes=v,s;case K:return s=Zn(19,u,a,g),s.elementType=K,s.lanes=v,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case E:case O:S=10;break e;case A:S=9;break e;case H:S=11;break e;case Y:S=14;break e;case X:S=16,h=null;break e}S=29,u=Error(i(130,s===null?"null":typeof s,"")),h=null}return a=Zn(S,u,a,g),a.elementType=s,a.type=h,a.lanes=v,a}function Yo(s,a,u,h){return s=Zn(7,s,h,a),s.lanes=u,s}function Kp(s,a,u){return s=Zn(6,s,null,a),s.lanes=u,s}function Zp(s,a,u){return a=Zn(4,s.children!==null?s.children:[],s.key,a),a.lanes=u,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var sl=[],ll=0,Vu=null,ju=0,li=[],ai=0,Go=null,fr=1,dr="";function Xo(s,a){sl[ll++]=ju,sl[ll++]=Vu,Vu=s,ju=a}function z3(s,a,u){li[ai++]=fr,li[ai++]=dr,li[ai++]=Go,Go=s;var h=fr;s=dr;var g=32-Pt(h)-1;h&=~(1<<g),u+=1;var v=32-Pt(a)+g;if(30<v){var S=g-g%5;v=(h&(1<<S)-1).toString(32),h>>=S,g-=S,fr=1<<32-Pt(a)+g|u<<g|h,dr=v+s}else fr=1<<v|u<<g|h,dr=s}function Yp(s){s.return!==null&&(Xo(s,1),z3(s,1,0))}function Gp(s){for(;s===Vu;)Vu=sl[--ll],sl[ll]=null,ju=sl[--ll],sl[ll]=null;for(;s===Go;)Go=li[--ai],li[ai]=null,dr=li[--ai],li[ai]=null,fr=li[--ai],li[ai]=null}var xn=null,wt=null,Pe=!1,Wo=null,Pi=!1,Xp=Error(i(519));function Jo(s){var a=Error(i(418,""));throw Oa(oi(a,s)),Xp}function B3(s){var a=s.stateNode,u=s.type,h=s.memoizedProps;switch(a[fn]=s,a[Nn]=h,u){case"dialog":_e("cancel",a),_e("close",a);break;case"iframe":case"object":case"embed":_e("load",a);break;case"video":case"audio":for(u=0;u<ec.length;u++)_e(ec[u],a);break;case"source":_e("error",a);break;case"img":case"image":case"link":_e("error",a),_e("load",a);break;case"details":_e("toggle",a);break;case"input":_e("invalid",a),Qy(a,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),Mu(a);break;case"select":_e("invalid",a);break;case"textarea":_e("invalid",a),t3(a,h.value,h.defaultValue,h.children),Mu(a)}u=h.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||a.textContent===""+u||h.suppressHydrationWarning===!0||tv(a.textContent,u)?(h.popover!=null&&(_e("beforetoggle",a),_e("toggle",a)),h.onScroll!=null&&_e("scroll",a),h.onScrollEnd!=null&&_e("scrollend",a),h.onClick!=null&&(a.onclick=wf),a=!0):a=!1,a||Jo(s)}function V3(s){for(xn=s.return;xn;)switch(xn.tag){case 5:case 13:Pi=!1;return;case 27:case 3:Pi=!0;return;default:xn=xn.return}}function Aa(s){if(s!==xn)return!1;if(!Pe)return V3(s),Pe=!0,!1;var a=s.tag,u;if((u=a!==3&&a!==27)&&((u=a===5)&&(u=s.type,u=!(u!=="form"&&u!=="button")||dm(s.type,s.memoizedProps)),u=!u),u&&wt&&Jo(s),V3(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8)if(u=s.data,u==="/$"){if(a===0){wt=Si(s.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++;s=s.nextSibling}wt=null}}else a===27?(a=wt,lo(s.type)?(s=gm,gm=null,wt=s):wt=a):wt=xn?Si(s.stateNode.nextSibling):null;return!0}function Ra(){wt=xn=null,Pe=!1}function j3(){var s=Wo;return s!==null&&(Hn===null?Hn=s:Hn.push.apply(Hn,s),Wo=null),s}function Oa(s){Wo===null?Wo=[s]:Wo.push(s)}var Wp=q(null),Qo=null,hr=null;function Kr(s,a,u){te(Wp,a._currentValue),a._currentValue=u}function pr(s){s._currentValue=Wp.current,F(Wp)}function Jp(s,a,u){for(;s!==null;){var h=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),s===u)break;s=s.return}}function Qp(s,a,u,h){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var v=g.dependencies;if(v!==null){var S=g.child;v=v.firstContext;e:for(;v!==null;){var k=v;v=g;for(var N=0;N<a.length;N++)if(k.context===a[N]){v.lanes|=u,k=v.alternate,k!==null&&(k.lanes|=u),Jp(v.return,u,s),h||(S=null);break e}v=k.next}}else if(g.tag===18){if(S=g.return,S===null)throw Error(i(341));S.lanes|=u,v=S.alternate,v!==null&&(v.lanes|=u),Jp(S,u,s),S=null}else S=g.child;if(S!==null)S.return=g;else for(S=g;S!==null;){if(S===s){S=null;break}if(g=S.sibling,g!==null){g.return=S.return,S=g;break}S=S.return}g=S}}function Na(s,a,u,h){s=null;for(var g=a,v=!1;g!==null;){if(!v){if((g.flags&524288)!==0)v=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var S=g.alternate;if(S===null)throw Error(i(387));if(S=S.memoizedProps,S!==null){var k=g.type;Kn(g.pendingProps.value,S.value)||(s!==null?s.push(k):s=[k])}}else if(g===Ge.current){if(S=g.alternate,S===null)throw Error(i(387));S.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(s!==null?s.push(sc):s=[sc])}g=g.return}s!==null&&Qp(a,s,u,h),a.flags|=262144}function Uu(s){for(s=s.firstContext;s!==null;){if(!Kn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function es(s){Qo=s,hr=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function dn(s){return U3(Qo,s)}function Pu(s,a){return Qo===null&&es(s),U3(s,a)}function U3(s,a){var u=a._currentValue;if(a={context:a,memoizedValue:u,next:null},hr===null){if(s===null)throw Error(i(308));hr=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else hr=hr.next=a;return u}var GT=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(u,h){s.push(h)}};this.abort=function(){a.aborted=!0,s.forEach(function(u){return u()})}},XT=t.unstable_scheduleCallback,WT=t.unstable_NormalPriority,jt={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function e1(){return{controller:new GT,data:new Map,refCount:0}}function Da(s){s.refCount--,s.refCount===0&&XT(WT,function(){s.controller.abort()})}var La=null,t1=0,al=0,cl=null;function JT(s,a){if(La===null){var u=La=[];t1=0,al=im(),cl={status:"pending",value:void 0,then:function(h){u.push(h)}}}return t1++,a.then(P3,P3),a}function P3(){if(--t1===0&&La!==null){cl!==null&&(cl.status="fulfilled");var s=La;La=null,al=0,cl=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function QT(s,a){var u=[],h={status:"pending",value:null,reason:null,then:function(g){u.push(g)}};return s.then(function(){h.status="fulfilled",h.value=a;for(var g=0;g<u.length;g++)(0,u[g])(a)},function(g){for(h.status="rejected",h.reason=g,g=0;g<u.length;g++)(0,u[g])(void 0)}),h}var F3=_.S;_.S=function(s,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&JT(s,a),F3!==null&&F3(s,a)};var ts=q(null);function n1(){var s=ts.current;return s!==null?s:ut.pooledCache}function Fu(s,a){a===null?te(ts,ts.current):te(ts,a.pool)}function q3(){var s=n1();return s===null?null:{parent:jt._currentValue,pool:s}}var _a=Error(i(460)),$3=Error(i(474)),qu=Error(i(542)),i1={then:function(){}};function K3(s){return s=s.status,s==="fulfilled"||s==="rejected"}function $u(){}function Z3(s,a,u){switch(u=s[u],u===void 0?s.push(a):u!==a&&(a.then($u,$u),a=u),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,G3(s),s;default:if(typeof a.status=="string")a.then($u,$u);else{if(s=ut,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(h){if(a.status==="pending"){var g=a;g.status="fulfilled",g.value=h}},function(h){if(a.status==="pending"){var g=a;g.status="rejected",g.reason=h}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,G3(s),s}throw Ha=a,_a}}var Ha=null;function Y3(){if(Ha===null)throw Error(i(459));var s=Ha;return Ha=null,s}function G3(s){if(s===_a||s===qu)throw Error(i(483))}var Zr=!1;function r1(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function o1(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Yr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Gr(s,a,u){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(Xe&2)!==0){var g=h.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),h.pending=a,a=zu(s),H3(s,null,u),a}return Iu(s,h,a,u),zu(s)}function Ia(s,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194048)!==0)){var h=a.lanes;h&=s.pendingLanes,u|=h,a.lanes=u,Py(s,u)}}function s1(s,a){var u=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var g=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var S={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};v===null?g=v=S:v=v.next=S,u=u.next}while(u!==null);v===null?g=v=a:v=v.next=a}else g=v=a;u={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:h.shared,callbacks:h.callbacks},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=a:s.next=a,u.lastBaseUpdate=a}var l1=!1;function za(){if(l1){var s=cl;if(s!==null)throw s}}function Ba(s,a,u,h){l1=!1;var g=s.updateQueue;Zr=!1;var v=g.firstBaseUpdate,S=g.lastBaseUpdate,k=g.shared.pending;if(k!==null){g.shared.pending=null;var N=k,V=N.next;N.next=null,S===null?v=V:S.next=V,S=N;var Z=s.alternate;Z!==null&&(Z=Z.updateQueue,k=Z.lastBaseUpdate,k!==S&&(k===null?Z.firstBaseUpdate=V:k.next=V,Z.lastBaseUpdate=N))}if(v!==null){var ee=g.baseState;S=0,Z=V=N=null,k=v;do{var U=k.lane&-536870913,P=U!==k.lane;if(P?(ze&U)===U:(h&U)===U){U!==0&&U===al&&(l1=!0),Z!==null&&(Z=Z.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var xe=s,ye=k;U=a;var nt=u;switch(ye.tag){case 1:if(xe=ye.payload,typeof xe=="function"){ee=xe.call(nt,ee,U);break e}ee=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=ye.payload,U=typeof xe=="function"?xe.call(nt,ee,U):xe,U==null)break e;ee=p({},ee,U);break e;case 2:Zr=!0}}U=k.callback,U!==null&&(s.flags|=64,P&&(s.flags|=8192),P=g.callbacks,P===null?g.callbacks=[U]:P.push(U))}else P={lane:U,tag:k.tag,payload:k.payload,callback:k.callback,next:null},Z===null?(V=Z=P,N=ee):Z=Z.next=P,S|=U;if(k=k.next,k===null){if(k=g.shared.pending,k===null)break;P=k,k=P.next,P.next=null,g.lastBaseUpdate=P,g.shared.pending=null}}while(!0);Z===null&&(N=ee),g.baseState=N,g.firstBaseUpdate=V,g.lastBaseUpdate=Z,v===null&&(g.shared.lanes=0),io|=S,s.lanes=S,s.memoizedState=ee}}function X3(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function W3(s,a){var u=s.callbacks;if(u!==null)for(s.callbacks=null,s=0;s<u.length;s++)X3(u[s],a)}var ul=q(null),Ku=q(0);function J3(s,a){s=wr,te(Ku,s),te(ul,a),wr=s|a.baseLanes}function a1(){te(Ku,wr),te(ul,ul.current)}function c1(){wr=Ku.current,F(ul),F(Ku)}var Xr=0,Re=null,et=null,Lt=null,Zu=!1,fl=!1,ns=!1,Yu=0,Va=0,dl=null,eE=0;function At(){throw Error(i(321))}function u1(s,a){if(a===null)return!1;for(var u=0;u<a.length&&u<s.length;u++)if(!Kn(s[u],a[u]))return!1;return!0}function f1(s,a,u,h,g,v){return Xr=v,Re=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,_.H=s===null||s.memoizedState===null?H4:I4,ns=!1,v=u(h,g),ns=!1,fl&&(v=e4(a,u,h,g)),Q3(s),v}function Q3(s){_.H=ef;var a=et!==null&&et.next!==null;if(Xr=0,Lt=et=Re=null,Zu=!1,Va=0,dl=null,a)throw Error(i(300));s===null||qt||(s=s.dependencies,s!==null&&Uu(s)&&(qt=!0))}function e4(s,a,u,h){Re=s;var g=0;do{if(fl&&(dl=null),Va=0,fl=!1,25<=g)throw Error(i(301));if(g+=1,Lt=et=null,s.updateQueue!=null){var v=s.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}_.H=lE,v=a(u,h)}while(fl);return v}function tE(){var s=_.H,a=s.useState()[0];return a=typeof a.then=="function"?ja(a):a,s=s.useState()[0],(et!==null?et.memoizedState:null)!==s&&(Re.flags|=1024),a}function d1(){var s=Yu!==0;return Yu=0,s}function h1(s,a,u){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~u}function p1(s){if(Zu){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Zu=!1}Xr=0,Lt=et=Re=null,fl=!1,Va=Yu=0,dl=null}function Ln(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?Re.memoizedState=Lt=s:Lt=Lt.next=s,Lt}function _t(){if(et===null){var s=Re.alternate;s=s!==null?s.memoizedState:null}else s=et.next;var a=Lt===null?Re.memoizedState:Lt.next;if(a!==null)Lt=a,et=s;else{if(s===null)throw Re.alternate===null?Error(i(467)):Error(i(310));et=s,s={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},Lt===null?Re.memoizedState=Lt=s:Lt=Lt.next=s}return Lt}function m1(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ja(s){var a=Va;return Va+=1,dl===null&&(dl=[]),s=Z3(dl,s,a),a=Re,(Lt===null?a.memoizedState:Lt.next)===null&&(a=a.alternate,_.H=a===null||a.memoizedState===null?H4:I4),s}function Gu(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return ja(s);if(s.$$typeof===O)return dn(s)}throw Error(i(438,String(s)))}function g1(s){var a=null,u=Re.updateQueue;if(u!==null&&(a=u.memoCache),a==null){var h=Re.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(a={data:h.data.map(function(g){return g.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),u===null&&(u=m1(),Re.updateQueue=u),u.memoCache=a,u=a.data[a.index],u===void 0)for(u=a.data[a.index]=Array(s),h=0;h<s;h++)u[h]=Q;return a.index++,u}function mr(s,a){return typeof a=="function"?a(s):a}function Xu(s){var a=_t();return y1(a,et,s)}function y1(s,a,u){var h=s.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=u;var g=s.baseQueue,v=h.pending;if(v!==null){if(g!==null){var S=g.next;g.next=v.next,v.next=S}a.baseQueue=g=v,h.pending=null}if(v=s.baseState,g===null)s.memoizedState=v;else{a=g.next;var k=S=null,N=null,V=a,Z=!1;do{var ee=V.lane&-536870913;if(ee!==V.lane?(ze&ee)===ee:(Xr&ee)===ee){var U=V.revertLane;if(U===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),ee===al&&(Z=!0);else if((Xr&U)===U){V=V.next,U===al&&(Z=!0);continue}else ee={lane:0,revertLane:V.revertLane,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},N===null?(k=N=ee,S=v):N=N.next=ee,Re.lanes|=U,io|=U;ee=V.action,ns&&u(v,ee),v=V.hasEagerState?V.eagerState:u(v,ee)}else U={lane:ee,revertLane:V.revertLane,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},N===null?(k=N=U,S=v):N=N.next=U,Re.lanes|=ee,io|=ee;V=V.next}while(V!==null&&V!==a);if(N===null?S=v:N.next=k,!Kn(v,s.memoizedState)&&(qt=!0,Z&&(u=cl,u!==null)))throw u;s.memoizedState=v,s.baseState=S,s.baseQueue=N,h.lastRenderedState=v}return g===null&&(h.lanes=0),[s.memoizedState,h.dispatch]}function b1(s){var a=_t(),u=a.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=s;var h=u.dispatch,g=u.pending,v=a.memoizedState;if(g!==null){u.pending=null;var S=g=g.next;do v=s(v,S.action),S=S.next;while(S!==g);Kn(v,a.memoizedState)||(qt=!0),a.memoizedState=v,a.baseQueue===null&&(a.baseState=v),u.lastRenderedState=v}return[v,h]}function t4(s,a,u){var h=Re,g=_t(),v=Pe;if(v){if(u===void 0)throw Error(i(407));u=u()}else u=a();var S=!Kn((et||g).memoizedState,u);S&&(g.memoizedState=u,qt=!0),g=g.queue;var k=r4.bind(null,h,g,s);if(Ua(2048,8,k,[s]),g.getSnapshot!==a||S||Lt!==null&&Lt.memoizedState.tag&1){if(h.flags|=2048,hl(9,Wu(),i4.bind(null,h,g,u,a),null),ut===null)throw Error(i(349));v||(Xr&124)!==0||n4(h,a,u)}return u}function n4(s,a,u){s.flags|=16384,s={getSnapshot:a,value:u},a=Re.updateQueue,a===null?(a=m1(),Re.updateQueue=a,a.stores=[s]):(u=a.stores,u===null?a.stores=[s]:u.push(s))}function i4(s,a,u,h){a.value=u,a.getSnapshot=h,o4(a)&&s4(s)}function r4(s,a,u){return u(function(){o4(a)&&s4(s)})}function o4(s){var a=s.getSnapshot;s=s.value;try{var u=a();return!Kn(s,u)}catch{return!0}}function s4(s){var a=rl(s,2);a!==null&&Jn(a,s,2)}function v1(s){var a=Ln();if(typeof s=="function"){var u=s;if(s=u(),ns){An(!0);try{u()}finally{An(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mr,lastRenderedState:s},a}function l4(s,a,u,h){return s.baseState=u,y1(s,et,typeof h=="function"?h:mr)}function nE(s,a,u,h,g){if(Qu(s))throw Error(i(485));if(s=a.action,s!==null){var v={payload:g,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){v.listeners.push(S)}};_.T!==null?u(!0):v.isTransition=!1,h(v),u=a.pending,u===null?(v.next=a.pending=v,a4(a,v)):(v.next=u.next,a.pending=u.next=v)}}function a4(s,a){var u=a.action,h=a.payload,g=s.state;if(a.isTransition){var v=_.T,S={};_.T=S;try{var k=u(g,h),N=_.S;N!==null&&N(S,k),c4(s,a,k)}catch(V){C1(s,a,V)}finally{_.T=v}}else try{v=u(g,h),c4(s,a,v)}catch(V){C1(s,a,V)}}function c4(s,a,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(h){u4(s,a,h)},function(h){return C1(s,a,h)}):u4(s,a,u)}function u4(s,a,u){a.status="fulfilled",a.value=u,f4(a),s.state=u,a=s.pending,a!==null&&(u=a.next,u===a?s.pending=null:(u=u.next,a.next=u,a4(s,u)))}function C1(s,a,u){var h=s.pending;if(s.pending=null,h!==null){h=h.next;do a.status="rejected",a.reason=u,f4(a),a=a.next;while(a!==h)}s.action=null}function f4(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function d4(s,a){return a}function h4(s,a){if(Pe){var u=ut.formState;if(u!==null){e:{var h=Re;if(Pe){if(wt){t:{for(var g=wt,v=Pi;g.nodeType!==8;){if(!v){g=null;break t}if(g=Si(g.nextSibling),g===null){g=null;break t}}v=g.data,g=v==="F!"||v==="F"?g:null}if(g){wt=Si(g.nextSibling),h=g.data==="F!";break e}}Jo(h)}h=!1}h&&(a=u[0])}}return u=Ln(),u.memoizedState=u.baseState=a,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:d4,lastRenderedState:a},u.queue=h,u=D4.bind(null,Re,h),h.dispatch=u,h=v1(!1),v=E1.bind(null,Re,!1,h.queue),h=Ln(),g={state:a,dispatch:null,action:s,pending:null},h.queue=g,u=nE.bind(null,Re,g,v,u),g.dispatch=u,h.memoizedState=s,[a,u,!1]}function p4(s){var a=_t();return m4(a,et,s)}function m4(s,a,u){if(a=y1(s,a,d4)[0],s=Xu(mr)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var h=ja(a)}catch(S){throw S===_a?qu:S}else h=a;a=_t();var g=a.queue,v=g.dispatch;return u!==a.memoizedState&&(Re.flags|=2048,hl(9,Wu(),iE.bind(null,g,u),null)),[h,v,s]}function iE(s,a){s.action=a}function g4(s){var a=_t(),u=et;if(u!==null)return m4(a,u,s);_t(),a=a.memoizedState,u=_t();var h=u.queue.dispatch;return u.memoizedState=s,[a,h,!1]}function hl(s,a,u,h){return s={tag:s,create:u,deps:h,inst:a,next:null},a=Re.updateQueue,a===null&&(a=m1(),Re.updateQueue=a),u=a.lastEffect,u===null?a.lastEffect=s.next=s:(h=u.next,u.next=s,s.next=h,a.lastEffect=s),s}function Wu(){return{destroy:void 0,resource:void 0}}function y4(){return _t().memoizedState}function Ju(s,a,u,h){var g=Ln();h=h===void 0?null:h,Re.flags|=s,g.memoizedState=hl(1|a,Wu(),u,h)}function Ua(s,a,u,h){var g=_t();h=h===void 0?null:h;var v=g.memoizedState.inst;et!==null&&h!==null&&u1(h,et.memoizedState.deps)?g.memoizedState=hl(a,v,u,h):(Re.flags|=s,g.memoizedState=hl(1|a,v,u,h))}function b4(s,a){Ju(8390656,8,s,a)}function v4(s,a){Ua(2048,8,s,a)}function C4(s,a){return Ua(4,2,s,a)}function w4(s,a){return Ua(4,4,s,a)}function x4(s,a){if(typeof a=="function"){s=s();var u=a(s);return function(){typeof u=="function"?u():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function S4(s,a,u){u=u!=null?u.concat([s]):null,Ua(4,4,x4.bind(null,a,s),u)}function w1(){}function T4(s,a){var u=_t();a=a===void 0?null:a;var h=u.memoizedState;return a!==null&&u1(a,h[1])?h[0]:(u.memoizedState=[s,a],s)}function E4(s,a){var u=_t();a=a===void 0?null:a;var h=u.memoizedState;if(a!==null&&u1(a,h[1]))return h[0];if(h=s(),ns){An(!0);try{s()}finally{An(!1)}}return u.memoizedState=[h,a],h}function x1(s,a,u){return u===void 0||(Xr&1073741824)!==0?s.memoizedState=a:(s.memoizedState=u,s=Ab(),Re.lanes|=s,io|=s,u)}function M4(s,a,u,h){return Kn(u,a)?u:ul.current!==null?(s=x1(s,u,h),Kn(s,a)||(qt=!0),s):(Xr&42)===0?(qt=!0,s.memoizedState=u):(s=Ab(),Re.lanes|=s,io|=s,a)}function k4(s,a,u,h,g){var v=j.p;j.p=v!==0&&8>v?v:8;var S=_.T,k={};_.T=k,E1(s,!1,a,u);try{var N=g(),V=_.S;if(V!==null&&V(k,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Z=QT(N,h);Pa(s,a,Z,Wn(s))}else Pa(s,a,h,Wn(s))}catch(ee){Pa(s,a,{then:function(){},status:"rejected",reason:ee},Wn())}finally{j.p=v,_.T=S}}function rE(){}function S1(s,a,u,h){if(s.tag!==5)throw Error(i(476));var g=A4(s).queue;k4(s,g,a,z,u===null?rE:function(){return R4(s),u(h)})}function A4(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:z,baseState:z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mr,lastRenderedState:z},next:null};var u={};return a.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mr,lastRenderedState:u},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function R4(s){var a=A4(s).next.queue;Pa(s,a,{},Wn())}function T1(){return dn(sc)}function O4(){return _t().memoizedState}function N4(){return _t().memoizedState}function oE(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var u=Wn();s=Yr(u);var h=Gr(a,s,u);h!==null&&(Jn(h,a,u),Ia(h,a,u)),a={cache:e1()},s.payload=a;return}a=a.return}}function sE(s,a,u){var h=Wn();u={lane:h,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Qu(s)?L4(a,u):(u=qp(s,a,u,h),u!==null&&(Jn(u,s,h),_4(u,a,h)))}function D4(s,a,u){var h=Wn();Pa(s,a,u,h)}function Pa(s,a,u,h){var g={lane:h,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Qu(s))L4(a,g);else{var v=s.alternate;if(s.lanes===0&&(v===null||v.lanes===0)&&(v=a.lastRenderedReducer,v!==null))try{var S=a.lastRenderedState,k=v(S,u);if(g.hasEagerState=!0,g.eagerState=k,Kn(k,S))return Iu(s,a,g,0),ut===null&&Hu(),!1}catch{}finally{}if(u=qp(s,a,g,h),u!==null)return Jn(u,s,h),_4(u,a,h),!0}return!1}function E1(s,a,u,h){if(h={lane:2,revertLane:im(),action:h,hasEagerState:!1,eagerState:null,next:null},Qu(s)){if(a)throw Error(i(479))}else a=qp(s,u,h,2),a!==null&&Jn(a,s,2)}function Qu(s){var a=s.alternate;return s===Re||a!==null&&a===Re}function L4(s,a){fl=Zu=!0;var u=s.pending;u===null?a.next=a:(a.next=u.next,u.next=a),s.pending=a}function _4(s,a,u){if((u&4194048)!==0){var h=a.lanes;h&=s.pendingLanes,u|=h,a.lanes=u,Py(s,u)}}var ef={readContext:dn,use:Gu,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At},H4={readContext:dn,use:Gu,useCallback:function(s,a){return Ln().memoizedState=[s,a===void 0?null:a],s},useContext:dn,useEffect:b4,useImperativeHandle:function(s,a,u){u=u!=null?u.concat([s]):null,Ju(4194308,4,x4.bind(null,a,s),u)},useLayoutEffect:function(s,a){return Ju(4194308,4,s,a)},useInsertionEffect:function(s,a){Ju(4,2,s,a)},useMemo:function(s,a){var u=Ln();a=a===void 0?null:a;var h=s();if(ns){An(!0);try{s()}finally{An(!1)}}return u.memoizedState=[h,a],h},useReducer:function(s,a,u){var h=Ln();if(u!==void 0){var g=u(a);if(ns){An(!0);try{u(a)}finally{An(!1)}}}else g=a;return h.memoizedState=h.baseState=g,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:g},h.queue=s,s=s.dispatch=sE.bind(null,Re,s),[h.memoizedState,s]},useRef:function(s){var a=Ln();return s={current:s},a.memoizedState=s},useState:function(s){s=v1(s);var a=s.queue,u=D4.bind(null,Re,a);return a.dispatch=u,[s.memoizedState,u]},useDebugValue:w1,useDeferredValue:function(s,a){var u=Ln();return x1(u,s,a)},useTransition:function(){var s=v1(!1);return s=k4.bind(null,Re,s.queue,!0,!1),Ln().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,u){var h=Re,g=Ln();if(Pe){if(u===void 0)throw Error(i(407));u=u()}else{if(u=a(),ut===null)throw Error(i(349));(ze&124)!==0||n4(h,a,u)}g.memoizedState=u;var v={value:u,getSnapshot:a};return g.queue=v,b4(r4.bind(null,h,v,s),[s]),h.flags|=2048,hl(9,Wu(),i4.bind(null,h,v,u,a),null),u},useId:function(){var s=Ln(),a=ut.identifierPrefix;if(Pe){var u=dr,h=fr;u=(h&~(1<<32-Pt(h)-1)).toString(32)+u,a="«"+a+"R"+u,u=Yu++,0<u&&(a+="H"+u.toString(32)),a+="»"}else u=eE++,a="«"+a+"r"+u.toString(32)+"»";return s.memoizedState=a},useHostTransitionStatus:T1,useFormState:h4,useActionState:h4,useOptimistic:function(s){var a=Ln();a.memoizedState=a.baseState=s;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=u,a=E1.bind(null,Re,!0,u),u.dispatch=a,[s,a]},useMemoCache:g1,useCacheRefresh:function(){return Ln().memoizedState=oE.bind(null,Re)}},I4={readContext:dn,use:Gu,useCallback:T4,useContext:dn,useEffect:v4,useImperativeHandle:S4,useInsertionEffect:C4,useLayoutEffect:w4,useMemo:E4,useReducer:Xu,useRef:y4,useState:function(){return Xu(mr)},useDebugValue:w1,useDeferredValue:function(s,a){var u=_t();return M4(u,et.memoizedState,s,a)},useTransition:function(){var s=Xu(mr)[0],a=_t().memoizedState;return[typeof s=="boolean"?s:ja(s),a]},useSyncExternalStore:t4,useId:O4,useHostTransitionStatus:T1,useFormState:p4,useActionState:p4,useOptimistic:function(s,a){var u=_t();return l4(u,et,s,a)},useMemoCache:g1,useCacheRefresh:N4},lE={readContext:dn,use:Gu,useCallback:T4,useContext:dn,useEffect:v4,useImperativeHandle:S4,useInsertionEffect:C4,useLayoutEffect:w4,useMemo:E4,useReducer:b1,useRef:y4,useState:function(){return b1(mr)},useDebugValue:w1,useDeferredValue:function(s,a){var u=_t();return et===null?x1(u,s,a):M4(u,et.memoizedState,s,a)},useTransition:function(){var s=b1(mr)[0],a=_t().memoizedState;return[typeof s=="boolean"?s:ja(s),a]},useSyncExternalStore:t4,useId:O4,useHostTransitionStatus:T1,useFormState:g4,useActionState:g4,useOptimistic:function(s,a){var u=_t();return et!==null?l4(u,et,s,a):(u.baseState=s,[s,u.queue.dispatch])},useMemoCache:g1,useCacheRefresh:N4},pl=null,Fa=0;function tf(s){var a=Fa;return Fa+=1,pl===null&&(pl=[]),Z3(pl,s,a)}function qa(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function nf(s,a){throw a.$$typeof===m?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function z4(s){var a=s._init;return a(s._payload)}function B4(s){function a(I,D){if(s){var B=I.deletions;B===null?(I.deletions=[D],I.flags|=16):B.push(D)}}function u(I,D){if(!s)return null;for(;D!==null;)a(I,D),D=D.sibling;return null}function h(I){for(var D=new Map;I!==null;)I.key!==null?D.set(I.key,I):D.set(I.index,I),I=I.sibling;return D}function g(I,D){return I=ur(I,D),I.index=0,I.sibling=null,I}function v(I,D,B){return I.index=B,s?(B=I.alternate,B!==null?(B=B.index,B<D?(I.flags|=67108866,D):B):(I.flags|=67108866,D)):(I.flags|=1048576,D)}function S(I){return s&&I.alternate===null&&(I.flags|=67108866),I}function k(I,D,B,G){return D===null||D.tag!==6?(D=Kp(B,I.mode,G),D.return=I,D):(D=g(D,B),D.return=I,D)}function N(I,D,B,G){var de=B.type;return de===C?Z(I,D,B.props.children,G,B.key):D!==null&&(D.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===X&&z4(de)===D.type)?(D=g(D,B.props),qa(D,B),D.return=I,D):(D=Bu(B.type,B.key,B.props,null,I.mode,G),qa(D,B),D.return=I,D)}function V(I,D,B,G){return D===null||D.tag!==4||D.stateNode.containerInfo!==B.containerInfo||D.stateNode.implementation!==B.implementation?(D=Zp(B,I.mode,G),D.return=I,D):(D=g(D,B.children||[]),D.return=I,D)}function Z(I,D,B,G,de){return D===null||D.tag!==7?(D=Yo(B,I.mode,G,de),D.return=I,D):(D=g(D,B),D.return=I,D)}function ee(I,D,B){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Kp(""+D,I.mode,B),D.return=I,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case y:return B=Bu(D.type,D.key,D.props,null,I.mode,B),qa(B,D),B.return=I,B;case b:return D=Zp(D,I.mode,B),D.return=I,D;case X:var G=D._init;return D=G(D._payload),ee(I,D,B)}if($(D)||re(D))return D=Yo(D,I.mode,B,null),D.return=I,D;if(typeof D.then=="function")return ee(I,tf(D),B);if(D.$$typeof===O)return ee(I,Pu(I,D),B);nf(I,D)}return null}function U(I,D,B,G){var de=D!==null?D.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return de!==null?null:k(I,D,""+B,G);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case y:return B.key===de?N(I,D,B,G):null;case b:return B.key===de?V(I,D,B,G):null;case X:return de=B._init,B=de(B._payload),U(I,D,B,G)}if($(B)||re(B))return de!==null?null:Z(I,D,B,G,null);if(typeof B.then=="function")return U(I,D,tf(B),G);if(B.$$typeof===O)return U(I,D,Pu(I,B),G);nf(I,B)}return null}function P(I,D,B,G,de){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return I=I.get(B)||null,k(D,I,""+G,de);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case y:return I=I.get(G.key===null?B:G.key)||null,N(D,I,G,de);case b:return I=I.get(G.key===null?B:G.key)||null,V(D,I,G,de);case X:var Ne=G._init;return G=Ne(G._payload),P(I,D,B,G,de)}if($(G)||re(G))return I=I.get(B)||null,Z(D,I,G,de,null);if(typeof G.then=="function")return P(I,D,B,tf(G),de);if(G.$$typeof===O)return P(I,D,B,Pu(D,G),de);nf(D,G)}return null}function xe(I,D,B,G){for(var de=null,Ne=null,pe=D,Ce=D=0,Kt=null;pe!==null&&Ce<B.length;Ce++){pe.index>Ce?(Kt=pe,pe=null):Kt=pe.sibling;var Ve=U(I,pe,B[Ce],G);if(Ve===null){pe===null&&(pe=Kt);break}s&&pe&&Ve.alternate===null&&a(I,pe),D=v(Ve,D,Ce),Ne===null?de=Ve:Ne.sibling=Ve,Ne=Ve,pe=Kt}if(Ce===B.length)return u(I,pe),Pe&&Xo(I,Ce),de;if(pe===null){for(;Ce<B.length;Ce++)pe=ee(I,B[Ce],G),pe!==null&&(D=v(pe,D,Ce),Ne===null?de=pe:Ne.sibling=pe,Ne=pe);return Pe&&Xo(I,Ce),de}for(pe=h(pe);Ce<B.length;Ce++)Kt=P(pe,I,Ce,B[Ce],G),Kt!==null&&(s&&Kt.alternate!==null&&pe.delete(Kt.key===null?Ce:Kt.key),D=v(Kt,D,Ce),Ne===null?de=Kt:Ne.sibling=Kt,Ne=Kt);return s&&pe.forEach(function(ho){return a(I,ho)}),Pe&&Xo(I,Ce),de}function ye(I,D,B,G){if(B==null)throw Error(i(151));for(var de=null,Ne=null,pe=D,Ce=D=0,Kt=null,Ve=B.next();pe!==null&&!Ve.done;Ce++,Ve=B.next()){pe.index>Ce?(Kt=pe,pe=null):Kt=pe.sibling;var ho=U(I,pe,Ve.value,G);if(ho===null){pe===null&&(pe=Kt);break}s&&pe&&ho.alternate===null&&a(I,pe),D=v(ho,D,Ce),Ne===null?de=ho:Ne.sibling=ho,Ne=ho,pe=Kt}if(Ve.done)return u(I,pe),Pe&&Xo(I,Ce),de;if(pe===null){for(;!Ve.done;Ce++,Ve=B.next())Ve=ee(I,Ve.value,G),Ve!==null&&(D=v(Ve,D,Ce),Ne===null?de=Ve:Ne.sibling=Ve,Ne=Ve);return Pe&&Xo(I,Ce),de}for(pe=h(pe);!Ve.done;Ce++,Ve=B.next())Ve=P(pe,I,Ce,Ve.value,G),Ve!==null&&(s&&Ve.alternate!==null&&pe.delete(Ve.key===null?Ce:Ve.key),D=v(Ve,D,Ce),Ne===null?de=Ve:Ne.sibling=Ve,Ne=Ve);return s&&pe.forEach(function(aM){return a(I,aM)}),Pe&&Xo(I,Ce),de}function nt(I,D,B,G){if(typeof B=="object"&&B!==null&&B.type===C&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case y:e:{for(var de=B.key;D!==null;){if(D.key===de){if(de=B.type,de===C){if(D.tag===7){u(I,D.sibling),G=g(D,B.props.children),G.return=I,I=G;break e}}else if(D.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===X&&z4(de)===D.type){u(I,D.sibling),G=g(D,B.props),qa(G,B),G.return=I,I=G;break e}u(I,D);break}else a(I,D);D=D.sibling}B.type===C?(G=Yo(B.props.children,I.mode,G,B.key),G.return=I,I=G):(G=Bu(B.type,B.key,B.props,null,I.mode,G),qa(G,B),G.return=I,I=G)}return S(I);case b:e:{for(de=B.key;D!==null;){if(D.key===de)if(D.tag===4&&D.stateNode.containerInfo===B.containerInfo&&D.stateNode.implementation===B.implementation){u(I,D.sibling),G=g(D,B.children||[]),G.return=I,I=G;break e}else{u(I,D);break}else a(I,D);D=D.sibling}G=Zp(B,I.mode,G),G.return=I,I=G}return S(I);case X:return de=B._init,B=de(B._payload),nt(I,D,B,G)}if($(B))return xe(I,D,B,G);if(re(B)){if(de=re(B),typeof de!="function")throw Error(i(150));return B=de.call(B),ye(I,D,B,G)}if(typeof B.then=="function")return nt(I,D,tf(B),G);if(B.$$typeof===O)return nt(I,D,Pu(I,B),G);nf(I,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,D!==null&&D.tag===6?(u(I,D.sibling),G=g(D,B),G.return=I,I=G):(u(I,D),G=Kp(B,I.mode,G),G.return=I,I=G),S(I)):u(I,D)}return function(I,D,B,G){try{Fa=0;var de=nt(I,D,B,G);return pl=null,de}catch(pe){if(pe===_a||pe===qu)throw pe;var Ne=Zn(29,pe,null,I.mode);return Ne.lanes=G,Ne.return=I,Ne}finally{}}}var ml=B4(!0),V4=B4(!1),ci=q(null),Fi=null;function Wr(s){var a=s.alternate;te(Ut,Ut.current&1),te(ci,s),Fi===null&&(a===null||ul.current!==null||a.memoizedState!==null)&&(Fi=s)}function j4(s){if(s.tag===22){if(te(Ut,Ut.current),te(ci,s),Fi===null){var a=s.alternate;a!==null&&a.memoizedState!==null&&(Fi=s)}}else Jr()}function Jr(){te(Ut,Ut.current),te(ci,ci.current)}function gr(s){F(ci),Fi===s&&(Fi=null),F(Ut)}var Ut=q(0);function rf(s){for(var a=s;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||mm(u)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function M1(s,a,u,h){a=s.memoizedState,u=u(h,a),u=u==null?a:p({},a,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var k1={enqueueSetState:function(s,a,u){s=s._reactInternals;var h=Wn(),g=Yr(h);g.payload=a,u!=null&&(g.callback=u),a=Gr(s,g,h),a!==null&&(Jn(a,s,h),Ia(a,s,h))},enqueueReplaceState:function(s,a,u){s=s._reactInternals;var h=Wn(),g=Yr(h);g.tag=1,g.payload=a,u!=null&&(g.callback=u),a=Gr(s,g,h),a!==null&&(Jn(a,s,h),Ia(a,s,h))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var u=Wn(),h=Yr(u);h.tag=2,a!=null&&(h.callback=a),a=Gr(s,h,u),a!==null&&(Jn(a,s,u),Ia(a,s,u))}};function U4(s,a,u,h,g,v,S){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,v,S):a.prototype&&a.prototype.isPureReactComponent?!Ma(u,h)||!Ma(g,v):!0}function P4(s,a,u,h){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,h),a.state!==s&&k1.enqueueReplaceState(a,a.state,null)}function is(s,a){var u=a;if("ref"in a){u={};for(var h in a)h!=="ref"&&(u[h]=a[h])}if(s=s.defaultProps){u===a&&(u=p({},u));for(var g in s)u[g]===void 0&&(u[g]=s[g])}return u}var of=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function F4(s){of(s)}function q4(s){console.error(s)}function $4(s){of(s)}function sf(s,a){try{var u=s.onUncaughtError;u(a.value,{componentStack:a.stack})}catch(h){setTimeout(function(){throw h})}}function K4(s,a,u){try{var h=s.onCaughtError;h(u.value,{componentStack:u.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function A1(s,a,u){return u=Yr(u),u.tag=3,u.payload={element:null},u.callback=function(){sf(s,a)},u}function Z4(s){return s=Yr(s),s.tag=3,s}function Y4(s,a,u,h){var g=u.type.getDerivedStateFromError;if(typeof g=="function"){var v=h.value;s.payload=function(){return g(v)},s.callback=function(){K4(a,u,h)}}var S=u.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(s.callback=function(){K4(a,u,h),typeof g!="function"&&(ro===null?ro=new Set([this]):ro.add(this));var k=h.stack;this.componentDidCatch(h.value,{componentStack:k!==null?k:""})})}function aE(s,a,u,h,g){if(u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(a=u.alternate,a!==null&&Na(a,u,g,!0),u=ci.current,u!==null){switch(u.tag){case 13:return Fi===null?J1():u.alternate===null&&xt===0&&(xt=3),u.flags&=-257,u.flags|=65536,u.lanes=g,h===i1?u.flags|=16384:(a=u.updateQueue,a===null?u.updateQueue=new Set([h]):a.add(h),em(s,h,g)),!1;case 22:return u.flags|=65536,h===i1?u.flags|=16384:(a=u.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([h])},u.updateQueue=a):(u=a.retryQueue,u===null?a.retryQueue=new Set([h]):u.add(h)),em(s,h,g)),!1}throw Error(i(435,u.tag))}return em(s,h,g),J1(),!1}if(Pe)return a=ci.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=g,h!==Xp&&(s=Error(i(422),{cause:h}),Oa(oi(s,u)))):(h!==Xp&&(a=Error(i(423),{cause:h}),Oa(oi(a,u))),s=s.current.alternate,s.flags|=65536,g&=-g,s.lanes|=g,h=oi(h,u),g=A1(s.stateNode,h,g),s1(s,g),xt!==4&&(xt=2)),!1;var v=Error(i(520),{cause:h});if(v=oi(v,u),Wa===null?Wa=[v]:Wa.push(v),xt!==4&&(xt=2),a===null)return!0;h=oi(h,u),u=a;do{switch(u.tag){case 3:return u.flags|=65536,s=g&-g,u.lanes|=s,s=A1(u.stateNode,h,s),s1(u,s),!1;case 1:if(a=u.type,v=u.stateNode,(u.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ro===null||!ro.has(v))))return u.flags|=65536,g&=-g,u.lanes|=g,g=Z4(g),Y4(g,s,u,h),s1(u,g),!1}u=u.return}while(u!==null);return!1}var G4=Error(i(461)),qt=!1;function Qt(s,a,u,h){a.child=s===null?V4(a,null,u,h):ml(a,s.child,u,h)}function X4(s,a,u,h,g){u=u.render;var v=a.ref;if("ref"in h){var S={};for(var k in h)k!=="ref"&&(S[k]=h[k])}else S=h;return es(a),h=f1(s,a,u,S,v,g),k=d1(),s!==null&&!qt?(h1(s,a,g),yr(s,a,g)):(Pe&&k&&Yp(a),a.flags|=1,Qt(s,a,h,g),a.child)}function W4(s,a,u,h,g){if(s===null){var v=u.type;return typeof v=="function"&&!$p(v)&&v.defaultProps===void 0&&u.compare===null?(a.tag=15,a.type=v,J4(s,a,v,h,g)):(s=Bu(u.type,null,h,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(v=s.child,!I1(s,g)){var S=v.memoizedProps;if(u=u.compare,u=u!==null?u:Ma,u(S,h)&&s.ref===a.ref)return yr(s,a,g)}return a.flags|=1,s=ur(v,h),s.ref=a.ref,s.return=a,a.child=s}function J4(s,a,u,h,g){if(s!==null){var v=s.memoizedProps;if(Ma(v,h)&&s.ref===a.ref)if(qt=!1,a.pendingProps=h=v,I1(s,g))(s.flags&131072)!==0&&(qt=!0);else return a.lanes=s.lanes,yr(s,a,g)}return R1(s,a,u,h,g)}function Q4(s,a,u){var h=a.pendingProps,g=h.children,v=s!==null?s.memoizedState:null;if(h.mode==="hidden"){if((a.flags&128)!==0){if(h=v!==null?v.baseLanes|u:u,s!==null){for(g=a.child=s.child,v=0;g!==null;)v=v|g.lanes|g.childLanes,g=g.sibling;a.childLanes=v&~h}else a.childLanes=0,a.child=null;return eb(s,a,h,u)}if((u&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&Fu(a,v!==null?v.cachePool:null),v!==null?J3(a,v):a1(),j4(a);else return a.lanes=a.childLanes=536870912,eb(s,a,v!==null?v.baseLanes|u:u,u)}else v!==null?(Fu(a,v.cachePool),J3(a,v),Jr(),a.memoizedState=null):(s!==null&&Fu(a,null),a1(),Jr());return Qt(s,a,g,u),a.child}function eb(s,a,u,h){var g=n1();return g=g===null?null:{parent:jt._currentValue,pool:g},a.memoizedState={baseLanes:u,cachePool:g},s!==null&&Fu(a,null),a1(),j4(a),s!==null&&Na(s,a,h,!0),null}function lf(s,a){var u=a.ref;if(u===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(i(284));(s===null||s.ref!==u)&&(a.flags|=4194816)}}function R1(s,a,u,h,g){return es(a),u=f1(s,a,u,h,void 0,g),h=d1(),s!==null&&!qt?(h1(s,a,g),yr(s,a,g)):(Pe&&h&&Yp(a),a.flags|=1,Qt(s,a,u,g),a.child)}function tb(s,a,u,h,g,v){return es(a),a.updateQueue=null,u=e4(a,h,u,g),Q3(s),h=d1(),s!==null&&!qt?(h1(s,a,v),yr(s,a,v)):(Pe&&h&&Yp(a),a.flags|=1,Qt(s,a,u,v),a.child)}function nb(s,a,u,h,g){if(es(a),a.stateNode===null){var v=ol,S=u.contextType;typeof S=="object"&&S!==null&&(v=dn(S)),v=new u(h,v),a.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=k1,a.stateNode=v,v._reactInternals=a,v=a.stateNode,v.props=h,v.state=a.memoizedState,v.refs={},r1(a),S=u.contextType,v.context=typeof S=="object"&&S!==null?dn(S):ol,v.state=a.memoizedState,S=u.getDerivedStateFromProps,typeof S=="function"&&(M1(a,u,S,h),v.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(S=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),S!==v.state&&k1.enqueueReplaceState(v,v.state,null),Ba(a,h,v,g),za(),v.state=a.memoizedState),typeof v.componentDidMount=="function"&&(a.flags|=4194308),h=!0}else if(s===null){v=a.stateNode;var k=a.memoizedProps,N=is(u,k);v.props=N;var V=v.context,Z=u.contextType;S=ol,typeof Z=="object"&&Z!==null&&(S=dn(Z));var ee=u.getDerivedStateFromProps;Z=typeof ee=="function"||typeof v.getSnapshotBeforeUpdate=="function",k=a.pendingProps!==k,Z||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(k||V!==S)&&P4(a,v,h,S),Zr=!1;var U=a.memoizedState;v.state=U,Ba(a,h,v,g),za(),V=a.memoizedState,k||U!==V||Zr?(typeof ee=="function"&&(M1(a,u,ee,h),V=a.memoizedState),(N=Zr||U4(a,u,N,h,U,V,S))?(Z||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(a.flags|=4194308)):(typeof v.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=V),v.props=h,v.state=V,v.context=S,h=N):(typeof v.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{v=a.stateNode,o1(s,a),S=a.memoizedProps,Z=is(u,S),v.props=Z,ee=a.pendingProps,U=v.context,V=u.contextType,N=ol,typeof V=="object"&&V!==null&&(N=dn(V)),k=u.getDerivedStateFromProps,(V=typeof k=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(S!==ee||U!==N)&&P4(a,v,h,N),Zr=!1,U=a.memoizedState,v.state=U,Ba(a,h,v,g),za();var P=a.memoizedState;S!==ee||U!==P||Zr||s!==null&&s.dependencies!==null&&Uu(s.dependencies)?(typeof k=="function"&&(M1(a,u,k,h),P=a.memoizedState),(Z=Zr||U4(a,u,Z,h,U,P,N)||s!==null&&s.dependencies!==null&&Uu(s.dependencies))?(V||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(h,P,N),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(h,P,N)),typeof v.componentDidUpdate=="function"&&(a.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof v.componentDidUpdate!="function"||S===s.memoizedProps&&U===s.memoizedState||(a.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===s.memoizedProps&&U===s.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=P),v.props=h,v.state=P,v.context=N,h=Z):(typeof v.componentDidUpdate!="function"||S===s.memoizedProps&&U===s.memoizedState||(a.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===s.memoizedProps&&U===s.memoizedState||(a.flags|=1024),h=!1)}return v=h,lf(s,a),h=(a.flags&128)!==0,v||h?(v=a.stateNode,u=h&&typeof u.getDerivedStateFromError!="function"?null:v.render(),a.flags|=1,s!==null&&h?(a.child=ml(a,s.child,null,g),a.child=ml(a,null,u,g)):Qt(s,a,u,g),a.memoizedState=v.state,s=a.child):s=yr(s,a,g),s}function ib(s,a,u,h){return Ra(),a.flags|=256,Qt(s,a,u,h),a.child}var O1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function N1(s){return{baseLanes:s,cachePool:q3()}}function D1(s,a,u){return s=s!==null?s.childLanes&~u:0,a&&(s|=ui),s}function rb(s,a,u){var h=a.pendingProps,g=!1,v=(a.flags&128)!==0,S;if((S=v)||(S=s!==null&&s.memoizedState===null?!1:(Ut.current&2)!==0),S&&(g=!0,a.flags&=-129),S=(a.flags&32)!==0,a.flags&=-33,s===null){if(Pe){if(g?Wr(a):Jr(),Pe){var k=wt,N;if(N=k){e:{for(N=k,k=Pi;N.nodeType!==8;){if(!k){k=null;break e}if(N=Si(N.nextSibling),N===null){k=null;break e}}k=N}k!==null?(a.memoizedState={dehydrated:k,treeContext:Go!==null?{id:fr,overflow:dr}:null,retryLane:536870912,hydrationErrors:null},N=Zn(18,null,null,0),N.stateNode=k,N.return=a,a.child=N,xn=a,wt=null,N=!0):N=!1}N||Jo(a)}if(k=a.memoizedState,k!==null&&(k=k.dehydrated,k!==null))return mm(k)?a.lanes=32:a.lanes=536870912,null;gr(a)}return k=h.children,h=h.fallback,g?(Jr(),g=a.mode,k=af({mode:"hidden",children:k},g),h=Yo(h,g,u,null),k.return=a,h.return=a,k.sibling=h,a.child=k,g=a.child,g.memoizedState=N1(u),g.childLanes=D1(s,S,u),a.memoizedState=O1,h):(Wr(a),L1(a,k))}if(N=s.memoizedState,N!==null&&(k=N.dehydrated,k!==null)){if(v)a.flags&256?(Wr(a),a.flags&=-257,a=_1(s,a,u)):a.memoizedState!==null?(Jr(),a.child=s.child,a.flags|=128,a=null):(Jr(),g=h.fallback,k=a.mode,h=af({mode:"visible",children:h.children},k),g=Yo(g,k,u,null),g.flags|=2,h.return=a,g.return=a,h.sibling=g,a.child=h,ml(a,s.child,null,u),h=a.child,h.memoizedState=N1(u),h.childLanes=D1(s,S,u),a.memoizedState=O1,a=g);else if(Wr(a),mm(k)){if(S=k.nextSibling&&k.nextSibling.dataset,S)var V=S.dgst;S=V,h=Error(i(419)),h.stack="",h.digest=S,Oa({value:h,source:null,stack:null}),a=_1(s,a,u)}else if(qt||Na(s,a,u,!1),S=(u&s.childLanes)!==0,qt||S){if(S=ut,S!==null&&(h=u&-u,h=(h&42)!==0?1:gp(h),h=(h&(S.suspendedLanes|u))!==0?0:h,h!==0&&h!==N.retryLane))throw N.retryLane=h,rl(s,h),Jn(S,s,h),G4;k.data==="$?"||J1(),a=_1(s,a,u)}else k.data==="$?"?(a.flags|=192,a.child=s.child,a=null):(s=N.treeContext,wt=Si(k.nextSibling),xn=a,Pe=!0,Wo=null,Pi=!1,s!==null&&(li[ai++]=fr,li[ai++]=dr,li[ai++]=Go,fr=s.id,dr=s.overflow,Go=a),a=L1(a,h.children),a.flags|=4096);return a}return g?(Jr(),g=h.fallback,k=a.mode,N=s.child,V=N.sibling,h=ur(N,{mode:"hidden",children:h.children}),h.subtreeFlags=N.subtreeFlags&65011712,V!==null?g=ur(V,g):(g=Yo(g,k,u,null),g.flags|=2),g.return=a,h.return=a,h.sibling=g,a.child=h,h=g,g=a.child,k=s.child.memoizedState,k===null?k=N1(u):(N=k.cachePool,N!==null?(V=jt._currentValue,N=N.parent!==V?{parent:V,pool:V}:N):N=q3(),k={baseLanes:k.baseLanes|u,cachePool:N}),g.memoizedState=k,g.childLanes=D1(s,S,u),a.memoizedState=O1,h):(Wr(a),u=s.child,s=u.sibling,u=ur(u,{mode:"visible",children:h.children}),u.return=a,u.sibling=null,s!==null&&(S=a.deletions,S===null?(a.deletions=[s],a.flags|=16):S.push(s)),a.child=u,a.memoizedState=null,u)}function L1(s,a){return a=af({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function af(s,a){return s=Zn(22,s,null,a),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function _1(s,a,u){return ml(a,s.child,null,u),s=L1(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function ob(s,a,u){s.lanes|=a;var h=s.alternate;h!==null&&(h.lanes|=a),Jp(s.return,a,u)}function H1(s,a,u,h,g){var v=s.memoizedState;v===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:g}:(v.isBackwards=a,v.rendering=null,v.renderingStartTime=0,v.last=h,v.tail=u,v.tailMode=g)}function sb(s,a,u){var h=a.pendingProps,g=h.revealOrder,v=h.tail;if(Qt(s,a,h.children,u),h=Ut.current,(h&2)!==0)h=h&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&ob(s,u,a);else if(s.tag===19)ob(s,u,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}switch(te(Ut,h),g){case"forwards":for(u=a.child,g=null;u!==null;)s=u.alternate,s!==null&&rf(s)===null&&(g=u),u=u.sibling;u=g,u===null?(g=a.child,a.child=null):(g=u.sibling,u.sibling=null),H1(a,!1,g,u,v);break;case"backwards":for(u=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&rf(s)===null){a.child=g;break}s=g.sibling,g.sibling=u,u=g,g=s}H1(a,!0,u,null,v);break;case"together":H1(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function yr(s,a,u){if(s!==null&&(a.dependencies=s.dependencies),io|=a.lanes,(u&a.childLanes)===0)if(s!==null){if(Na(s,a,u,!1),(u&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,u=ur(s,s.pendingProps),a.child=u,u.return=a;s.sibling!==null;)s=s.sibling,u=u.sibling=ur(s,s.pendingProps),u.return=a;u.sibling=null}return a.child}function I1(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&Uu(s)))}function cE(s,a,u){switch(a.tag){case 3:He(a,a.stateNode.containerInfo),Kr(a,jt,s.memoizedState.cache),Ra();break;case 27:case 5:$n(a);break;case 4:He(a,a.stateNode.containerInfo);break;case 10:Kr(a,a.type,a.memoizedProps.value);break;case 13:var h=a.memoizedState;if(h!==null)return h.dehydrated!==null?(Wr(a),a.flags|=128,null):(u&a.child.childLanes)!==0?rb(s,a,u):(Wr(a),s=yr(s,a,u),s!==null?s.sibling:null);Wr(a);break;case 19:var g=(s.flags&128)!==0;if(h=(u&a.childLanes)!==0,h||(Na(s,a,u,!1),h=(u&a.childLanes)!==0),g){if(h)return sb(s,a,u);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),te(Ut,Ut.current),h)break;return null;case 22:case 23:return a.lanes=0,Q4(s,a,u);case 24:Kr(a,jt,s.memoizedState.cache)}return yr(s,a,u)}function lb(s,a,u){if(s!==null)if(s.memoizedProps!==a.pendingProps)qt=!0;else{if(!I1(s,u)&&(a.flags&128)===0)return qt=!1,cE(s,a,u);qt=(s.flags&131072)!==0}else qt=!1,Pe&&(a.flags&1048576)!==0&&z3(a,ju,a.index);switch(a.lanes=0,a.tag){case 16:e:{s=a.pendingProps;var h=a.elementType,g=h._init;if(h=g(h._payload),a.type=h,typeof h=="function")$p(h)?(s=is(h,s),a.tag=1,a=nb(null,a,h,s,u)):(a.tag=0,a=R1(null,a,h,s,u));else{if(h!=null){if(g=h.$$typeof,g===H){a.tag=11,a=X4(null,a,h,s,u);break e}else if(g===Y){a.tag=14,a=W4(null,a,h,s,u);break e}}throw a=ie(h)||h,Error(i(306,a,""))}}return a;case 0:return R1(s,a,a.type,a.pendingProps,u);case 1:return h=a.type,g=is(h,a.pendingProps),nb(s,a,h,g,u);case 3:e:{if(He(a,a.stateNode.containerInfo),s===null)throw Error(i(387));h=a.pendingProps;var v=a.memoizedState;g=v.element,o1(s,a),Ba(a,h,null,u);var S=a.memoizedState;if(h=S.cache,Kr(a,jt,h),h!==v.cache&&Qp(a,[jt],u,!0),za(),h=S.element,v.isDehydrated)if(v={element:h,isDehydrated:!1,cache:S.cache},a.updateQueue.baseState=v,a.memoizedState=v,a.flags&256){a=ib(s,a,h,u);break e}else if(h!==g){g=oi(Error(i(424)),a),Oa(g),a=ib(s,a,h,u);break e}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(wt=Si(s.firstChild),xn=a,Pe=!0,Wo=null,Pi=!0,u=V4(a,null,h,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Ra(),h===g){a=yr(s,a,u);break e}Qt(s,a,h,u)}a=a.child}return a;case 26:return lf(s,a),s===null?(u=fv(a.type,null,a.pendingProps,null))?a.memoizedState=u:Pe||(u=a.type,s=a.pendingProps,h=xf(ue.current).createElement(u),h[fn]=a,h[Nn]=s,tn(h,u,s),Ft(h),a.stateNode=h):a.memoizedState=fv(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return $n(a),s===null&&Pe&&(h=a.stateNode=av(a.type,a.pendingProps,ue.current),xn=a,Pi=!0,g=wt,lo(a.type)?(gm=g,wt=Si(h.firstChild)):wt=g),Qt(s,a,a.pendingProps.children,u),lf(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&Pe&&((g=h=wt)&&(h=zE(h,a.type,a.pendingProps,Pi),h!==null?(a.stateNode=h,xn=a,wt=Si(h.firstChild),Pi=!1,g=!0):g=!1),g||Jo(a)),$n(a),g=a.type,v=a.pendingProps,S=s!==null?s.memoizedProps:null,h=v.children,dm(g,v)?h=null:S!==null&&dm(g,S)&&(a.flags|=32),a.memoizedState!==null&&(g=f1(s,a,tE,null,null,u),sc._currentValue=g),lf(s,a),Qt(s,a,h,u),a.child;case 6:return s===null&&Pe&&((s=u=wt)&&(u=BE(u,a.pendingProps,Pi),u!==null?(a.stateNode=u,xn=a,wt=null,s=!0):s=!1),s||Jo(a)),null;case 13:return rb(s,a,u);case 4:return He(a,a.stateNode.containerInfo),h=a.pendingProps,s===null?a.child=ml(a,null,h,u):Qt(s,a,h,u),a.child;case 11:return X4(s,a,a.type,a.pendingProps,u);case 7:return Qt(s,a,a.pendingProps,u),a.child;case 8:return Qt(s,a,a.pendingProps.children,u),a.child;case 12:return Qt(s,a,a.pendingProps.children,u),a.child;case 10:return h=a.pendingProps,Kr(a,a.type,h.value),Qt(s,a,h.children,u),a.child;case 9:return g=a.type._context,h=a.pendingProps.children,es(a),g=dn(g),h=h(g),a.flags|=1,Qt(s,a,h,u),a.child;case 14:return W4(s,a,a.type,a.pendingProps,u);case 15:return J4(s,a,a.type,a.pendingProps,u);case 19:return sb(s,a,u);case 31:return h=a.pendingProps,u=a.mode,h={mode:h.mode,children:h.children},s===null?(u=af(h,u),u.ref=a.ref,a.child=u,u.return=a,a=u):(u=ur(s.child,h),u.ref=a.ref,a.child=u,u.return=a,a=u),a;case 22:return Q4(s,a,u);case 24:return es(a),h=dn(jt),s===null?(g=n1(),g===null&&(g=ut,v=e1(),g.pooledCache=v,v.refCount++,v!==null&&(g.pooledCacheLanes|=u),g=v),a.memoizedState={parent:h,cache:g},r1(a),Kr(a,jt,g)):((s.lanes&u)!==0&&(o1(s,a),Ba(a,null,null,u),za()),g=s.memoizedState,v=a.memoizedState,g.parent!==h?(g={parent:h,cache:h},a.memoizedState=g,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=g),Kr(a,jt,h)):(h=v.cache,Kr(a,jt,h),h!==g.cache&&Qp(a,[jt],u,!0))),Qt(s,a,a.pendingProps.children,u),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function br(s){s.flags|=4}function ab(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!gv(a)){if(a=ci.current,a!==null&&((ze&4194048)===ze?Fi!==null:(ze&62914560)!==ze&&(ze&536870912)===0||a!==Fi))throw Ha=i1,$3;s.flags|=8192}}function cf(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?ma():536870912,s.lanes|=a,vl|=a)}function $a(s,a){if(!Pe)switch(s.tailMode){case"hidden":a=s.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function yt(s){var a=s.alternate!==null&&s.alternate.child===s.child,u=0,h=0;if(a)for(var g=s.child;g!==null;)u|=g.lanes|g.childLanes,h|=g.subtreeFlags&65011712,h|=g.flags&65011712,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)u|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=h,s.childLanes=u,a}function uE(s,a,u){var h=a.pendingProps;switch(Gp(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(a),null;case 1:return yt(a),null;case 3:return u=a.stateNode,h=null,s!==null&&(h=s.memoizedState.cache),a.memoizedState.cache!==h&&(a.flags|=2048),pr(jt),cn(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(s===null||s.child===null)&&(Aa(a)?br(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,j3())),yt(a),null;case 26:return u=a.memoizedState,s===null?(br(a),u!==null?(yt(a),ab(a,u)):(yt(a),a.flags&=-16777217)):u?u!==s.memoizedState?(br(a),yt(a),ab(a,u)):(yt(a),a.flags&=-16777217):(s.memoizedProps!==h&&br(a),yt(a),a.flags&=-16777217),null;case 27:Se(a),u=ue.current;var g=a.type;if(s!==null&&a.stateNode!=null)s.memoizedProps!==h&&br(a);else{if(!h){if(a.stateNode===null)throw Error(i(166));return yt(a),null}s=ae.current,Aa(a)?B3(a):(s=av(g,h,u),a.stateNode=s,br(a))}return yt(a),null;case 5:if(Se(a),u=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==h&&br(a);else{if(!h){if(a.stateNode===null)throw Error(i(166));return yt(a),null}if(s=ae.current,Aa(a))B3(a);else{switch(g=xf(ue.current),s){case 1:s=g.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:s=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":s=g.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":s=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":s=g.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof h.is=="string"?g.createElement("select",{is:h.is}):g.createElement("select"),h.multiple?s.multiple=!0:h.size&&(s.size=h.size);break;default:s=typeof h.is=="string"?g.createElement(u,{is:h.is}):g.createElement(u)}}s[fn]=a,s[Nn]=h;e:for(g=a.child;g!==null;){if(g.tag===5||g.tag===6)s.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===a)break e;for(;g.sibling===null;){if(g.return===null||g.return===a)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}a.stateNode=s;e:switch(tn(s,u,h),u){case"button":case"input":case"select":case"textarea":s=!!h.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&br(a)}}return yt(a),a.flags&=-16777217,null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==h&&br(a);else{if(typeof h!="string"&&a.stateNode===null)throw Error(i(166));if(s=ue.current,Aa(a)){if(s=a.stateNode,u=a.memoizedProps,h=null,g=xn,g!==null)switch(g.tag){case 27:case 5:h=g.memoizedProps}s[fn]=a,s=!!(s.nodeValue===u||h!==null&&h.suppressHydrationWarning===!0||tv(s.nodeValue,u)),s||Jo(a)}else s=xf(s).createTextNode(h),s[fn]=a,a.stateNode=s}return yt(a),null;case 13:if(h=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(g=Aa(a),h!==null&&h.dehydrated!==null){if(s===null){if(!g)throw Error(i(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[fn]=a}else Ra(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;yt(a),g=!1}else g=j3(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),g=!0;if(!g)return a.flags&256?(gr(a),a):(gr(a),null)}if(gr(a),(a.flags&128)!==0)return a.lanes=u,a;if(u=h!==null,s=s!==null&&s.memoizedState!==null,u){h=a.child,g=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(g=h.alternate.memoizedState.cachePool.pool);var v=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(v=h.memoizedState.cachePool.pool),v!==g&&(h.flags|=2048)}return u!==s&&u&&(a.child.flags|=8192),cf(a,a.updateQueue),yt(a),null;case 4:return cn(),s===null&&lm(a.stateNode.containerInfo),yt(a),null;case 10:return pr(a.type),yt(a),null;case 19:if(F(Ut),g=a.memoizedState,g===null)return yt(a),null;if(h=(a.flags&128)!==0,v=g.rendering,v===null)if(h)$a(g,!1);else{if(xt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(v=rf(s),v!==null){for(a.flags|=128,$a(g,!1),s=v.updateQueue,a.updateQueue=s,cf(a,s),a.subtreeFlags=0,s=u,u=a.child;u!==null;)I3(u,s),u=u.sibling;return te(Ut,Ut.current&1|2),a.child}s=s.sibling}g.tail!==null&&at()>df&&(a.flags|=128,h=!0,$a(g,!1),a.lanes=4194304)}else{if(!h)if(s=rf(v),s!==null){if(a.flags|=128,h=!0,s=s.updateQueue,a.updateQueue=s,cf(a,s),$a(g,!0),g.tail===null&&g.tailMode==="hidden"&&!v.alternate&&!Pe)return yt(a),null}else 2*at()-g.renderingStartTime>df&&u!==536870912&&(a.flags|=128,h=!0,$a(g,!1),a.lanes=4194304);g.isBackwards?(v.sibling=a.child,a.child=v):(s=g.last,s!==null?s.sibling=v:a.child=v,g.last=v)}return g.tail!==null?(a=g.tail,g.rendering=a,g.tail=a.sibling,g.renderingStartTime=at(),a.sibling=null,s=Ut.current,te(Ut,h?s&1|2:s&1),a):(yt(a),null);case 22:case 23:return gr(a),c1(),h=a.memoizedState!==null,s!==null?s.memoizedState!==null!==h&&(a.flags|=8192):h&&(a.flags|=8192),h?(u&536870912)!==0&&(a.flags&128)===0&&(yt(a),a.subtreeFlags&6&&(a.flags|=8192)):yt(a),u=a.updateQueue,u!==null&&cf(a,u.retryQueue),u=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==u&&(a.flags|=2048),s!==null&&F(ts),null;case 24:return u=null,s!==null&&(u=s.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),pr(jt),yt(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function fE(s,a){switch(Gp(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return pr(jt),cn(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return Se(a),null;case 13:if(gr(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Ra()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return F(Ut),null;case 4:return cn(),null;case 10:return pr(a.type),null;case 22:case 23:return gr(a),c1(),s!==null&&F(ts),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return pr(jt),null;case 25:return null;default:return null}}function cb(s,a){switch(Gp(a),a.tag){case 3:pr(jt),cn();break;case 26:case 27:case 5:Se(a);break;case 4:cn();break;case 13:gr(a);break;case 19:F(Ut);break;case 10:pr(a.type);break;case 22:case 23:gr(a),c1(),s!==null&&F(ts);break;case 24:pr(jt)}}function Ka(s,a){try{var u=a.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var g=h.next;u=g;do{if((u.tag&s)===s){h=void 0;var v=u.create,S=u.inst;h=v(),S.destroy=h}u=u.next}while(u!==g)}}catch(k){rt(a,a.return,k)}}function Qr(s,a,u){try{var h=a.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var v=g.next;h=v;do{if((h.tag&s)===s){var S=h.inst,k=S.destroy;if(k!==void 0){S.destroy=void 0,g=a;var N=u,V=k;try{V()}catch(Z){rt(g,N,Z)}}}h=h.next}while(h!==v)}}catch(Z){rt(a,a.return,Z)}}function ub(s){var a=s.updateQueue;if(a!==null){var u=s.stateNode;try{W3(a,u)}catch(h){rt(s,s.return,h)}}}function fb(s,a,u){u.props=is(s.type,s.memoizedProps),u.state=s.memoizedState;try{u.componentWillUnmount()}catch(h){rt(s,a,h)}}function Za(s,a){try{var u=s.ref;if(u!==null){switch(s.tag){case 26:case 27:case 5:var h=s.stateNode;break;case 30:h=s.stateNode;break;default:h=s.stateNode}typeof u=="function"?s.refCleanup=u(h):u.current=h}}catch(g){rt(s,a,g)}}function qi(s,a){var u=s.ref,h=s.refCleanup;if(u!==null)if(typeof h=="function")try{h()}catch(g){rt(s,a,g)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(g){rt(s,a,g)}else u.current=null}function db(s){var a=s.type,u=s.memoizedProps,h=s.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":u.autoFocus&&h.focus();break e;case"img":u.src?h.src=u.src:u.srcSet&&(h.srcset=u.srcSet)}}catch(g){rt(s,s.return,g)}}function z1(s,a,u){try{var h=s.stateNode;DE(h,s.type,u,a),h[Nn]=a}catch(g){rt(s,s.return,g)}}function hb(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&lo(s.type)||s.tag===4}function B1(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||hb(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&lo(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function V1(s,a,u){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(s,a):(a=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,a.appendChild(s),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=wf));else if(h!==4&&(h===27&&lo(s.type)&&(u=s.stateNode,a=null),s=s.child,s!==null))for(V1(s,a,u),s=s.sibling;s!==null;)V1(s,a,u),s=s.sibling}function uf(s,a,u){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?u.insertBefore(s,a):u.appendChild(s);else if(h!==4&&(h===27&&lo(s.type)&&(u=s.stateNode),s=s.child,s!==null))for(uf(s,a,u),s=s.sibling;s!==null;)uf(s,a,u),s=s.sibling}function pb(s){var a=s.stateNode,u=s.memoizedProps;try{for(var h=s.type,g=a.attributes;g.length;)a.removeAttributeNode(g[0]);tn(a,h,u),a[fn]=s,a[Nn]=u}catch(v){rt(s,s.return,v)}}var vr=!1,Rt=!1,j1=!1,mb=typeof WeakSet=="function"?WeakSet:Set,$t=null;function dE(s,a){if(s=s.containerInfo,um=Af,s=M3(s),Bp(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var g=h.anchorOffset,v=h.focusNode;h=h.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var S=0,k=-1,N=-1,V=0,Z=0,ee=s,U=null;t:for(;;){for(var P;ee!==u||g!==0&&ee.nodeType!==3||(k=S+g),ee!==v||h!==0&&ee.nodeType!==3||(N=S+h),ee.nodeType===3&&(S+=ee.nodeValue.length),(P=ee.firstChild)!==null;)U=ee,ee=P;for(;;){if(ee===s)break t;if(U===u&&++V===g&&(k=S),U===v&&++Z===h&&(N=S),(P=ee.nextSibling)!==null)break;ee=U,U=ee.parentNode}ee=P}u=k===-1||N===-1?null:{start:k,end:N}}else u=null}u=u||{start:0,end:0}}else u=null;for(fm={focusedElem:s,selectionRange:u},Af=!1,$t=a;$t!==null;)if(a=$t,s=a.child,(a.subtreeFlags&1024)!==0&&s!==null)s.return=a,$t=s;else for(;$t!==null;){switch(a=$t,v=a.alternate,s=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&v!==null){s=void 0,u=a,g=v.memoizedProps,v=v.memoizedState,h=u.stateNode;try{var xe=is(u.type,g,u.elementType===u.type);s=h.getSnapshotBeforeUpdate(xe,v),h.__reactInternalSnapshotBeforeUpdate=s}catch(ye){rt(u,u.return,ye)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,u=s.nodeType,u===9)pm(s);else if(u===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":pm(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,$t=s;break}$t=a.return}}function gb(s,a,u){var h=u.flags;switch(u.tag){case 0:case 11:case 15:eo(s,u),h&4&&Ka(5,u);break;case 1:if(eo(s,u),h&4)if(s=u.stateNode,a===null)try{s.componentDidMount()}catch(S){rt(u,u.return,S)}else{var g=is(u.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(g,a,s.__reactInternalSnapshotBeforeUpdate)}catch(S){rt(u,u.return,S)}}h&64&&ub(u),h&512&&Za(u,u.return);break;case 3:if(eo(s,u),h&64&&(s=u.updateQueue,s!==null)){if(a=null,u.child!==null)switch(u.child.tag){case 27:case 5:a=u.child.stateNode;break;case 1:a=u.child.stateNode}try{W3(s,a)}catch(S){rt(u,u.return,S)}}break;case 27:a===null&&h&4&&pb(u);case 26:case 5:eo(s,u),a===null&&h&4&&db(u),h&512&&Za(u,u.return);break;case 12:eo(s,u);break;case 13:eo(s,u),h&4&&vb(s,u),h&64&&(s=u.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(u=wE.bind(null,u),VE(s,u))));break;case 22:if(h=u.memoizedState!==null||vr,!h){a=a!==null&&a.memoizedState!==null||Rt,g=vr;var v=Rt;vr=h,(Rt=a)&&!v?to(s,u,(u.subtreeFlags&8772)!==0):eo(s,u),vr=g,Rt=v}break;case 30:break;default:eo(s,u)}}function yb(s){var a=s.alternate;a!==null&&(s.alternate=null,yb(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&vp(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var mt=null,_n=!1;function Cr(s,a,u){for(u=u.child;u!==null;)bb(s,a,u),u=u.sibling}function bb(s,a,u){if(Ie&&typeof Ie.onCommitFiberUnmount=="function")try{Ie.onCommitFiberUnmount(Ke,u)}catch{}switch(u.tag){case 26:Rt||qi(u,a),Cr(s,a,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Rt||qi(u,a);var h=mt,g=_n;lo(u.type)&&(mt=u.stateNode,_n=!1),Cr(s,a,u),nc(u.stateNode),mt=h,_n=g;break;case 5:Rt||qi(u,a);case 6:if(h=mt,g=_n,mt=null,Cr(s,a,u),mt=h,_n=g,mt!==null)if(_n)try{(mt.nodeType===9?mt.body:mt.nodeName==="HTML"?mt.ownerDocument.body:mt).removeChild(u.stateNode)}catch(v){rt(u,a,v)}else try{mt.removeChild(u.stateNode)}catch(v){rt(u,a,v)}break;case 18:mt!==null&&(_n?(s=mt,sv(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,u.stateNode),uc(s)):sv(mt,u.stateNode));break;case 4:h=mt,g=_n,mt=u.stateNode.containerInfo,_n=!0,Cr(s,a,u),mt=h,_n=g;break;case 0:case 11:case 14:case 15:Rt||Qr(2,u,a),Rt||Qr(4,u,a),Cr(s,a,u);break;case 1:Rt||(qi(u,a),h=u.stateNode,typeof h.componentWillUnmount=="function"&&fb(u,a,h)),Cr(s,a,u);break;case 21:Cr(s,a,u);break;case 22:Rt=(h=Rt)||u.memoizedState!==null,Cr(s,a,u),Rt=h;break;default:Cr(s,a,u)}}function vb(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{uc(s)}catch(u){rt(a,a.return,u)}}function hE(s){switch(s.tag){case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new mb),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new mb),a;default:throw Error(i(435,s.tag))}}function U1(s,a){var u=hE(s);a.forEach(function(h){var g=xE.bind(null,s,h);u.has(h)||(u.add(h),h.then(g,g))})}function Yn(s,a){var u=a.deletions;if(u!==null)for(var h=0;h<u.length;h++){var g=u[h],v=s,S=a,k=S;e:for(;k!==null;){switch(k.tag){case 27:if(lo(k.type)){mt=k.stateNode,_n=!1;break e}break;case 5:mt=k.stateNode,_n=!1;break e;case 3:case 4:mt=k.stateNode.containerInfo,_n=!0;break e}k=k.return}if(mt===null)throw Error(i(160));bb(v,S,g),mt=null,_n=!1,v=g.alternate,v!==null&&(v.return=null),g.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)Cb(a,s),a=a.sibling}var xi=null;function Cb(s,a){var u=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Yn(a,s),Gn(s),h&4&&(Qr(3,s,s.return),Ka(3,s),Qr(5,s,s.return));break;case 1:Yn(a,s),Gn(s),h&512&&(Rt||u===null||qi(u,u.return)),h&64&&vr&&(s=s.updateQueue,s!==null&&(h=s.callbacks,h!==null&&(u=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=u===null?h:u.concat(h))));break;case 26:var g=xi;if(Yn(a,s),Gn(s),h&512&&(Rt||u===null||qi(u,u.return)),h&4){var v=u!==null?u.memoizedState:null;if(h=s.memoizedState,u===null)if(h===null)if(s.stateNode===null){e:{h=s.type,u=s.memoizedProps,g=g.ownerDocument||g;t:switch(h){case"title":v=g.getElementsByTagName("title")[0],(!v||v[ya]||v[fn]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=g.createElement(h),g.head.insertBefore(v,g.querySelector("head > title"))),tn(v,h,u),v[fn]=s,Ft(v),h=v;break e;case"link":var S=pv("link","href",g).get(h+(u.href||""));if(S){for(var k=0;k<S.length;k++)if(v=S[k],v.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&v.getAttribute("rel")===(u.rel==null?null:u.rel)&&v.getAttribute("title")===(u.title==null?null:u.title)&&v.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){S.splice(k,1);break t}}v=g.createElement(h),tn(v,h,u),g.head.appendChild(v);break;case"meta":if(S=pv("meta","content",g).get(h+(u.content||""))){for(k=0;k<S.length;k++)if(v=S[k],v.getAttribute("content")===(u.content==null?null:""+u.content)&&v.getAttribute("name")===(u.name==null?null:u.name)&&v.getAttribute("property")===(u.property==null?null:u.property)&&v.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&v.getAttribute("charset")===(u.charSet==null?null:u.charSet)){S.splice(k,1);break t}}v=g.createElement(h),tn(v,h,u),g.head.appendChild(v);break;default:throw Error(i(468,h))}v[fn]=s,Ft(v),h=v}s.stateNode=h}else mv(g,s.type,s.stateNode);else s.stateNode=hv(g,h,s.memoizedProps);else v!==h?(v===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):v.count--,h===null?mv(g,s.type,s.stateNode):hv(g,h,s.memoizedProps)):h===null&&s.stateNode!==null&&z1(s,s.memoizedProps,u.memoizedProps)}break;case 27:Yn(a,s),Gn(s),h&512&&(Rt||u===null||qi(u,u.return)),u!==null&&h&4&&z1(s,s.memoizedProps,u.memoizedProps);break;case 5:if(Yn(a,s),Gn(s),h&512&&(Rt||u===null||qi(u,u.return)),s.flags&32){g=s.stateNode;try{Ws(g,"")}catch(P){rt(s,s.return,P)}}h&4&&s.stateNode!=null&&(g=s.memoizedProps,z1(s,g,u!==null?u.memoizedProps:g)),h&1024&&(j1=!0);break;case 6:if(Yn(a,s),Gn(s),h&4){if(s.stateNode===null)throw Error(i(162));h=s.memoizedProps,u=s.stateNode;try{u.nodeValue=h}catch(P){rt(s,s.return,P)}}break;case 3:if(Ef=null,g=xi,xi=Sf(a.containerInfo),Yn(a,s),xi=g,Gn(s),h&4&&u!==null&&u.memoizedState.isDehydrated)try{uc(a.containerInfo)}catch(P){rt(s,s.return,P)}j1&&(j1=!1,wb(s));break;case 4:h=xi,xi=Sf(s.stateNode.containerInfo),Yn(a,s),Gn(s),xi=h;break;case 12:Yn(a,s),Gn(s);break;case 13:Yn(a,s),Gn(s),s.child.flags&8192&&s.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Z1=at()),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,U1(s,h)));break;case 22:g=s.memoizedState!==null;var N=u!==null&&u.memoizedState!==null,V=vr,Z=Rt;if(vr=V||g,Rt=Z||N,Yn(a,s),Rt=Z,vr=V,Gn(s),h&8192)e:for(a=s.stateNode,a._visibility=g?a._visibility&-2:a._visibility|1,g&&(u===null||N||vr||Rt||rs(s)),u=null,a=s;;){if(a.tag===5||a.tag===26){if(u===null){N=u=a;try{if(v=N.stateNode,g)S=v.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{k=N.stateNode;var ee=N.memoizedProps.style,U=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;k.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(P){rt(N,N.return,P)}}}else if(a.tag===6){if(u===null){N=a;try{N.stateNode.nodeValue=g?"":N.memoizedProps}catch(P){rt(N,N.return,P)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;u===a&&(u=null),a=a.return}u===a&&(u=null),a.sibling.return=a.return,a=a.sibling}h&4&&(h=s.updateQueue,h!==null&&(u=h.retryQueue,u!==null&&(h.retryQueue=null,U1(s,u))));break;case 19:Yn(a,s),Gn(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,U1(s,h)));break;case 30:break;case 21:break;default:Yn(a,s),Gn(s)}}function Gn(s){var a=s.flags;if(a&2){try{for(var u,h=s.return;h!==null;){if(hb(h)){u=h;break}h=h.return}if(u==null)throw Error(i(160));switch(u.tag){case 27:var g=u.stateNode,v=B1(s);uf(s,v,g);break;case 5:var S=u.stateNode;u.flags&32&&(Ws(S,""),u.flags&=-33);var k=B1(s);uf(s,k,S);break;case 3:case 4:var N=u.stateNode.containerInfo,V=B1(s);V1(s,V,N);break;default:throw Error(i(161))}}catch(Z){rt(s,s.return,Z)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function wb(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;wb(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function eo(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)gb(s,a.alternate,a),a=a.sibling}function rs(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:Qr(4,a,a.return),rs(a);break;case 1:qi(a,a.return);var u=a.stateNode;typeof u.componentWillUnmount=="function"&&fb(a,a.return,u),rs(a);break;case 27:nc(a.stateNode);case 26:case 5:qi(a,a.return),rs(a);break;case 22:a.memoizedState===null&&rs(a);break;case 30:rs(a);break;default:rs(a)}s=s.sibling}}function to(s,a,u){for(u=u&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var h=a.alternate,g=s,v=a,S=v.flags;switch(v.tag){case 0:case 11:case 15:to(g,v,u),Ka(4,v);break;case 1:if(to(g,v,u),h=v,g=h.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(V){rt(h,h.return,V)}if(h=v,g=h.updateQueue,g!==null){var k=h.stateNode;try{var N=g.shared.hiddenCallbacks;if(N!==null)for(g.shared.hiddenCallbacks=null,g=0;g<N.length;g++)X3(N[g],k)}catch(V){rt(h,h.return,V)}}u&&S&64&&ub(v),Za(v,v.return);break;case 27:pb(v);case 26:case 5:to(g,v,u),u&&h===null&&S&4&&db(v),Za(v,v.return);break;case 12:to(g,v,u);break;case 13:to(g,v,u),u&&S&4&&vb(g,v);break;case 22:v.memoizedState===null&&to(g,v,u),Za(v,v.return);break;case 30:break;default:to(g,v,u)}a=a.sibling}}function P1(s,a){var u=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==u&&(s!=null&&s.refCount++,u!=null&&Da(u))}function F1(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Da(s))}function $i(s,a,u,h){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)xb(s,a,u,h),a=a.sibling}function xb(s,a,u,h){var g=a.flags;switch(a.tag){case 0:case 11:case 15:$i(s,a,u,h),g&2048&&Ka(9,a);break;case 1:$i(s,a,u,h);break;case 3:$i(s,a,u,h),g&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Da(s)));break;case 12:if(g&2048){$i(s,a,u,h),s=a.stateNode;try{var v=a.memoizedProps,S=v.id,k=v.onPostCommit;typeof k=="function"&&k(S,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(N){rt(a,a.return,N)}}else $i(s,a,u,h);break;case 13:$i(s,a,u,h);break;case 23:break;case 22:v=a.stateNode,S=a.alternate,a.memoizedState!==null?v._visibility&2?$i(s,a,u,h):Ya(s,a):v._visibility&2?$i(s,a,u,h):(v._visibility|=2,gl(s,a,u,h,(a.subtreeFlags&10256)!==0)),g&2048&&P1(S,a);break;case 24:$i(s,a,u,h),g&2048&&F1(a.alternate,a);break;default:$i(s,a,u,h)}}function gl(s,a,u,h,g){for(g=g&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var v=s,S=a,k=u,N=h,V=S.flags;switch(S.tag){case 0:case 11:case 15:gl(v,S,k,N,g),Ka(8,S);break;case 23:break;case 22:var Z=S.stateNode;S.memoizedState!==null?Z._visibility&2?gl(v,S,k,N,g):Ya(v,S):(Z._visibility|=2,gl(v,S,k,N,g)),g&&V&2048&&P1(S.alternate,S);break;case 24:gl(v,S,k,N,g),g&&V&2048&&F1(S.alternate,S);break;default:gl(v,S,k,N,g)}a=a.sibling}}function Ya(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var u=s,h=a,g=h.flags;switch(h.tag){case 22:Ya(u,h),g&2048&&P1(h.alternate,h);break;case 24:Ya(u,h),g&2048&&F1(h.alternate,h);break;default:Ya(u,h)}a=a.sibling}}var Ga=8192;function yl(s){if(s.subtreeFlags&Ga)for(s=s.child;s!==null;)Sb(s),s=s.sibling}function Sb(s){switch(s.tag){case 26:yl(s),s.flags&Ga&&s.memoizedState!==null&&JE(xi,s.memoizedState,s.memoizedProps);break;case 5:yl(s);break;case 3:case 4:var a=xi;xi=Sf(s.stateNode.containerInfo),yl(s),xi=a;break;case 22:s.memoizedState===null&&(a=s.alternate,a!==null&&a.memoizedState!==null?(a=Ga,Ga=16777216,yl(s),Ga=a):yl(s));break;default:yl(s)}}function Tb(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function Xa(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var h=a[u];$t=h,Mb(h,s)}Tb(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Eb(s),s=s.sibling}function Eb(s){switch(s.tag){case 0:case 11:case 15:Xa(s),s.flags&2048&&Qr(9,s,s.return);break;case 3:Xa(s);break;case 12:Xa(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,ff(s)):Xa(s);break;default:Xa(s)}}function ff(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var h=a[u];$t=h,Mb(h,s)}Tb(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:Qr(8,a,a.return),ff(a);break;case 22:u=a.stateNode,u._visibility&2&&(u._visibility&=-3,ff(a));break;default:ff(a)}s=s.sibling}}function Mb(s,a){for(;$t!==null;){var u=$t;switch(u.tag){case 0:case 11:case 15:Qr(8,u,a);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var h=u.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Da(u.memoizedState.cache)}if(h=u.child,h!==null)h.return=u,$t=h;else e:for(u=s;$t!==null;){h=$t;var g=h.sibling,v=h.return;if(yb(h),h===u){$t=null;break e}if(g!==null){g.return=v,$t=g;break e}$t=v}}}var pE={getCacheForType:function(s){var a=dn(jt),u=a.data.get(s);return u===void 0&&(u=s(),a.data.set(s,u)),u}},mE=typeof WeakMap=="function"?WeakMap:Map,Xe=0,ut=null,Le=null,ze=0,We=0,Xn=null,no=!1,bl=!1,q1=!1,wr=0,xt=0,io=0,ss=0,$1=0,ui=0,vl=0,Wa=null,Hn=null,K1=!1,Z1=0,df=1/0,hf=null,ro=null,en=0,oo=null,Cl=null,wl=0,Y1=0,G1=null,kb=null,Ja=0,X1=null;function Wn(){if((Xe&2)!==0&&ze!==0)return ze&-ze;if(_.T!==null){var s=al;return s!==0?s:im()}return Fy()}function Ab(){ui===0&&(ui=(ze&536870912)===0||Pe?Su():536870912);var s=ci.current;return s!==null&&(s.flags|=32),ui}function Jn(s,a,u){(s===ut&&(We===2||We===9)||s.cancelPendingCommit!==null)&&(xl(s,0),so(s,ze,ui,!1)),ga(s,u),((Xe&2)===0||s!==ut)&&(s===ut&&((Xe&2)===0&&(ss|=u),xt===4&&so(s,ze,ui,!1)),Ki(s))}function Rb(s,a,u){if((Xe&6)!==0)throw Error(i(327));var h=!u&&(a&124)===0&&(a&s.expiredLanes)===0||On(s,a),g=h?bE(s,a):Q1(s,a,!0),v=h;do{if(g===0){bl&&!h&&so(s,a,0,!1);break}else{if(u=s.current.alternate,v&&!gE(u)){g=Q1(s,a,!1),v=!1;continue}if(g===2){if(v=a,s.errorRecoveryDisabledLanes&v)var S=0;else S=s.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){a=S;e:{var k=s;g=Wa;var N=k.current.memoizedState.isDehydrated;if(N&&(xl(k,S).flags|=256),S=Q1(k,S,!1),S!==2){if(q1&&!N){k.errorRecoveryDisabledLanes|=v,ss|=v,g=4;break e}v=Hn,Hn=g,v!==null&&(Hn===null?Hn=v:Hn.push.apply(Hn,v))}g=S}if(v=!1,g!==2)continue}}if(g===1){xl(s,0),so(s,a,0,!0);break}e:{switch(h=s,v=g,v){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:so(h,a,ui,!no);break e;case 2:Hn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(g=Z1+300-at(),10<g)){if(so(h,a,ui,!no),lr(h,0,!0)!==0)break e;h.timeoutHandle=rv(Ob.bind(null,h,u,Hn,hf,K1,a,ui,ss,vl,no,v,2,-0,0),g);break e}Ob(h,u,Hn,hf,K1,a,ui,ss,vl,no,v,0,-0,0)}}break}while(!0);Ki(s)}function Ob(s,a,u,h,g,v,S,k,N,V,Z,ee,U,P){if(s.timeoutHandle=-1,ee=a.subtreeFlags,(ee&8192||(ee&16785408)===16785408)&&(oc={stylesheets:null,count:0,unsuspend:WE},Sb(a),ee=QE(),ee!==null)){s.cancelPendingCommit=ee(zb.bind(null,s,a,v,u,h,g,S,k,N,Z,1,U,P)),so(s,v,S,!V);return}zb(s,a,v,u,h,g,S,k,N)}function gE(s){for(var a=s;;){var u=a.tag;if((u===0||u===11||u===15)&&a.flags&16384&&(u=a.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var h=0;h<u.length;h++){var g=u[h],v=g.getSnapshot;g=g.value;try{if(!Kn(v(),g))return!1}catch{return!1}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function so(s,a,u,h){a&=~$1,a&=~ss,s.suspendedLanes|=a,s.pingedLanes&=~a,h&&(s.warmLanes|=a),h=s.expirationTimes;for(var g=a;0<g;){var v=31-Pt(g),S=1<<v;h[v]=-1,g&=~S}u!==0&&Uy(s,u,a)}function pf(){return(Xe&6)===0?(Qa(0),!1):!0}function W1(){if(Le!==null){if(We===0)var s=Le.return;else s=Le,hr=Qo=null,p1(s),pl=null,Fa=0,s=Le;for(;s!==null;)cb(s.alternate,s),s=s.return;Le=null}}function xl(s,a){var u=s.timeoutHandle;u!==-1&&(s.timeoutHandle=-1,_E(u)),u=s.cancelPendingCommit,u!==null&&(s.cancelPendingCommit=null,u()),W1(),ut=s,Le=u=ur(s.current,null),ze=a,We=0,Xn=null,no=!1,bl=On(s,a),q1=!1,vl=ui=$1=ss=io=xt=0,Hn=Wa=null,K1=!1,(a&8)!==0&&(a|=a&32);var h=s.entangledLanes;if(h!==0)for(s=s.entanglements,h&=a;0<h;){var g=31-Pt(h),v=1<<g;a|=s[g],h&=~v}return wr=a,Hu(),u}function Nb(s,a){Re=null,_.H=ef,a===_a||a===qu?(a=Y3(),We=3):a===$3?(a=Y3(),We=4):We=a===G4?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Xn=a,Le===null&&(xt=1,sf(s,oi(a,s.current)))}function Db(){var s=_.H;return _.H=ef,s===null?ef:s}function Lb(){var s=_.A;return _.A=pE,s}function J1(){xt=4,no||(ze&4194048)!==ze&&ci.current!==null||(bl=!0),(io&134217727)===0&&(ss&134217727)===0||ut===null||so(ut,ze,ui,!1)}function Q1(s,a,u){var h=Xe;Xe|=2;var g=Db(),v=Lb();(ut!==s||ze!==a)&&(hf=null,xl(s,a)),a=!1;var S=xt;e:do try{if(We!==0&&Le!==null){var k=Le,N=Xn;switch(We){case 8:W1(),S=6;break e;case 3:case 2:case 9:case 6:ci.current===null&&(a=!0);var V=We;if(We=0,Xn=null,Sl(s,k,N,V),u&&bl){S=0;break e}break;default:V=We,We=0,Xn=null,Sl(s,k,N,V)}}yE(),S=xt;break}catch(Z){Nb(s,Z)}while(!0);return a&&s.shellSuspendCounter++,hr=Qo=null,Xe=h,_.H=g,_.A=v,Le===null&&(ut=null,ze=0,Hu()),S}function yE(){for(;Le!==null;)_b(Le)}function bE(s,a){var u=Xe;Xe|=2;var h=Db(),g=Lb();ut!==s||ze!==a?(hf=null,df=at()+500,xl(s,a)):bl=On(s,a);e:do try{if(We!==0&&Le!==null){a=Le;var v=Xn;t:switch(We){case 1:We=0,Xn=null,Sl(s,a,v,1);break;case 2:case 9:if(K3(v)){We=0,Xn=null,Hb(a);break}a=function(){We!==2&&We!==9||ut!==s||(We=7),Ki(s)},v.then(a,a);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:K3(v)?(We=0,Xn=null,Hb(a)):(We=0,Xn=null,Sl(s,a,v,7));break;case 5:var S=null;switch(Le.tag){case 26:S=Le.memoizedState;case 5:case 27:var k=Le;if(!S||gv(S)){We=0,Xn=null;var N=k.sibling;if(N!==null)Le=N;else{var V=k.return;V!==null?(Le=V,mf(V)):Le=null}break t}}We=0,Xn=null,Sl(s,a,v,5);break;case 6:We=0,Xn=null,Sl(s,a,v,6);break;case 8:W1(),xt=6;break e;default:throw Error(i(462))}}vE();break}catch(Z){Nb(s,Z)}while(!0);return hr=Qo=null,_.H=h,_.A=g,Xe=u,Le!==null?0:(ut=null,ze=0,Hu(),xt)}function vE(){for(;Le!==null&&!Ct();)_b(Le)}function _b(s){var a=lb(s.alternate,s,wr);s.memoizedProps=s.pendingProps,a===null?mf(s):Le=a}function Hb(s){var a=s,u=a.alternate;switch(a.tag){case 15:case 0:a=tb(u,a,a.pendingProps,a.type,void 0,ze);break;case 11:a=tb(u,a,a.pendingProps,a.type.render,a.ref,ze);break;case 5:p1(a);default:cb(u,a),a=Le=I3(a,wr),a=lb(u,a,wr)}s.memoizedProps=s.pendingProps,a===null?mf(s):Le=a}function Sl(s,a,u,h){hr=Qo=null,p1(a),pl=null,Fa=0;var g=a.return;try{if(aE(s,g,a,u,ze)){xt=1,sf(s,oi(u,s.current)),Le=null;return}}catch(v){if(g!==null)throw Le=g,v;xt=1,sf(s,oi(u,s.current)),Le=null;return}a.flags&32768?(Pe||h===1?s=!0:bl||(ze&536870912)!==0?s=!1:(no=s=!0,(h===2||h===9||h===3||h===6)&&(h=ci.current,h!==null&&h.tag===13&&(h.flags|=16384))),Ib(a,s)):mf(a)}function mf(s){var a=s;do{if((a.flags&32768)!==0){Ib(a,no);return}s=a.return;var u=uE(a.alternate,a,wr);if(u!==null){Le=u;return}if(a=a.sibling,a!==null){Le=a;return}Le=a=s}while(a!==null);xt===0&&(xt=5)}function Ib(s,a){do{var u=fE(s.alternate,s);if(u!==null){u.flags&=32767,Le=u;return}if(u=s.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!a&&(s=s.sibling,s!==null)){Le=s;return}Le=s=u}while(s!==null);xt=6,Le=null}function zb(s,a,u,h,g,v,S,k,N){s.cancelPendingCommit=null;do gf();while(en!==0);if((Xe&6)!==0)throw Error(i(327));if(a!==null){if(a===s.current)throw Error(i(177));if(v=a.lanes|a.childLanes,v|=Fp,W8(s,u,v,S,k,N),s===ut&&(Le=ut=null,ze=0),Cl=a,oo=s,wl=u,Y1=v,G1=g,kb=h,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,SE(un,function(){return Pb(),null})):(s.callbackNode=null,s.callbackPriority=0),h=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||h){h=_.T,_.T=null,g=j.p,j.p=2,S=Xe,Xe|=4;try{dE(s,a,u)}finally{Xe=S,j.p=g,_.T=h}}en=1,Bb(),Vb(),jb()}}function Bb(){if(en===1){en=0;var s=oo,a=Cl,u=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||u){u=_.T,_.T=null;var h=j.p;j.p=2;var g=Xe;Xe|=4;try{Cb(a,s);var v=fm,S=M3(s.containerInfo),k=v.focusedElem,N=v.selectionRange;if(S!==k&&k&&k.ownerDocument&&E3(k.ownerDocument.documentElement,k)){if(N!==null&&Bp(k)){var V=N.start,Z=N.end;if(Z===void 0&&(Z=V),"selectionStart"in k)k.selectionStart=V,k.selectionEnd=Math.min(Z,k.value.length);else{var ee=k.ownerDocument||document,U=ee&&ee.defaultView||window;if(U.getSelection){var P=U.getSelection(),xe=k.textContent.length,ye=Math.min(N.start,xe),nt=N.end===void 0?ye:Math.min(N.end,xe);!P.extend&&ye>nt&&(S=nt,nt=ye,ye=S);var I=T3(k,ye),D=T3(k,nt);if(I&&D&&(P.rangeCount!==1||P.anchorNode!==I.node||P.anchorOffset!==I.offset||P.focusNode!==D.node||P.focusOffset!==D.offset)){var B=ee.createRange();B.setStart(I.node,I.offset),P.removeAllRanges(),ye>nt?(P.addRange(B),P.extend(D.node,D.offset)):(B.setEnd(D.node,D.offset),P.addRange(B))}}}}for(ee=[],P=k;P=P.parentNode;)P.nodeType===1&&ee.push({element:P,left:P.scrollLeft,top:P.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<ee.length;k++){var G=ee[k];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}Af=!!um,fm=um=null}finally{Xe=g,j.p=h,_.T=u}}s.current=a,en=2}}function Vb(){if(en===2){en=0;var s=oo,a=Cl,u=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||u){u=_.T,_.T=null;var h=j.p;j.p=2;var g=Xe;Xe|=4;try{gb(s,a.alternate,a)}finally{Xe=g,j.p=h,_.T=u}}en=3}}function jb(){if(en===4||en===3){en=0,gt();var s=oo,a=Cl,u=wl,h=kb;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?en=5:(en=0,Cl=oo=null,Ub(s,s.pendingLanes));var g=s.pendingLanes;if(g===0&&(ro=null),yp(u),a=a.stateNode,Ie&&typeof Ie.onCommitFiberRoot=="function")try{Ie.onCommitFiberRoot(Ke,a,void 0,(a.current.flags&128)===128)}catch{}if(h!==null){a=_.T,g=j.p,j.p=2,_.T=null;try{for(var v=s.onRecoverableError,S=0;S<h.length;S++){var k=h[S];v(k.value,{componentStack:k.stack})}}finally{_.T=a,j.p=g}}(wl&3)!==0&&gf(),Ki(s),g=s.pendingLanes,(u&4194090)!==0&&(g&42)!==0?s===X1?Ja++:(Ja=0,X1=s):Ja=0,Qa(0)}}function Ub(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,Da(a)))}function gf(s){return Bb(),Vb(),jb(),Pb()}function Pb(){if(en!==5)return!1;var s=oo,a=Y1;Y1=0;var u=yp(wl),h=_.T,g=j.p;try{j.p=32>u?32:u,_.T=null,u=G1,G1=null;var v=oo,S=wl;if(en=0,Cl=oo=null,wl=0,(Xe&6)!==0)throw Error(i(331));var k=Xe;if(Xe|=4,Eb(v.current),xb(v,v.current,S,u),Xe=k,Qa(0,!1),Ie&&typeof Ie.onPostCommitFiberRoot=="function")try{Ie.onPostCommitFiberRoot(Ke,v)}catch{}return!0}finally{j.p=g,_.T=h,Ub(s,a)}}function Fb(s,a,u){a=oi(u,a),a=A1(s.stateNode,a,2),s=Gr(s,a,2),s!==null&&(ga(s,2),Ki(s))}function rt(s,a,u){if(s.tag===3)Fb(s,s,u);else for(;a!==null;){if(a.tag===3){Fb(a,s,u);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(ro===null||!ro.has(h))){s=oi(u,s),u=Z4(2),h=Gr(a,u,2),h!==null&&(Y4(u,h,a,s),ga(h,2),Ki(h));break}}a=a.return}}function em(s,a,u){var h=s.pingCache;if(h===null){h=s.pingCache=new mE;var g=new Set;h.set(a,g)}else g=h.get(a),g===void 0&&(g=new Set,h.set(a,g));g.has(u)||(q1=!0,g.add(u),s=CE.bind(null,s,a,u),a.then(s,s))}function CE(s,a,u){var h=s.pingCache;h!==null&&h.delete(a),s.pingedLanes|=s.suspendedLanes&u,s.warmLanes&=~u,ut===s&&(ze&u)===u&&(xt===4||xt===3&&(ze&62914560)===ze&&300>at()-Z1?(Xe&2)===0&&xl(s,0):$1|=u,vl===ze&&(vl=0)),Ki(s)}function qb(s,a){a===0&&(a=ma()),s=rl(s,a),s!==null&&(ga(s,a),Ki(s))}function wE(s){var a=s.memoizedState,u=0;a!==null&&(u=a.retryLane),qb(s,u)}function xE(s,a){var u=0;switch(s.tag){case 13:var h=s.stateNode,g=s.memoizedState;g!==null&&(u=g.retryLane);break;case 19:h=s.stateNode;break;case 22:h=s.stateNode._retryCache;break;default:throw Error(i(314))}h!==null&&h.delete(a),qb(s,u)}function SE(s,a){return Te(s,a)}var yf=null,Tl=null,tm=!1,bf=!1,nm=!1,ls=0;function Ki(s){s!==Tl&&s.next===null&&(Tl===null?yf=Tl=s:Tl=Tl.next=s),bf=!0,tm||(tm=!0,EE())}function Qa(s,a){if(!nm&&bf){nm=!0;do for(var u=!1,h=yf;h!==null;){if(s!==0){var g=h.pendingLanes;if(g===0)var v=0;else{var S=h.suspendedLanes,k=h.pingedLanes;v=(1<<31-Pt(42|s)+1)-1,v&=g&~(S&~k),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(u=!0,Yb(h,v))}else v=ze,v=lr(h,h===ut?v:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(v&3)===0||On(h,v)||(u=!0,Yb(h,v));h=h.next}while(u);nm=!1}}function TE(){$b()}function $b(){bf=tm=!1;var s=0;ls!==0&&(LE()&&(s=ls),ls=0);for(var a=at(),u=null,h=yf;h!==null;){var g=h.next,v=Kb(h,a);v===0?(h.next=null,u===null?yf=g:u.next=g,g===null&&(Tl=u)):(u=h,(s!==0||(v&3)!==0)&&(bf=!0)),h=g}Qa(s)}function Kb(s,a){for(var u=s.suspendedLanes,h=s.pingedLanes,g=s.expirationTimes,v=s.pendingLanes&-62914561;0<v;){var S=31-Pt(v),k=1<<S,N=g[S];N===-1?((k&u)===0||(k&h)!==0)&&(g[S]=Ps(k,a)):N<=a&&(s.expiredLanes|=k),v&=~k}if(a=ut,u=ze,u=lr(s,s===a?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h=s.callbackNode,u===0||s===a&&(We===2||We===9)||s.cancelPendingCommit!==null)return h!==null&&h!==null&&Ee(h),s.callbackNode=null,s.callbackPriority=0;if((u&3)===0||On(s,u)){if(a=u&-u,a===s.callbackPriority)return a;switch(h!==null&&Ee(h),yp(u)){case 2:case 8:u=it;break;case 32:u=un;break;case 268435456:u=Ue;break;default:u=un}return h=Zb.bind(null,s),u=Te(u,h),s.callbackPriority=a,s.callbackNode=u,a}return h!==null&&h!==null&&Ee(h),s.callbackPriority=2,s.callbackNode=null,2}function Zb(s,a){if(en!==0&&en!==5)return s.callbackNode=null,s.callbackPriority=0,null;var u=s.callbackNode;if(gf()&&s.callbackNode!==u)return null;var h=ze;return h=lr(s,s===ut?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h===0?null:(Rb(s,h,a),Kb(s,at()),s.callbackNode!=null&&s.callbackNode===u?Zb.bind(null,s):null)}function Yb(s,a){if(gf())return null;Rb(s,a,!0)}function EE(){HE(function(){(Xe&6)!==0?Te($e,TE):$b()})}function im(){return ls===0&&(ls=Su()),ls}function Gb(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Au(""+s)}function Xb(s,a){var u=a.ownerDocument.createElement("input");return u.name=a.name,u.value=a.value,s.id&&u.setAttribute("form",s.id),a.parentNode.insertBefore(u,a),s=new FormData(s),u.parentNode.removeChild(u),s}function ME(s,a,u,h,g){if(a==="submit"&&u&&u.stateNode===g){var v=Gb((g[Nn]||null).action),S=h.submitter;S&&(a=(a=S[Nn]||null)?Gb(a.formAction):S.getAttribute("formAction"),a!==null&&(v=a,S=null));var k=new Du("action","action",null,h,g);s.push({event:k,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(ls!==0){var N=S?Xb(g,S):new FormData(g);S1(u,{pending:!0,data:N,method:g.method,action:v},null,N)}}else typeof v=="function"&&(k.preventDefault(),N=S?Xb(g,S):new FormData(g),S1(u,{pending:!0,data:N,method:g.method,action:v},v,N))},currentTarget:g}]})}}for(var rm=0;rm<Pp.length;rm++){var om=Pp[rm],kE=om.toLowerCase(),AE=om[0].toUpperCase()+om.slice(1);wi(kE,"on"+AE)}wi(R3,"onAnimationEnd"),wi(O3,"onAnimationIteration"),wi(N3,"onAnimationStart"),wi("dblclick","onDoubleClick"),wi("focusin","onFocus"),wi("focusout","onBlur"),wi($T,"onTransitionRun"),wi(KT,"onTransitionStart"),wi(ZT,"onTransitionCancel"),wi(D3,"onTransitionEnd"),Ys("onMouseEnter",["mouseout","mouseover"]),Ys("onMouseLeave",["mouseout","mouseover"]),Ys("onPointerEnter",["pointerout","pointerover"]),Ys("onPointerLeave",["pointerout","pointerover"]),qo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qo("onBeforeInput",["compositionend","keypress","textInput","paste"]),qo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ec="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ec));function Wb(s,a){a=(a&4)!==0;for(var u=0;u<s.length;u++){var h=s[u],g=h.event;h=h.listeners;e:{var v=void 0;if(a)for(var S=h.length-1;0<=S;S--){var k=h[S],N=k.instance,V=k.currentTarget;if(k=k.listener,N!==v&&g.isPropagationStopped())break e;v=k,g.currentTarget=V;try{v(g)}catch(Z){of(Z)}g.currentTarget=null,v=N}else for(S=0;S<h.length;S++){if(k=h[S],N=k.instance,V=k.currentTarget,k=k.listener,N!==v&&g.isPropagationStopped())break e;v=k,g.currentTarget=V;try{v(g)}catch(Z){of(Z)}g.currentTarget=null,v=N}}}}function _e(s,a){var u=a[bp];u===void 0&&(u=a[bp]=new Set);var h=s+"__bubble";u.has(h)||(Jb(a,s,2,!1),u.add(h))}function sm(s,a,u){var h=0;a&&(h|=4),Jb(u,s,h,a)}var vf="_reactListening"+Math.random().toString(36).slice(2);function lm(s){if(!s[vf]){s[vf]=!0,$y.forEach(function(u){u!=="selectionchange"&&(RE.has(u)||sm(u,!1,s),sm(u,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[vf]||(a[vf]=!0,sm("selectionchange",!1,a))}}function Jb(s,a,u,h){switch(xv(a)){case 2:var g=nM;break;case 8:g=iM;break;default:g=wm}u=g.bind(null,a,u,s),g=void 0,!Rp||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),h?g!==void 0?s.addEventListener(a,u,{capture:!0,passive:g}):s.addEventListener(a,u,!0):g!==void 0?s.addEventListener(a,u,{passive:g}):s.addEventListener(a,u,!1)}function am(s,a,u,h,g){var v=h;if((a&1)===0&&(a&2)===0&&h!==null)e:for(;;){if(h===null)return;var S=h.tag;if(S===3||S===4){var k=h.stateNode.containerInfo;if(k===g)break;if(S===4)for(S=h.return;S!==null;){var N=S.tag;if((N===3||N===4)&&S.stateNode.containerInfo===g)return;S=S.return}for(;k!==null;){if(S=$s(k),S===null)return;if(N=S.tag,N===5||N===6||N===26||N===27){h=v=S;continue e}k=k.parentNode}}h=h.return}o3(function(){var V=v,Z=kp(u),ee=[];e:{var U=L3.get(s);if(U!==void 0){var P=Du,xe=s;switch(s){case"keypress":if(Ou(u)===0)break e;case"keydown":case"keyup":P=ST;break;case"focusin":xe="focus",P=Lp;break;case"focusout":xe="blur",P=Lp;break;case"beforeblur":case"afterblur":P=Lp;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=a3;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=fT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=MT;break;case R3:case O3:case N3:P=pT;break;case D3:P=AT;break;case"scroll":case"scrollend":P=cT;break;case"wheel":P=OT;break;case"copy":case"cut":case"paste":P=gT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=u3;break;case"toggle":case"beforetoggle":P=DT}var ye=(a&4)!==0,nt=!ye&&(s==="scroll"||s==="scrollend"),I=ye?U!==null?U+"Capture":null:U;ye=[];for(var D=V,B;D!==null;){var G=D;if(B=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||B===null||I===null||(G=va(D,I),G!=null&&ye.push(tc(D,G,B))),nt)break;D=D.return}0<ye.length&&(U=new P(U,xe,null,u,Z),ee.push({event:U,listeners:ye}))}}if((a&7)===0){e:{if(U=s==="mouseover"||s==="pointerover",P=s==="mouseout"||s==="pointerout",U&&u!==Mp&&(xe=u.relatedTarget||u.fromElement)&&($s(xe)||xe[qs]))break e;if((P||U)&&(U=Z.window===Z?Z:(U=Z.ownerDocument)?U.defaultView||U.parentWindow:window,P?(xe=u.relatedTarget||u.toElement,P=V,xe=xe?$s(xe):null,xe!==null&&(nt=o(xe),ye=xe.tag,xe!==nt||ye!==5&&ye!==27&&ye!==6)&&(xe=null)):(P=null,xe=V),P!==xe)){if(ye=a3,G="onMouseLeave",I="onMouseEnter",D="mouse",(s==="pointerout"||s==="pointerover")&&(ye=u3,G="onPointerLeave",I="onPointerEnter",D="pointer"),nt=P==null?U:ba(P),B=xe==null?U:ba(xe),U=new ye(G,D+"leave",P,u,Z),U.target=nt,U.relatedTarget=B,G=null,$s(Z)===V&&(ye=new ye(I,D+"enter",xe,u,Z),ye.target=B,ye.relatedTarget=nt,G=ye),nt=G,P&&xe)t:{for(ye=P,I=xe,D=0,B=ye;B;B=El(B))D++;for(B=0,G=I;G;G=El(G))B++;for(;0<D-B;)ye=El(ye),D--;for(;0<B-D;)I=El(I),B--;for(;D--;){if(ye===I||I!==null&&ye===I.alternate)break t;ye=El(ye),I=El(I)}ye=null}else ye=null;P!==null&&Qb(ee,U,P,ye,!1),xe!==null&&nt!==null&&Qb(ee,nt,xe,ye,!0)}}e:{if(U=V?ba(V):window,P=U.nodeName&&U.nodeName.toLowerCase(),P==="select"||P==="input"&&U.type==="file")var de=b3;else if(g3(U))if(v3)de=PT;else{de=jT;var Ne=VT}else P=U.nodeName,!P||P.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?V&&Ep(V.elementType)&&(de=b3):de=UT;if(de&&(de=de(s,V))){y3(ee,de,u,Z);break e}Ne&&Ne(s,U,V),s==="focusout"&&V&&U.type==="number"&&V.memoizedProps.value!=null&&Tp(U,"number",U.value)}switch(Ne=V?ba(V):window,s){case"focusin":(g3(Ne)||Ne.contentEditable==="true")&&(tl=Ne,Vp=V,ka=null);break;case"focusout":ka=Vp=tl=null;break;case"mousedown":jp=!0;break;case"contextmenu":case"mouseup":case"dragend":jp=!1,k3(ee,u,Z);break;case"selectionchange":if(qT)break;case"keydown":case"keyup":k3(ee,u,Z)}var pe;if(Hp)e:{switch(s){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else el?p3(s,u)&&(Ce="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Ce="onCompositionStart");Ce&&(f3&&u.locale!=="ko"&&(el||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&el&&(pe=s3()):($r=Z,Op="value"in $r?$r.value:$r.textContent,el=!0)),Ne=Cf(V,Ce),0<Ne.length&&(Ce=new c3(Ce,s,null,u,Z),ee.push({event:Ce,listeners:Ne}),pe?Ce.data=pe:(pe=m3(u),pe!==null&&(Ce.data=pe)))),(pe=_T?HT(s,u):IT(s,u))&&(Ce=Cf(V,"onBeforeInput"),0<Ce.length&&(Ne=new c3("onBeforeInput","beforeinput",null,u,Z),ee.push({event:Ne,listeners:Ce}),Ne.data=pe)),ME(ee,s,V,u,Z)}Wb(ee,a)})}function tc(s,a,u){return{instance:s,listener:a,currentTarget:u}}function Cf(s,a){for(var u=a+"Capture",h=[];s!==null;){var g=s,v=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||v===null||(g=va(s,u),g!=null&&h.unshift(tc(s,g,v)),g=va(s,a),g!=null&&h.push(tc(s,g,v))),s.tag===3)return h;s=s.return}return[]}function El(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Qb(s,a,u,h,g){for(var v=a._reactName,S=[];u!==null&&u!==h;){var k=u,N=k.alternate,V=k.stateNode;if(k=k.tag,N!==null&&N===h)break;k!==5&&k!==26&&k!==27||V===null||(N=V,g?(V=va(u,v),V!=null&&S.unshift(tc(u,V,N))):g||(V=va(u,v),V!=null&&S.push(tc(u,V,N)))),u=u.return}S.length!==0&&s.push({event:a,listeners:S})}var OE=/\r\n?/g,NE=/\u0000|\uFFFD/g;function ev(s){return(typeof s=="string"?s:""+s).replace(OE,`
`).replace(NE,"")}function tv(s,a){return a=ev(a),ev(s)===a}function wf(){}function tt(s,a,u,h,g,v){switch(u){case"children":typeof h=="string"?a==="body"||a==="textarea"&&h===""||Ws(s,h):(typeof h=="number"||typeof h=="bigint")&&a!=="body"&&Ws(s,""+h);break;case"className":Eu(s,"class",h);break;case"tabIndex":Eu(s,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Eu(s,u,h);break;case"style":i3(s,h,v);break;case"data":if(a!=="object"){Eu(s,"data",h);break}case"src":case"href":if(h===""&&(a!=="a"||u!=="href")){s.removeAttribute(u);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(u);break}h=Au(""+h),s.setAttribute(u,h);break;case"action":case"formAction":if(typeof h=="function"){s.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(u==="formAction"?(a!=="input"&&tt(s,a,"name",g.name,g,null),tt(s,a,"formEncType",g.formEncType,g,null),tt(s,a,"formMethod",g.formMethod,g,null),tt(s,a,"formTarget",g.formTarget,g,null)):(tt(s,a,"encType",g.encType,g,null),tt(s,a,"method",g.method,g,null),tt(s,a,"target",g.target,g,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(u);break}h=Au(""+h),s.setAttribute(u,h);break;case"onClick":h!=null&&(s.onclick=wf);break;case"onScroll":h!=null&&_e("scroll",s);break;case"onScrollEnd":h!=null&&_e("scrollend",s);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(u=h.__html,u!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=u}}break;case"multiple":s.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":s.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){s.removeAttribute("xlink:href");break}u=Au(""+h),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(u,""+h):s.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(u,""):s.removeAttribute(u);break;case"capture":case"download":h===!0?s.setAttribute(u,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(u,h):s.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?s.setAttribute(u,h):s.removeAttribute(u);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?s.removeAttribute(u):s.setAttribute(u,h);break;case"popover":_e("beforetoggle",s),_e("toggle",s),Tu(s,"popover",h);break;case"xlinkActuate":ar(s,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":ar(s,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":ar(s,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":ar(s,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":ar(s,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":ar(s,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":ar(s,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":ar(s,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":ar(s,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Tu(s,"is",h);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=lT.get(u)||u,Tu(s,u,h))}}function cm(s,a,u,h,g,v){switch(u){case"style":i3(s,h,v);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(u=h.__html,u!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=u}}break;case"children":typeof h=="string"?Ws(s,h):(typeof h=="number"||typeof h=="bigint")&&Ws(s,""+h);break;case"onScroll":h!=null&&_e("scroll",s);break;case"onScrollEnd":h!=null&&_e("scrollend",s);break;case"onClick":h!=null&&(s.onclick=wf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ky.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(g=u.endsWith("Capture"),a=u.slice(2,g?u.length-7:void 0),v=s[Nn]||null,v=v!=null?v[u]:null,typeof v=="function"&&s.removeEventListener(a,v,g),typeof h=="function")){typeof v!="function"&&v!==null&&(u in s?s[u]=null:s.hasAttribute(u)&&s.removeAttribute(u)),s.addEventListener(a,h,g);break e}u in s?s[u]=h:h===!0?s.setAttribute(u,""):Tu(s,u,h)}}}function tn(s,a,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_e("error",s),_e("load",s);var h=!1,g=!1,v;for(v in u)if(u.hasOwnProperty(v)){var S=u[v];if(S!=null)switch(v){case"src":h=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:tt(s,a,v,S,u,null)}}g&&tt(s,a,"srcSet",u.srcSet,u,null),h&&tt(s,a,"src",u.src,u,null);return;case"input":_e("invalid",s);var k=v=S=g=null,N=null,V=null;for(h in u)if(u.hasOwnProperty(h)){var Z=u[h];if(Z!=null)switch(h){case"name":g=Z;break;case"type":S=Z;break;case"checked":N=Z;break;case"defaultChecked":V=Z;break;case"value":v=Z;break;case"defaultValue":k=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,a));break;default:tt(s,a,h,Z,u,null)}}Qy(s,v,k,N,V,S,g,!1),Mu(s);return;case"select":_e("invalid",s),h=S=v=null;for(g in u)if(u.hasOwnProperty(g)&&(k=u[g],k!=null))switch(g){case"value":v=k;break;case"defaultValue":S=k;break;case"multiple":h=k;default:tt(s,a,g,k,u,null)}a=v,u=S,s.multiple=!!h,a!=null?Xs(s,!!h,a,!1):u!=null&&Xs(s,!!h,u,!0);return;case"textarea":_e("invalid",s),v=g=h=null;for(S in u)if(u.hasOwnProperty(S)&&(k=u[S],k!=null))switch(S){case"value":h=k;break;case"defaultValue":g=k;break;case"children":v=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(i(91));break;default:tt(s,a,S,k,u,null)}t3(s,h,g,v),Mu(s);return;case"option":for(N in u)if(u.hasOwnProperty(N)&&(h=u[N],h!=null))switch(N){case"selected":s.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:tt(s,a,N,h,u,null)}return;case"dialog":_e("beforetoggle",s),_e("toggle",s),_e("cancel",s),_e("close",s);break;case"iframe":case"object":_e("load",s);break;case"video":case"audio":for(h=0;h<ec.length;h++)_e(ec[h],s);break;case"image":_e("error",s),_e("load",s);break;case"details":_e("toggle",s);break;case"embed":case"source":case"link":_e("error",s),_e("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(V in u)if(u.hasOwnProperty(V)&&(h=u[V],h!=null))switch(V){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:tt(s,a,V,h,u,null)}return;default:if(Ep(a)){for(Z in u)u.hasOwnProperty(Z)&&(h=u[Z],h!==void 0&&cm(s,a,Z,h,u,void 0));return}}for(k in u)u.hasOwnProperty(k)&&(h=u[k],h!=null&&tt(s,a,k,h,u,null))}function DE(s,a,u,h){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,v=null,S=null,k=null,N=null,V=null,Z=null;for(P in u){var ee=u[P];if(u.hasOwnProperty(P)&&ee!=null)switch(P){case"checked":break;case"value":break;case"defaultValue":N=ee;default:h.hasOwnProperty(P)||tt(s,a,P,null,h,ee)}}for(var U in h){var P=h[U];if(ee=u[U],h.hasOwnProperty(U)&&(P!=null||ee!=null))switch(U){case"type":v=P;break;case"name":g=P;break;case"checked":V=P;break;case"defaultChecked":Z=P;break;case"value":S=P;break;case"defaultValue":k=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(i(137,a));break;default:P!==ee&&tt(s,a,U,P,h,ee)}}Sp(s,S,k,N,V,Z,v,g);return;case"select":P=S=k=U=null;for(v in u)if(N=u[v],u.hasOwnProperty(v)&&N!=null)switch(v){case"value":break;case"multiple":P=N;default:h.hasOwnProperty(v)||tt(s,a,v,null,h,N)}for(g in h)if(v=h[g],N=u[g],h.hasOwnProperty(g)&&(v!=null||N!=null))switch(g){case"value":U=v;break;case"defaultValue":k=v;break;case"multiple":S=v;default:v!==N&&tt(s,a,g,v,h,N)}a=k,u=S,h=P,U!=null?Xs(s,!!u,U,!1):!!h!=!!u&&(a!=null?Xs(s,!!u,a,!0):Xs(s,!!u,u?[]:"",!1));return;case"textarea":P=U=null;for(k in u)if(g=u[k],u.hasOwnProperty(k)&&g!=null&&!h.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:tt(s,a,k,null,h,g)}for(S in h)if(g=h[S],v=u[S],h.hasOwnProperty(S)&&(g!=null||v!=null))switch(S){case"value":U=g;break;case"defaultValue":P=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==v&&tt(s,a,S,g,h,v)}e3(s,U,P);return;case"option":for(var xe in u)if(U=u[xe],u.hasOwnProperty(xe)&&U!=null&&!h.hasOwnProperty(xe))switch(xe){case"selected":s.selected=!1;break;default:tt(s,a,xe,null,h,U)}for(N in h)if(U=h[N],P=u[N],h.hasOwnProperty(N)&&U!==P&&(U!=null||P!=null))switch(N){case"selected":s.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:tt(s,a,N,U,h,P)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in u)U=u[ye],u.hasOwnProperty(ye)&&U!=null&&!h.hasOwnProperty(ye)&&tt(s,a,ye,null,h,U);for(V in h)if(U=h[V],P=u[V],h.hasOwnProperty(V)&&U!==P&&(U!=null||P!=null))switch(V){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(i(137,a));break;default:tt(s,a,V,U,h,P)}return;default:if(Ep(a)){for(var nt in u)U=u[nt],u.hasOwnProperty(nt)&&U!==void 0&&!h.hasOwnProperty(nt)&&cm(s,a,nt,void 0,h,U);for(Z in h)U=h[Z],P=u[Z],!h.hasOwnProperty(Z)||U===P||U===void 0&&P===void 0||cm(s,a,Z,U,h,P);return}}for(var I in u)U=u[I],u.hasOwnProperty(I)&&U!=null&&!h.hasOwnProperty(I)&&tt(s,a,I,null,h,U);for(ee in h)U=h[ee],P=u[ee],!h.hasOwnProperty(ee)||U===P||U==null&&P==null||tt(s,a,ee,U,h,P)}var um=null,fm=null;function xf(s){return s.nodeType===9?s:s.ownerDocument}function nv(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function iv(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function dm(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var hm=null;function LE(){var s=window.event;return s&&s.type==="popstate"?s===hm?!1:(hm=s,!0):(hm=null,!1)}var rv=typeof setTimeout=="function"?setTimeout:void 0,_E=typeof clearTimeout=="function"?clearTimeout:void 0,ov=typeof Promise=="function"?Promise:void 0,HE=typeof queueMicrotask=="function"?queueMicrotask:typeof ov<"u"?function(s){return ov.resolve(null).then(s).catch(IE)}:rv;function IE(s){setTimeout(function(){throw s})}function lo(s){return s==="head"}function sv(s,a){var u=a,h=0,g=0;do{var v=u.nextSibling;if(s.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"){if(0<h&&8>h){u=h;var S=s.ownerDocument;if(u&1&&nc(S.documentElement),u&2&&nc(S.body),u&4)for(u=S.head,nc(u),S=u.firstChild;S;){var k=S.nextSibling,N=S.nodeName;S[ya]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&S.rel.toLowerCase()==="stylesheet"||u.removeChild(S),S=k}}if(g===0){s.removeChild(v),uc(a);return}g--}else u==="$"||u==="$?"||u==="$!"?g++:h=u.charCodeAt(0)-48;else h=0;u=v}while(u);uc(a)}function pm(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var u=a;switch(a=a.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":pm(u),vp(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}s.removeChild(u)}}function zE(s,a,u,h){for(;s.nodeType===1;){var g=u;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!h&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(h){if(!s[ya])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(v=s.getAttribute("rel"),v==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(v!==g.rel||s.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||s.getAttribute("title")!==(g.title==null?null:g.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(v=s.getAttribute("src"),(v!==(g.src==null?null:g.src)||s.getAttribute("type")!==(g.type==null?null:g.type)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&v&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var v=g.name==null?null:""+g.name;if(g.type==="hidden"&&s.getAttribute("name")===v)return s}else return s;if(s=Si(s.nextSibling),s===null)break}return null}function BE(s,a,u){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!u||(s=Si(s.nextSibling),s===null))return null;return s}function mm(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function VE(s,a){var u=s.ownerDocument;if(s.data!=="$?"||u.readyState==="complete")a();else{var h=function(){a(),u.removeEventListener("DOMContentLoaded",h)};u.addEventListener("DOMContentLoaded",h),s._reactRetry=h}}function Si(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return s}var gm=null;function lv(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return s;a--}else u==="/$"&&a++}s=s.previousSibling}return null}function av(s,a,u){switch(a=xf(u),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function nc(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);vp(s)}var fi=new Map,cv=new Set;function Sf(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var xr=j.d;j.d={f:jE,r:UE,D:PE,C:FE,L:qE,m:$E,X:ZE,S:KE,M:YE};function jE(){var s=xr.f(),a=pf();return s||a}function UE(s){var a=Ks(s);a!==null&&a.tag===5&&a.type==="form"?R4(a):xr.r(s)}var Ml=typeof document>"u"?null:document;function uv(s,a,u){var h=Ml;if(h&&typeof a=="string"&&a){var g=ri(a);g='link[rel="'+s+'"][href="'+g+'"]',typeof u=="string"&&(g+='[crossorigin="'+u+'"]'),cv.has(g)||(cv.add(g),s={rel:s,crossOrigin:u,href:a},h.querySelector(g)===null&&(a=h.createElement("link"),tn(a,"link",s),Ft(a),h.head.appendChild(a)))}}function PE(s){xr.D(s),uv("dns-prefetch",s,null)}function FE(s,a){xr.C(s,a),uv("preconnect",s,a)}function qE(s,a,u){xr.L(s,a,u);var h=Ml;if(h&&s&&a){var g='link[rel="preload"][as="'+ri(a)+'"]';a==="image"&&u&&u.imageSrcSet?(g+='[imagesrcset="'+ri(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(g+='[imagesizes="'+ri(u.imageSizes)+'"]')):g+='[href="'+ri(s)+'"]';var v=g;switch(a){case"style":v=kl(s);break;case"script":v=Al(s)}fi.has(v)||(s=p({rel:"preload",href:a==="image"&&u&&u.imageSrcSet?void 0:s,as:a},u),fi.set(v,s),h.querySelector(g)!==null||a==="style"&&h.querySelector(ic(v))||a==="script"&&h.querySelector(rc(v))||(a=h.createElement("link"),tn(a,"link",s),Ft(a),h.head.appendChild(a)))}}function $E(s,a){xr.m(s,a);var u=Ml;if(u&&s){var h=a&&typeof a.as=="string"?a.as:"script",g='link[rel="modulepreload"][as="'+ri(h)+'"][href="'+ri(s)+'"]',v=g;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Al(s)}if(!fi.has(v)&&(s=p({rel:"modulepreload",href:s},a),fi.set(v,s),u.querySelector(g)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(rc(v)))return}h=u.createElement("link"),tn(h,"link",s),Ft(h),u.head.appendChild(h)}}}function KE(s,a,u){xr.S(s,a,u);var h=Ml;if(h&&s){var g=Zs(h).hoistableStyles,v=kl(s);a=a||"default";var S=g.get(v);if(!S){var k={loading:0,preload:null};if(S=h.querySelector(ic(v)))k.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":a},u),(u=fi.get(v))&&ym(s,u);var N=S=h.createElement("link");Ft(N),tn(N,"link",s),N._p=new Promise(function(V,Z){N.onload=V,N.onerror=Z}),N.addEventListener("load",function(){k.loading|=1}),N.addEventListener("error",function(){k.loading|=2}),k.loading|=4,Tf(S,a,h)}S={type:"stylesheet",instance:S,count:1,state:k},g.set(v,S)}}}function ZE(s,a){xr.X(s,a);var u=Ml;if(u&&s){var h=Zs(u).hoistableScripts,g=Al(s),v=h.get(g);v||(v=u.querySelector(rc(g)),v||(s=p({src:s,async:!0},a),(a=fi.get(g))&&bm(s,a),v=u.createElement("script"),Ft(v),tn(v,"link",s),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},h.set(g,v))}}function YE(s,a){xr.M(s,a);var u=Ml;if(u&&s){var h=Zs(u).hoistableScripts,g=Al(s),v=h.get(g);v||(v=u.querySelector(rc(g)),v||(s=p({src:s,async:!0,type:"module"},a),(a=fi.get(g))&&bm(s,a),v=u.createElement("script"),Ft(v),tn(v,"link",s),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},h.set(g,v))}}function fv(s,a,u,h){var g=(g=ue.current)?Sf(g):null;if(!g)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(a=kl(u.href),u=Zs(g).hoistableStyles,h=u.get(a),h||(h={type:"style",instance:null,count:0,state:null},u.set(a,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){s=kl(u.href);var v=Zs(g).hoistableStyles,S=v.get(s);if(S||(g=g.ownerDocument||g,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(s,S),(v=g.querySelector(ic(s)))&&!v._p&&(S.instance=v,S.state.loading=5),fi.has(s)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},fi.set(s,u),v||GE(g,s,u,S.state))),a&&h===null)throw Error(i(528,""));return S}if(a&&h!==null)throw Error(i(529,""));return null;case"script":return a=u.async,u=u.src,typeof u=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Al(u),u=Zs(g).hoistableScripts,h=u.get(a),h||(h={type:"script",instance:null,count:0,state:null},u.set(a,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function kl(s){return'href="'+ri(s)+'"'}function ic(s){return'link[rel="stylesheet"]['+s+"]"}function dv(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function GE(s,a,u,h){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?h.loading=1:(a=s.createElement("link"),h.preload=a,a.addEventListener("load",function(){return h.loading|=1}),a.addEventListener("error",function(){return h.loading|=2}),tn(a,"link",u),Ft(a),s.head.appendChild(a))}function Al(s){return'[src="'+ri(s)+'"]'}function rc(s){return"script[async]"+s}function hv(s,a,u){if(a.count++,a.instance===null)switch(a.type){case"style":var h=s.querySelector('style[data-href~="'+ri(u.href)+'"]');if(h)return a.instance=h,Ft(h),h;var g=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return h=(s.ownerDocument||s).createElement("style"),Ft(h),tn(h,"style",g),Tf(h,u.precedence,s),a.instance=h;case"stylesheet":g=kl(u.href);var v=s.querySelector(ic(g));if(v)return a.state.loading|=4,a.instance=v,Ft(v),v;h=dv(u),(g=fi.get(g))&&ym(h,g),v=(s.ownerDocument||s).createElement("link"),Ft(v);var S=v;return S._p=new Promise(function(k,N){S.onload=k,S.onerror=N}),tn(v,"link",h),a.state.loading|=4,Tf(v,u.precedence,s),a.instance=v;case"script":return v=Al(u.src),(g=s.querySelector(rc(v)))?(a.instance=g,Ft(g),g):(h=u,(g=fi.get(v))&&(h=p({},u),bm(h,g)),s=s.ownerDocument||s,g=s.createElement("script"),Ft(g),tn(g,"link",h),s.head.appendChild(g),a.instance=g);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(h=a.instance,a.state.loading|=4,Tf(h,u.precedence,s));return a.instance}function Tf(s,a,u){for(var h=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=h.length?h[h.length-1]:null,v=g,S=0;S<h.length;S++){var k=h[S];if(k.dataset.precedence===a)v=k;else if(v!==g)break}v?v.parentNode.insertBefore(s,v.nextSibling):(a=u.nodeType===9?u.head:u,a.insertBefore(s,a.firstChild))}function ym(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function bm(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var Ef=null;function pv(s,a,u){if(Ef===null){var h=new Map,g=Ef=new Map;g.set(u,h)}else g=Ef,h=g.get(u),h||(h=new Map,g.set(u,h));if(h.has(s))return h;for(h.set(s,null),u=u.getElementsByTagName(s),g=0;g<u.length;g++){var v=u[g];if(!(v[ya]||v[fn]||s==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var S=v.getAttribute(a)||"";S=s+S;var k=h.get(S);k?k.push(v):h.set(S,[v])}}return h}function mv(s,a,u){s=s.ownerDocument||s,s.head.insertBefore(u,a==="title"?s.querySelector("head > title"):null)}function XE(s,a,u){if(u===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function gv(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var oc=null;function WE(){}function JE(s,a,u){if(oc===null)throw Error(i(475));var h=oc;if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var g=kl(u.href),v=s.querySelector(ic(g));if(v){s=v._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(h.count++,h=Mf.bind(h),s.then(h,h)),a.state.loading|=4,a.instance=v,Ft(v);return}v=s.ownerDocument||s,u=dv(u),(g=fi.get(g))&&ym(u,g),v=v.createElement("link"),Ft(v);var S=v;S._p=new Promise(function(k,N){S.onload=k,S.onerror=N}),tn(v,"link",u),a.instance=v}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(h.count++,a=Mf.bind(h),s.addEventListener("load",a),s.addEventListener("error",a))}}function QE(){if(oc===null)throw Error(i(475));var s=oc;return s.stylesheets&&s.count===0&&vm(s,s.stylesheets),0<s.count?function(a){var u=setTimeout(function(){if(s.stylesheets&&vm(s,s.stylesheets),s.unsuspend){var h=s.unsuspend;s.unsuspend=null,h()}},6e4);return s.unsuspend=a,function(){s.unsuspend=null,clearTimeout(u)}}:null}function Mf(){if(this.count--,this.count===0){if(this.stylesheets)vm(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var kf=null;function vm(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,kf=new Map,a.forEach(eM,s),kf=null,Mf.call(s))}function eM(s,a){if(!(a.state.loading&4)){var u=kf.get(s);if(u)var h=u.get(null);else{u=new Map,kf.set(s,u);for(var g=s.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<g.length;v++){var S=g[v];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(u.set(S.dataset.precedence,S),h=S)}h&&u.set(null,h)}g=a.instance,S=g.getAttribute("data-precedence"),v=u.get(S)||h,v===h&&u.set(null,g),u.set(S,g),this.count++,h=Mf.bind(this),g.addEventListener("load",h),g.addEventListener("error",h),v?v.parentNode.insertBefore(g,v.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(g,s.firstChild)),a.state.loading|=4}}var sc={$$typeof:O,Provider:null,Consumer:null,_currentValue:z,_currentValue2:z,_threadCount:0};function tM(s,a,u,h,g,v,S,k){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fs(0),this.hiddenUpdates=Fs(null),this.identifierPrefix=h,this.onUncaughtError=g,this.onCaughtError=v,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function yv(s,a,u,h,g,v,S,k,N,V,Z,ee){return s=new tM(s,a,u,S,k,N,V,ee),a=1,v===!0&&(a|=24),v=Zn(3,null,null,a),s.current=v,v.stateNode=s,a=e1(),a.refCount++,s.pooledCache=a,a.refCount++,v.memoizedState={element:h,isDehydrated:u,cache:a},r1(v),s}function bv(s){return s?(s=ol,s):ol}function vv(s,a,u,h,g,v){g=bv(g),h.context===null?h.context=g:h.pendingContext=g,h=Yr(a),h.payload={element:u},v=v===void 0?null:v,v!==null&&(h.callback=v),u=Gr(s,h,a),u!==null&&(Jn(u,s,a),Ia(u,s,a))}function Cv(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<a?u:a}}function Cm(s,a){Cv(s,a),(s=s.alternate)&&Cv(s,a)}function wv(s){if(s.tag===13){var a=rl(s,67108864);a!==null&&Jn(a,s,67108864),Cm(s,67108864)}}var Af=!0;function nM(s,a,u,h){var g=_.T;_.T=null;var v=j.p;try{j.p=2,wm(s,a,u,h)}finally{j.p=v,_.T=g}}function iM(s,a,u,h){var g=_.T;_.T=null;var v=j.p;try{j.p=8,wm(s,a,u,h)}finally{j.p=v,_.T=g}}function wm(s,a,u,h){if(Af){var g=xm(h);if(g===null)am(s,a,h,Rf,u),Sv(s,h);else if(oM(g,s,a,u,h))h.stopPropagation();else if(Sv(s,h),a&4&&-1<rM.indexOf(s)){for(;g!==null;){var v=Ks(g);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var S=Ui(v.pendingLanes);if(S!==0){var k=v;for(k.pendingLanes|=2,k.entangledLanes|=2;S;){var N=1<<31-Pt(S);k.entanglements[1]|=N,S&=~N}Ki(v),(Xe&6)===0&&(df=at()+500,Qa(0))}}break;case 13:k=rl(v,2),k!==null&&Jn(k,v,2),pf(),Cm(v,2)}if(v=xm(h),v===null&&am(s,a,h,Rf,u),v===g)break;g=v}g!==null&&h.stopPropagation()}else am(s,a,h,null,u)}}function xm(s){return s=kp(s),Sm(s)}var Rf=null;function Sm(s){if(Rf=null,s=$s(s),s!==null){var a=o(s);if(a===null)s=null;else{var u=a.tag;if(u===13){if(s=l(a),s!==null)return s;s=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return Rf=s,null}function xv(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jt()){case $e:return 2;case it:return 8;case un:case ge:return 32;case Ue:return 268435456;default:return 32}default:return 32}}var Tm=!1,ao=null,co=null,uo=null,lc=new Map,ac=new Map,fo=[],rM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Sv(s,a){switch(s){case"focusin":case"focusout":ao=null;break;case"dragenter":case"dragleave":co=null;break;case"mouseover":case"mouseout":uo=null;break;case"pointerover":case"pointerout":lc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ac.delete(a.pointerId)}}function cc(s,a,u,h,g,v){return s===null||s.nativeEvent!==v?(s={blockedOn:a,domEventName:u,eventSystemFlags:h,nativeEvent:v,targetContainers:[g]},a!==null&&(a=Ks(a),a!==null&&wv(a)),s):(s.eventSystemFlags|=h,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function oM(s,a,u,h,g){switch(a){case"focusin":return ao=cc(ao,s,a,u,h,g),!0;case"dragenter":return co=cc(co,s,a,u,h,g),!0;case"mouseover":return uo=cc(uo,s,a,u,h,g),!0;case"pointerover":var v=g.pointerId;return lc.set(v,cc(lc.get(v)||null,s,a,u,h,g)),!0;case"gotpointercapture":return v=g.pointerId,ac.set(v,cc(ac.get(v)||null,s,a,u,h,g)),!0}return!1}function Tv(s){var a=$s(s.target);if(a!==null){var u=o(a);if(u!==null){if(a=u.tag,a===13){if(a=l(u),a!==null){s.blockedOn=a,J8(s.priority,function(){if(u.tag===13){var h=Wn();h=gp(h);var g=rl(u,h);g!==null&&Jn(g,u,h),Cm(u,h)}});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Of(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var u=xm(s.nativeEvent);if(u===null){u=s.nativeEvent;var h=new u.constructor(u.type,u);Mp=h,u.target.dispatchEvent(h),Mp=null}else return a=Ks(u),a!==null&&wv(a),s.blockedOn=u,!1;a.shift()}return!0}function Ev(s,a,u){Of(s)&&u.delete(a)}function sM(){Tm=!1,ao!==null&&Of(ao)&&(ao=null),co!==null&&Of(co)&&(co=null),uo!==null&&Of(uo)&&(uo=null),lc.forEach(Ev),ac.forEach(Ev)}function Nf(s,a){s.blockedOn===a&&(s.blockedOn=null,Tm||(Tm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,sM)))}var Df=null;function Mv(s){Df!==s&&(Df=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Df===s&&(Df=null);for(var a=0;a<s.length;a+=3){var u=s[a],h=s[a+1],g=s[a+2];if(typeof h!="function"){if(Sm(h||u)===null)continue;break}var v=Ks(u);v!==null&&(s.splice(a,3),a-=3,S1(v,{pending:!0,data:g,method:u.method,action:h},h,g))}}))}function uc(s){function a(N){return Nf(N,s)}ao!==null&&Nf(ao,s),co!==null&&Nf(co,s),uo!==null&&Nf(uo,s),lc.forEach(a),ac.forEach(a);for(var u=0;u<fo.length;u++){var h=fo[u];h.blockedOn===s&&(h.blockedOn=null)}for(;0<fo.length&&(u=fo[0],u.blockedOn===null);)Tv(u),u.blockedOn===null&&fo.shift();if(u=(s.ownerDocument||s).$$reactFormReplay,u!=null)for(h=0;h<u.length;h+=3){var g=u[h],v=u[h+1],S=g[Nn]||null;if(typeof v=="function")S||Mv(u);else if(S){var k=null;if(v&&v.hasAttribute("formAction")){if(g=v,S=v[Nn]||null)k=S.formAction;else if(Sm(g)!==null)continue}else k=S.action;typeof k=="function"?u[h+1]=k:(u.splice(h,3),h-=3),Mv(u)}}}function Em(s){this._internalRoot=s}Lf.prototype.render=Em.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var u=a.current,h=Wn();vv(u,h,s,a,null,null)},Lf.prototype.unmount=Em.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;vv(s.current,2,null,s,null,null),pf(),a[qs]=null}};function Lf(s){this._internalRoot=s}Lf.prototype.unstable_scheduleHydration=function(s){if(s){var a=Fy();s={blockedOn:null,target:s,priority:a};for(var u=0;u<fo.length&&a!==0&&a<fo[u].priority;u++);fo.splice(u,0,s),u===0&&Tv(s)}};var kv=e.version;if(kv!=="19.1.0")throw Error(i(527,kv,"19.1.0"));j.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=f(a),s=s!==null?d(s):null,s=s===null?null:s.stateNode,s};var lM={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:_,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_f.isDisabled&&_f.supportsFiber)try{Ke=_f.inject(lM),Ie=_f}catch{}}return dc.createRoot=function(s,a){if(!r(s))throw Error(i(299));var u=!1,h="",g=F4,v=q4,S=$4,k=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(k=a.unstable_transitionCallbacks)),a=yv(s,1,!1,null,null,u,h,g,v,S,k,null),s[qs]=a.current,lm(s),new Em(a)},dc.hydrateRoot=function(s,a,u){if(!r(s))throw Error(i(299));var h=!1,g="",v=F4,S=q4,k=$4,N=null,V=null;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onUncaughtError!==void 0&&(v=u.onUncaughtError),u.onCaughtError!==void 0&&(S=u.onCaughtError),u.onRecoverableError!==void 0&&(k=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(N=u.unstable_transitionCallbacks),u.formState!==void 0&&(V=u.formState)),a=yv(s,1,!0,a,u??null,h,g,v,S,k,N,V),a.context=bv(null),u=a.current,h=Wn(),h=gp(h),g=Yr(h),g.callback=null,Gr(u,g,h),u=h,a.current.lanes=u,ga(a,u),Ki(a),s[qs]=a.current,lm(s),new Lf(a)},dc.version="19.1.0",dc}var zv;function yM(){if(zv)return Am.exports;zv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Am.exports=gM(),Am.exports}var bM=yM(),ca=$5();const vM=G0(ca);var Dm={exports:{}},Lm={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bv;function CM(){if(Bv)return Lm;Bv=1;var t=su();function e(m,y){return m===y&&(m!==0||1/m===1/y)||m!==m&&y!==y}var n=typeof Object.is=="function"?Object.is:e,i=t.useState,r=t.useEffect,o=t.useLayoutEffect,l=t.useDebugValue;function c(m,y){var b=y(),C=i({inst:{value:b,getSnapshot:y}}),w=C[0].inst,x=C[1];return o(function(){w.value=b,w.getSnapshot=y,f(w)&&x({inst:w})},[m,b,y]),r(function(){return f(w)&&x({inst:w}),m(function(){f(w)&&x({inst:w})})},[m]),l(b),b}function f(m){var y=m.getSnapshot;m=m.value;try{var b=y();return!n(m,b)}catch{return!0}}function d(m,y){return y()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:c;return Lm.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,Lm}var Vv;function K5(){return Vv||(Vv=1,Dm.exports=CM()),Dm.exports}var Z5=K5();function nn(t){this.content=t}nn.prototype={constructor:nn,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var i=n&&n!=t?this.remove(n):this,r=i.find(t),o=i.content.slice();return r==-1?o.push(n||t,e):(o[r+1]=e,n&&(o[r]=n)),new nn(o)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new nn(n)},addToStart:function(t,e){return new nn([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new nn(n)},addBefore:function(t,e,n){var i=this.remove(e),r=i.content.slice(),o=i.find(t);return r.splice(o==-1?r.length:o,0,e,n),new nn(r)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=nn.from(t),t.size?new nn(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=nn.from(t),t.size?new nn(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=nn.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};nn.from=function(t){if(t instanceof nn)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new nn(e)};function Y5(t,e,n){for(let i=0;;i++){if(i==t.childCount||i==e.childCount)return t.childCount==e.childCount?null:n;let r=t.child(i),o=e.child(i);if(r==o){n+=r.nodeSize;continue}if(!r.sameMarkup(o))return n;if(r.isText&&r.text!=o.text){for(let l=0;r.text[l]==o.text[l];l++)n++;return n}if(r.content.size||o.content.size){let l=Y5(r.content,o.content,n+1);if(l!=null)return l}n+=r.nodeSize}}function G5(t,e,n,i){for(let r=t.childCount,o=e.childCount;;){if(r==0||o==0)return r==o?null:{a:n,b:i};let l=t.child(--r),c=e.child(--o),f=l.nodeSize;if(l==c){n-=f,i-=f;continue}if(!l.sameMarkup(c))return{a:n,b:i};if(l.isText&&l.text!=c.text){let d=0,p=Math.min(l.text.length,c.text.length);for(;d<p&&l.text[l.text.length-d-1]==c.text[c.text.length-d-1];)d++,n--,i--;return{a:n,b:i}}if(l.content.size||c.content.size){let d=G5(l.content,c.content,n-1,i-1);if(d)return d}n-=f,i-=f}}class W{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let i=0;i<e.length;i++)this.size+=e[i].nodeSize}nodesBetween(e,n,i,r=0,o){for(let l=0,c=0;c<n;l++){let f=this.content[l],d=c+f.nodeSize;if(d>e&&i(f,r+c,o||null,l)!==!1&&f.content.size){let p=c+1;f.nodesBetween(Math.max(0,e-p),Math.min(f.content.size,n-p),i,r+p)}c=d}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,i,r){let o="",l=!0;return this.nodesBetween(e,n,(c,f)=>{let d=c.isText?c.text.slice(Math.max(e,f)-f,n-f):c.isLeaf?r?typeof r=="function"?r(c):r:c.type.spec.leafText?c.type.spec.leafText(c):"":"";c.isBlock&&(c.isLeaf&&d||c.isTextblock)&&i&&(l?l=!1:o+=i),o+=d},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,i=e.firstChild,r=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(i)&&(r[r.length-1]=n.withText(n.text+i.text),o=1);o<e.content.length;o++)r.push(e.content[o]);return new W(r,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let i=[],r=0;if(n>e)for(let o=0,l=0;l<n;o++){let c=this.content[o],f=l+c.nodeSize;f>e&&((l<e||f>n)&&(c.isText?c=c.cut(Math.max(0,e-l),Math.min(c.text.length,n-l)):c=c.cut(Math.max(0,e-l-1),Math.min(c.content.size,n-l-1))),i.push(c),r+=c.nodeSize),l=f}return new W(i,r)}cutByIndex(e,n){return e==n?W.empty:e==0&&n==this.content.length?this:new W(this.content.slice(e,n))}replaceChild(e,n){let i=this.content[e];if(i==n)return this;let r=this.content.slice(),o=this.size+n.nodeSize-i.nodeSize;return r[e]=n,new W(r,o)}addToStart(e){return new W([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new W(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,i=0;n<this.content.length;n++){let r=this.content[n];e(r,i,n),i+=r.nodeSize}}findDiffStart(e,n=0){return Y5(this,e,n)}findDiffEnd(e,n=this.size,i=e.size){return G5(this,e,n,i)}findIndex(e){if(e==0)return Hf(0,e);if(e==this.size)return Hf(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,i=0;;n++){let r=this.child(n),o=i+r.nodeSize;if(o>=e)return o==e?Hf(n+1,o):Hf(n,i);i=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return W.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new W(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return W.empty;let n,i=0;for(let r=0;r<e.length;r++){let o=e[r];i+=o.nodeSize,r&&o.isText&&e[r-1].sameMarkup(o)?(n||(n=e.slice(0,r)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new W(n||e,i)}static from(e){if(!e)return W.empty;if(e instanceof W)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new W([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}W.empty=new W([],0);const _m={index:0,offset:0};function Hf(t,e){return _m.index=t,_m.offset=e,_m}function Td(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++)if(!Td(t[i],e[i]))return!1}else{for(let i in t)if(!(i in e)||!Td(t[i],e[i]))return!1;for(let i in e)if(!(i in t))return!1}return!0}let st=class Hg{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,i=!1;for(let r=0;r<e.length;r++){let o=e[r];if(this.eq(o))return e;if(this.type.excludes(o.type))n||(n=e.slice(0,r));else{if(o.type.excludes(this.type))return e;!i&&o.type.rank>this.type.rank&&(n||(n=e.slice(0,r)),n.push(this),i=!0),n&&n.push(o)}}return n||(n=e.slice()),i||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Td(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let i=e.marks[n.type];if(!i)throw new RangeError(`There is no mark type ${n.type} in this schema`);let r=i.create(n.attrs);return i.checkAttrs(r.attrs),r}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let i=0;i<e.length;i++)if(!e[i].eq(n[i]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Hg.none;if(e instanceof Hg)return[e];let n=e.slice();return n.sort((i,r)=>i.type.rank-r.type.rank),n}};st.none=[];class Ed extends Error{}class se{constructor(e,n,i){this.content=e,this.openStart=n,this.openEnd=i}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let i=W5(this.content,e+this.openStart,n);return i&&new se(i,this.openStart,this.openEnd)}removeBetween(e,n){return new se(X5(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return se.empty;let i=n.openStart||0,r=n.openEnd||0;if(typeof i!="number"||typeof r!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new se(W.fromJSON(e,n.content),i,r)}static maxOpen(e,n=!0){let i=0,r=0;for(let o=e.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)i++;for(let o=e.lastChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.lastChild)r++;return new se(e,i,r)}}se.empty=new se(W.empty,0,0);function X5(t,e,n){let{index:i,offset:r}=t.findIndex(e),o=t.maybeChild(i),{index:l,offset:c}=t.findIndex(n);if(r==e||o.isText){if(c!=n&&!t.child(l).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(i!=l)throw new RangeError("Removing non-flat range");return t.replaceChild(i,o.copy(X5(o.content,e-r-1,n-r-1)))}function W5(t,e,n,i){let{index:r,offset:o}=t.findIndex(e),l=t.maybeChild(r);if(o==e||l.isText)return t.cut(0,e).append(n).append(t.cut(e));let c=W5(l.content,e-o-1,n);return c&&t.replaceChild(r,l.copy(c))}function wM(t,e,n){if(n.openStart>t.depth)throw new Ed("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Ed("Inconsistent open depths");return J5(t,e,n,0)}function J5(t,e,n,i){let r=t.index(i),o=t.node(i);if(r==e.index(i)&&i<t.depth-n.openStart){let l=J5(t,e,n,i+1);return o.copy(o.content.replaceChild(r,l))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==i&&e.depth==i){let l=t.parent,c=l.content;return Cs(l,c.cut(0,t.parentOffset).append(n.content).append(c.cut(e.parentOffset)))}else{let{start:l,end:c}=xM(n,t);return Cs(o,e9(t,l,c,e,i))}else return Cs(o,Md(t,e,i))}function Q5(t,e){if(!e.type.compatibleContent(t.type))throw new Ed("Cannot join "+e.type.name+" onto "+t.type.name)}function Ig(t,e,n){let i=t.node(n);return Q5(i,e.node(n)),i}function vs(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function wc(t,e,n,i){let r=(e||t).node(n),o=0,l=e?e.index(n):r.childCount;t&&(o=t.index(n),t.depth>n?o++:t.textOffset&&(vs(t.nodeAfter,i),o++));for(let c=o;c<l;c++)vs(r.child(c),i);e&&e.depth==n&&e.textOffset&&vs(e.nodeBefore,i)}function Cs(t,e){return t.type.checkContent(e),t.copy(e)}function e9(t,e,n,i,r){let o=t.depth>r&&Ig(t,e,r+1),l=i.depth>r&&Ig(n,i,r+1),c=[];return wc(null,t,r,c),o&&l&&e.index(r)==n.index(r)?(Q5(o,l),vs(Cs(o,e9(t,e,n,i,r+1)),c)):(o&&vs(Cs(o,Md(t,e,r+1)),c),wc(e,n,r,c),l&&vs(Cs(l,Md(n,i,r+1)),c)),wc(i,null,r,c),new W(c)}function Md(t,e,n){let i=[];if(wc(null,t,n,i),t.depth>n){let r=Ig(t,e,n+1);vs(Cs(r,Md(t,e,n+1)),i)}return wc(e,null,n,i),new W(i)}function xM(t,e){let n=e.depth-t.openStart,r=e.node(n).copy(t.content);for(let o=n-1;o>=0;o--)r=e.node(o).copy(W.from(r));return{start:r.resolveNoCache(t.openStart+n),end:r.resolveNoCache(r.content.size-t.openEnd-n)}}class Hc{constructor(e,n,i){this.pos=e,this.path=n,this.parentOffset=i,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let i=this.pos-this.path[this.path.length-1],r=e.child(n);return i?e.child(n).cut(i):r}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let i=this.path[n*3],r=n==0?0:this.path[n*3-1]+1;for(let o=0;o<e;o++)r+=i.child(o).nodeSize;return r}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return st.none;if(this.textOffset)return e.child(n).marks;let i=e.maybeChild(n-1),r=e.maybeChild(n);if(!i){let c=i;i=r,r=c}let o=i.marks;for(var l=0;l<o.length;l++)o[l].type.spec.inclusive===!1&&(!r||!o[l].isInSet(r.marks))&&(o=o[l--].removeFromSet(o));return o}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let i=n.marks,r=e.parent.maybeChild(e.index());for(var o=0;o<i.length;o++)i[o].type.spec.inclusive===!1&&(!r||!i[o].isInSet(r.marks))&&(i=i[o--].removeFromSet(i));return i}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let i=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);i>=0;i--)if(e.pos<=this.end(i)&&(!n||n(this.node(i))))return new Ic(this,e,i);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let i=[],r=0,o=n;for(let l=e;;){let{index:c,offset:f}=l.content.findIndex(o),d=o-f;if(i.push(l,c,r+f),!d||(l=l.child(c),l.isText))break;o=d-1,r+=f+1}return new Hc(n,i,o)}static resolveCached(e,n){let i=jv.get(e);if(i)for(let o=0;o<i.elts.length;o++){let l=i.elts[o];if(l.pos==n)return l}else jv.set(e,i=new SM);let r=i.elts[i.i]=Hc.resolve(e,n);return i.i=(i.i+1)%TM,r}}class SM{constructor(){this.elts=[],this.i=0}}const TM=12,jv=new WeakMap;class Ic{constructor(e,n,i){this.$from=e,this.$to=n,this.depth=i}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const EM=Object.create(null);let Oi=class zg{constructor(e,n,i,r=st.none){this.type=e,this.attrs=n,this.marks=r,this.content=i||W.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,i,r=0){this.content.nodesBetween(e,n,i,r,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,i,r){return this.content.textBetween(e,n,i,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,i){return this.type==e&&Td(this.attrs,n||e.defaultAttrs||EM)&&st.sameSet(this.marks,i||st.none)}copy(e=null){return e==this.content?this:new zg(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new zg(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,i=!1){if(e==n)return se.empty;let r=this.resolve(e),o=this.resolve(n),l=i?0:r.sharedDepth(n),c=r.start(l),d=r.node(l).content.cut(r.pos-c,o.pos-c);return new se(d,r.depth-l,o.depth-l)}replace(e,n,i){return wM(this.resolve(e),this.resolve(n),i)}nodeAt(e){for(let n=this;;){let{index:i,offset:r}=n.content.findIndex(e);if(n=n.maybeChild(i),!n)return null;if(r==e||n.isText)return n;e-=r+1}}childAfter(e){let{index:n,offset:i}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:i}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:i}=this.content.findIndex(e);if(i<e)return{node:this.content.child(n),index:n,offset:i};let r=this.content.child(n-1);return{node:r,index:n-1,offset:i-r.nodeSize}}resolve(e){return Hc.resolveCached(this,e)}resolveNoCache(e){return Hc.resolve(this,e)}rangeHasMark(e,n,i){let r=!1;return n>e&&this.nodesBetween(e,n,o=>(i.isInSet(o.marks)&&(r=!0),!r)),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),t9(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,i=W.empty,r=0,o=i.childCount){let l=this.contentMatchAt(e).matchFragment(i,r,o),c=l&&l.matchFragment(this.content,n);if(!c||!c.validEnd)return!1;for(let f=r;f<o;f++)if(!this.type.allowsMarks(i.child(f).marks))return!1;return!0}canReplaceWith(e,n,i,r){if(r&&!this.type.allowsMarks(r))return!1;let o=this.contentMatchAt(e).matchType(i),l=o&&o.matchFragment(this.content,n);return l?l.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=st.none;for(let n=0;n<this.marks.length;n++){let i=this.marks[n];i.type.checkAttrs(i.attrs),e=i.addToSet(e)}if(!st.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let i;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");i=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,i)}let r=W.fromJSON(e,n.content),o=e.nodeType(n.type).create(n.attrs,r,i);return o.type.checkAttrs(o.attrs),o}};Oi.prototype.text=void 0;class kd extends Oi{constructor(e,n,i,r){if(super(e,n,null,r),!i)throw new RangeError("Empty text nodes are not allowed");this.text=i}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):t9(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new kd(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new kd(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function t9(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Ms{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let i=new MM(e,n);if(i.next==null)return Ms.empty;let r=n9(i);i.next&&i.err("Unexpected trailing text");let o=LM(DM(r));return _M(o,i),o}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,i=e.childCount){let r=this;for(let o=n;r&&o<i;o++)r=r.matchType(e.child(o).type);return r}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let i=0;i<e.next.length;i++)if(this.next[n].type==e.next[i].type)return!0;return!1}fillBefore(e,n=!1,i=0){let r=[this];function o(l,c){let f=l.matchFragment(e,i);if(f&&(!n||f.validEnd))return W.from(c.map(d=>d.createAndFill()));for(let d=0;d<l.next.length;d++){let{type:p,next:m}=l.next[d];if(!(p.isText||p.hasRequiredAttrs())&&r.indexOf(m)==-1){r.push(m);let y=o(m,c.concat(p));if(y)return y}}return null}return o(this,[])}findWrapping(e){for(let i=0;i<this.wrapCache.length;i+=2)if(this.wrapCache[i]==e)return this.wrapCache[i+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),i=[{match:this,type:null,via:null}];for(;i.length;){let r=i.shift(),o=r.match;if(o.matchType(e)){let l=[];for(let c=r;c.type;c=c.via)l.push(c.type);return l.reverse()}for(let l=0;l<o.next.length;l++){let{type:c,next:f}=o.next[l];!c.isLeaf&&!c.hasRequiredAttrs()&&!(c.name in n)&&(!r.type||f.validEnd)&&(i.push({match:c.contentMatch,type:c,via:r}),n[c.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(i){e.push(i);for(let r=0;r<i.next.length;r++)e.indexOf(i.next[r].next)==-1&&n(i.next[r].next)}return n(this),e.map((i,r)=>{let o=r+(i.validEnd?"*":" ")+" ";for(let l=0;l<i.next.length;l++)o+=(l?", ":"")+i.next[l].type.name+"->"+e.indexOf(i.next[l].next);return o}).join(`
`)}}Ms.empty=new Ms(!0);class MM{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function n9(t){let e=[];do e.push(kM(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function kM(t){let e=[];do e.push(AM(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function AM(t){let e=NM(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=RM(t,e);else break;return e}function Uv(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function RM(t,e){let n=Uv(t),i=n;return t.eat(",")&&(t.next!="}"?i=Uv(t):i=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:i,expr:e}}function OM(t,e){let n=t.nodeTypes,i=n[e];if(i)return[i];let r=[];for(let o in n){let l=n[o];l.isInGroup(e)&&r.push(l)}return r.length==0&&t.err("No node type or group '"+e+"' found"),r}function NM(t){if(t.eat("(")){let e=n9(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=OM(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function DM(t){let e=[[]];return r(o(t,0),n()),e;function n(){return e.push([])-1}function i(l,c,f){let d={term:f,to:c};return e[l].push(d),d}function r(l,c){l.forEach(f=>f.to=c)}function o(l,c){if(l.type=="choice")return l.exprs.reduce((f,d)=>f.concat(o(d,c)),[]);if(l.type=="seq")for(let f=0;;f++){let d=o(l.exprs[f],c);if(f==l.exprs.length-1)return d;r(d,c=n())}else if(l.type=="star"){let f=n();return i(c,f),r(o(l.expr,f),f),[i(f)]}else if(l.type=="plus"){let f=n();return r(o(l.expr,c),f),r(o(l.expr,f),f),[i(f)]}else{if(l.type=="opt")return[i(c)].concat(o(l.expr,c));if(l.type=="range"){let f=c;for(let d=0;d<l.min;d++){let p=n();r(o(l.expr,f),p),f=p}if(l.max==-1)r(o(l.expr,f),f);else for(let d=l.min;d<l.max;d++){let p=n();i(f,p),r(o(l.expr,f),p),f=p}return[i(f)]}else{if(l.type=="name")return[i(c,void 0,l.value)];throw new Error("Unknown expr type")}}}}function i9(t,e){return e-t}function Pv(t,e){let n=[];return i(e),n.sort(i9);function i(r){let o=t[r];if(o.length==1&&!o[0].term)return i(o[0].to);n.push(r);for(let l=0;l<o.length;l++){let{term:c,to:f}=o[l];!c&&n.indexOf(f)==-1&&i(f)}}}function LM(t){let e=Object.create(null);return n(Pv(t,0));function n(i){let r=[];i.forEach(l=>{t[l].forEach(({term:c,to:f})=>{if(!c)return;let d;for(let p=0;p<r.length;p++)r[p][0]==c&&(d=r[p][1]);Pv(t,f).forEach(p=>{d||r.push([c,d=[]]),d.indexOf(p)==-1&&d.push(p)})})});let o=e[i.join(",")]=new Ms(i.indexOf(t.length-1)>-1);for(let l=0;l<r.length;l++){let c=r[l][1].sort(i9);o.next.push({type:r[l][0],next:e[c.join(",")]||n(c)})}return o}}function _M(t,e){for(let n=0,i=[t];n<i.length;n++){let r=i[n],o=!r.validEnd,l=[];for(let c=0;c<r.next.length;c++){let{type:f,next:d}=r.next[c];l.push(f.name),o&&!(f.isText||f.hasRequiredAttrs())&&(o=!1),i.indexOf(d)==-1&&i.push(d)}o&&e.err("Only non-generatable nodes ("+l.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function r9(t){let e=Object.create(null);for(let n in t){let i=t[n];if(!i.hasDefault)return null;e[n]=i.default}return e}function o9(t,e){let n=Object.create(null);for(let i in t){let r=e&&e[i];if(r===void 0){let o=t[i];if(o.hasDefault)r=o.default;else throw new RangeError("No value supplied for attribute "+i)}n[i]=r}return n}function s9(t,e,n,i){for(let r in e)if(!(r in t))throw new RangeError(`Unsupported attribute ${r} for ${n} of type ${r}`);for(let r in t){let o=t[r];o.validate&&o.validate(e[r])}}function l9(t,e){let n=Object.create(null);if(e)for(let i in e)n[i]=new IM(t,i,e[i]);return n}let Fv=class a9{constructor(e,n,i){this.name=e,this.schema=n,this.spec=i,this.markSet=null,this.groups=i.group?i.group.split(" "):[],this.attrs=l9(e,i.attrs),this.defaultAttrs=r9(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(i.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Ms.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:o9(this.attrs,e)}create(e=null,n,i){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Oi(this,this.computeAttrs(e),W.from(n),st.setFrom(i))}createChecked(e=null,n,i){return n=W.from(n),this.checkContent(n),new Oi(this,this.computeAttrs(e),n,st.setFrom(i))}createAndFill(e=null,n,i){if(e=this.computeAttrs(e),n=W.from(n),n.size){let l=this.contentMatch.fillBefore(n);if(!l)return null;n=l.append(n)}let r=this.contentMatch.matchFragment(n),o=r&&r.fillBefore(W.empty,!0);return o?new Oi(this,e,n.append(o),st.setFrom(i)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let i=0;i<e.childCount;i++)if(!this.allowsMarks(e.child(i).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){s9(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let i=0;i<e.length;i++)this.allowsMarkType(e[i].type)?n&&n.push(e[i]):n||(n=e.slice(0,i));return n?n.length?n:st.none:e}static compile(e,n){let i=Object.create(null);e.forEach((o,l)=>i[o]=new a9(o,n,l));let r=n.spec.topNode||"doc";if(!i[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!i.text)throw new RangeError("Every schema needs a 'text' type");for(let o in i.text.attrs)throw new RangeError("The text node type should not have attributes");return i}};function HM(t,e,n){let i=n.split("|");return r=>{let o=r===null?"null":typeof r;if(i.indexOf(o)<0)throw new RangeError(`Expected value of type ${i} for attribute ${e} on type ${t}, got ${o}`)}}class IM{constructor(e,n,i){this.hasDefault=Object.prototype.hasOwnProperty.call(i,"default"),this.default=i.default,this.validate=typeof i.validate=="string"?HM(e,n,i.validate):i.validate}get isRequired(){return!this.hasDefault}}class Nh{constructor(e,n,i,r){this.name=e,this.rank=n,this.schema=i,this.spec=r,this.attrs=l9(e,r.attrs),this.excluded=null;let o=r9(this.attrs);this.instance=o?new st(this,o):null}create(e=null){return!e&&this.instance?this.instance:new st(this,o9(this.attrs,e))}static compile(e,n){let i=Object.create(null),r=0;return e.forEach((o,l)=>i[o]=new Nh(o,r++,n,l)),i}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){s9(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class c9{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let r in e)n[r]=e[r];n.nodes=nn.from(e.nodes),n.marks=nn.from(e.marks||{}),this.nodes=Fv.compile(this.spec.nodes,this),this.marks=Nh.compile(this.spec.marks,this);let i=Object.create(null);for(let r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");let o=this.nodes[r],l=o.spec.content||"",c=o.spec.marks;if(o.contentMatch=i[l]||(i[l]=Ms.parse(l,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=c=="_"?null:c?qv(this,c.split(" ")):c==""||!o.inlineContent?[]:null}for(let r in this.marks){let o=this.marks[r],l=o.spec.excludes;o.excluded=l==null?[o]:l==""?[]:qv(this,l.split(" "))}this.nodeFromJSON=r=>Oi.fromJSON(this,r),this.markFromJSON=r=>st.fromJSON(this,r),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,i,r){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Fv){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,i,r)}text(e,n){let i=this.nodes.text;return new kd(i,i.defaultAttrs,e,st.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function qv(t,e){let n=[];for(let i=0;i<e.length;i++){let r=e[i],o=t.marks[r],l=o;if(o)n.push(o);else for(let c in t.marks){let f=t.marks[c];(r=="_"||f.spec.group&&f.spec.group.split(" ").indexOf(r)>-1)&&n.push(l=f)}if(!l)throw new SyntaxError("Unknown mark type: '"+e[i]+"'")}return n}function zM(t){return t.tag!=null}function BM(t){return t.style!=null}let xc=class Bg{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let i=this.matchedStyles=[];n.forEach(r=>{if(zM(r))this.tags.push(r);else if(BM(r)){let o=/[^=]*/.exec(r.style)[0];i.indexOf(o)<0&&i.push(o),this.styles.push(r)}}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let o=e.nodes[r.node];return o.contentMatch.matchType(o)})}parse(e,n={}){let i=new Kv(this,n,!1);return i.addAll(e,st.none,n.from,n.to),i.finish()}parseSlice(e,n={}){let i=new Kv(this,n,!0);return i.addAll(e,st.none,n.from,n.to),se.maxOpen(i.finish())}matchTag(e,n,i){for(let r=i?this.tags.indexOf(i)+1:0;r<this.tags.length;r++){let o=this.tags[r];if(UM(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){let l=o.getAttrs(e);if(l===!1)continue;o.attrs=l||void 0}return o}}}matchStyle(e,n,i,r){for(let o=r?this.styles.indexOf(r)+1:0;o<this.styles.length;o++){let l=this.styles[o],c=l.style;if(!(c.indexOf(e)!=0||l.context&&!i.matchesContext(l.context)||c.length>e.length&&(c.charCodeAt(e.length)!=61||c.slice(e.length+1)!=n))){if(l.getAttrs){let f=l.getAttrs(n);if(f===!1)continue;l.attrs=f||void 0}return l}}}static schemaRules(e){let n=[];function i(r){let o=r.priority==null?50:r.priority,l=0;for(;l<n.length;l++){let c=n[l];if((c.priority==null?50:c.priority)<o)break}n.splice(l,0,r)}for(let r in e.marks){let o=e.marks[r].spec.parseDOM;o&&o.forEach(l=>{i(l=Zv(l)),l.mark||l.ignore||l.clearMark||(l.mark=r)})}for(let r in e.nodes){let o=e.nodes[r].spec.parseDOM;o&&o.forEach(l=>{i(l=Zv(l)),l.node||l.ignore||l.mark||(l.node=r)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Bg(e,Bg.schemaRules(e)))}};const u9={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},VM={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},f9={ol:!0,ul:!0},zc=1,Vg=2,Sc=4;function $v(t,e,n){return e!=null?(e?zc:0)|(e==="full"?Vg:0):t&&t.whitespace=="pre"?zc|Vg:n&~Sc}class If{constructor(e,n,i,r,o,l){this.type=e,this.attrs=n,this.marks=i,this.solid=r,this.options=l,this.content=[],this.activeMarks=st.none,this.match=o||(l&Sc?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(W.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let i=this.type.contentMatch,r;return(r=i.findWrapping(e.type))?(this.match=i,r):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&zc)){let i=this.content[this.content.length-1],r;if(i&&i.isText&&(r=/[ \t\r\n\u000c]+$/.exec(i.text))){let o=i;i.text.length==r[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-r[0].length))}}let n=W.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(W.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!u9.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class Kv{constructor(e,n,i){this.parser=e,this.options=n,this.isOpen=i,this.open=0,this.localPreserveWS=!1;let r=n.topNode,o,l=$v(null,n.preserveWhitespace,0)|(i?Sc:0);r?o=new If(r.type,r.attrs,st.none,!0,n.topMatch||r.type.contentMatch,l):i?o=new If(null,null,st.none,!0,null,l):o=new If(e.schema.topNodeType,null,st.none,!0,null,l),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let i=e.nodeValue,r=this.top,o=r.options&Vg?"full":this.localPreserveWS||(r.options&zc)>0;if(o==="full"||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(i)){if(o)o!=="full"?i=i.replace(/\r?\n|\r/g," "):i=i.replace(/\r\n?/g,`
`);else if(i=i.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(i)&&this.open==this.nodes.length-1){let l=r.content[r.content.length-1],c=e.previousSibling;(!l||c&&c.nodeName=="BR"||l.isText&&/[ \t\r\n\u000c]$/.test(l.text))&&(i=i.slice(1))}i&&this.insertNode(this.parser.schema.text(i),n,!/\S/.test(i)),this.findInText(e)}else this.findInside(e)}addElement(e,n,i){let r=this.localPreserveWS,o=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let l=e.nodeName.toLowerCase(),c;f9.hasOwnProperty(l)&&this.parser.normalizeLists&&jM(e);let f=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(c=this.parser.matchTag(e,this,i));e:if(f?f.ignore:VM.hasOwnProperty(l))this.findInside(e),this.ignoreFallback(e,n);else if(!f||f.skip||f.closeParent){f&&f.closeParent?this.open=Math.max(0,this.open-1):f&&f.skip.nodeType&&(e=f.skip);let d,p=this.needsBlock;if(u9.hasOwnProperty(l))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),d=!0,o.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let m=f&&f.skip?n:this.readStyles(e,n);m&&this.addAll(e,m),d&&this.sync(o),this.needsBlock=p}else{let d=this.readStyles(e,n);d&&this.addElementByRule(e,f,d,f.consuming===!1?c:void 0)}this.localPreserveWS=r}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let i=e.style;if(i&&i.length)for(let r=0;r<this.parser.matchedStyles.length;r++){let o=this.parser.matchedStyles[r],l=i.getPropertyValue(o);if(l)for(let c=void 0;;){let f=this.parser.matchStyle(o,l,this,c);if(!f)break;if(f.ignore)return null;if(f.clearMark?n=n.filter(d=>!f.clearMark(d)):n=n.concat(this.parser.schema.marks[f.mark].create(f.attrs)),f.consuming===!1)c=f;else break}}return n}addElementByRule(e,n,i,r){let o,l;if(n.node)if(l=this.parser.schema.nodes[n.node],l.isLeaf)this.insertNode(l.create(n.attrs),i,e.nodeName=="BR")||this.leafFallback(e,i);else{let f=this.enter(l,n.attrs||null,i,n.preserveWhitespace);f&&(o=!0,i=f)}else{let f=this.parser.schema.marks[n.mark];i=i.concat(f.create(n.attrs))}let c=this.top;if(l&&l.isLeaf)this.findInside(e);else if(r)this.addElement(e,i,r);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(f=>this.insertNode(f,i,!1));else{let f=e;typeof n.contentElement=="string"?f=e.querySelector(n.contentElement):typeof n.contentElement=="function"?f=n.contentElement(e):n.contentElement&&(f=n.contentElement),this.findAround(e,f,!0),this.addAll(f,i),this.findAround(e,f,!1)}o&&this.sync(c)&&this.open--}addAll(e,n,i,r){let o=i||0;for(let l=i?e.childNodes[i]:e.firstChild,c=r==null?null:e.childNodes[r];l!=c;l=l.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(l,n);this.findAtPoint(e,o)}findPlace(e,n,i){let r,o;for(let l=this.open,c=0;l>=0;l--){let f=this.nodes[l],d=f.findWrapping(e);if(d&&(!r||r.length>d.length+c)&&(r=d,o=f,!d.length))break;if(f.solid){if(i)break;c+=2}}if(!r)return null;this.sync(o);for(let l=0;l<r.length;l++)n=this.enterInner(r[l],null,n,!1);return n}insertNode(e,n,i){if(e.isInline&&this.needsBlock&&!this.top.type){let o=this.textblockFromContext();o&&(n=this.enterInner(o,null,n))}let r=this.findPlace(e,n,i);if(r){this.closeExtra();let o=this.top;o.match&&(o.match=o.match.matchType(e.type));let l=st.none;for(let c of r.concat(e.marks))(o.type?o.type.allowsMarkType(c.type):Yv(c.type,e.type))&&(l=c.addToSet(l));return o.content.push(e.mark(l)),!0}return!1}enter(e,n,i,r){let o=this.findPlace(e.create(n),i,!1);return o&&(o=this.enterInner(e,n,i,!0,r)),o}enterInner(e,n,i,r=!1,o){this.closeExtra();let l=this.top;l.match=l.match&&l.match.matchType(e);let c=$v(e,o,l.options);l.options&Sc&&l.content.length==0&&(c|=Sc);let f=st.none;return i=i.filter(d=>(l.type?l.type.allowsMarkType(d.type):Yv(d.type,e))?(f=d.addToSet(f),!1):!0),this.nodes.push(new If(e,n,f,r,null,c)),this.open++,i}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=zc)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let i=this.nodes[n].content;for(let r=i.length-1;r>=0;r--)e+=i[r].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let i=0;i<this.find.length;i++)this.find[i].node==e&&this.find[i].offset==n&&(this.find[i].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,i){if(e!=n&&this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&e.nodeType==1&&e.contains(this.find[r].node)&&n.compareDocumentPosition(this.find[r].node)&(i?2:4)&&(this.find[r].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),i=this.options.context,r=!this.isOpen&&(!i||i.parent.type==this.nodes[0].type),o=-(i?i.depth+1:0)+(r?0:1),l=(c,f)=>{for(;c>=0;c--){let d=n[c];if(d==""){if(c==n.length-1||c==0)continue;for(;f>=o;f--)if(l(c-1,f))return!0;return!1}else{let p=f>0||f==0&&r?this.nodes[f].type:i&&f>=o?i.node(f-o).type:null;if(!p||p.name!=d&&!p.isInGroup(d))return!1;f--}}return!0};return l(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(i&&i.isTextblock&&i.defaultAttrs)return i}for(let n in this.parser.schema.nodes){let i=this.parser.schema.nodes[n];if(i.isTextblock&&i.defaultAttrs)return i}}}function jM(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let i=e.nodeType==1?e.nodeName.toLowerCase():null;i&&f9.hasOwnProperty(i)&&n?(n.appendChild(e),e=n):i=="li"?n=e:i&&(n=null)}}function UM(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function Zv(t){let e={};for(let n in t)e[n]=t[n];return e}function Yv(t,e){let n=e.schema.nodes;for(let i in n){let r=n[i];if(!r.allowsMarkType(t))continue;let o=[],l=c=>{o.push(c);for(let f=0;f<c.edgeCount;f++){let{type:d,next:p}=c.edge(f);if(d==e||o.indexOf(p)<0&&l(p))return!0}};if(l(r.contentMatch))return!0}}class Bs{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},i){i||(i=Hm(n).createDocumentFragment());let r=i,o=[];return e.forEach(l=>{if(o.length||l.marks.length){let c=0,f=0;for(;c<o.length&&f<l.marks.length;){let d=l.marks[f];if(!this.marks[d.type.name]){f++;continue}if(!d.eq(o[c][0])||d.type.spec.spanning===!1)break;c++,f++}for(;c<o.length;)r=o.pop()[1];for(;f<l.marks.length;){let d=l.marks[f++],p=this.serializeMark(d,l.isInline,n);p&&(o.push([d,r]),r.appendChild(p.dom),r=p.contentDOM||p.dom)}}r.appendChild(this.serializeNodeInner(l,n))}),i}serializeNodeInner(e,n){let{dom:i,contentDOM:r}=cd(Hm(n),this.nodes[e.type.name](e),null,e.attrs);if(r){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,r)}return i}serializeNode(e,n={}){let i=this.serializeNodeInner(e,n);for(let r=e.marks.length-1;r>=0;r--){let o=this.serializeMark(e.marks[r],e.isInline,n);o&&((o.contentDOM||o.dom).appendChild(i),i=o.dom)}return i}serializeMark(e,n,i={}){let r=this.marks[e.type.name];return r&&cd(Hm(i),r(e,n),null,e.attrs)}static renderSpec(e,n,i=null,r){return cd(e,n,i,r)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Bs(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=Gv(e.nodes);return n.text||(n.text=i=>i.text),n}static marksFromSchema(e){return Gv(e.marks)}}function Gv(t){let e={};for(let n in t){let i=t[n].spec.toDOM;i&&(e[n]=i)}return e}function Hm(t){return t.document||window.document}const Xv=new WeakMap;function PM(t){let e=Xv.get(t);return e===void 0&&Xv.set(t,e=FM(t)),e}function FM(t){let e=null;function n(i){if(i&&typeof i=="object")if(Array.isArray(i))if(typeof i[0]=="string")e||(e=[]),e.push(i);else for(let r=0;r<i.length;r++)n(i[r]);else for(let r in i)n(i[r])}return n(t),e}function cd(t,e,n,i){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let r=e[0],o;if(typeof r!="string")throw new RangeError("Invalid array passed to renderSpec");if(i&&(o=PM(i))&&o.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let l=r.indexOf(" ");l>0&&(n=r.slice(0,l),r=r.slice(l+1));let c,f=n?t.createElementNS(n,r):t.createElement(r),d=e[1],p=1;if(d&&typeof d=="object"&&d.nodeType==null&&!Array.isArray(d)){p=2;for(let m in d)if(d[m]!=null){let y=m.indexOf(" ");y>0?f.setAttributeNS(m.slice(0,y),m.slice(y+1),d[m]):m=="style"&&f.style?f.style.cssText=d[m]:f.setAttribute(m,d[m])}}for(let m=p;m<e.length;m++){let y=e[m];if(y===0){if(m<e.length-1||m>p)throw new RangeError("Content hole must be the only child of its parent node");return{dom:f,contentDOM:f}}else{let{dom:b,contentDOM:C}=cd(t,y,n,i);if(f.appendChild(b),C){if(c)throw new RangeError("Multiple content holes");c=C}}}return{dom:f,contentDOM:c}}const d9=65535,h9=Math.pow(2,16);function qM(t,e){return t+e*h9}function Wv(t){return t&d9}function $M(t){return(t-(t&d9))/h9}const p9=1,m9=2,ud=4,g9=8;class jg{constructor(e,n,i){this.pos=e,this.delInfo=n,this.recover=i}get deleted(){return(this.delInfo&g9)>0}get deletedBefore(){return(this.delInfo&(p9|ud))>0}get deletedAfter(){return(this.delInfo&(m9|ud))>0}get deletedAcross(){return(this.delInfo&ud)>0}}class ei{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&ei.empty)return ei.empty}recover(e){let n=0,i=Wv(e);if(!this.inverted)for(let r=0;r<i;r++)n+=this.ranges[r*3+2]-this.ranges[r*3+1];return this.ranges[i*3]+n+$M(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,i){let r=0,o=this.inverted?2:1,l=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let f=this.ranges[c]-(this.inverted?r:0);if(f>e)break;let d=this.ranges[c+o],p=this.ranges[c+l],m=f+d;if(e<=m){let y=d?e==f?-1:e==m?1:n:n,b=f+r+(y<0?0:p);if(i)return b;let C=e==(n<0?f:m)?null:qM(c/3,e-f),w=e==f?m9:e==m?p9:ud;return(n<0?e!=f:e!=m)&&(w|=g9),new jg(b,w,C)}r+=p-d}return i?e+r:new jg(e+r,0,null)}touches(e,n){let i=0,r=Wv(n),o=this.inverted?2:1,l=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let f=this.ranges[c]-(this.inverted?i:0);if(f>e)break;let d=this.ranges[c+o],p=f+d;if(e<=p&&c==r*3)return!0;i+=this.ranges[c+l]-d}return!1}forEach(e){let n=this.inverted?2:1,i=this.inverted?1:2;for(let r=0,o=0;r<this.ranges.length;r+=3){let l=this.ranges[r],c=l-(this.inverted?o:0),f=l+(this.inverted?0:o),d=this.ranges[r+n],p=this.ranges[r+i];e(c,c+d,f,f+p),o+=p-d}}invert(){return new ei(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?ei.empty:new ei(e<0?[0,-e,0]:[0,0,e])}}ei.empty=new ei([]);class Bc{constructor(e,n,i=0,r=e?e.length:0){this.mirror=n,this.from=i,this.to=r,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new Bc(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,i=this._maps.length;n<e._maps.length;n++){let r=e.getMirror(n);this.appendMap(e._maps[n],r!=null&&r<n?i+r:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,i=this._maps.length+e._maps.length;n>=0;n--){let r=e.getMirror(n);this.appendMap(e._maps[n].invert(),r!=null&&r>n?i-r-1:void 0)}}invert(){let e=new Bc;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let i=this.from;i<this.to;i++)e=this._maps[i].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,i){let r=0;for(let o=this.from;o<this.to;o++){let l=this._maps[o],c=l.mapResult(e,n);if(c.recover!=null){let f=this.getMirror(o);if(f!=null&&f>o&&f<this.to){o=f,e=this._maps[f].recover(c.recover);continue}}r|=c.delInfo,e=c.pos}return i?e:new jg(e,r,null)}}const Im=Object.create(null);class wn{getMap(){return ei.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let i=Im[n.stepType];if(!i)throw new RangeError(`No step type ${n.stepType} defined`);return i.fromJSON(e,n)}static jsonID(e,n){if(e in Im)throw new RangeError("Duplicate use of step JSON ID "+e);return Im[e]=n,n.prototype.jsonID=e,n}}class Ht{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new Ht(e,null)}static fail(e){return new Ht(null,e)}static fromReplace(e,n,i,r){try{return Ht.ok(e.replace(n,i,r))}catch(o){if(o instanceof Ed)return Ht.fail(o.message);throw o}}}function X0(t,e,n){let i=[];for(let r=0;r<t.childCount;r++){let o=t.child(r);o.content.size&&(o=o.copy(X0(o.content,e,o))),o.isInline&&(o=e(o,n,r)),i.push(o)}return W.fromArray(i)}class To extends wn{constructor(e,n,i){super(),this.from=e,this.to=n,this.mark=i}apply(e){let n=e.slice(this.from,this.to),i=e.resolve(this.from),r=i.node(i.sharedDepth(this.to)),o=new se(X0(n.content,(l,c)=>!l.isAtom||!c.type.allowsMarkType(this.mark.type)?l:l.mark(this.mark.addToSet(l.marks)),r),n.openStart,n.openEnd);return Ht.fromReplace(e,this.from,this.to,o)}invert(){return new ki(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return n.deleted&&i.deleted||n.pos>=i.pos?null:new To(n.pos,i.pos,this.mark)}merge(e){return e instanceof To&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new To(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new To(n.from,n.to,e.markFromJSON(n.mark))}}wn.jsonID("addMark",To);class ki extends wn{constructor(e,n,i){super(),this.from=e,this.to=n,this.mark=i}apply(e){let n=e.slice(this.from,this.to),i=new se(X0(n.content,r=>r.mark(this.mark.removeFromSet(r.marks)),e),n.openStart,n.openEnd);return Ht.fromReplace(e,this.from,this.to,i)}invert(){return new To(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return n.deleted&&i.deleted||n.pos>=i.pos?null:new ki(n.pos,i.pos,this.mark)}merge(e){return e instanceof ki&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new ki(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new ki(n.from,n.to,e.markFromJSON(n.mark))}}wn.jsonID("removeMark",ki);class Eo extends wn{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Ht.fail("No node at mark step's position");let i=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Ht.fromReplace(e,this.pos,this.pos+1,new se(W.from(i),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let i=this.mark.addToSet(n.marks);if(i.length==n.marks.length){for(let r=0;r<n.marks.length;r++)if(!n.marks[r].isInSet(i))return new Eo(this.pos,n.marks[r]);return new Eo(this.pos,this.mark)}}return new ks(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Eo(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Eo(n.pos,e.markFromJSON(n.mark))}}wn.jsonID("addNodeMark",Eo);class ks extends wn{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Ht.fail("No node at mark step's position");let i=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Ht.fromReplace(e,this.pos,this.pos+1,new se(W.from(i),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Eo(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new ks(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new ks(n.pos,e.markFromJSON(n.mark))}}wn.jsonID("removeNodeMark",ks);class Yt extends wn{constructor(e,n,i,r=!1){super(),this.from=e,this.to=n,this.slice=i,this.structure=r}apply(e){return this.structure&&Ug(e,this.from,this.to)?Ht.fail("Structure replace would overwrite content"):Ht.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new ei([this.from,this.to-this.from,this.slice.size])}invert(e){return new Yt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return n.deletedAcross&&i.deletedAcross?null:new Yt(n.pos,Math.max(n.pos,i.pos),this.slice,this.structure)}merge(e){if(!(e instanceof Yt)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?se.empty:new se(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Yt(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?se.empty:new se(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Yt(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Yt(n.from,n.to,se.fromJSON(e,n.slice),!!n.structure)}}wn.jsonID("replace",Yt);class Gt extends wn{constructor(e,n,i,r,o,l,c=!1){super(),this.from=e,this.to=n,this.gapFrom=i,this.gapTo=r,this.slice=o,this.insert=l,this.structure=c}apply(e){if(this.structure&&(Ug(e,this.from,this.gapFrom)||Ug(e,this.gapTo,this.to)))return Ht.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Ht.fail("Gap is not a flat range");let i=this.slice.insertAt(this.insert,n.content);return i?Ht.fromReplace(e,this.from,this.to,i):Ht.fail("Content does not fit in gap")}getMap(){return new ei([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Gt(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1),r=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),o=this.to==this.gapTo?i.pos:e.map(this.gapTo,1);return n.deletedAcross&&i.deletedAcross||r<n.pos||o>i.pos?null:new Gt(n.pos,i.pos,r,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Gt(n.from,n.to,n.gapFrom,n.gapTo,se.fromJSON(e,n.slice),n.insert,!!n.structure)}}wn.jsonID("replaceAround",Gt);function Ug(t,e,n){let i=t.resolve(e),r=n-e,o=i.depth;for(;r>0&&o>0&&i.indexAfter(o)==i.node(o).childCount;)o--,r--;if(r>0){let l=i.node(o).maybeChild(i.indexAfter(o));for(;r>0;){if(!l||l.isLeaf)return!0;l=l.firstChild,r--}}return!1}function KM(t,e,n,i){let r=[],o=[],l,c;t.doc.nodesBetween(e,n,(f,d,p)=>{if(!f.isInline)return;let m=f.marks;if(!i.isInSet(m)&&p.type.allowsMarkType(i.type)){let y=Math.max(d,e),b=Math.min(d+f.nodeSize,n),C=i.addToSet(m);for(let w=0;w<m.length;w++)m[w].isInSet(C)||(l&&l.to==y&&l.mark.eq(m[w])?l.to=b:r.push(l=new ki(y,b,m[w])));c&&c.to==y?c.to=b:o.push(c=new To(y,b,i))}}),r.forEach(f=>t.step(f)),o.forEach(f=>t.step(f))}function ZM(t,e,n,i){let r=[],o=0;t.doc.nodesBetween(e,n,(l,c)=>{if(!l.isInline)return;o++;let f=null;if(i instanceof Nh){let d=l.marks,p;for(;p=i.isInSet(d);)(f||(f=[])).push(p),d=p.removeFromSet(d)}else i?i.isInSet(l.marks)&&(f=[i]):f=l.marks;if(f&&f.length){let d=Math.min(c+l.nodeSize,n);for(let p=0;p<f.length;p++){let m=f[p],y;for(let b=0;b<r.length;b++){let C=r[b];C.step==o-1&&m.eq(r[b].style)&&(y=C)}y?(y.to=d,y.step=o):r.push({style:m,from:Math.max(c,e),to:d,step:o})}}}),r.forEach(l=>t.step(new ki(l.from,l.to,l.style)))}function W0(t,e,n,i=n.contentMatch,r=!0){let o=t.doc.nodeAt(e),l=[],c=e+1;for(let f=0;f<o.childCount;f++){let d=o.child(f),p=c+d.nodeSize,m=i.matchType(d.type);if(!m)l.push(new Yt(c,p,se.empty));else{i=m;for(let y=0;y<d.marks.length;y++)n.allowsMarkType(d.marks[y].type)||t.step(new ki(c,p,d.marks[y]));if(r&&d.isText&&n.whitespace!="pre"){let y,b=/\r?\n|\r/g,C;for(;y=b.exec(d.text);)C||(C=new se(W.from(n.schema.text(" ",n.allowedMarks(d.marks))),0,0)),l.push(new Yt(c+y.index,c+y.index+y[0].length,C))}}c=p}if(!i.validEnd){let f=i.fillBefore(W.empty,!0);t.replace(c,c,new se(f,0,0))}for(let f=l.length-1;f>=0;f--)t.step(l[f])}function YM(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function ua(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let i=t.depth;;--i){let r=t.$from.node(i),o=t.$from.index(i),l=t.$to.indexAfter(i);if(i<t.depth&&r.canReplace(o,l,n))return i;if(i==0||r.type.spec.isolating||!YM(r,o,l))break}return null}function GM(t,e,n){let{$from:i,$to:r,depth:o}=e,l=i.before(o+1),c=r.after(o+1),f=l,d=c,p=W.empty,m=0;for(let C=o,w=!1;C>n;C--)w||i.index(C)>0?(w=!0,p=W.from(i.node(C).copy(p)),m++):f--;let y=W.empty,b=0;for(let C=o,w=!1;C>n;C--)w||r.after(C+1)<r.end(C)?(w=!0,y=W.from(r.node(C).copy(y)),b++):d++;t.step(new Gt(f,d,l,c,new se(p.append(y),m,b),p.size-m,!0))}function J0(t,e,n=null,i=t){let r=XM(t,e),o=r&&WM(i,e);return o?r.map(Jv).concat({type:e,attrs:n}).concat(o.map(Jv)):null}function Jv(t){return{type:t,attrs:null}}function XM(t,e){let{parent:n,startIndex:i,endIndex:r}=t,o=n.contentMatchAt(i).findWrapping(e);if(!o)return null;let l=o.length?o[0]:e;return n.canReplaceWith(i,r,l)?o:null}function WM(t,e){let{parent:n,startIndex:i,endIndex:r}=t,o=n.child(i),l=e.contentMatch.findWrapping(o.type);if(!l)return null;let f=(l.length?l[l.length-1]:e).contentMatch;for(let d=i;f&&d<r;d++)f=f.matchType(n.child(d).type);return!f||!f.validEnd?null:l}function JM(t,e,n){let i=W.empty;for(let l=n.length-1;l>=0;l--){if(i.size){let c=n[l].type.contentMatch.matchFragment(i);if(!c||!c.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}i=W.from(n[l].type.create(n[l].attrs,i))}let r=e.start,o=e.end;t.step(new Gt(r,o,r,o,new se(i,0,0),n.length,!0))}function QM(t,e,n,i,r){if(!i.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=t.steps.length;t.doc.nodesBetween(e,n,(l,c)=>{let f=typeof r=="function"?r(l):r;if(l.isTextblock&&!l.hasMarkup(i,f)&&ek(t.doc,t.mapping.slice(o).map(c),i)){let d=null;if(i.schema.linebreakReplacement){let b=i.whitespace=="pre",C=!!i.contentMatch.matchType(i.schema.linebreakReplacement);b&&!C?d=!1:!b&&C&&(d=!0)}d===!1&&b9(t,l,c,o),W0(t,t.mapping.slice(o).map(c,1),i,void 0,d===null);let p=t.mapping.slice(o),m=p.map(c,1),y=p.map(c+l.nodeSize,1);return t.step(new Gt(m,y,m+1,y-1,new se(W.from(i.create(f,null,l.marks)),0,0),1,!0)),d===!0&&y9(t,l,c,o),!1}})}function y9(t,e,n,i){e.forEach((r,o)=>{if(r.isText){let l,c=/\r?\n|\r/g;for(;l=c.exec(r.text);){let f=t.mapping.slice(i).map(n+1+o+l.index);t.replaceWith(f,f+1,e.type.schema.linebreakReplacement.create())}}})}function b9(t,e,n,i){e.forEach((r,o)=>{if(r.type==r.type.schema.linebreakReplacement){let l=t.mapping.slice(i).map(n+1+o);t.replaceWith(l,l+1,e.type.schema.text(`
`))}})}function ek(t,e,n){let i=t.resolve(e),r=i.index();return i.parent.canReplaceWith(r,r+1,n)}function tk(t,e,n,i,r){let o=t.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let l=n.create(i,null,r||o.marks);if(o.isLeaf)return t.replaceWith(e,e+o.nodeSize,l);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Gt(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new se(W.from(l),0,0),1,!0))}function Lr(t,e,n=1,i){let r=t.resolve(e),o=r.depth-n,l=i&&i[i.length-1]||r.parent;if(o<0||r.parent.type.spec.isolating||!r.parent.canReplace(r.index(),r.parent.childCount)||!l.type.validContent(r.parent.content.cutByIndex(r.index(),r.parent.childCount)))return!1;for(let d=r.depth-1,p=n-2;d>o;d--,p--){let m=r.node(d),y=r.index(d);if(m.type.spec.isolating)return!1;let b=m.content.cutByIndex(y,m.childCount),C=i&&i[p+1];C&&(b=b.replaceChild(0,C.type.create(C.attrs)));let w=i&&i[p]||m;if(!m.canReplace(y+1,m.childCount)||!w.type.validContent(b))return!1}let c=r.indexAfter(o),f=i&&i[0];return r.node(o).canReplaceWith(c,c,f?f.type:r.node(o+1).type)}function nk(t,e,n=1,i){let r=t.doc.resolve(e),o=W.empty,l=W.empty;for(let c=r.depth,f=r.depth-n,d=n-1;c>f;c--,d--){o=W.from(r.node(c).copy(o));let p=i&&i[d];l=W.from(p?p.type.create(p.attrs,l):r.node(c).copy(l))}t.step(new Yt(e,e,new se(o.append(l),n,n),!0))}function Vo(t,e){let n=t.resolve(e),i=n.index();return v9(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(i,i+1)}function ik(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:i}=t.type.schema;for(let r=0;r<e.childCount;r++){let o=e.child(r),l=o.type==i?t.type.schema.nodes.text:o.type;if(n=n.matchType(l),!n||!t.type.allowsMarks(o.marks))return!1}return n.validEnd}function v9(t,e){return!!(t&&e&&!t.isLeaf&&ik(t,e))}function Dh(t,e,n=-1){let i=t.resolve(e);for(let r=i.depth;;r--){let o,l,c=i.index(r);if(r==i.depth?(o=i.nodeBefore,l=i.nodeAfter):n>0?(o=i.node(r+1),c++,l=i.node(r).maybeChild(c)):(o=i.node(r).maybeChild(c-1),l=i.node(r+1)),o&&!o.isTextblock&&v9(o,l)&&i.node(r).canReplace(c,c+1))return e;if(r==0)break;e=n<0?i.before(r):i.after(r)}}function rk(t,e,n){let i=null,{linebreakReplacement:r}=t.doc.type.schema,o=t.doc.resolve(e-n),l=o.node().type;if(r&&l.inlineContent){let p=l.whitespace=="pre",m=!!l.contentMatch.matchType(r);p&&!m?i=!1:!p&&m&&(i=!0)}let c=t.steps.length;if(i===!1){let p=t.doc.resolve(e+n);b9(t,p.node(),p.before(),c)}l.inlineContent&&W0(t,e+n-1,l,o.node().contentMatchAt(o.index()),i==null);let f=t.mapping.slice(c),d=f.map(e-n);if(t.step(new Yt(d,f.map(e+n,-1),se.empty,!0)),i===!0){let p=t.doc.resolve(d);y9(t,p.node(),p.before(),t.steps.length)}return t}function ok(t,e,n){let i=t.resolve(e);if(i.parent.canReplaceWith(i.index(),i.index(),n))return e;if(i.parentOffset==0)for(let r=i.depth-1;r>=0;r--){let o=i.index(r);if(i.node(r).canReplaceWith(o,o,n))return i.before(r+1);if(o>0)return null}if(i.parentOffset==i.parent.content.size)for(let r=i.depth-1;r>=0;r--){let o=i.indexAfter(r);if(i.node(r).canReplaceWith(o,o,n))return i.after(r+1);if(o<i.node(r).childCount)return null}return null}function C9(t,e,n){let i=t.resolve(e);if(!n.content.size)return e;let r=n.content;for(let o=0;o<n.openStart;o++)r=r.firstChild.content;for(let o=1;o<=(n.openStart==0&&n.size?2:1);o++)for(let l=i.depth;l>=0;l--){let c=l==i.depth?0:i.pos<=(i.start(l+1)+i.end(l+1))/2?-1:1,f=i.index(l)+(c>0?1:0),d=i.node(l),p=!1;if(o==1)p=d.canReplace(f,f,r);else{let m=d.contentMatchAt(f).findWrapping(r.firstChild.type);p=m&&d.canReplaceWith(f,f,m[0])}if(p)return c==0?i.pos:c<0?i.before(l+1):i.after(l+1)}return null}function Lh(t,e,n=e,i=se.empty){if(e==n&&!i.size)return null;let r=t.resolve(e),o=t.resolve(n);return w9(r,o,i)?new Yt(e,n,i):new sk(r,o,i).fit()}function w9(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class sk{constructor(e,n,i){this.$from=e,this.$to=n,this.unplaced=i,this.frontier=[],this.placed=W.empty;for(let r=0;r<=e.depth;r++){let o=e.node(r);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(r))})}for(let r=e.depth;r>0;r--)this.placed=W.from(e.node(r).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let d=this.findFittable();d?this.placeNodes(d):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,i=this.$from,r=this.close(e<0?this.$to:i.doc.resolve(e));if(!r)return null;let o=this.placed,l=i.depth,c=r.depth;for(;l&&c&&o.childCount==1;)o=o.firstChild.content,l--,c--;let f=new se(o,l,c);return e>-1?new Gt(i.pos,e,this.$to.pos,this.$to.end(),f,n):f.size||i.pos!=this.$to.pos?new Yt(i.pos,r.pos,f):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,i=0,r=this.unplaced.openEnd;i<e;i++){let o=n.firstChild;if(n.childCount>1&&(r=0),o.type.spec.isolating&&r<=i){e=i;break}n=o.content}for(let n=1;n<=2;n++)for(let i=n==1?e:this.unplaced.openStart;i>=0;i--){let r,o=null;i?(o=zm(this.unplaced.content,i-1).firstChild,r=o.content):r=this.unplaced.content;let l=r.firstChild;for(let c=this.depth;c>=0;c--){let{type:f,match:d}=this.frontier[c],p,m=null;if(n==1&&(l?d.matchType(l.type)||(m=d.fillBefore(W.from(l),!1)):o&&f.compatibleContent(o.type)))return{sliceDepth:i,frontierDepth:c,parent:o,inject:m};if(n==2&&l&&(p=d.findWrapping(l.type)))return{sliceDepth:i,frontierDepth:c,parent:o,wrap:p};if(o&&d.matchType(o.type))break}}}openMore(){let{content:e,openStart:n,openEnd:i}=this.unplaced,r=zm(e,n);return!r.childCount||r.firstChild.isLeaf?!1:(this.unplaced=new se(e,n+1,Math.max(i,r.size+n>=e.size-i?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:i}=this.unplaced,r=zm(e,n);if(r.childCount<=1&&n>0){let o=e.size-n<=n+r.size;this.unplaced=new se(yc(e,n-1,1),n-1,o?n-1:i)}else this.unplaced=new se(yc(e,n,1),n,i)}placeNodes({sliceDepth:e,frontierDepth:n,parent:i,inject:r,wrap:o}){for(;this.depth>n;)this.closeFrontierNode();if(o)for(let w=0;w<o.length;w++)this.openFrontierNode(o[w]);let l=this.unplaced,c=i?i.content:l.content,f=l.openStart-e,d=0,p=[],{match:m,type:y}=this.frontier[n];if(r){for(let w=0;w<r.childCount;w++)p.push(r.child(w));m=m.matchFragment(r)}let b=c.size+e-(l.content.size-l.openEnd);for(;d<c.childCount;){let w=c.child(d),x=m.matchType(w.type);if(!x)break;d++,(d>1||f==0||w.content.size)&&(m=x,p.push(x9(w.mark(y.allowedMarks(w.marks)),d==1?f:0,d==c.childCount?b:-1)))}let C=d==c.childCount;C||(b=-1),this.placed=bc(this.placed,n,W.from(p)),this.frontier[n].match=m,C&&b<0&&i&&i.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let w=0,x=c;w<b;w++){let E=x.lastChild;this.frontier.push({type:E.type,match:E.contentMatchAt(E.childCount)}),x=E.content}this.unplaced=C?e==0?se.empty:new se(yc(l.content,e-1,1),e-1,b<0?l.openEnd:e-1):new se(yc(l.content,e,d),l.openStart,l.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!Bm(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:i}=this.$to,r=this.$to.after(i);for(;i>1&&r==this.$to.end(--i);)++r;return r}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:i,type:r}=this.frontier[n],o=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),l=Bm(e,n,r,i,o);if(l){for(let c=n-1;c>=0;c--){let{match:f,type:d}=this.frontier[c],p=Bm(e,c,d,f,!0);if(!p||p.childCount)continue e}return{depth:n,fit:l,move:o?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=bc(this.placed,n.depth,n.fit)),e=n.move;for(let i=n.depth+1;i<=e.depth;i++){let r=e.node(i),o=r.type.contentMatch.fillBefore(r.content,!0,e.index(i));this.openFrontierNode(r.type,r.attrs,o)}return e}openFrontierNode(e,n=null,i){let r=this.frontier[this.depth];r.match=r.match.matchType(e),this.placed=bc(this.placed,this.depth,W.from(e.create(n,i))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(W.empty,!0);n.childCount&&(this.placed=bc(this.placed,this.frontier.length,n))}}function yc(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(yc(t.firstChild.content,e-1,n)))}function bc(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(bc(t.lastChild.content,e-1,n)))}function zm(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function x9(t,e,n){if(e<=0)return t;let i=t.content;return e>1&&(i=i.replaceChild(0,x9(i.firstChild,e-1,i.childCount==1?n-1:0))),e>0&&(i=t.type.contentMatch.fillBefore(i).append(i),n<=0&&(i=i.append(t.type.contentMatch.matchFragment(i).fillBefore(W.empty,!0)))),t.copy(i)}function Bm(t,e,n,i,r){let o=t.node(e),l=r?t.indexAfter(e):t.index(e);if(l==o.childCount&&!n.compatibleContent(o.type))return null;let c=i.fillBefore(o.content,!0,l);return c&&!lk(n,o.content,l)?c:null}function lk(t,e,n){for(let i=n;i<e.childCount;i++)if(!t.allowsMarks(e.child(i).marks))return!0;return!1}function ak(t){return t.spec.defining||t.spec.definingForContent}function ck(t,e,n,i){if(!i.size)return t.deleteRange(e,n);let r=t.doc.resolve(e),o=t.doc.resolve(n);if(w9(r,o,i))return t.step(new Yt(e,n,i));let l=T9(r,t.doc.resolve(n));l[l.length-1]==0&&l.pop();let c=-(r.depth+1);l.unshift(c);for(let y=r.depth,b=r.pos-1;y>0;y--,b--){let C=r.node(y).type.spec;if(C.defining||C.definingAsContext||C.isolating)break;l.indexOf(y)>-1?c=y:r.before(y)==b&&l.splice(1,0,-y)}let f=l.indexOf(c),d=[],p=i.openStart;for(let y=i.content,b=0;;b++){let C=y.firstChild;if(d.push(C),b==i.openStart)break;y=C.content}for(let y=p-1;y>=0;y--){let b=d[y],C=ak(b.type);if(C&&!b.sameMarkup(r.node(Math.abs(c)-1)))p=y;else if(C||!b.type.isTextblock)break}for(let y=i.openStart;y>=0;y--){let b=(y+p+1)%(i.openStart+1),C=d[b];if(C)for(let w=0;w<l.length;w++){let x=l[(w+f)%l.length],E=!0;x<0&&(E=!1,x=-x);let A=r.node(x-1),O=r.index(x-1);if(A.canReplaceWith(O,O,C.type,C.marks))return t.replace(r.before(x),E?o.after(x):n,new se(S9(i.content,0,i.openStart,b),b,i.openEnd))}}let m=t.steps.length;for(let y=l.length-1;y>=0&&(t.replace(e,n,i),!(t.steps.length>m));y--){let b=l[y];b<0||(e=r.before(b),n=o.after(b))}}function S9(t,e,n,i,r){if(e<n){let o=t.firstChild;t=t.replaceChild(0,o.copy(S9(o.content,e+1,n,i,o)))}if(e>i){let o=r.contentMatchAt(0),l=o.fillBefore(t).append(t);t=l.append(o.matchFragment(l).fillBefore(W.empty,!0))}return t}function uk(t,e,n,i){if(!i.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let r=ok(t.doc,e,i.type);r!=null&&(e=n=r)}t.replaceRange(e,n,new se(W.from(i),0,0))}function fk(t,e,n){let i=t.doc.resolve(e),r=t.doc.resolve(n),o=T9(i,r);for(let l=0;l<o.length;l++){let c=o[l],f=l==o.length-1;if(f&&c==0||i.node(c).type.contentMatch.validEnd)return t.delete(i.start(c),r.end(c));if(c>0&&(f||i.node(c-1).canReplace(i.index(c-1),r.indexAfter(c-1))))return t.delete(i.before(c),r.after(c))}for(let l=1;l<=i.depth&&l<=r.depth;l++)if(e-i.start(l)==i.depth-l&&n>i.end(l)&&r.end(l)-n!=r.depth-l&&i.start(l-1)==r.start(l-1)&&i.node(l-1).canReplace(i.index(l-1),r.index(l-1)))return t.delete(i.before(l),n);t.delete(e,n)}function T9(t,e){let n=[],i=Math.min(t.depth,e.depth);for(let r=i;r>=0;r--){let o=t.start(r);if(o<t.pos-(t.depth-r)||e.end(r)>e.pos+(e.depth-r)||t.node(r).type.spec.isolating||e.node(r).type.spec.isolating)break;(o==e.start(r)||r==t.depth&&r==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&r&&e.start(r-1)==o-1)&&n.push(r)}return n}class jl extends wn{constructor(e,n,i){super(),this.pos=e,this.attr=n,this.value=i}apply(e){let n=e.nodeAt(this.pos);if(!n)return Ht.fail("No node at attribute step's position");let i=Object.create(null);for(let o in n.attrs)i[o]=n.attrs[o];i[this.attr]=this.value;let r=n.type.create(i,null,n.marks);return Ht.fromReplace(e,this.pos,this.pos+1,new se(W.from(r),0,n.isLeaf?0:1))}getMap(){return ei.empty}invert(e){return new jl(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new jl(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new jl(n.pos,n.attr,n.value)}}wn.jsonID("attr",jl);class Vc extends wn{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let r in e.attrs)n[r]=e.attrs[r];n[this.attr]=this.value;let i=e.type.create(n,e.content,e.marks);return Ht.ok(i)}getMap(){return ei.empty}invert(e){return new Vc(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Vc(n.attr,n.value)}}wn.jsonID("docAttr",Vc);let Yl=class extends Error{};Yl=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Yl.prototype=Object.create(Error.prototype);Yl.prototype.constructor=Yl;Yl.prototype.name="TransformError";class Q0{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Bc}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Yl(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,i=se.empty){let r=Lh(this.doc,e,n,i);return r&&this.step(r),this}replaceWith(e,n,i){return this.replace(e,n,new se(W.from(i),0,0))}delete(e,n){return this.replace(e,n,se.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,i){return ck(this,e,n,i),this}replaceRangeWith(e,n,i){return uk(this,e,n,i),this}deleteRange(e,n){return fk(this,e,n),this}lift(e,n){return GM(this,e,n),this}join(e,n=1){return rk(this,e,n),this}wrap(e,n){return JM(this,e,n),this}setBlockType(e,n=e,i,r=null){return QM(this,e,n,i,r),this}setNodeMarkup(e,n,i=null,r){return tk(this,e,n,i,r),this}setNodeAttribute(e,n,i){return this.step(new jl(e,n,i)),this}setDocAttribute(e,n){return this.step(new Vc(e,n)),this}addNodeMark(e,n){return this.step(new Eo(e,n)),this}removeNodeMark(e,n){let i=this.doc.nodeAt(e);if(!i)throw new RangeError("No node at position "+e);if(n instanceof st)n.isInSet(i.marks)&&this.step(new ks(e,n));else{let r=i.marks,o,l=[];for(;o=n.isInSet(r);)l.push(new ks(e,o)),r=o.removeFromSet(r);for(let c=l.length-1;c>=0;c--)this.step(l[c])}return this}split(e,n=1,i){return nk(this,e,n,i),this}addMark(e,n,i){return KM(this,e,n,i),this}removeMark(e,n,i){return ZM(this,e,n,i),this}clearIncompatible(e,n,i){return W0(this,e,n,i),this}}const Vm=Object.create(null);class be{constructor(e,n,i){this.$anchor=e,this.$head=n,this.ranges=i||[new e2(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=se.empty){let i=n.content.lastChild,r=null;for(let c=0;c<n.openEnd;c++)r=i,i=i.lastChild;let o=e.steps.length,l=this.ranges;for(let c=0;c<l.length;c++){let{$from:f,$to:d}=l[c],p=e.mapping.slice(o);e.replaceRange(p.map(f.pos),p.map(d.pos),c?se.empty:n),c==0&&t7(e,o,(i?i.isInline:r&&r.isTextblock)?-1:1)}}replaceWith(e,n){let i=e.steps.length,r=this.ranges;for(let o=0;o<r.length;o++){let{$from:l,$to:c}=r[o],f=e.mapping.slice(i),d=f.map(l.pos),p=f.map(c.pos);o?e.deleteRange(d,p):(e.replaceRangeWith(d,p,n),t7(e,i,n.isInline?-1:1))}}static findFrom(e,n,i=!1){let r=e.parent.inlineContent?new fe(e):_l(e.node(0),e.parent,e.pos,e.index(),n,i);if(r)return r;for(let o=e.depth-1;o>=0;o--){let l=n<0?_l(e.node(0),e.node(o),e.before(o+1),e.index(o),n,i):_l(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,n,i);if(l)return l}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Vn(e.node(0))}static atStart(e){return _l(e,e,0,0,1)||new Vn(e)}static atEnd(e){return _l(e,e,e.content.size,e.childCount,-1)||new Vn(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let i=Vm[n.type];if(!i)throw new RangeError(`No selection type ${n.type} defined`);return i.fromJSON(e,n)}static jsonID(e,n){if(e in Vm)throw new RangeError("Duplicate use of selection JSON ID "+e);return Vm[e]=n,n.prototype.jsonID=e,n}getBookmark(){return fe.between(this.$anchor,this.$head).getBookmark()}}be.prototype.visible=!0;class e2{constructor(e,n){this.$from=e,this.$to=n}}let Qv=!1;function e7(t){!Qv&&!t.parent.inlineContent&&(Qv=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class fe extends be{constructor(e,n=e){e7(e),e7(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let i=e.resolve(n.map(this.head));if(!i.parent.inlineContent)return be.near(i);let r=e.resolve(n.map(this.anchor));return new fe(r.parent.inlineContent?r:i,i)}replace(e,n=se.empty){if(super.replace(e,n),n==se.empty){let i=this.$from.marksAcross(this.$to);i&&e.ensureMarks(i)}}eq(e){return e instanceof fe&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new _h(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new fe(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,i=n){let r=e.resolve(n);return new this(r,i==n?r:e.resolve(i))}static between(e,n,i){let r=e.pos-n.pos;if((!i||r)&&(i=r>=0?1:-1),!n.parent.inlineContent){let o=be.findFrom(n,i,!0)||be.findFrom(n,-i,!0);if(o)n=o.$head;else return be.near(n,i)}return e.parent.inlineContent||(r==0?e=n:(e=(be.findFrom(e,-i,!0)||be.findFrom(e,i,!0)).$anchor,e.pos<n.pos!=r<0&&(e=n))),new fe(e,n)}}be.jsonID("text",fe);class _h{constructor(e,n){this.anchor=e,this.head=n}map(e){return new _h(e.map(this.anchor),e.map(this.head))}resolve(e){return fe.between(e.resolve(this.anchor),e.resolve(this.head))}}class he extends be{constructor(e){let n=e.nodeAfter,i=e.node(0).resolve(e.pos+n.nodeSize);super(e,i),this.node=n}map(e,n){let{deleted:i,pos:r}=n.mapResult(this.anchor),o=e.resolve(r);return i?be.near(o):new he(o)}content(){return new se(W.from(this.node),0,0)}eq(e){return e instanceof he&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new t2(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new he(e.resolve(n.anchor))}static create(e,n){return new he(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}he.prototype.visible=!1;be.jsonID("node",he);class t2{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:i}=e.mapResult(this.anchor);return n?new _h(i,i):new t2(i)}resolve(e){let n=e.resolve(this.anchor),i=n.nodeAfter;return i&&he.isSelectable(i)?new he(n):be.near(n)}}class Vn extends be{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=se.empty){if(n==se.empty){e.delete(0,e.doc.content.size);let i=be.atStart(e.doc);i.eq(e.selection)||e.setSelection(i)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Vn(e)}map(e){return new Vn(e)}eq(e){return e instanceof Vn}getBookmark(){return dk}}be.jsonID("all",Vn);const dk={map(){return this},resolve(t){return new Vn(t)}};function _l(t,e,n,i,r,o=!1){if(e.inlineContent)return fe.create(t,n);for(let l=i-(r>0?0:1);r>0?l<e.childCount:l>=0;l+=r){let c=e.child(l);if(c.isAtom){if(!o&&he.isSelectable(c))return he.create(t,n-(r<0?c.nodeSize:0))}else{let f=_l(t,c,n+r,r<0?c.childCount:0,r,o);if(f)return f}n+=c.nodeSize*r}return null}function t7(t,e,n){let i=t.steps.length-1;if(i<e)return;let r=t.steps[i];if(!(r instanceof Yt||r instanceof Gt))return;let o=t.mapping.maps[i],l;o.forEach((c,f,d,p)=>{l==null&&(l=p)}),t.setSelection(be.near(t.doc.resolve(l),n))}const n7=1,zf=2,i7=4;let hk=class extends Q0{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|n7)&~zf,this.storedMarks=null,this}get selectionSet(){return(this.updated&n7)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=zf,this}ensureMarks(e){return st.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&zf)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~zf,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let i=this.selection;return n&&(e=e.mark(this.storedMarks||(i.empty?i.$from.marks():i.$from.marksAcross(i.$to)||st.none))),i.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,i){let r=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(r.text(e),!0):this.deleteSelection();{if(i==null&&(i=n),i=i??n,!e)return this.deleteRange(n,i);let o=this.storedMarks;if(!o){let l=this.doc.resolve(n);o=i==n?l.marks():l.marksAcross(this.doc.resolve(i))}return this.replaceRangeWith(n,i,r.text(e,o)),this.selection.empty||this.setSelection(be.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=i7,this}get scrolledIntoView(){return(this.updated&i7)>0}};function r7(t,e){return!e||!t?t:t.bind(e)}class vc{constructor(e,n,i){this.name=e,this.init=r7(n.init,i),this.apply=r7(n.apply,i)}}const pk=[new vc("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new vc("selection",{init(t,e){return t.selection||be.atStart(e.doc)},apply(t){return t.selection}}),new vc("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,i){return i.selection.$cursor?t.storedMarks:null}}),new vc("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class jm{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=pk.slice(),n&&n.forEach(i=>{if(this.pluginsByKey[i.key])throw new RangeError("Adding different instances of a keyed plugin ("+i.key+")");this.plugins.push(i),this.pluginsByKey[i.key]=i,i.spec.state&&this.fields.push(new vc(i.key,i.spec.state,i))})}}class Bl{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let i=0;i<this.config.plugins.length;i++)if(i!=n){let r=this.config.plugins[i];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],i=this.applyInner(e),r=null;for(;;){let o=!1;for(let l=0;l<this.config.plugins.length;l++){let c=this.config.plugins[l];if(c.spec.appendTransaction){let f=r?r[l].n:0,d=r?r[l].state:this,p=f<n.length&&c.spec.appendTransaction.call(c,f?n.slice(f):n,d,i);if(p&&i.filterTransaction(p,l)){if(p.setMeta("appendedTransaction",e),!r){r=[];for(let m=0;m<this.config.plugins.length;m++)r.push(m<l?{state:i,n:n.length}:{state:this,n:0})}n.push(p),i=i.applyInner(p),o=!0}r&&(r[l]={state:i,n:n.length})}}if(!o)return{state:i,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Bl(this.config),i=this.config.fields;for(let r=0;r<i.length;r++){let o=i[r];n[o.name]=o.apply(e,this[o.name],this,n)}return n}get tr(){return new hk(this)}static create(e){let n=new jm(e.doc?e.doc.type.schema:e.schema,e.plugins),i=new Bl(n);for(let r=0;r<n.fields.length;r++)i[n.fields[r].name]=n.fields[r].init(e,i);return i}reconfigure(e){let n=new jm(this.schema,e.plugins),i=n.fields,r=new Bl(n);for(let o=0;o<i.length;o++){let l=i[o].name;r[l]=this.hasOwnProperty(l)?this[l]:i[o].init(e,r)}return r}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(i=>i.toJSON())),e&&typeof e=="object")for(let i in e){if(i=="doc"||i=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let r=e[i],o=r.spec.state;o&&o.toJSON&&(n[i]=o.toJSON.call(r,this[r.key]))}return n}static fromJSON(e,n,i){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let r=new jm(e.schema,e.plugins),o=new Bl(r);return r.fields.forEach(l=>{if(l.name=="doc")o.doc=Oi.fromJSON(e.schema,n.doc);else if(l.name=="selection")o.selection=be.fromJSON(o.doc,n.selection);else if(l.name=="storedMarks")n.storedMarks&&(o.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(i)for(let c in i){let f=i[c],d=f.spec.state;if(f.key==l.name&&d&&d.fromJSON&&Object.prototype.hasOwnProperty.call(n,c)){o[l.name]=d.fromJSON.call(f,e,n[c],o);return}}o[l.name]=l.init(e,o)}}),o}}function E9(t,e,n){for(let i in t){let r=t[i];r instanceof Function?r=r.bind(e):i=="handleDOMEvents"&&(r=E9(r,e,{})),n[i]=r}return n}class je{constructor(e){this.spec=e,this.props={},e.props&&E9(e.props,this,this.props),this.key=e.key?e.key.key:M9("plugin")}getState(e){return e[this.key]}}const Um=Object.create(null);function M9(t){return t in Um?t+"$"+ ++Um[t]:(Um[t]=0,t+"$")}class qe{constructor(e="key"){this.key=M9(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const sn=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Gl=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let Pg=null;const Rr=function(t,e,n){let i=Pg||(Pg=document.createRange());return i.setEnd(t,n??t.nodeValue.length),i.setStart(t,e||0),i},mk=function(){Pg=null},As=function(t,e,n,i){return n&&(o7(t,e,n,i,-1)||o7(t,e,n,i,1))},gk=/^(img|br|input|textarea|hr)$/i;function o7(t,e,n,i,r){for(var o;;){if(t==n&&e==i)return!0;if(e==(r<0?0:yi(t))){let l=t.parentNode;if(!l||l.nodeType!=1||lu(t)||gk.test(t.nodeName)||t.contentEditable=="false")return!1;e=sn(t)+(r<0?0:1),t=l}else if(t.nodeType==1){let l=t.childNodes[e+(r<0?-1:0)];if(l.nodeType==1&&l.contentEditable=="false")if(!((o=l.pmViewDesc)===null||o===void 0)&&o.ignoreForSelection)e+=r;else return!1;else t=l,e=r<0?yi(t):0}else return!1}}function yi(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function yk(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=yi(t)}else if(t.parentNode&&!lu(t))e=sn(t),t=t.parentNode;else return null}}function bk(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!lu(t))e=sn(t)+1,t=t.parentNode;else return null}}function vk(t,e,n){for(let i=e==0,r=e==yi(t);i||r;){if(t==n)return!0;let o=sn(t);if(t=t.parentNode,!t)return!1;i=i&&o==0,r=r&&o==yi(t)}}function lu(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Hh=function(t){return t.focusNode&&As(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function ps(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function Ck(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function wk(t,e,n){if(t.caretPositionFromPoint)try{let i=t.caretPositionFromPoint(e,n);if(i)return{node:i.offsetNode,offset:Math.min(yi(i.offsetNode),i.offset)}}catch{}if(t.caretRangeFromPoint){let i=t.caretRangeFromPoint(e,n);if(i)return{node:i.startContainer,offset:Math.min(yi(i.startContainer),i.startOffset)}}}const er=typeof navigator<"u"?navigator:null,s7=typeof document<"u"?document:null,jo=er&&er.userAgent||"",Fg=/Edge\/(\d+)/.exec(jo),k9=/MSIE \d/.exec(jo),qg=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(jo),jn=!!(k9||qg||Fg),Ro=k9?document.documentMode:qg?+qg[1]:Fg?+Fg[1]:0,_i=!jn&&/gecko\/(\d+)/i.test(jo);_i&&+(/Firefox\/(\d+)/.exec(jo)||[0,0])[1];const $g=!jn&&/Chrome\/(\d+)/.exec(jo),yn=!!$g,A9=$g?+$g[1]:0,En=!jn&&!!er&&/Apple Computer/.test(er.vendor),Xl=En&&(/Mobile\/\w+/.test(jo)||!!er&&er.maxTouchPoints>2),gi=Xl||(er?/Mac/.test(er.platform):!1),xk=er?/Win/.test(er.platform):!1,Nr=/Android \d/.test(jo),au=!!s7&&"webkitFontSmoothing"in s7.documentElement.style,Sk=au?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Tk(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Sr(t,e){return typeof t=="number"?t:t[e]}function Ek(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,i=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*i}}function l7(t,e,n){let i=t.someProp("scrollThreshold")||0,r=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument;for(let l=n||t.dom;l;){if(l.nodeType!=1){l=Gl(l);continue}let c=l,f=c==o.body,d=f?Tk(o):Ek(c),p=0,m=0;if(e.top<d.top+Sr(i,"top")?m=-(d.top-e.top+Sr(r,"top")):e.bottom>d.bottom-Sr(i,"bottom")&&(m=e.bottom-e.top>d.bottom-d.top?e.top+Sr(r,"top")-d.top:e.bottom-d.bottom+Sr(r,"bottom")),e.left<d.left+Sr(i,"left")?p=-(d.left-e.left+Sr(r,"left")):e.right>d.right-Sr(i,"right")&&(p=e.right-d.right+Sr(r,"right")),p||m)if(f)o.defaultView.scrollBy(p,m);else{let b=c.scrollLeft,C=c.scrollTop;m&&(c.scrollTop+=m),p&&(c.scrollLeft+=p);let w=c.scrollLeft-b,x=c.scrollTop-C;e={left:e.left-w,top:e.top-x,right:e.right-w,bottom:e.bottom-x}}let y=f?"fixed":getComputedStyle(l).position;if(/^(fixed|sticky)$/.test(y))break;l=y=="absolute"?l.offsetParent:Gl(l)}}function Mk(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),i,r;for(let o=(e.left+e.right)/2,l=n+1;l<Math.min(innerHeight,e.bottom);l+=5){let c=t.root.elementFromPoint(o,l);if(!c||c==t.dom||!t.dom.contains(c))continue;let f=c.getBoundingClientRect();if(f.top>=n-20){i=c,r=f.top;break}}return{refDOM:i,refTop:r,stack:R9(t.dom)}}function R9(t){let e=[],n=t.ownerDocument;for(let i=t;i&&(e.push({dom:i,top:i.scrollTop,left:i.scrollLeft}),t!=n);i=Gl(i));return e}function kk({refDOM:t,refTop:e,stack:n}){let i=t?t.getBoundingClientRect().top:0;O9(n,i==0?0:i-e)}function O9(t,e){for(let n=0;n<t.length;n++){let{dom:i,top:r,left:o}=t[n];i.scrollTop!=r+e&&(i.scrollTop=r+e),i.scrollLeft!=o&&(i.scrollLeft=o)}}let Rl=null;function Ak(t){if(t.setActive)return t.setActive();if(Rl)return t.focus(Rl);let e=R9(t);t.focus(Rl==null?{get preventScroll(){return Rl={preventScroll:!0},!0}}:void 0),Rl||(Rl=!1,O9(e,0))}function N9(t,e){let n,i=2e8,r,o=0,l=e.top,c=e.top,f,d;for(let p=t.firstChild,m=0;p;p=p.nextSibling,m++){let y;if(p.nodeType==1)y=p.getClientRects();else if(p.nodeType==3)y=Rr(p).getClientRects();else continue;for(let b=0;b<y.length;b++){let C=y[b];if(C.top<=l&&C.bottom>=c){l=Math.max(C.bottom,l),c=Math.min(C.top,c);let w=C.left>e.left?C.left-e.left:C.right<e.left?e.left-C.right:0;if(w<i){n=p,i=w,r=w&&n.nodeType==3?{left:C.right<e.left?C.right:C.left,top:e.top}:e,p.nodeType==1&&w&&(o=m+(e.left>=(C.left+C.right)/2?1:0));continue}}else C.top>e.top&&!f&&C.left<=e.left&&C.right>=e.left&&(f=p,d={left:Math.max(C.left,Math.min(C.right,e.left)),top:C.top});!n&&(e.left>=C.right&&e.top>=C.top||e.left>=C.left&&e.top>=C.bottom)&&(o=m+1)}}return!n&&f&&(n=f,r=d,i=0),n&&n.nodeType==3?Rk(n,r):!n||i&&n.nodeType==1?{node:t,offset:o}:N9(n,r)}function Rk(t,e){let n=t.nodeValue.length,i=document.createRange();for(let r=0;r<n;r++){i.setEnd(t,r+1),i.setStart(t,r);let o=go(i,1);if(o.top!=o.bottom&&n2(e,o))return{node:t,offset:r+(e.left>=(o.left+o.right)/2?1:0)}}return{node:t,offset:0}}function n2(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function Ok(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function Nk(t,e,n){let{node:i,offset:r}=N9(e,n),o=-1;if(i.nodeType==1&&!i.firstChild){let l=i.getBoundingClientRect();o=l.left!=l.right&&n.left>(l.left+l.right)/2?1:-1}return t.docView.posFromDOM(i,r,o)}function Dk(t,e,n,i){let r=-1;for(let o=e,l=!1;o!=t.dom;){let c=t.docView.nearestDesc(o,!0),f;if(!c)return null;if(c.dom.nodeType==1&&(c.node.isBlock&&c.parent||!c.contentDOM)&&((f=c.dom.getBoundingClientRect()).width||f.height)&&(c.node.isBlock&&c.parent&&(!l&&f.left>i.left||f.top>i.top?r=c.posBefore:(!l&&f.right<i.left||f.bottom<i.top)&&(r=c.posAfter),l=!0),!c.contentDOM&&r<0&&!c.node.isText))return(c.node.isBlock?i.top<(f.top+f.bottom)/2:i.left<(f.left+f.right)/2)?c.posBefore:c.posAfter;o=c.dom.parentNode}return r>-1?r:t.docView.posFromDOM(e,n,-1)}function D9(t,e,n){let i=t.childNodes.length;if(i&&n.top<n.bottom)for(let r=Math.max(0,Math.min(i-1,Math.floor(i*(e.top-n.top)/(n.bottom-n.top))-2)),o=r;;){let l=t.childNodes[o];if(l.nodeType==1){let c=l.getClientRects();for(let f=0;f<c.length;f++){let d=c[f];if(n2(e,d))return D9(l,e,d)}}if((o=(o+1)%i)==r)break}return t}function Lk(t,e){let n=t.dom.ownerDocument,i,r=0,o=wk(n,e.left,e.top);o&&({node:i,offset:r}=o);let l=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),c;if(!l||!t.dom.contains(l.nodeType!=1?l.parentNode:l)){let d=t.dom.getBoundingClientRect();if(!n2(e,d)||(l=D9(t.dom,e,d),!l))return null}if(En)for(let d=l;i&&d;d=Gl(d))d.draggable&&(i=void 0);if(l=Ok(l,e),i){if(_i&&i.nodeType==1&&(r=Math.min(r,i.childNodes.length),r<i.childNodes.length)){let p=i.childNodes[r],m;p.nodeName=="IMG"&&(m=p.getBoundingClientRect()).right<=e.left&&m.bottom>e.top&&r++}let d;au&&r&&i.nodeType==1&&(d=i.childNodes[r-1]).nodeType==1&&d.contentEditable=="false"&&d.getBoundingClientRect().top>=e.top&&r--,i==t.dom&&r==i.childNodes.length-1&&i.lastChild.nodeType==1&&e.top>i.lastChild.getBoundingClientRect().bottom?c=t.state.doc.content.size:(r==0||i.nodeType!=1||i.childNodes[r-1].nodeName!="BR")&&(c=Dk(t,i,r,e))}c==null&&(c=Nk(t,l,e));let f=t.docView.nearestDesc(l,!0);return{pos:c,inside:f?f.posAtStart-f.border:-1}}function a7(t){return t.top<t.bottom||t.left<t.right}function go(t,e){let n=t.getClientRects();if(n.length){let i=n[e<0?0:n.length-1];if(a7(i))return i}return Array.prototype.find.call(n,a7)||t.getBoundingClientRect()}const _k=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function L9(t,e,n){let{node:i,offset:r,atom:o}=t.docView.domFromPos(e,n<0?-1:1),l=au||_i;if(i.nodeType==3)if(l&&(_k.test(i.nodeValue)||(n<0?!r:r==i.nodeValue.length))){let f=go(Rr(i,r,r),n);if(_i&&r&&/\s/.test(i.nodeValue[r-1])&&r<i.nodeValue.length){let d=go(Rr(i,r-1,r-1),-1);if(d.top==f.top){let p=go(Rr(i,r,r+1),-1);if(p.top!=f.top)return hc(p,p.left<d.left)}}return f}else{let f=r,d=r,p=n<0?1:-1;return n<0&&!r?(d++,p=-1):n>=0&&r==i.nodeValue.length?(f--,p=1):n<0?f--:d++,hc(go(Rr(i,f,d),p),p<0)}if(!t.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&r&&(n<0||r==yi(i))){let f=i.childNodes[r-1];if(f.nodeType==1)return Pm(f.getBoundingClientRect(),!1)}if(o==null&&r<yi(i)){let f=i.childNodes[r];if(f.nodeType==1)return Pm(f.getBoundingClientRect(),!0)}return Pm(i.getBoundingClientRect(),n>=0)}if(o==null&&r&&(n<0||r==yi(i))){let f=i.childNodes[r-1],d=f.nodeType==3?Rr(f,yi(f)-(l?0:1)):f.nodeType==1&&(f.nodeName!="BR"||!f.nextSibling)?f:null;if(d)return hc(go(d,1),!1)}if(o==null&&r<yi(i)){let f=i.childNodes[r];for(;f.pmViewDesc&&f.pmViewDesc.ignoreForCoords;)f=f.nextSibling;let d=f?f.nodeType==3?Rr(f,0,l?0:1):f.nodeType==1?f:null:null;if(d)return hc(go(d,-1),!0)}return hc(go(i.nodeType==3?Rr(i):i,-n),n>=0)}function hc(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function Pm(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function _9(t,e,n){let i=t.state,r=t.root.activeElement;i!=e&&t.updateState(e),r!=t.dom&&t.focus();try{return n()}finally{i!=e&&t.updateState(i),r!=t.dom&&r&&r.focus()}}function Hk(t,e,n){let i=e.selection,r=n=="up"?i.$from:i.$to;return _9(t,e,()=>{let{node:o}=t.docView.domFromPos(r.pos,n=="up"?-1:1);for(;;){let c=t.docView.nearestDesc(o,!0);if(!c)break;if(c.node.isBlock){o=c.contentDOM||c.dom;break}o=c.dom.parentNode}let l=L9(t,r.pos,1);for(let c=o.firstChild;c;c=c.nextSibling){let f;if(c.nodeType==1)f=c.getClientRects();else if(c.nodeType==3)f=Rr(c,0,c.nodeValue.length).getClientRects();else continue;for(let d=0;d<f.length;d++){let p=f[d];if(p.bottom>p.top+1&&(n=="up"?l.top-p.top>(p.bottom-l.top)*2:p.bottom-l.bottom>(l.bottom-p.top)*2))return!1}}return!0})}const Ik=/[\u0590-\u08ac]/;function zk(t,e,n){let{$head:i}=e.selection;if(!i.parent.isTextblock)return!1;let r=i.parentOffset,o=!r,l=r==i.parent.content.size,c=t.domSelection();return c?!Ik.test(i.parent.textContent)||!c.modify?n=="left"||n=="backward"?o:l:_9(t,e,()=>{let{focusNode:f,focusOffset:d,anchorNode:p,anchorOffset:m}=t.domSelectionRange(),y=c.caretBidiLevel;c.modify("move",n,"character");let b=i.depth?t.docView.domAfterPos(i.before()):t.dom,{focusNode:C,focusOffset:w}=t.domSelectionRange(),x=C&&!b.contains(C.nodeType==1?C:C.parentNode)||f==C&&d==w;try{c.collapse(p,m),f&&(f!=p||d!=m)&&c.extend&&c.extend(f,d)}catch{}return y!=null&&(c.caretBidiLevel=y),x}):i.pos==i.start()||i.pos==i.end()}let c7=null,u7=null,f7=!1;function Bk(t,e,n){return c7==e&&u7==n?f7:(c7=e,u7=n,f7=n=="up"||n=="down"?Hk(t,e,n):zk(t,e,n))}const vi=0,d7=1,gs=2,tr=3;class cu{constructor(e,n,i,r){this.parent=e,this.children=n,this.dom=i,this.contentDOM=r,this.dirty=vi,i.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,i){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,i=this.posAtStart;;n++){let r=this.children[n];if(r==e)return i;i+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,i){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(i<0){let o,l;if(e==this.contentDOM)o=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((l=o.pmViewDesc)&&l.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(l)+l.size:this.posAtStart}else{let o,l;if(e==this.contentDOM)o=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((l=o.pmViewDesc)&&l.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(l):this.posAtEnd}let r;if(e==this.dom&&this.contentDOM)r=n>sn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let o=e;;o=o.parentNode){if(o==this.dom){r=!1;break}if(o.previousSibling)break}if(r==null&&n==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){r=!0;break}if(o.nextSibling)break}}return r??i>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let i=!0,r=e;r;r=r.parentNode){let o=this.getDesc(r),l;if(o&&(!n||o.node))if(i&&(l=o.nodeDOM)&&!(l.nodeType==1?l.contains(e.nodeType==1?e:e.parentNode):l==e))i=!1;else return o}}getDesc(e){let n=e.pmViewDesc;for(let i=n;i;i=i.parent)if(i==this)return n}posFromDOM(e,n,i){for(let r=e;r;r=r.parentNode){let o=this.getDesc(r);if(o)return o.localPosFromDOM(e,n,i)}return-1}descAt(e){for(let n=0,i=0;n<this.children.length;n++){let r=this.children[n],o=i+r.size;if(i==e&&o!=i){for(;!r.border&&r.children.length;)for(let l=0;l<r.children.length;l++){let c=r.children[l];if(c.size){r=c;break}}return r}if(e<o)return r.descAt(e-i-r.border);i=o}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let i=0,r=0;for(let o=0;i<this.children.length;i++){let l=this.children[i],c=o+l.size;if(c>e||l instanceof I9){r=e-o;break}o=c}if(r)return this.children[i].domFromPos(r-this.children[i].border,n);for(let o;i&&!(o=this.children[i-1]).size&&o instanceof H9&&o.side>=0;i--);if(n<=0){let o,l=!0;for(;o=i?this.children[i-1]:null,!(!o||o.dom.parentNode==this.contentDOM);i--,l=!1);return o&&n&&l&&!o.border&&!o.domAtom?o.domFromPos(o.size,n):{node:this.contentDOM,offset:o?sn(o.dom)+1:0}}else{let o,l=!0;for(;o=i<this.children.length?this.children[i]:null,!(!o||o.dom.parentNode==this.contentDOM);i++,l=!1);return o&&l&&!o.border&&!o.domAtom?o.domFromPos(0,n):{node:this.contentDOM,offset:o?sn(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,i=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let r=-1,o=-1;for(let l=i,c=0;;c++){let f=this.children[c],d=l+f.size;if(r==-1&&e<=d){let p=l+f.border;if(e>=p&&n<=d-f.border&&f.node&&f.contentDOM&&this.contentDOM.contains(f.contentDOM))return f.parseRange(e,n,p);e=l;for(let m=c;m>0;m--){let y=this.children[m-1];if(y.size&&y.dom.parentNode==this.contentDOM&&!y.emptyChildAt(1)){r=sn(y.dom)+1;break}e-=y.size}r==-1&&(r=0)}if(r>-1&&(d>n||c==this.children.length-1)){n=d;for(let p=c+1;p<this.children.length;p++){let m=this.children[p];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(-1)){o=sn(m.dom);break}n+=m.size}o==-1&&(o=this.contentDOM.childNodes.length);break}l=d}return{node:this.contentDOM,from:e,to:n,fromOffset:r,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:i}=this.domFromPos(e,0);if(n.nodeType!=1||i==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[i]}setSelection(e,n,i,r=!1){let o=Math.min(e,n),l=Math.max(e,n);for(let b=0,C=0;b<this.children.length;b++){let w=this.children[b],x=C+w.size;if(o>C&&l<x)return w.setSelection(e-C-w.border,n-C-w.border,i,r);C=x}let c=this.domFromPos(e,e?-1:1),f=n==e?c:this.domFromPos(n,n?-1:1),d=i.root.getSelection(),p=i.domSelectionRange(),m=!1;if((_i||En)&&e==n){let{node:b,offset:C}=c;if(b.nodeType==3){if(m=!!(C&&b.nodeValue[C-1]==`
`),m&&C==b.nodeValue.length)for(let w=b,x;w;w=w.parentNode){if(x=w.nextSibling){x.nodeName=="BR"&&(c=f={node:x.parentNode,offset:sn(x)+1});break}let E=w.pmViewDesc;if(E&&E.node&&E.node.isBlock)break}}else{let w=b.childNodes[C-1];m=w&&(w.nodeName=="BR"||w.contentEditable=="false")}}if(_i&&p.focusNode&&p.focusNode!=f.node&&p.focusNode.nodeType==1){let b=p.focusNode.childNodes[p.focusOffset];b&&b.contentEditable=="false"&&(r=!0)}if(!(r||m&&En)&&As(c.node,c.offset,p.anchorNode,p.anchorOffset)&&As(f.node,f.offset,p.focusNode,p.focusOffset))return;let y=!1;if((d.extend||e==n)&&!m){d.collapse(c.node,c.offset);try{e!=n&&d.extend(f.node,f.offset),y=!0}catch{}}if(!y){if(e>n){let C=c;c=f,f=C}let b=document.createRange();b.setEnd(f.node,f.offset),b.setStart(c.node,c.offset),d.removeAllRanges(),d.addRange(b)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let i=0,r=0;r<this.children.length;r++){let o=this.children[r],l=i+o.size;if(i==l?e<=l&&n>=i:e<l&&n>i){let c=i+o.border,f=l-o.border;if(e>=c&&n<=f){this.dirty=e==i||n==l?gs:d7,e==c&&n==f&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=tr:o.markDirty(e-c,n-c);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?gs:tr}i=l}this.dirty=gs}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let i=e==1?gs:d7;n.dirty<i&&(n.dirty=i)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class H9 extends cu{constructor(e,n,i,r){let o,l=n.type.toDOM;if(typeof l=="function"&&(l=l(i,()=>{if(!o)return r;if(o.parent)return o.parent.posBeforeChild(o)})),!n.type.spec.raw){if(l.nodeType!=1){let c=document.createElement("span");c.appendChild(l),l=c}l.contentEditable="false",l.classList.add("ProseMirror-widget")}super(e,[],l,null),this.widget=n,this.widget=n,o=this}matchesWidget(e){return this.dirty==vi&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class Vk extends cu{constructor(e,n,i,r){super(e,[],n,null),this.textDOM=i,this.text=r}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Rs extends cu{constructor(e,n,i,r,o){super(e,[],i,r),this.mark=n,this.spec=o}static create(e,n,i,r){let o=r.nodeViews[n.type.name],l=o&&o(n,r,i);return(!l||!l.dom)&&(l=Bs.renderSpec(document,n.type.spec.toDOM(n,i),null,n.attrs)),new Rs(e,n,l.dom,l.contentDOM||l.dom,l)}parseRule(){return this.dirty&tr||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=tr&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=vi){let i=this.parent;for(;!i.node;)i=i.parent;i.dirty<this.dirty&&(i.dirty=this.dirty),this.dirty=vi}}slice(e,n,i){let r=Rs.create(this.parent,this.mark,!0,i),o=this.children,l=this.size;n<l&&(o=Zg(o,n,l,i)),e>0&&(o=Zg(o,0,e,i));for(let c=0;c<o.length;c++)o[c].parent=r;return r.children=o,r}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Oo extends cu{constructor(e,n,i,r,o,l,c,f,d){super(e,[],o,l),this.node=n,this.outerDeco=i,this.innerDeco=r,this.nodeDOM=c}static create(e,n,i,r,o,l){let c=o.nodeViews[n.type.name],f,d=c&&c(n,o,()=>{if(!f)return l;if(f.parent)return f.parent.posBeforeChild(f)},i,r),p=d&&d.dom,m=d&&d.contentDOM;if(n.isText){if(!p)p=document.createTextNode(n.text);else if(p.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else p||({dom:p,contentDOM:m}=Bs.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!m&&!n.isText&&p.nodeName!="BR"&&(p.hasAttribute("contenteditable")||(p.contentEditable="false"),n.type.spec.draggable&&(p.draggable=!0));let y=p;return p=V9(p,i,n),d?f=new jk(e,n,i,r,p,m||null,y,d,o,l+1):n.isText?new Ih(e,n,i,r,p,y,o):new Oo(e,n,i,r,p,m||null,y,o,l+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let i=this.children[n];if(this.dom.contains(i.dom.parentNode)){e.contentElement=i.dom.parentNode;break}}e.contentElement||(e.getContent=()=>W.empty)}return e}matchesNode(e,n,i){return this.dirty==vi&&e.eq(this.node)&&Ad(n,this.outerDeco)&&i.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let i=this.node.inlineContent,r=n,o=e.composing?this.localCompositionInfo(e,n):null,l=o&&o.pos>-1?o:null,c=o&&o.pos<0,f=new Pk(this,l&&l.node,e);$k(this.node,this.innerDeco,(d,p,m)=>{d.spec.marks?f.syncToMarks(d.spec.marks,i,e):d.type.side>=0&&!m&&f.syncToMarks(p==this.node.childCount?st.none:this.node.child(p).marks,i,e),f.placeWidget(d,e,r)},(d,p,m,y)=>{f.syncToMarks(d.marks,i,e);let b;f.findNodeMatch(d,p,m,y)||c&&e.state.selection.from>r&&e.state.selection.to<r+d.nodeSize&&(b=f.findIndexWithChild(o.node))>-1&&f.updateNodeAt(d,p,m,b,e)||f.updateNextNode(d,p,m,e,y,r)||f.addNode(d,p,m,e,r),r+=d.nodeSize}),f.syncToMarks([],i,e),this.node.isTextblock&&f.addTextblockHacks(),f.destroyRest(),(f.changed||this.dirty==gs)&&(l&&this.protectLocalComposition(e,l),z9(this.contentDOM,this.children,e),Xl&&Kk(this.dom))}localCompositionInfo(e,n){let{from:i,to:r}=e.state.selection;if(!(e.state.selection instanceof fe)||i<n||r>n+this.node.content.size)return null;let o=e.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let l=o.nodeValue,c=Zk(this.node.content,l,i-n,r-n);return c<0?null:{node:o,pos:c,text:l}}else return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:i,text:r}){if(this.getDesc(n))return;let o=n;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let l=new Vk(this,o,n,r);e.input.compositionNodes.push(l),this.children=Zg(this.children,i,i+r.length,e,l)}update(e,n,i,r){return this.dirty==tr||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,i,r),!0)}updateInner(e,n,i,r){this.updateOuterDeco(n),this.node=e,this.innerDeco=i,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=vi}updateOuterDeco(e){if(Ad(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,i=this.dom;this.dom=B9(this.dom,this.nodeDOM,Kg(this.outerDeco,this.node,n),Kg(e,this.node,n)),this.dom!=i&&(i.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function h7(t,e,n,i,r){V9(i,e,t);let o=new Oo(void 0,t,e,n,i,i,i,r,0);return o.contentDOM&&o.updateChildren(r,0),o}class Ih extends Oo{constructor(e,n,i,r,o,l,c){super(e,n,i,r,o,null,l,c,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,i,r){return this.dirty==tr||this.dirty!=vi&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=vi||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=e,this.dirty=vi,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,i){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,i)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,i){let r=this.node.cut(e,n),o=document.createTextNode(r.text);return new Ih(this.parent,r,this.outerDeco,this.innerDeco,o,o,i)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=tr)}get domAtom(){return!1}isText(e){return this.node.text==e}}class I9 extends cu{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==vi&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class jk extends Oo{constructor(e,n,i,r,o,l,c,f,d,p){super(e,n,i,r,o,l,c,d,p),this.spec=f}update(e,n,i,r){if(this.dirty==tr)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let o=this.spec.update(e,n,i);return o&&this.updateInner(e,n,i,r),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,i,r)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,i,r){this.spec.setSelection?this.spec.setSelection(e,n,i.root):super.setSelection(e,n,i,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function z9(t,e,n){let i=t.firstChild,r=!1;for(let o=0;o<e.length;o++){let l=e[o],c=l.dom;if(c.parentNode==t){for(;c!=i;)i=p7(i),r=!0;i=i.nextSibling}else r=!0,t.insertBefore(c,i);if(l instanceof Rs){let f=i?i.previousSibling:t.lastChild;z9(l.contentDOM,l.children,n),i=f?f.nextSibling:t.firstChild}}for(;i;)i=p7(i),r=!0;r&&n.trackWrites==t&&(n.trackWrites=null)}const Tc=function(t){t&&(this.nodeName=t)};Tc.prototype=Object.create(null);const ys=[new Tc];function Kg(t,e,n){if(t.length==0)return ys;let i=n?ys[0]:new Tc,r=[i];for(let o=0;o<t.length;o++){let l=t[o].type.attrs;if(l){l.nodeName&&r.push(i=new Tc(l.nodeName));for(let c in l){let f=l[c];f!=null&&(n&&r.length==1&&r.push(i=new Tc(e.isInline?"span":"div")),c=="class"?i.class=(i.class?i.class+" ":"")+f:c=="style"?i.style=(i.style?i.style+";":"")+f:c!="nodeName"&&(i[c]=f))}}}return r}function B9(t,e,n,i){if(n==ys&&i==ys)return e;let r=e;for(let o=0;o<i.length;o++){let l=i[o],c=n[o];if(o){let f;c&&c.nodeName==l.nodeName&&r!=t&&(f=r.parentNode)&&f.nodeName.toLowerCase()==l.nodeName||(f=document.createElement(l.nodeName),f.pmIsDeco=!0,f.appendChild(r),c=ys[0]),r=f}Uk(r,c||ys[0],l)}return r}function Uk(t,e,n){for(let i in e)i!="class"&&i!="style"&&i!="nodeName"&&!(i in n)&&t.removeAttribute(i);for(let i in n)i!="class"&&i!="style"&&i!="nodeName"&&n[i]!=e[i]&&t.setAttribute(i,n[i]);if(e.class!=n.class){let i=e.class?e.class.split(" ").filter(Boolean):[],r=n.class?n.class.split(" ").filter(Boolean):[];for(let o=0;o<i.length;o++)r.indexOf(i[o])==-1&&t.classList.remove(i[o]);for(let o=0;o<r.length;o++)i.indexOf(r[o])==-1&&t.classList.add(r[o]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let i=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,r;for(;r=i.exec(e.style);)t.style.removeProperty(r[1])}n.style&&(t.style.cssText+=n.style)}}function V9(t,e,n){return B9(t,t,ys,Kg(e,n,t.nodeType!=1))}function Ad(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function p7(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class Pk{constructor(e,n,i){this.lock=n,this.view=i,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=Fk(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let i=e;i<n;i++)this.top.children[i].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,i){let r=0,o=this.stack.length>>1,l=Math.min(o,e.length);for(;r<l&&(r==o-1?this.top:this.stack[r+1<<1]).matchesMark(e[r])&&e[r].type.spec.spanning!==!1;)r++;for(;r<o;)this.destroyRest(),this.top.dirty=vi,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let c=-1;for(let f=this.index;f<Math.min(this.index+3,this.top.children.length);f++){let d=this.top.children[f];if(d.matchesMark(e[o])&&!this.isLocked(d.dom)){c=f;break}}if(c>-1)c>this.index&&(this.changed=!0,this.destroyBetween(this.index,c)),this.top=this.top.children[this.index];else{let f=Rs.create(this.top,e[o],n,i);this.top.children.splice(this.index,0,f),this.top=f,this.changed=!0}this.index=0,o++}}findNodeMatch(e,n,i,r){let o=-1,l;if(r>=this.preMatch.index&&(l=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&l.matchesNode(e,n,i))o=this.top.children.indexOf(l,this.index);else for(let c=this.index,f=Math.min(this.top.children.length,c+5);c<f;c++){let d=this.top.children[c];if(d.matchesNode(e,n,i)&&!this.preMatch.matched.has(d)){o=c;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,n,i,r,o){let l=this.top.children[r];return l.dirty==tr&&l.dom==l.contentDOM&&(l.dirty=gs),l.update(e,n,i,o)?(this.destroyBetween(this.index,r),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let i=e.pmViewDesc;if(i){for(let r=this.index;r<this.top.children.length;r++)if(this.top.children[r]==i)return r}return-1}e=n}}updateNextNode(e,n,i,r,o,l){for(let c=this.index;c<this.top.children.length;c++){let f=this.top.children[c];if(f instanceof Oo){let d=this.preMatch.matched.get(f);if(d!=null&&d!=o)return!1;let p=f.dom,m,y=this.isLocked(p)&&!(e.isText&&f.node&&f.node.isText&&f.nodeDOM.nodeValue==e.text&&f.dirty!=tr&&Ad(n,f.outerDeco));if(!y&&f.update(e,n,i,r))return this.destroyBetween(this.index,c),f.dom!=p&&(this.changed=!0),this.index++,!0;if(!y&&(m=this.recreateWrapper(f,e,n,i,r,l)))return this.destroyBetween(this.index,c),this.top.children[this.index]=m,m.contentDOM&&(m.dirty=gs,m.updateChildren(r,l+1),m.dirty=vi),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,i,r,o,l){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!Ad(i,e.outerDeco)||!r.eq(e.innerDeco))return null;let c=Oo.create(this.top,n,i,r,o,l);if(c.contentDOM){c.children=e.children,e.children=[];for(let f of c.children)f.parent=c}return e.destroy(),c}addNode(e,n,i,r,o){let l=Oo.create(this.top,e,n,i,r,o);l.contentDOM&&l.updateChildren(r,o+1),this.top.children.splice(this.index++,0,l),this.changed=!0}placeWidget(e,n,i){let r=this.index<this.top.children.length?this.top.children[this.index]:null;if(r&&r.matchesWidget(e)&&(e==r.widget||!r.widget.type.toDOM.parentNode))this.index++;else{let o=new H9(this.top,e,n,i);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof Rs;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof Ih)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((En||yn)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let i=document.createElement(e);e=="IMG"&&(i.className="ProseMirror-separator",i.alt=""),e=="BR"&&(i.className="ProseMirror-trailingBreak");let r=new I9(this.top,[],i,null);n!=this.top?n.children.push(r):n.children.splice(this.index++,0,r),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function Fk(t,e){let n=e,i=n.children.length,r=t.childCount,o=new Map,l=[];e:for(;r>0;){let c;for(;;)if(i){let d=n.children[i-1];if(d instanceof Rs)n=d,i=d.children.length;else{c=d,i--;break}}else{if(n==e)break e;i=n.parent.children.indexOf(n),n=n.parent}let f=c.node;if(f){if(f!=t.child(r-1))break;--r,o.set(c,r),l.push(c)}}return{index:r,matched:o,matches:l.reverse()}}function qk(t,e){return t.type.side-e.type.side}function $k(t,e,n,i){let r=e.locals(t),o=0;if(r.length==0){for(let d=0;d<t.childCount;d++){let p=t.child(d);i(p,r,e.forChild(o,p),d),o+=p.nodeSize}return}let l=0,c=[],f=null;for(let d=0;;){let p,m;for(;l<r.length&&r[l].to==o;){let x=r[l++];x.widget&&(p?(m||(m=[p])).push(x):p=x)}if(p)if(m){m.sort(qk);for(let x=0;x<m.length;x++)n(m[x],d,!!f)}else n(p,d,!!f);let y,b;if(f)b=-1,y=f,f=null;else if(d<t.childCount)b=d,y=t.child(d++);else break;for(let x=0;x<c.length;x++)c[x].to<=o&&c.splice(x--,1);for(;l<r.length&&r[l].from<=o&&r[l].to>o;)c.push(r[l++]);let C=o+y.nodeSize;if(y.isText){let x=C;l<r.length&&r[l].from<x&&(x=r[l].from);for(let E=0;E<c.length;E++)c[E].to<x&&(x=c[E].to);x<C&&(f=y.cut(x-o),y=y.cut(0,x-o),C=x,b=-1)}else for(;l<r.length&&r[l].to<C;)l++;let w=y.isInline&&!y.isLeaf?c.filter(x=>!x.inline):c.slice();i(y,w,e.forChild(o,y),b),o=C}}function Kk(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function Zk(t,e,n,i){for(let r=0,o=0;r<t.childCount&&o<=i;){let l=t.child(r++),c=o;if(o+=l.nodeSize,!l.isText)continue;let f=l.text;for(;r<t.childCount;){let d=t.child(r++);if(o+=d.nodeSize,!d.isText)break;f+=d.text}if(o>=n){if(o>=i&&f.slice(i-e.length-c,i-c)==e)return i-e.length;let d=c<i?f.lastIndexOf(e,i-c-1):-1;if(d>=0&&d+e.length+c>=n)return c+d;if(n==i&&f.length>=i+e.length-c&&f.slice(i-c,i-c+e.length)==e)return i}}return-1}function Zg(t,e,n,i,r){let o=[];for(let l=0,c=0;l<t.length;l++){let f=t[l],d=c,p=c+=f.size;d>=n||p<=e?o.push(f):(d<e&&o.push(f.slice(0,e-d,i)),r&&(o.push(r),r=void 0),p>n&&o.push(f.slice(n-d,f.size,i)))}return o}function i2(t,e=null){let n=t.domSelectionRange(),i=t.state.doc;if(!n.focusNode)return null;let r=t.docView.nearestDesc(n.focusNode),o=r&&r.size==0,l=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(l<0)return null;let c=i.resolve(l),f,d;if(Hh(n)){for(f=l;r&&!r.node;)r=r.parent;let m=r.node;if(r&&m.isAtom&&he.isSelectable(m)&&r.parent&&!(m.isInline&&vk(n.focusNode,n.focusOffset,r.dom))){let y=r.posBefore;d=new he(l==y?c:i.resolve(y))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let m=l,y=l;for(let b=0;b<n.rangeCount;b++){let C=n.getRangeAt(b);m=Math.min(m,t.docView.posFromDOM(C.startContainer,C.startOffset,1)),y=Math.max(y,t.docView.posFromDOM(C.endContainer,C.endOffset,-1))}if(m<0)return null;[f,l]=y==t.state.selection.anchor?[y,m]:[m,y],c=i.resolve(l)}else f=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(f<0)return null}let p=i.resolve(f);if(!d){let m=e=="pointer"||t.state.selection.head<c.pos&&!o?1:-1;d=r2(t,p,c,m)}return d}function j9(t){return t.editable?t.hasFocus():P9(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function _r(t,e=!1){let n=t.state.selection;if(U9(t,n),!!j9(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&yn){let i=t.domSelectionRange(),r=t.domObserver.currentSelection;if(i.anchorNode&&r.anchorNode&&As(i.anchorNode,i.anchorOffset,r.anchorNode,r.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)Gk(t);else{let{anchor:i,head:r}=n,o,l;m7&&!(n instanceof fe)&&(n.$from.parent.inlineContent||(o=g7(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(l=g7(t,n.to))),t.docView.setSelection(i,r,t,e),m7&&(o&&y7(o),l&&y7(l)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Yk(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const m7=En||yn&&A9<63;function g7(t,e){let{node:n,offset:i}=t.docView.domFromPos(e,0),r=i<n.childNodes.length?n.childNodes[i]:null,o=i?n.childNodes[i-1]:null;if(En&&r&&r.contentEditable=="false")return Fm(r);if((!r||r.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(r)return Fm(r);if(o)return Fm(o)}}function Fm(t){return t.contentEditable="true",En&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function y7(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function Yk(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),i=n.anchorNode,r=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=i||n.anchorOffset!=r)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!j9(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function Gk(t){let e=t.domSelection(),n=document.createRange();if(!e)return;let i=t.cursorWrapper.dom,r=i.nodeName=="IMG";r?n.setStart(i.parentNode,sn(i)+1):n.setStart(i,0),n.collapse(!0),e.removeAllRanges(),e.addRange(n),!r&&!t.state.selection.visible&&jn&&Ro<=11&&(i.disabled=!0,i.disabled=!1)}function U9(t,e){if(e instanceof he){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(b7(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else b7(t)}function b7(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function r2(t,e,n,i){return t.someProp("createSelectionBetween",r=>r(t,e,n))||fe.between(e,n,i)}function v7(t){return t.editable&&!t.hasFocus()?!1:P9(t)}function P9(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function Xk(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return As(e.node,e.offset,n.anchorNode,n.anchorOffset)}function Yg(t,e){let{$anchor:n,$head:i}=t.selection,r=e>0?n.max(i):n.min(i),o=r.parent.inlineContent?r.depth?t.doc.resolve(e>0?r.after():r.before()):null:r;return o&&be.findFrom(o,e)}function bo(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function C7(t,e,n){let i=t.state.selection;if(i instanceof fe)if(n.indexOf("s")>-1){let{$head:r}=i,o=r.textOffset?null:e<0?r.nodeBefore:r.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let l=t.state.doc.resolve(r.pos+o.nodeSize*(e<0?-1:1));return bo(t,new fe(i.$anchor,l))}else if(i.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let r=Yg(t.state,e);return r&&r instanceof he?bo(t,r):!1}else if(!(gi&&n.indexOf("m")>-1)){let r=i.$head,o=r.textOffset?null:e<0?r.nodeBefore:r.nodeAfter,l;if(!o||o.isText)return!1;let c=e<0?r.pos-o.nodeSize:r.pos;return o.isAtom||(l=t.docView.descAt(c))&&!l.contentDOM?he.isSelectable(o)?bo(t,new he(e<0?t.state.doc.resolve(r.pos-o.nodeSize):r)):au?bo(t,new fe(t.state.doc.resolve(e<0?c:c+o.nodeSize))):!1:!1}}else return!1;else{if(i instanceof he&&i.node.isInline)return bo(t,new fe(e>0?i.$to:i.$from));{let r=Yg(t.state,e);return r?bo(t,r):!1}}}function Rd(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Ec(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Ol(t,e){return e<0?Wk(t):Jk(t)}function Wk(t){let e=t.domSelectionRange(),n=e.focusNode,i=e.focusOffset;if(!n)return;let r,o,l=!1;for(_i&&n.nodeType==1&&i<Rd(n)&&Ec(n.childNodes[i],-1)&&(l=!0);;)if(i>0){if(n.nodeType!=1)break;{let c=n.childNodes[i-1];if(Ec(c,-1))r=n,o=--i;else if(c.nodeType==3)n=c,i=n.nodeValue.length;else break}}else{if(F9(n))break;{let c=n.previousSibling;for(;c&&Ec(c,-1);)r=n.parentNode,o=sn(c),c=c.previousSibling;if(c)n=c,i=Rd(n);else{if(n=n.parentNode,n==t.dom)break;i=0}}}l?Gg(t,n,i):r&&Gg(t,r,o)}function Jk(t){let e=t.domSelectionRange(),n=e.focusNode,i=e.focusOffset;if(!n)return;let r=Rd(n),o,l;for(;;)if(i<r){if(n.nodeType!=1)break;let c=n.childNodes[i];if(Ec(c,1))o=n,l=++i;else break}else{if(F9(n))break;{let c=n.nextSibling;for(;c&&Ec(c,1);)o=c.parentNode,l=sn(c)+1,c=c.nextSibling;if(c)n=c,i=0,r=Rd(n);else{if(n=n.parentNode,n==t.dom)break;i=r=0}}}o&&Gg(t,o,l)}function F9(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function Qk(t,e){for(;t&&e==t.childNodes.length&&!lu(t);)e=sn(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function eA(t,e){for(;t&&!e&&!lu(t);)e=sn(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function Gg(t,e,n){if(e.nodeType!=3){let o,l;(l=Qk(e,n))?(e=l,n=0):(o=eA(e,n))&&(e=o,n=o.nodeValue.length)}let i=t.domSelection();if(!i)return;if(Hh(i)){let o=document.createRange();o.setEnd(e,n),o.setStart(e,n),i.removeAllRanges(),i.addRange(o)}else i.extend&&i.extend(e,n);t.domObserver.setCurSelection();let{state:r}=t;setTimeout(()=>{t.state==r&&_r(t)},50)}function w7(t,e){let n=t.state.doc.resolve(e);if(!(yn||xk)&&n.parent.inlineContent){let r=t.coordsAtPos(e);if(e>n.start()){let o=t.coordsAtPos(e-1),l=(o.top+o.bottom)/2;if(l>r.top&&l<r.bottom&&Math.abs(o.left-r.left)>1)return o.left<r.left?"ltr":"rtl"}if(e<n.end()){let o=t.coordsAtPos(e+1),l=(o.top+o.bottom)/2;if(l>r.top&&l<r.bottom&&Math.abs(o.left-r.left)>1)return o.left>r.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function x7(t,e,n){let i=t.state.selection;if(i instanceof fe&&!i.empty||n.indexOf("s")>-1||gi&&n.indexOf("m")>-1)return!1;let{$from:r,$to:o}=i;if(!r.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let l=Yg(t.state,e);if(l&&l instanceof he)return bo(t,l)}if(!r.parent.inlineContent){let l=e<0?r:o,c=i instanceof Vn?be.near(l,e):be.findFrom(l,e);return c?bo(t,c):!1}return!1}function S7(t,e){if(!(t.state.selection instanceof fe))return!0;let{$head:n,$anchor:i,empty:r}=t.state.selection;if(!n.sameParent(i))return!0;if(!r)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let l=t.state.tr;return e<0?l.delete(n.pos-o.nodeSize,n.pos):l.delete(n.pos,n.pos+o.nodeSize),t.dispatch(l),!0}return!1}function T7(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function tA(t){if(!En||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let i=e.firstChild;T7(t,i,"true"),setTimeout(()=>T7(t,i,"false"),20)}return!1}function nA(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function iA(t,e){let n=e.keyCode,i=nA(e);if(n==8||gi&&n==72&&i=="c")return S7(t,-1)||Ol(t,-1);if(n==46&&!e.shiftKey||gi&&n==68&&i=="c")return S7(t,1)||Ol(t,1);if(n==13||n==27)return!0;if(n==37||gi&&n==66&&i=="c"){let r=n==37?w7(t,t.state.selection.from)=="ltr"?-1:1:-1;return C7(t,r,i)||Ol(t,r)}else if(n==39||gi&&n==70&&i=="c"){let r=n==39?w7(t,t.state.selection.from)=="ltr"?1:-1:1;return C7(t,r,i)||Ol(t,r)}else{if(n==38||gi&&n==80&&i=="c")return x7(t,-1,i)||Ol(t,-1);if(n==40||gi&&n==78&&i=="c")return tA(t)||x7(t,1,i)||Ol(t,1);if(i==(gi?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function o2(t,e){t.someProp("transformCopied",b=>{e=b(e,t)});let n=[],{content:i,openStart:r,openEnd:o}=e;for(;r>1&&o>1&&i.childCount==1&&i.firstChild.childCount==1;){r--,o--;let b=i.firstChild;n.push(b.type.name,b.attrs!=b.type.defaultAttrs?b.attrs:null),i=b.content}let l=t.someProp("clipboardSerializer")||Bs.fromSchema(t.state.schema),c=G9(),f=c.createElement("div");f.appendChild(l.serializeFragment(i,{document:c}));let d=f.firstChild,p,m=0;for(;d&&d.nodeType==1&&(p=Y9[d.nodeName.toLowerCase()]);){for(let b=p.length-1;b>=0;b--){let C=c.createElement(p[b]);for(;f.firstChild;)C.appendChild(f.firstChild);f.appendChild(C),m++}d=f.firstChild}d&&d.nodeType==1&&d.setAttribute("data-pm-slice",`${r} ${o}${m?` -${m}`:""} ${JSON.stringify(n)}`);let y=t.someProp("clipboardTextSerializer",b=>b(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:f,text:y,slice:e}}function q9(t,e,n,i,r){let o=r.parent.type.spec.code,l,c;if(!n&&!e)return null;let f=e&&(i||o||!n);if(f){if(t.someProp("transformPastedText",y=>{e=y(e,o||i,t)}),o)return e?new se(W.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):se.empty;let m=t.someProp("clipboardTextParser",y=>y(e,r,i,t));if(m)c=m;else{let y=r.marks(),{schema:b}=t.state,C=Bs.fromSchema(b);l=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(w=>{let x=l.appendChild(document.createElement("p"));w&&x.appendChild(C.serializeNode(b.text(w,y)))})}}else t.someProp("transformPastedHTML",m=>{n=m(n,t)}),l=lA(n),au&&aA(l);let d=l&&l.querySelector("[data-pm-slice]"),p=d&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(d.getAttribute("data-pm-slice")||"");if(p&&p[3])for(let m=+p[3];m>0;m--){let y=l.firstChild;for(;y&&y.nodeType!=1;)y=y.nextSibling;if(!y)break;l=y}if(c||(c=(t.someProp("clipboardParser")||t.someProp("domParser")||xc.fromSchema(t.state.schema)).parseSlice(l,{preserveWhitespace:!!(f||p),context:r,ruleFromNode(y){return y.nodeName=="BR"&&!y.nextSibling&&y.parentNode&&!rA.test(y.parentNode.nodeName)?{ignore:!0}:null}})),p)c=cA(E7(c,+p[1],+p[2]),p[4]);else if(c=se.maxOpen(oA(c.content,r),!0),c.openStart||c.openEnd){let m=0,y=0;for(let b=c.content.firstChild;m<c.openStart&&!b.type.spec.isolating;m++,b=b.firstChild);for(let b=c.content.lastChild;y<c.openEnd&&!b.type.spec.isolating;y++,b=b.lastChild);c=E7(c,m,y)}return t.someProp("transformPasted",m=>{c=m(c,t)}),c}const rA=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function oA(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.index(n)),o,l=[];if(t.forEach(c=>{if(!l)return;let f=r.findWrapping(c.type),d;if(!f)return l=null;if(d=l.length&&o.length&&K9(f,o,c,l[l.length-1],0))l[l.length-1]=d;else{l.length&&(l[l.length-1]=Z9(l[l.length-1],o.length));let p=$9(c,f);l.push(p),r=r.matchType(p.type),o=f}}),l)return W.from(l)}return t}function $9(t,e,n=0){for(let i=e.length-1;i>=n;i--)t=e[i].create(null,W.from(t));return t}function K9(t,e,n,i,r){if(r<t.length&&r<e.length&&t[r]==e[r]){let o=K9(t,e,n,i.lastChild,r+1);if(o)return i.copy(i.content.replaceChild(i.childCount-1,o));if(i.contentMatchAt(i.childCount).matchType(r==t.length-1?n.type:t[r+1]))return i.copy(i.content.append(W.from($9(n,t,r+1))))}}function Z9(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,Z9(t.lastChild,e-1)),i=t.contentMatchAt(t.childCount).fillBefore(W.empty,!0);return t.copy(n.append(i))}function Xg(t,e,n,i,r,o){let l=e<0?t.firstChild:t.lastChild,c=l.content;return t.childCount>1&&(o=0),r<i-1&&(c=Xg(c,e,n,i,r+1,o)),r>=n&&(c=e<0?l.contentMatchAt(0).fillBefore(c,o<=r).append(c):c.append(l.contentMatchAt(l.childCount).fillBefore(W.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,l.copy(c))}function E7(t,e,n){return e<t.openStart&&(t=new se(Xg(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new se(Xg(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const Y9={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let M7=null;function G9(){return M7||(M7=document.implementation.createHTMLDocument("title"))}let qm=null;function sA(t){let e=window.trustedTypes;return e?(qm||(qm=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),qm.createHTML(t)):t}function lA(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=G9().createElement("div"),i=/<([a-z][^>\s]+)/i.exec(t),r;if((r=i&&Y9[i[1].toLowerCase()])&&(t=r.map(o=>"<"+o+">").join("")+t+r.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=sA(t),r)for(let o=0;o<r.length;o++)n=n.querySelector(r[o])||n;return n}function aA(t){let e=t.querySelectorAll(yn?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let i=e[n];i.childNodes.length==1&&i.textContent==" "&&i.parentNode&&i.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),i)}}function cA(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,i;try{i=JSON.parse(e)}catch{return t}let{content:r,openStart:o,openEnd:l}=t;for(let c=i.length-2;c>=0;c-=2){let f=n.nodes[i[c]];if(!f||f.hasRequiredAttrs())break;r=W.from(f.create(i[c+1],r)),o++,l++}return new se(r,o,l)}const Mn={},kn={},uA={touchstart:!0,touchmove:!0};class fA{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function dA(t){for(let e in Mn){let n=Mn[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=i=>{pA(t,i)&&!s2(t,i)&&(t.editable||!(i.type in kn))&&n(t,i)},uA[e]?{passive:!0}:void 0)}En&&t.dom.addEventListener("input",()=>null),Wg(t)}function Mo(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function hA(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function Wg(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=i=>s2(t,i))})}function s2(t,e){return t.someProp("handleDOMEvents",n=>{let i=n[e.type];return i?i(t,e)||e.defaultPrevented:!1})}function pA(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function mA(t,e){!s2(t,e)&&Mn[e.type]&&(t.editable||!(e.type in kn))&&Mn[e.type](t,e)}kn.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!W9(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Nr&&yn&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Xl&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let i=Date.now();t.input.lastIOSEnter=i,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==i&&(t.someProp("handleKeyDown",r=>r(t,ps(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",i=>i(t,n))||iA(t,n)?n.preventDefault():Mo(t,"key")};kn.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};kn.keypress=(t,e)=>{let n=e;if(W9(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||gi&&n.metaKey)return;if(t.someProp("handleKeyPress",r=>r(t,n))){n.preventDefault();return}let i=t.state.selection;if(!(i instanceof fe)||!i.$from.sameParent(i.$to)){let r=String.fromCharCode(n.charCode),o=()=>t.state.tr.insertText(r).scrollIntoView();!/[\r\n]/.test(r)&&!t.someProp("handleTextInput",l=>l(t,i.$from.pos,i.$to.pos,r,o))&&t.dispatch(o()),n.preventDefault()}};function zh(t){return{left:t.clientX,top:t.clientY}}function gA(t,e){let n=e.x-t.clientX,i=e.y-t.clientY;return n*n+i*i<100}function l2(t,e,n,i,r){if(i==-1)return!1;let o=t.state.doc.resolve(i);for(let l=o.depth+1;l>0;l--)if(t.someProp(e,c=>l>o.depth?c(t,n,o.nodeAfter,o.before(l),r,!0):c(t,n,o.node(l),o.before(l),r,!1)))return!0;return!1}function Ul(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let i=t.state.tr.setSelection(e);i.setMeta("pointer",!0),t.dispatch(i)}function yA(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),i=n.nodeAfter;return i&&i.isAtom&&he.isSelectable(i)?(Ul(t,new he(n)),!0):!1}function bA(t,e){if(e==-1)return!1;let n=t.state.selection,i,r;n instanceof he&&(i=n.node);let o=t.state.doc.resolve(e);for(let l=o.depth+1;l>0;l--){let c=l>o.depth?o.nodeAfter:o.node(l);if(he.isSelectable(c)){i&&n.$from.depth>0&&l>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?r=o.before(n.$from.depth):r=o.before(l);break}}return r!=null?(Ul(t,he.create(t.state.doc,r)),!0):!1}function vA(t,e,n,i,r){return l2(t,"handleClickOn",e,n,i)||t.someProp("handleClick",o=>o(t,e,i))||(r?bA(t,n):yA(t,n))}function CA(t,e,n,i){return l2(t,"handleDoubleClickOn",e,n,i)||t.someProp("handleDoubleClick",r=>r(t,e,i))}function wA(t,e,n,i){return l2(t,"handleTripleClickOn",e,n,i)||t.someProp("handleTripleClick",r=>r(t,e,i))||xA(t,n,i)}function xA(t,e,n){if(n.button!=0)return!1;let i=t.state.doc;if(e==-1)return i.inlineContent?(Ul(t,fe.create(i,0,i.content.size)),!0):!1;let r=i.resolve(e);for(let o=r.depth+1;o>0;o--){let l=o>r.depth?r.nodeAfter:r.node(o),c=r.before(o);if(l.inlineContent)Ul(t,fe.create(i,c+1,c+1+l.content.size));else if(he.isSelectable(l))Ul(t,he.create(i,c));else continue;return!0}}function a2(t){return Od(t)}const X9=gi?"metaKey":"ctrlKey";Mn.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let i=a2(t),r=Date.now(),o="singleClick";r-t.input.lastClick.time<500&&gA(n,t.input.lastClick)&&!n[X9]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?o="doubleClick":t.input.lastClick.type=="doubleClick"&&(o="tripleClick")),t.input.lastClick={time:r,x:n.clientX,y:n.clientY,type:o,button:n.button};let l=t.posAtCoords(zh(n));l&&(o=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new SA(t,l,n,!!i)):(o=="doubleClick"?CA:wA)(t,l.pos,l.inside,n)?n.preventDefault():Mo(t,"pointer"))};class SA{constructor(e,n,i,r){this.view=e,this.pos=n,this.event=i,this.flushed=r,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!i[X9],this.allowDefault=i.shiftKey;let o,l;if(n.inside>-1)o=e.state.doc.nodeAt(n.inside),l=n.inside;else{let p=e.state.doc.resolve(n.pos);o=p.parent,l=p.depth?p.before():0}const c=r?null:i.target,f=c?e.docView.nearestDesc(c,!0):null;this.target=f&&f.dom.nodeType==1?f.dom:null;let{selection:d}=e.state;(i.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||d instanceof he&&d.from<=l&&d.to>l)&&(this.mightDrag={node:o,pos:l,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&_i&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Mo(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>_r(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(zh(e))),this.updateAllowDefault(e),this.allowDefault||!n?Mo(this.view,"pointer"):vA(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||En&&this.mightDrag&&!this.mightDrag.node.isAtom||yn&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Ul(this.view,be.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):Mo(this.view,"pointer")}move(e){this.updateAllowDefault(e),Mo(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Mn.touchstart=t=>{t.input.lastTouch=Date.now(),a2(t),Mo(t,"pointer")};Mn.touchmove=t=>{t.input.lastTouch=Date.now(),Mo(t,"pointer")};Mn.contextmenu=t=>a2(t);function W9(t,e){return t.composing?!0:En&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const TA=Nr?5e3:-1;kn.compositionstart=kn.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof fe&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(i=>i.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),Od(t,!0),t.markCursor=null;else if(Od(t,!e.selection.empty),_i&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let i=t.domSelectionRange();for(let r=i.focusNode,o=i.focusOffset;r&&r.nodeType==1&&o!=0;){let l=o<0?r.lastChild:r.childNodes[o-1];if(!l)break;if(l.nodeType==3){let c=t.domSelection();c&&c.collapse(l,l.nodeValue.length);break}else r=l,o=-1}}t.input.composing=!0}J9(t,TA)};kn.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,J9(t,20))};function J9(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Od(t),e))}function Q9(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=MA());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function EA(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=yk(e.focusNode,e.focusOffset),i=bk(e.focusNode,e.focusOffset);if(n&&i&&n!=i){let r=i.pmViewDesc,o=t.domObserver.lastChangedTextNode;if(n==o||i==o)return o;if(!r||!r.isText(i.nodeValue))return i;if(t.input.compositionNode==i){let l=n.pmViewDesc;if(!(!l||!l.isText(n.nodeValue)))return i}}return n||i}function MA(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Od(t,e=!1){if(!(Nr&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),Q9(t),e||t.docView&&t.docView.dirty){let n=i2(t),i=t.state.selection;return n&&!n.eq(i)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!i.$from.node(i.$from.sharedDepth(i.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function kA(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let i=getSelection(),r=document.createRange();r.selectNodeContents(e),t.dom.blur(),i.removeAllRanges(),i.addRange(r),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const jc=jn&&Ro<15||Xl&&Sk<604;Mn.copy=kn.cut=(t,e)=>{let n=e,i=t.state.selection,r=n.type=="cut";if(i.empty)return;let o=jc?null:n.clipboardData,l=i.content(),{dom:c,text:f}=o2(t,l);o?(n.preventDefault(),o.clearData(),o.setData("text/html",c.innerHTML),o.setData("text/plain",f)):kA(t,c),r&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function AA(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function RA(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,i=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(i.contentEditable="true"),i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus();let r=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),i.parentNode&&i.parentNode.removeChild(i),n?Uc(t,i.value,null,r,e):Uc(t,i.textContent,i.innerHTML,r,e)},50)}function Uc(t,e,n,i,r){let o=q9(t,e,n,i,t.state.selection.$from);if(t.someProp("handlePaste",f=>f(t,r,o||se.empty)))return!0;if(!o)return!1;let l=AA(o),c=l?t.state.tr.replaceSelectionWith(l,i):t.state.tr.replaceSelection(o);return t.dispatch(c.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function e6(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}kn.paste=(t,e)=>{let n=e;if(t.composing&&!Nr)return;let i=jc?null:n.clipboardData,r=t.input.shiftKey&&t.input.lastKeyCode!=45;i&&Uc(t,e6(i),i.getData("text/html"),r,n)?n.preventDefault():RA(t,n)};class t6{constructor(e,n,i){this.slice=e,this.move=n,this.node=i}}const OA=gi?"altKey":"ctrlKey";function n6(t,e){let n=t.someProp("dragCopies",i=>!i(e));return n??!e[OA]}Mn.dragstart=(t,e)=>{let n=e,i=t.input.mouseDown;if(i&&i.done(),!n.dataTransfer)return;let r=t.state.selection,o=r.empty?null:t.posAtCoords(zh(n)),l;if(!(o&&o.pos>=r.from&&o.pos<=(r instanceof he?r.to-1:r.to))){if(i&&i.mightDrag)l=he.create(t.state.doc,i.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let m=t.docView.nearestDesc(n.target,!0);m&&m.node.type.spec.draggable&&m!=t.docView&&(l=he.create(t.state.doc,m.posBefore))}}let c=(l||t.state.selection).content(),{dom:f,text:d,slice:p}=o2(t,c);(!n.dataTransfer.files.length||!yn||A9>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(jc?"Text":"text/html",f.innerHTML),n.dataTransfer.effectAllowed="copyMove",jc||n.dataTransfer.setData("text/plain",d),t.dragging=new t6(p,n6(t,n),l)};Mn.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};kn.dragover=kn.dragenter=(t,e)=>e.preventDefault();kn.drop=(t,e)=>{let n=e,i=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let r=t.posAtCoords(zh(n));if(!r)return;let o=t.state.doc.resolve(r.pos),l=i&&i.slice;l?t.someProp("transformPasted",C=>{l=C(l,t)}):l=q9(t,e6(n.dataTransfer),jc?null:n.dataTransfer.getData("text/html"),!1,o);let c=!!(i&&n6(t,n));if(t.someProp("handleDrop",C=>C(t,n,l||se.empty,c))){n.preventDefault();return}if(!l)return;n.preventDefault();let f=l?C9(t.state.doc,o.pos,l):o.pos;f==null&&(f=o.pos);let d=t.state.tr;if(c){let{node:C}=i;C?C.replace(d):d.deleteSelection()}let p=d.mapping.map(f),m=l.openStart==0&&l.openEnd==0&&l.content.childCount==1,y=d.doc;if(m?d.replaceRangeWith(p,p,l.content.firstChild):d.replaceRange(p,p,l),d.doc.eq(y))return;let b=d.doc.resolve(p);if(m&&he.isSelectable(l.content.firstChild)&&b.nodeAfter&&b.nodeAfter.sameMarkup(l.content.firstChild))d.setSelection(new he(b));else{let C=d.mapping.map(f);d.mapping.maps[d.mapping.maps.length-1].forEach((w,x,E,A)=>C=A),d.setSelection(r2(t,b,d.doc.resolve(C)))}t.focus(),t.dispatch(d.setMeta("uiEvent","drop"))};Mn.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&_r(t)},20))};Mn.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Mn.beforeinput=(t,e)=>{if(yn&&Nr&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:i}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=i||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",o=>o(t,ps(8,"Backspace")))))return;let{$cursor:r}=t.state.selection;r&&r.pos>0&&t.dispatch(t.state.tr.delete(r.pos-1,r.pos).scrollIntoView())},50)}};for(let t in kn)Mn[t]=kn[t];function Pc(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Nd{constructor(e,n){this.toDOM=e,this.spec=n||ws,this.side=this.spec.side||0}map(e,n,i,r){let{pos:o,deleted:l}=e.mapResult(n.from+r,this.side<0?-1:1);return l?null:new It(o-i,o-i,this)}valid(){return!0}eq(e){return this==e||e instanceof Nd&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Pc(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class No{constructor(e,n){this.attrs=e,this.spec=n||ws}map(e,n,i,r){let o=e.map(n.from+r,this.spec.inclusiveStart?-1:1)-i,l=e.map(n.to+r,this.spec.inclusiveEnd?1:-1)-i;return o>=l?null:new It(o,l,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof No&&Pc(this.attrs,e.attrs)&&Pc(this.spec,e.spec)}static is(e){return e.type instanceof No}destroy(){}}class c2{constructor(e,n){this.attrs=e,this.spec=n||ws}map(e,n,i,r){let o=e.mapResult(n.from+r,1);if(o.deleted)return null;let l=e.mapResult(n.to+r,-1);return l.deleted||l.pos<=o.pos?null:new It(o.pos-i,l.pos-i,this)}valid(e,n){let{index:i,offset:r}=e.content.findIndex(n.from),o;return r==n.from&&!(o=e.child(i)).isText&&r+o.nodeSize==n.to}eq(e){return this==e||e instanceof c2&&Pc(this.attrs,e.attrs)&&Pc(this.spec,e.spec)}destroy(){}}class It{constructor(e,n,i){this.from=e,this.to=n,this.type=i}copy(e,n){return new It(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,i){return this.type.map(e,this,n,i)}static widget(e,n,i){return new It(e,e,new Nd(n,i))}static inline(e,n,i,r){return new It(e,n,new No(i,r))}static node(e,n,i,r){return new It(e,n,new c2(i,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof No}get widget(){return this.type instanceof Nd}}const Hl=[],ws={};class Je{constructor(e,n){this.local=e.length?e:Hl,this.children=n.length?n:Hl}static create(e,n){return n.length?Dd(n,e,0,ws):pn}find(e,n,i){let r=[];return this.findInner(e??0,n??1e9,r,0,i),r}findInner(e,n,i,r,o){for(let l=0;l<this.local.length;l++){let c=this.local[l];c.from<=n&&c.to>=e&&(!o||o(c.spec))&&i.push(c.copy(c.from+r,c.to+r))}for(let l=0;l<this.children.length;l+=3)if(this.children[l]<n&&this.children[l+1]>e){let c=this.children[l]+1;this.children[l+2].findInner(e-c,n-c,i,r+c,o)}}map(e,n,i){return this==pn||e.maps.length==0?this:this.mapInner(e,n,0,0,i||ws)}mapInner(e,n,i,r,o){let l;for(let c=0;c<this.local.length;c++){let f=this.local[c].map(e,i,r);f&&f.type.valid(n,f)?(l||(l=[])).push(f):o.onRemove&&o.onRemove(this.local[c].spec)}return this.children.length?NA(this.children,l||[],e,n,i,r,o):l?new Je(l.sort(xs),Hl):pn}add(e,n){return n.length?this==pn?Je.create(e,n):this.addInner(e,n,0):this}addInner(e,n,i){let r,o=0;e.forEach((c,f)=>{let d=f+i,p;if(p=r6(n,c,d)){for(r||(r=this.children.slice());o<r.length&&r[o]<f;)o+=3;r[o]==f?r[o+2]=r[o+2].addInner(c,p,d+1):r.splice(o,0,f,f+c.nodeSize,Dd(p,c,d+1,ws)),o+=3}});let l=i6(o?o6(n):n,-i);for(let c=0;c<l.length;c++)l[c].type.valid(e,l[c])||l.splice(c--,1);return new Je(l.length?this.local.concat(l).sort(xs):this.local,r||this.children)}remove(e){return e.length==0||this==pn?this:this.removeInner(e,0)}removeInner(e,n){let i=this.children,r=this.local;for(let o=0;o<i.length;o+=3){let l,c=i[o]+n,f=i[o+1]+n;for(let p=0,m;p<e.length;p++)(m=e[p])&&m.from>c&&m.to<f&&(e[p]=null,(l||(l=[])).push(m));if(!l)continue;i==this.children&&(i=this.children.slice());let d=i[o+2].removeInner(l,c+1);d!=pn?i[o+2]=d:(i.splice(o,3),o-=3)}if(r.length){for(let o=0,l;o<e.length;o++)if(l=e[o])for(let c=0;c<r.length;c++)r[c].eq(l,n)&&(r==this.local&&(r=this.local.slice()),r.splice(c--,1))}return i==this.children&&r==this.local?this:r.length||i.length?new Je(r,i):pn}forChild(e,n){if(this==pn)return this;if(n.isLeaf)return Je.empty;let i,r;for(let c=0;c<this.children.length;c+=3)if(this.children[c]>=e){this.children[c]==e&&(i=this.children[c+2]);break}let o=e+1,l=o+n.content.size;for(let c=0;c<this.local.length;c++){let f=this.local[c];if(f.from<l&&f.to>o&&f.type instanceof No){let d=Math.max(o,f.from)-o,p=Math.min(l,f.to)-o;d<p&&(r||(r=[])).push(f.copy(d,p))}}if(r){let c=new Je(r.sort(xs),Hl);return i?new wo([c,i]):c}return i||pn}eq(e){if(this==e)return!0;if(!(e instanceof Je)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return u2(this.localsInner(e))}localsInner(e){if(this==pn)return Hl;if(e.inlineContent||!this.local.some(No.is))return this.local;let n=[];for(let i=0;i<this.local.length;i++)this.local[i].type instanceof No||n.push(this.local[i]);return n}forEachSet(e){e(this)}}Je.empty=new Je([],[]);Je.removeOverlap=u2;const pn=Je.empty;class wo{constructor(e){this.members=e}map(e,n){const i=this.members.map(r=>r.map(e,n,ws));return wo.from(i)}forChild(e,n){if(n.isLeaf)return Je.empty;let i=[];for(let r=0;r<this.members.length;r++){let o=this.members[r].forChild(e,n);o!=pn&&(o instanceof wo?i=i.concat(o.members):i.push(o))}return wo.from(i)}eq(e){if(!(e instanceof wo)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,i=!0;for(let r=0;r<this.members.length;r++){let o=this.members[r].localsInner(e);if(o.length)if(!n)n=o;else{i&&(n=n.slice(),i=!1);for(let l=0;l<o.length;l++)n.push(o[l])}}return n?u2(i?n:n.sort(xs)):Hl}static from(e){switch(e.length){case 0:return pn;case 1:return e[0];default:return new wo(e.every(n=>n instanceof Je)?e:e.reduce((n,i)=>n.concat(i instanceof Je?i:i.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function NA(t,e,n,i,r,o,l){let c=t.slice();for(let d=0,p=o;d<n.maps.length;d++){let m=0;n.maps[d].forEach((y,b,C,w)=>{let x=w-C-(b-y);for(let E=0;E<c.length;E+=3){let A=c[E+1];if(A<0||y>A+p-m)continue;let O=c[E]+p-m;b>=O?c[E+1]=y<=O?-2:-1:y>=p&&x&&(c[E]+=x,c[E+1]+=x)}m+=x}),p=n.maps[d].map(p,-1)}let f=!1;for(let d=0;d<c.length;d+=3)if(c[d+1]<0){if(c[d+1]==-2){f=!0,c[d+1]=-1;continue}let p=n.map(t[d]+o),m=p-r;if(m<0||m>=i.content.size){f=!0;continue}let y=n.map(t[d+1]+o,-1),b=y-r,{index:C,offset:w}=i.content.findIndex(m),x=i.maybeChild(C);if(x&&w==m&&w+x.nodeSize==b){let E=c[d+2].mapInner(n,x,p+1,t[d]+o+1,l);E!=pn?(c[d]=m,c[d+1]=b,c[d+2]=E):(c[d+1]=-2,f=!0)}else f=!0}if(f){let d=DA(c,t,e,n,r,o,l),p=Dd(d,i,0,l);e=p.local;for(let m=0;m<c.length;m+=3)c[m+1]<0&&(c.splice(m,3),m-=3);for(let m=0,y=0;m<p.children.length;m+=3){let b=p.children[m];for(;y<c.length&&c[y]<b;)y+=3;c.splice(y,0,p.children[m],p.children[m+1],p.children[m+2])}}return new Je(e.sort(xs),c)}function i6(t,e){if(!e||!t.length)return t;let n=[];for(let i=0;i<t.length;i++){let r=t[i];n.push(new It(r.from+e,r.to+e,r.type))}return n}function DA(t,e,n,i,r,o,l){function c(f,d){for(let p=0;p<f.local.length;p++){let m=f.local[p].map(i,r,d);m?n.push(m):l.onRemove&&l.onRemove(f.local[p].spec)}for(let p=0;p<f.children.length;p+=3)c(f.children[p+2],f.children[p]+d+1)}for(let f=0;f<t.length;f+=3)t[f+1]==-1&&c(t[f+2],e[f]+o+1);return n}function r6(t,e,n){if(e.isLeaf)return null;let i=n+e.nodeSize,r=null;for(let o=0,l;o<t.length;o++)(l=t[o])&&l.from>n&&l.to<i&&((r||(r=[])).push(l),t[o]=null);return r}function o6(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Dd(t,e,n,i){let r=[],o=!1;e.forEach((c,f)=>{let d=r6(t,c,f+n);if(d){o=!0;let p=Dd(d,c,n+f+1,i);p!=pn&&r.push(f,f+c.nodeSize,p)}});let l=i6(o?o6(t):t,-n).sort(xs);for(let c=0;c<l.length;c++)l[c].type.valid(e,l[c])||(i.onRemove&&i.onRemove(l[c].spec),l.splice(c--,1));return l.length||r.length?new Je(l,r):pn}function xs(t,e){return t.from-e.from||t.to-e.to}function u2(t){let e=t;for(let n=0;n<e.length-1;n++){let i=e[n];if(i.from!=i.to)for(let r=n+1;r<e.length;r++){let o=e[r];if(o.from==i.from){o.to!=i.to&&(e==t&&(e=t.slice()),e[r]=o.copy(o.from,i.to),k7(e,r+1,o.copy(i.to,o.to)));continue}else{o.from<i.to&&(e==t&&(e=t.slice()),e[n]=i.copy(i.from,o.from),k7(e,r,i.copy(o.from,i.to)));break}}}return e}function k7(t,e,n){for(;e<t.length&&xs(n,t[e])>0;)e++;t.splice(e,0,n)}function $m(t){let e=[];return t.someProp("decorations",n=>{let i=n(t.state);i&&i!=pn&&e.push(i)}),t.cursorWrapper&&e.push(Je.create(t.state.doc,[t.cursorWrapper.deco])),wo.from(e)}const LA={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},_A=jn&&Ro<=11;class HA{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class IA{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new HA,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(i=>{for(let r=0;r<i.length;r++)this.queue.push(i[r]);jn&&Ro<=11&&i.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),_A&&(this.onCharData=i=>{this.queue.push({target:i.target,type:"characterData",oldValue:i.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,LA)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(v7(this.view)){if(this.suppressingSelectionUpdates)return _r(this.view);if(jn&&Ro<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&As(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,i;for(let o=e.focusNode;o;o=Gl(o))n.add(o);for(let o=e.anchorNode;o;o=Gl(o))if(n.has(o)){i=o;break}let r=i&&this.view.docView.nearestDesc(i);if(r&&r.ignoreMutation({type:"selection",target:i.nodeType==3?i.parentNode:i}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let i=e.domSelectionRange(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(i)&&v7(e)&&!this.ignoreSelectionChange(i),o=-1,l=-1,c=!1,f=[];if(e.editable)for(let p=0;p<n.length;p++){let m=this.registerMutation(n[p],f);m&&(o=o<0?m.from:Math.min(m.from,o),l=l<0?m.to:Math.max(m.to,l),m.typeOver&&(c=!0))}if(_i&&f.length){let p=f.filter(m=>m.nodeName=="BR");if(p.length==2){let[m,y]=p;m.parentNode&&m.parentNode.parentNode==y.parentNode?y.remove():m.remove()}else{let{focusNode:m}=this.currentSelection;for(let y of p){let b=y.parentNode;b&&b.nodeName=="LI"&&(!m||VA(e,m)!=b)&&y.remove()}}}let d=null;o<0&&r&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Hh(i)&&(d=i2(e))&&d.eq(be.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,_r(e),this.currentSelection.set(i),e.scrollToSelection()):(o>-1||r)&&(o>-1&&(e.docView.markDirty(o,l),zA(e)),this.handleDOMChange(o,l,c,f),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(i)||_r(e),this.currentSelection.set(i))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let i=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(i==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!i||i.ignoreMutation(e))return null;if(e.type=="childList"){for(let p=0;p<e.addedNodes.length;p++){let m=e.addedNodes[p];n.push(m),m.nodeType==3&&(this.lastChangedTextNode=m)}if(i.contentDOM&&i.contentDOM!=i.dom&&!i.contentDOM.contains(e.target))return{from:i.posBefore,to:i.posAfter};let r=e.previousSibling,o=e.nextSibling;if(jn&&Ro<=11&&e.addedNodes.length)for(let p=0;p<e.addedNodes.length;p++){let{previousSibling:m,nextSibling:y}=e.addedNodes[p];(!m||Array.prototype.indexOf.call(e.addedNodes,m)<0)&&(r=m),(!y||Array.prototype.indexOf.call(e.addedNodes,y)<0)&&(o=y)}let l=r&&r.parentNode==e.target?sn(r)+1:0,c=i.localPosFromDOM(e.target,l,-1),f=o&&o.parentNode==e.target?sn(o):e.target.childNodes.length,d=i.localPosFromDOM(e.target,f,1);return{from:c,to:d}}else return e.type=="attributes"?{from:i.posAtStart-i.border,to:i.posAtEnd+i.border}:(this.lastChangedTextNode=e.target,{from:i.posAtStart,to:i.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let A7=new WeakMap,R7=!1;function zA(t){if(!A7.has(t)&&(A7.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=_i,R7)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),R7=!0}}function O7(t,e){let n=e.startContainer,i=e.startOffset,r=e.endContainer,o=e.endOffset,l=t.domAtPos(t.state.selection.anchor);return As(l.node,l.offset,r,o)&&([n,i,r,o]=[r,o,n,i]),{anchorNode:n,anchorOffset:i,focusNode:r,focusOffset:o}}function BA(t,e){if(e.getComposedRanges){let r=e.getComposedRanges(t.root)[0];if(r)return O7(t,r)}let n;function i(r){r.preventDefault(),r.stopImmediatePropagation(),n=r.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",i,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",i,!0),n?O7(t,n):null}function VA(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let i=t.docView.nearestDesc(n,!0);if(i&&i.node.isBlock)return n}return null}function jA(t,e,n){let{node:i,fromOffset:r,toOffset:o,from:l,to:c}=t.docView.parseRange(e,n),f=t.domSelectionRange(),d,p=f.anchorNode;if(p&&t.dom.contains(p.nodeType==1?p:p.parentNode)&&(d=[{node:p,offset:f.anchorOffset}],Hh(f)||d.push({node:f.focusNode,offset:f.focusOffset})),yn&&t.input.lastKeyCode===8)for(let x=o;x>r;x--){let E=i.childNodes[x-1],A=E.pmViewDesc;if(E.nodeName=="BR"&&!A){o=x;break}if(!A||A.size)break}let m=t.state.doc,y=t.someProp("domParser")||xc.fromSchema(t.state.schema),b=m.resolve(l),C=null,w=y.parse(i,{topNode:b.parent,topMatch:b.parent.contentMatchAt(b.index()),topOpen:!0,from:r,to:o,preserveWhitespace:b.parent.type.whitespace=="pre"?"full":!0,findPositions:d,ruleFromNode:UA,context:b});if(d&&d[0].pos!=null){let x=d[0].pos,E=d[1]&&d[1].pos;E==null&&(E=x),C={anchor:x+l,head:E+l}}return{doc:w,sel:C,from:l,to:c}}function UA(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(En&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||En&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const PA=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function FA(t,e,n,i,r){let o=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let X=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,oe=i2(t,X);if(oe&&!t.state.selection.eq(oe)){if(yn&&Nr&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",le=>le(t,ps(13,"Enter"))))return;let Q=t.state.tr.setSelection(oe);X=="pointer"?Q.setMeta("pointer",!0):X=="key"&&Q.scrollIntoView(),o&&Q.setMeta("composition",o),t.dispatch(Q)}return}let l=t.state.doc.resolve(e),c=l.sharedDepth(n);e=l.before(c+1),n=t.state.doc.resolve(n).after(c+1);let f=t.state.selection,d=jA(t,e,n),p=t.state.doc,m=p.slice(d.from,d.to),y,b;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(y=t.state.selection.to,b="end"):(y=t.state.selection.from,b="start"),t.input.lastKeyCode=null;let C=KA(m.content,d.doc.content,d.from,y,b);if(C&&t.input.domChangeCount++,(Xl&&t.input.lastIOSEnter>Date.now()-225||Nr)&&r.some(X=>X.nodeType==1&&!PA.test(X.nodeName))&&(!C||C.endA>=C.endB)&&t.someProp("handleKeyDown",X=>X(t,ps(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!C)if(i&&f instanceof fe&&!f.empty&&f.$head.sameParent(f.$anchor)&&!t.composing&&!(d.sel&&d.sel.anchor!=d.sel.head))C={start:f.from,endA:f.to,endB:f.to};else{if(d.sel){let X=N7(t,t.state.doc,d.sel);if(X&&!X.eq(t.state.selection)){let oe=t.state.tr.setSelection(X);o&&oe.setMeta("composition",o),t.dispatch(oe)}}return}t.state.selection.from<t.state.selection.to&&C.start==C.endB&&t.state.selection instanceof fe&&(C.start>t.state.selection.from&&C.start<=t.state.selection.from+2&&t.state.selection.from>=d.from?C.start=t.state.selection.from:C.endA<t.state.selection.to&&C.endA>=t.state.selection.to-2&&t.state.selection.to<=d.to&&(C.endB+=t.state.selection.to-C.endA,C.endA=t.state.selection.to)),jn&&Ro<=11&&C.endB==C.start+1&&C.endA==C.start&&C.start>d.from&&d.doc.textBetween(C.start-d.from-1,C.start-d.from+1)=="  "&&(C.start--,C.endA--,C.endB--);let w=d.doc.resolveNoCache(C.start-d.from),x=d.doc.resolveNoCache(C.endB-d.from),E=p.resolve(C.start),A=w.sameParent(x)&&w.parent.inlineContent&&E.end()>=C.endA,O;if((Xl&&t.input.lastIOSEnter>Date.now()-225&&(!A||r.some(X=>X.nodeName=="DIV"||X.nodeName=="P"))||!A&&w.pos<d.doc.content.size&&(!w.sameParent(x)||!w.parent.inlineContent)&&!/\S/.test(d.doc.textBetween(w.pos,x.pos,"",""))&&(O=be.findFrom(d.doc.resolve(w.pos+1),1,!0))&&O.head>w.pos)&&t.someProp("handleKeyDown",X=>X(t,ps(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>C.start&&$A(p,C.start,C.endA,w,x)&&t.someProp("handleKeyDown",X=>X(t,ps(8,"Backspace")))){Nr&&yn&&t.domObserver.suppressSelectionUpdates();return}yn&&C.endB==C.start&&(t.input.lastChromeDelete=Date.now()),Nr&&!A&&w.start()!=x.start()&&x.parentOffset==0&&w.depth==x.depth&&d.sel&&d.sel.anchor==d.sel.head&&d.sel.head==C.endA&&(C.endB-=2,x=d.doc.resolveNoCache(C.endB-d.from),setTimeout(()=>{t.someProp("handleKeyDown",function(X){return X(t,ps(13,"Enter"))})},20));let H=C.start,L=C.endA,K=X=>{let oe=X||t.state.tr.replace(H,L,d.doc.slice(C.start-d.from,C.endB-d.from));if(d.sel){let Q=N7(t,oe.doc,d.sel);Q&&!(yn&&t.composing&&Q.empty&&(C.start!=C.endB||t.input.lastChromeDelete<Date.now()-100)&&(Q.head==H||Q.head==oe.mapping.map(L)-1)||jn&&Q.empty&&Q.head==H)&&oe.setSelection(Q)}return o&&oe.setMeta("composition",o),oe.scrollIntoView()},Y;if(A){if(w.pos==x.pos){jn&&Ro<=11&&w.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>_r(t),20));let X=K(t.state.tr.delete(H,L)),oe=p.resolve(C.start).marksAcross(p.resolve(C.endA));oe&&X.ensureMarks(oe),t.dispatch(X)}else if(C.endA==C.endB&&(Y=qA(w.parent.content.cut(w.parentOffset,x.parentOffset),E.parent.content.cut(E.parentOffset,C.endA-E.start())))){let X=K(t.state.tr);Y.type=="add"?X.addMark(H,L,Y.mark):X.removeMark(H,L,Y.mark),t.dispatch(X)}else if(w.parent.child(w.index()).isText&&w.index()==x.index()-(x.textOffset?0:1)){let X=w.parent.textBetween(w.parentOffset,x.parentOffset),oe=()=>K(t.state.tr.insertText(X,H,L));t.someProp("handleTextInput",Q=>Q(t,H,L,X,oe))||t.dispatch(oe())}}else t.dispatch(K())}function N7(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:r2(t,e.resolve(n.anchor),e.resolve(n.head))}function qA(t,e){let n=t.firstChild.marks,i=e.firstChild.marks,r=n,o=i,l,c,f;for(let p=0;p<i.length;p++)r=i[p].removeFromSet(r);for(let p=0;p<n.length;p++)o=n[p].removeFromSet(o);if(r.length==1&&o.length==0)c=r[0],l="add",f=p=>p.mark(c.addToSet(p.marks));else if(r.length==0&&o.length==1)c=o[0],l="remove",f=p=>p.mark(c.removeFromSet(p.marks));else return null;let d=[];for(let p=0;p<e.childCount;p++)d.push(f(e.child(p)));if(W.from(d).eq(t))return{mark:c,type:l}}function $A(t,e,n,i,r){if(n-e<=r.pos-i.pos||Km(i,!0,!1)<r.pos)return!1;let o=t.resolve(e);if(!i.parent.isTextblock){let c=o.nodeAfter;return c!=null&&n==e+c.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let l=t.resolve(Km(o,!0,!0));return!l.parent.isTextblock||l.pos>n||Km(l,!0,!1)<n?!1:i.parent.content.cut(i.parentOffset).eq(l.parent.content)}function Km(t,e,n){let i=t.depth,r=e?t.end():t.pos;for(;i>0&&(e||t.indexAfter(i)==t.node(i).childCount);)i--,r++,e=!1;if(n){let o=t.node(i).maybeChild(t.indexAfter(i));for(;o&&!o.isLeaf;)o=o.firstChild,r++}return r}function KA(t,e,n,i,r){let o=t.findDiffStart(e,n);if(o==null)return null;let{a:l,b:c}=t.findDiffEnd(e,n+t.size,n+e.size);if(r=="end"){let f=Math.max(0,o-Math.min(l,c));i-=l+f-o}if(l<o&&t.size<e.size){let f=i<=o&&i>=l?o-i:0;o-=f,o&&o<e.size&&D7(e.textBetween(o-1,o+1))&&(o+=f?1:-1),c=o+(c-l),l=o}else if(c<o){let f=i<=o&&i>=c?o-i:0;o-=f,o&&o<t.size&&D7(t.textBetween(o-1,o+1))&&(o+=f?1:-1),l=o+(l-c),c=o}return{start:o,endA:l,endB:c}}function D7(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class s6{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new fA,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(z7),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=H7(this),_7(this),this.nodeViews=I7(this),this.docView=h7(this.state.doc,L7(this),$m(this),this.dom,this),this.domObserver=new IA(this,(i,r,o,l)=>FA(this,i,r,o,l)),this.domObserver.start(),dA(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Wg(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(z7),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let i in this._props)n[i]=this._props[i];n.state=this.state;for(let i in e)n[i]=e[i];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var i;let r=this.state,o=!1,l=!1;e.storedMarks&&this.composing&&(Q9(this),l=!0),this.state=e;let c=r.plugins!=e.plugins||this._props.plugins!=n.plugins;if(c||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let b=I7(this);YA(b,this.nodeViews)&&(this.nodeViews=b,o=!0)}(c||n.handleDOMEvents!=this._props.handleDOMEvents)&&Wg(this),this.editable=H7(this),_7(this);let f=$m(this),d=L7(this),p=r.plugins!=e.plugins&&!r.doc.eq(e.doc)?"reset":e.scrollToSelection>r.scrollToSelection?"to selection":"preserve",m=o||!this.docView.matchesNode(e.doc,d,f);(m||!e.selection.eq(r.selection))&&(l=!0);let y=p=="preserve"&&l&&this.dom.style.overflowAnchor==null&&Mk(this);if(l){this.domObserver.stop();let b=m&&(jn||yn)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&ZA(r.selection,e.selection);if(m){let C=yn?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=EA(this)),(o||!this.docView.update(e.doc,d,f,this))&&(this.docView.updateOuterDeco(d),this.docView.destroy(),this.docView=h7(e.doc,d,f,this.dom,this)),C&&!this.trackWrites&&(b=!0)}b||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&Xk(this))?_r(this,b):(U9(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),!((i=this.dragging)===null||i===void 0)&&i.node&&!r.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,r),p=="reset"?this.dom.scrollTop=0:p=="to selection"?this.scrollToSelection():y&&kk(y)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof he){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&l7(this,n.getBoundingClientRect(),e)}else l7(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let i=this.directPlugins[n];i.spec.view&&this.pluginViews.push(i.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let i=this.state.plugins[n];i.spec.view&&this.pluginViews.push(i.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let i=this.pluginViews[n];i.update&&i.update(this,e)}}updateDraggedNode(e,n){let i=e.node,r=-1;if(this.state.doc.nodeAt(i.from)==i.node)r=i.from;else{let o=i.from+(this.state.doc.content.size-n.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==i.node&&(r=o)}this.dragging=new t6(e.slice,e.move,r<0?void 0:he.create(this.state.doc,r))}someProp(e,n){let i=this._props&&this._props[e],r;if(i!=null&&(r=n?n(i):i))return r;for(let l=0;l<this.directPlugins.length;l++){let c=this.directPlugins[l].props[e];if(c!=null&&(r=n?n(c):c))return r}let o=this.state.plugins;if(o)for(let l=0;l<o.length;l++){let c=o[l].props[e];if(c!=null&&(r=n?n(c):c))return r}}hasFocus(){if(jn){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&Ak(this.dom),_r(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return Lk(this,e)}coordsAtPos(e,n=1){return L9(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,i=-1){let r=this.docView.posFromDOM(e,n,i);if(r==null)throw new RangeError("DOM position not inside the editor");return r}endOfTextblock(e,n){return Bk(this,n||this.state,e)}pasteHTML(e,n){return Uc(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return Uc(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return o2(this,e)}destroy(){this.docView&&(hA(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],$m(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,mk())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return mA(this,e)}domSelectionRange(){let e=this.domSelection();return e?En&&this.root.nodeType===11&&Ck(this.dom.ownerDocument)==this.dom&&BA(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}s6.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function L7(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let i in n)i=="class"?e.class+=" "+n[i]:i=="style"?e.style=(e.style?e.style+";":"")+n[i]:!e[i]&&i!="contenteditable"&&i!="nodeName"&&(e[i]=String(n[i]))}),e.translate||(e.translate="no"),[It.node(0,t.state.doc.content.size,e)]}function _7(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:It.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function H7(t){return!t.someProp("editable",e=>e(t.state)===!1)}function ZA(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function I7(t){let e=Object.create(null);function n(i){for(let r in i)Object.prototype.hasOwnProperty.call(e,r)||(e[r]=i[r])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function YA(t,e){let n=0,i=0;for(let r in t){if(t[r]!=e[r])return!0;n++}for(let r in e)i++;return n!=i}function z7(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Lo={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Ld={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},GA=typeof navigator<"u"&&/Mac/.test(navigator.platform),XA=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var ln=0;ln<10;ln++)Lo[48+ln]=Lo[96+ln]=String(ln);for(var ln=1;ln<=24;ln++)Lo[ln+111]="F"+ln;for(var ln=65;ln<=90;ln++)Lo[ln]=String.fromCharCode(ln+32),Ld[ln]=String.fromCharCode(ln);for(var Zm in Lo)Ld.hasOwnProperty(Zm)||(Ld[Zm]=Lo[Zm]);function WA(t){var e=GA&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||XA&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Ld:Lo)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const JA=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),QA=typeof navigator<"u"&&/Win/.test(navigator.platform);function eR(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let i,r,o,l;for(let c=0;c<e.length-1;c++){let f=e[c];if(/^(cmd|meta|m)$/i.test(f))l=!0;else if(/^a(lt)?$/i.test(f))i=!0;else if(/^(c|ctrl|control)$/i.test(f))r=!0;else if(/^s(hift)?$/i.test(f))o=!0;else if(/^mod$/i.test(f))JA?l=!0:r=!0;else throw new Error("Unrecognized modifier name: "+f)}return i&&(n="Alt-"+n),r&&(n="Ctrl-"+n),l&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function tR(t){let e=Object.create(null);for(let n in t)e[eR(n)]=t[n];return e}function Ym(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function nR(t){return new je({props:{handleKeyDown:f2(t)}})}function f2(t){let e=tR(t);return function(n,i){let r=WA(i),o,l=e[Ym(r,i)];if(l&&l(n.state,n.dispatch,n))return!0;if(r.length==1&&r!=" "){if(i.shiftKey){let c=e[Ym(r,i,!1)];if(c&&c(n.state,n.dispatch,n))return!0}if((i.altKey||i.metaKey||i.ctrlKey)&&!(QA&&i.ctrlKey&&i.altKey)&&(o=Lo[i.keyCode])&&o!=r){let c=e[Ym(o,i)];if(c&&c(n.state,n.dispatch,n))return!0}}return!1}}const d2=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function l6(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const a6=(t,e,n)=>{let i=l6(t,n);if(!i)return!1;let r=h2(i);if(!r){let l=i.blockRange(),c=l&&ua(l);return c==null?!1:(e&&e(t.tr.lift(l,c).scrollIntoView()),!0)}let o=r.nodeBefore;if(y6(t,r,e,-1))return!0;if(i.parent.content.size==0&&(Wl(o,"end")||he.isSelectable(o)))for(let l=i.depth;;l--){let c=Lh(t.doc,i.before(l),i.after(l),se.empty);if(c&&c.slice.size<c.to-c.from){if(e){let f=t.tr.step(c);f.setSelection(Wl(o,"end")?be.findFrom(f.doc.resolve(f.mapping.map(r.pos,-1)),-1):he.create(f.doc,r.pos-o.nodeSize)),e(f.scrollIntoView())}return!0}if(l==1||i.node(l-1).childCount>1)break}return o.isAtom&&r.depth==i.depth-1?(e&&e(t.tr.delete(r.pos-o.nodeSize,r.pos).scrollIntoView()),!0):!1},iR=(t,e,n)=>{let i=l6(t,n);if(!i)return!1;let r=h2(i);return r?c6(t,r,e):!1},rR=(t,e,n)=>{let i=f6(t,n);if(!i)return!1;let r=p2(i);return r?c6(t,r,e):!1};function c6(t,e,n){let i=e.nodeBefore,r=i,o=e.pos-1;for(;!r.isTextblock;o--){if(r.type.spec.isolating)return!1;let p=r.lastChild;if(!p)return!1;r=p}let l=e.nodeAfter,c=l,f=e.pos+1;for(;!c.isTextblock;f++){if(c.type.spec.isolating)return!1;let p=c.firstChild;if(!p)return!1;c=p}let d=Lh(t.doc,o,f,se.empty);if(!d||d.from!=o||d instanceof Yt&&d.slice.size>=f-o)return!1;if(n){let p=t.tr.step(d);p.setSelection(fe.create(p.doc,o)),n(p.scrollIntoView())}return!0}function Wl(t,e,n=!1){for(let i=t;i;i=e=="start"?i.firstChild:i.lastChild){if(i.isTextblock)return!0;if(n&&i.childCount!=1)return!1}return!1}const u6=(t,e,n)=>{let{$head:i,empty:r}=t.selection,o=i;if(!r)return!1;if(i.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):i.parentOffset>0)return!1;o=h2(i)}let l=o&&o.nodeBefore;return!l||!he.isSelectable(l)?!1:(e&&e(t.tr.setSelection(he.create(t.doc,o.pos-l.nodeSize)).scrollIntoView()),!0)};function h2(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function f6(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const d6=(t,e,n)=>{let i=f6(t,n);if(!i)return!1;let r=p2(i);if(!r)return!1;let o=r.nodeAfter;if(y6(t,r,e,1))return!0;if(i.parent.content.size==0&&(Wl(o,"start")||he.isSelectable(o))){let l=Lh(t.doc,i.before(),i.after(),se.empty);if(l&&l.slice.size<l.to-l.from){if(e){let c=t.tr.step(l);c.setSelection(Wl(o,"start")?be.findFrom(c.doc.resolve(c.mapping.map(r.pos)),1):he.create(c.doc,c.mapping.map(r.pos))),e(c.scrollIntoView())}return!0}}return o.isAtom&&r.depth==i.depth-1?(e&&e(t.tr.delete(r.pos,r.pos+o.nodeSize).scrollIntoView()),!0):!1},h6=(t,e,n)=>{let{$head:i,empty:r}=t.selection,o=i;if(!r)return!1;if(i.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):i.parentOffset<i.parent.content.size)return!1;o=p2(i)}let l=o&&o.nodeAfter;return!l||!he.isSelectable(l)?!1:(e&&e(t.tr.setSelection(he.create(t.doc,o.pos)).scrollIntoView()),!0)};function p2(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const oR=(t,e)=>{let n=t.selection,i=n instanceof he,r;if(i){if(n.node.isTextblock||!Vo(t.doc,n.from))return!1;r=n.from}else if(r=Dh(t.doc,n.from,-1),r==null)return!1;if(e){let o=t.tr.join(r);i&&o.setSelection(he.create(o.doc,r-t.doc.resolve(r).nodeBefore.nodeSize)),e(o.scrollIntoView())}return!0},sR=(t,e)=>{let n=t.selection,i;if(n instanceof he){if(n.node.isTextblock||!Vo(t.doc,n.to))return!1;i=n.to}else if(i=Dh(t.doc,n.to,1),i==null)return!1;return e&&e(t.tr.join(i).scrollIntoView()),!0},lR=(t,e)=>{let{$from:n,$to:i}=t.selection,r=n.blockRange(i),o=r&&ua(r);return o==null?!1:(e&&e(t.tr.lift(r,o).scrollIntoView()),!0)},p6=(t,e)=>{let{$head:n,$anchor:i}=t.selection;return!n.parent.type.spec.code||!n.sameParent(i)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function m2(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const aR=(t,e)=>{let{$head:n,$anchor:i}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(i))return!1;let r=n.node(-1),o=n.indexAfter(-1),l=m2(r.contentMatchAt(o));if(!l||!r.canReplaceWith(o,o,l))return!1;if(e){let c=n.after(),f=t.tr.replaceWith(c,c,l.createAndFill());f.setSelection(be.near(f.doc.resolve(c),1)),e(f.scrollIntoView())}return!0},m6=(t,e)=>{let n=t.selection,{$from:i,$to:r}=n;if(n instanceof Vn||i.parent.inlineContent||r.parent.inlineContent)return!1;let o=m2(r.parent.contentMatchAt(r.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let l=(!i.parentOffset&&r.index()<r.parent.childCount?i:r).pos,c=t.tr.insert(l,o.createAndFill());c.setSelection(fe.create(c.doc,l+1)),e(c.scrollIntoView())}return!0},g6=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if(Lr(t.doc,o))return e&&e(t.tr.split(o).scrollIntoView()),!0}let i=n.blockRange(),r=i&&ua(i);return r==null?!1:(e&&e(t.tr.lift(i,r).scrollIntoView()),!0)};function cR(t){return(e,n)=>{let{$from:i,$to:r}=e.selection;if(e.selection instanceof he&&e.selection.node.isBlock)return!i.parentOffset||!Lr(e.doc,i.pos)?!1:(n&&n(e.tr.split(i.pos).scrollIntoView()),!0);if(!i.depth)return!1;let o=[],l,c,f=!1,d=!1;for(let b=i.depth;;b--)if(i.node(b).isBlock){f=i.end(b)==i.pos+(i.depth-b),d=i.start(b)==i.pos-(i.depth-b),c=m2(i.node(b-1).contentMatchAt(i.indexAfter(b-1))),o.unshift(f&&c?{type:c}:null),l=b;break}else{if(b==1)return!1;o.unshift(null)}let p=e.tr;(e.selection instanceof fe||e.selection instanceof Vn)&&p.deleteSelection();let m=p.mapping.map(i.pos),y=Lr(p.doc,m,o.length,o);if(y||(o[0]=c?{type:c}:null,y=Lr(p.doc,m,o.length,o)),!y)return!1;if(p.split(m,o.length,o),!f&&d&&i.node(l).type!=c){let b=p.mapping.map(i.before(l)),C=p.doc.resolve(b);c&&i.node(l-1).canReplaceWith(C.index(),C.index()+1,c)&&p.setNodeMarkup(p.mapping.map(i.before(l)),c)}return n&&n(p.scrollIntoView()),!0}}const uR=cR(),fR=(t,e)=>{let{$from:n,to:i}=t.selection,r,o=n.sharedDepth(i);return o==0?!1:(r=n.before(o),e&&e(t.tr.setSelection(he.create(t.doc,r))),!0)};function dR(t,e,n){let i=e.nodeBefore,r=e.nodeAfter,o=e.index();return!i||!r||!i.type.compatibleContent(r.type)?!1:!i.content.size&&e.parent.canReplace(o-1,o)?(n&&n(t.tr.delete(e.pos-i.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(r.isTextblock||Vo(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function y6(t,e,n,i){let r=e.nodeBefore,o=e.nodeAfter,l,c,f=r.type.spec.isolating||o.type.spec.isolating;if(!f&&dR(t,e,n))return!0;let d=!f&&e.parent.canReplace(e.index(),e.index()+1);if(d&&(l=(c=r.contentMatchAt(r.childCount)).findWrapping(o.type))&&c.matchType(l[0]||o.type).validEnd){if(n){let b=e.pos+o.nodeSize,C=W.empty;for(let E=l.length-1;E>=0;E--)C=W.from(l[E].create(null,C));C=W.from(r.copy(C));let w=t.tr.step(new Gt(e.pos-1,b,e.pos,b,new se(C,1,0),l.length,!0)),x=w.doc.resolve(b+2*l.length);x.nodeAfter&&x.nodeAfter.type==r.type&&Vo(w.doc,x.pos)&&w.join(x.pos),n(w.scrollIntoView())}return!0}let p=o.type.spec.isolating||i>0&&f?null:be.findFrom(e,1),m=p&&p.$from.blockRange(p.$to),y=m&&ua(m);if(y!=null&&y>=e.depth)return n&&n(t.tr.lift(m,y).scrollIntoView()),!0;if(d&&Wl(o,"start",!0)&&Wl(r,"end")){let b=r,C=[];for(;C.push(b),!b.isTextblock;)b=b.lastChild;let w=o,x=1;for(;!w.isTextblock;w=w.firstChild)x++;if(b.canReplace(b.childCount,b.childCount,w.content)){if(n){let E=W.empty;for(let O=C.length-1;O>=0;O--)E=W.from(C[O].copy(E));let A=t.tr.step(new Gt(e.pos-C.length,e.pos+o.nodeSize,e.pos+x,e.pos+o.nodeSize-x,new se(E,C.length,0),0,!0));n(A.scrollIntoView())}return!0}}return!1}function b6(t){return function(e,n){let i=e.selection,r=t<0?i.$from:i.$to,o=r.depth;for(;r.node(o).isInline;){if(!o)return!1;o--}return r.node(o).isTextblock?(n&&n(e.tr.setSelection(fe.create(e.doc,t<0?r.start(o):r.end(o)))),!0):!1}}const hR=b6(-1),pR=b6(1);function mR(t,e=null){return function(n,i){let{$from:r,$to:o}=n.selection,l=r.blockRange(o),c=l&&J0(l,t,e);return c?(i&&i(n.tr.wrap(l,c).scrollIntoView()),!0):!1}}function B7(t,e=null){return function(n,i){let r=!1;for(let o=0;o<n.selection.ranges.length&&!r;o++){let{$from:{pos:l},$to:{pos:c}}=n.selection.ranges[o];n.doc.nodesBetween(l,c,(f,d)=>{if(r)return!1;if(!(!f.isTextblock||f.hasMarkup(t,e)))if(f.type==t)r=!0;else{let p=n.doc.resolve(d),m=p.index();r=p.parent.canReplaceWith(m,m+1,t)}})}if(!r)return!1;if(i){let o=n.tr;for(let l=0;l<n.selection.ranges.length;l++){let{$from:{pos:c},$to:{pos:f}}=n.selection.ranges[l];o.setBlockType(c,f,t,e)}i(o.scrollIntoView())}return!0}}function g2(...t){return function(e,n,i){for(let r=0;r<t.length;r++)if(t[r](e,n,i))return!0;return!1}}g2(d2,a6,u6);g2(d2,d6,h6);g2(p6,m6,g6,uR);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function gR(t,e=null){return function(n,i){let{$from:r,$to:o}=n.selection,l=r.blockRange(o);if(!l)return!1;let c=i?n.tr:null;return yR(c,l,t,e)?(i&&i(c.scrollIntoView()),!0):!1}}function yR(t,e,n,i=null){let r=!1,o=e,l=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let f=l.resolve(e.start-2);o=new Ic(f,f,e.depth),e.endIndex<e.parent.childCount&&(e=new Ic(e.$from,l.resolve(e.$to.end(e.depth)),e.depth)),r=!0}let c=J0(o,n,i,e);return c?(t&&bR(t,e,c,r,n),!0):!1}function bR(t,e,n,i,r){let o=W.empty;for(let p=n.length-1;p>=0;p--)o=W.from(n[p].type.create(n[p].attrs,o));t.step(new Gt(e.start-(i?2:0),e.end,e.start,e.end,new se(o,0,0),n.length,!0));let l=0;for(let p=0;p<n.length;p++)n[p].type==r&&(l=p+1);let c=n.length-l,f=e.start+n.length-(i?2:0),d=e.parent;for(let p=e.startIndex,m=e.endIndex,y=!0;p<m;p++,y=!1)!y&&Lr(t.doc,f,c)&&(t.split(f,c),f+=2*c),f+=d.child(p).nodeSize;return t}function vR(t){return function(e,n){let{$from:i,$to:r}=e.selection,o=i.blockRange(r,l=>l.childCount>0&&l.firstChild.type==t);return o?n?i.node(o.depth-1).type==t?CR(e,n,t,o):wR(e,n,o):!0:!1}}function CR(t,e,n,i){let r=t.tr,o=i.end,l=i.$to.end(i.depth);o<l&&(r.step(new Gt(o-1,l,o,l,new se(W.from(n.create(null,i.parent.copy())),1,0),1,!0)),i=new Ic(r.doc.resolve(i.$from.pos),r.doc.resolve(l),i.depth));const c=ua(i);if(c==null)return!1;r.lift(i,c);let f=r.doc.resolve(r.mapping.map(o,-1)-1);return Vo(r.doc,f.pos)&&f.nodeBefore.type==f.nodeAfter.type&&r.join(f.pos),e(r.scrollIntoView()),!0}function wR(t,e,n){let i=t.tr,r=n.parent;for(let b=n.end,C=n.endIndex-1,w=n.startIndex;C>w;C--)b-=r.child(C).nodeSize,i.delete(b-1,b+1);let o=i.doc.resolve(n.start),l=o.nodeAfter;if(i.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let c=n.startIndex==0,f=n.endIndex==r.childCount,d=o.node(-1),p=o.index(-1);if(!d.canReplace(p+(c?0:1),p+1,l.content.append(f?W.empty:W.from(r))))return!1;let m=o.pos,y=m+l.nodeSize;return i.step(new Gt(m-(c?1:0),y+(f?1:0),m+1,y-1,new se((c?W.empty:W.from(r.copy(W.empty))).append(f?W.empty:W.from(r.copy(W.empty))),c?0:1,f?0:1),c?0:1)),e(i.scrollIntoView()),!0}function xR(t){return function(e,n){let{$from:i,$to:r}=e.selection,o=i.blockRange(r,d=>d.childCount>0&&d.firstChild.type==t);if(!o)return!1;let l=o.startIndex;if(l==0)return!1;let c=o.parent,f=c.child(l-1);if(f.type!=t)return!1;if(n){let d=f.lastChild&&f.lastChild.type==c.type,p=W.from(d?t.create():null),m=new se(W.from(t.create(null,W.from(c.type.create(null,p)))),d?3:1,0),y=o.start,b=o.end;n(e.tr.step(new Gt(y-(d?3:1),b,y,b,m,1,!0)).scrollIntoView())}return!0}}var SR=Object.defineProperty,v6=(t,e)=>{for(var n in e)SR(t,n,{get:e[n],enumerable:!0})};function Bh(t){const{state:e,transaction:n}=t;let{selection:i}=n,{doc:r}=n,{storedMarks:o}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return o},get selection(){return i},get doc(){return r},get tr(){return i=n.selection,r=n.doc,o=n.storedMarks,n}}}var Vh=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:i}=e,{tr:r}=n,o=this.buildProps(r);return Object.fromEntries(Object.entries(t).map(([l,c])=>[l,(...d)=>{const p=c(...d)(o);return!r.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(r),p}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:i,state:r}=this,{view:o}=i,l=[],c=!!t,f=t||r.tr,d=()=>(!c&&e&&!f.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(f),l.every(m=>m===!0)),p={...Object.fromEntries(Object.entries(n).map(([m,y])=>[m,(...C)=>{const w=this.buildProps(f,e),x=y(...C)(w);return l.push(x),p}])),run:d};return p}createCan(t){const{rawCommands:e,state:n}=this,i=!1,r=t||n.tr,o=this.buildProps(r,i);return{...Object.fromEntries(Object.entries(e).map(([c,f])=>[c,(...d)=>f(...d)({...o,dispatch:void 0})])),chain:()=>this.createChain(r,i)}}buildProps(t,e=!0){const{rawCommands:n,editor:i,state:r}=this,{view:o}=i,l={tr:t,editor:i,view:o,state:Bh({state:r,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([c,f])=>[c,(...d)=>f(...d)(l)]))}};return l}},TR=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach(i=>i.apply(this,e)),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(i=>i!==e):delete this.callbacks[t]),this}once(t,e){const n=(...i)=>{this.off(t,n),e.apply(this,i)};return this.on(t,n)}removeAllListeners(){this.callbacks={}}};function C6(t,e){const n=new Q0(t);return e.forEach(i=>{i.steps.forEach(r=>{n.step(r)})}),n}var w6=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const i=e[n];i.nodeType===3&&i.nodeValue&&/^(\n\s\s|\n)$/.test(i.nodeValue)?t.removeChild(i):i.nodeType===1&&w6(i)}return t};function Bf(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return w6(n)}function Fc(t,e,n){if(t instanceof Oi||t instanceof W)return t;n={slice:!0,parseOptions:{},...n};const i=typeof t=="object"&&t!==null,r=typeof t=="string";if(i)try{if(Array.isArray(t)&&t.length>0)return W.fromArray(t.map(c=>e.nodeFromJSON(c)));const l=e.nodeFromJSON(t);return n.errorOnInvalidContent&&l.check(),l}catch(o){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:o});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",o),Fc("",e,n)}if(r){if(n.errorOnInvalidContent){let l=!1,c="";const f=new c9({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:d=>(l=!0,c=typeof d=="string"?d:d.outerHTML,null)}]}})});if(n.slice?xc.fromSchema(f).parseSlice(Bf(t),n.parseOptions):xc.fromSchema(f).parse(Bf(t),n.parseOptions),n.errorOnInvalidContent&&l)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${c}`)})}const o=xc.fromSchema(e);return n.slice?o.parseSlice(Bf(t),n.parseOptions).content:o.parse(Bf(t),n.parseOptions)}return Fc("",e,n)}function Jg(t,e,n={},i={}){return Fc(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:i.errorOnInvalidContent})}function ER(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function MR(t,e,n){const i=[];return t.nodesBetween(e.from,e.to,(r,o)=>{n(r)&&i.push({node:r,pos:o})}),i}function x6(t,e){for(let n=t.depth;n>0;n-=1){const i=t.node(n);if(e(i))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:i}}}function Un(t){return e=>x6(e.$from,t)}function me(t,e,n){return t.config[e]===void 0&&t.parent?me(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?me(t.parent,e,n):null}):t.config[e]}function y2(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},i=me(e,"addExtensions",n);return i?[e,...y2(i())]:e}).flat(10)}function b2(t,e){const n=Bs.fromSchema(e).serializeFragment(t),r=document.implementation.createHTMLDocument().createElement("div");return r.appendChild(n),r.innerHTML}function S6(t){return typeof t=="function"}function Ze(t,e=void 0,...n){return S6(t)?e?t.bind(e)(...n):t(...n):t}function kR(t={}){return Object.keys(t).length===0&&t.constructor===Object}function qc(t){const e=t.filter(r=>r.type==="extension"),n=t.filter(r=>r.type==="node"),i=t.filter(r=>r.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:i}}function T6(t){const e=[],{nodeExtensions:n,markExtensions:i}=qc(t),r=[...n,...i],o={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(l=>{const c={name:l.name,options:l.options,storage:l.storage,extensions:r},f=me(l,"addGlobalAttributes",c);if(!f)return;f().forEach(p=>{p.types.forEach(m=>{Object.entries(p.attributes).forEach(([y,b])=>{e.push({type:m,name:y,attribute:{...o,...b}})})})})}),r.forEach(l=>{const c={name:l.name,options:l.options,storage:l.storage},f=me(l,"addAttributes",c);if(!f)return;const d=f();Object.entries(d).forEach(([p,m])=>{const y={...o,...m};typeof y?.default=="function"&&(y.default=y.default()),y?.isRequired&&y?.default===void 0&&delete y.default,e.push({type:l.name,name:p,attribute:y})})}),e}function Fe(...t){return t.filter(e=>!!e).reduce((e,n)=>{const i={...e};return Object.entries(n).forEach(([r,o])=>{if(!i[r]){i[r]=o;return}if(r==="class"){const c=o?String(o).split(" "):[],f=i[r]?i[r].split(" "):[],d=c.filter(p=>!f.includes(p));i[r]=[...f,...d].join(" ")}else if(r==="style"){const c=o?o.split(";").map(p=>p.trim()).filter(Boolean):[],f=i[r]?i[r].split(";").map(p=>p.trim()).filter(Boolean):[],d=new Map;f.forEach(p=>{const[m,y]=p.split(":").map(b=>b.trim());d.set(m,y)}),c.forEach(p=>{const[m,y]=p.split(":").map(b=>b.trim());d.set(m,y)}),i[r]=Array.from(d.entries()).map(([p,m])=>`${p}: ${m}`).join("; ")}else i[r]=o}),i},{})}function $c(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,i)=>Fe(n,i),{})}function AR(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function V7(t,e){return"style"in t?t:{...t,getAttrs:n=>{const i=t.getAttrs?t.getAttrs(n):t.attrs;if(i===!1)return!1;const r=e.reduce((o,l)=>{const c=l.attribute.parseHTML?l.attribute.parseHTML(n):AR(n.getAttribute(l.name));return c==null?o:{...o,[l.name]:c}},{});return{...i,...r}}}}function j7(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&kR(n)?!1:n!=null))}function RR(t,e){var n;const i=T6(t),{nodeExtensions:r,markExtensions:o}=qc(t),l=(n=r.find(d=>me(d,"topNode")))==null?void 0:n.name,c=Object.fromEntries(r.map(d=>{const p=i.filter(E=>E.type===d.name),m={name:d.name,options:d.options,storage:d.storage,editor:e},y=t.reduce((E,A)=>{const O=me(A,"extendNodeSchema",m);return{...E,...O?O(d):{}}},{}),b=j7({...y,content:Ze(me(d,"content",m)),marks:Ze(me(d,"marks",m)),group:Ze(me(d,"group",m)),inline:Ze(me(d,"inline",m)),atom:Ze(me(d,"atom",m)),selectable:Ze(me(d,"selectable",m)),draggable:Ze(me(d,"draggable",m)),code:Ze(me(d,"code",m)),whitespace:Ze(me(d,"whitespace",m)),linebreakReplacement:Ze(me(d,"linebreakReplacement",m)),defining:Ze(me(d,"defining",m)),isolating:Ze(me(d,"isolating",m)),attrs:Object.fromEntries(p.map(E=>{var A,O;return[E.name,{default:(A=E?.attribute)==null?void 0:A.default,validate:(O=E?.attribute)==null?void 0:O.validate}]}))}),C=Ze(me(d,"parseHTML",m));C&&(b.parseDOM=C.map(E=>V7(E,p)));const w=me(d,"renderHTML",m);w&&(b.toDOM=E=>w({node:E,HTMLAttributes:$c(E,p)}));const x=me(d,"renderText",m);return x&&(b.toText=x),[d.name,b]})),f=Object.fromEntries(o.map(d=>{const p=i.filter(x=>x.type===d.name),m={name:d.name,options:d.options,storage:d.storage,editor:e},y=t.reduce((x,E)=>{const A=me(E,"extendMarkSchema",m);return{...x,...A?A(d):{}}},{}),b=j7({...y,inclusive:Ze(me(d,"inclusive",m)),excludes:Ze(me(d,"excludes",m)),group:Ze(me(d,"group",m)),spanning:Ze(me(d,"spanning",m)),code:Ze(me(d,"code",m)),attrs:Object.fromEntries(p.map(x=>{var E,A;return[x.name,{default:(E=x?.attribute)==null?void 0:E.default,validate:(A=x?.attribute)==null?void 0:A.validate}]}))}),C=Ze(me(d,"parseHTML",m));C&&(b.parseDOM=C.map(x=>V7(x,p)));const w=me(d,"renderHTML",m);return w&&(b.toDOM=x=>w({mark:x,HTMLAttributes:$c(x,p)})),[d.name,b]}));return new c9({topNode:l,nodes:c,marks:f})}function OR(t){const e=t.filter((n,i)=>t.indexOf(n)!==i);return Array.from(new Set(e))}function v2(t){return t.sort((n,i)=>{const r=me(n,"priority")||100,o=me(i,"priority")||100;return r>o?-1:r<o?1:0})}function E6(t){const e=v2(y2(t)),n=OR(e.map(i=>i.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),e}function M6(t,e,n){const{from:i,to:r}=e,{blockSeparator:o=`

`,textSerializers:l={}}=n||{};let c="";return t.nodesBetween(i,r,(f,d,p,m)=>{var y;f.isBlock&&d>i&&(c+=o);const b=l?.[f.type.name];if(b)return p&&(c+=b({node:f,pos:d,parent:p,index:m,range:e})),!1;f.isText&&(c+=(y=f?.text)==null?void 0:y.slice(Math.max(i,d)-d,r-d))}),c}function k6(t,e){const n={from:0,to:t.content.size};return M6(t,n,e)}function C2(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function jr(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}function A6(t,e){const n=jr(e,t.schema),{from:i,to:r,empty:o}=t.selection,l=[];o?(t.storedMarks&&l.push(...t.storedMarks),l.push(...t.selection.$head.marks())):t.doc.nodesBetween(i,r,f=>{l.push(...f.marks)});const c=l.find(f=>f.type.name===n.name);return c?{...c.attrs}:{}}function Bt(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function NR(t,e){const n=Bt(e,t.schema),{from:i,to:r}=t.selection,o=[];t.doc.nodesBetween(i,r,c=>{o.push(c)});const l=o.reverse().find(c=>c.type.name===n.name);return l?{...l.attrs}:{}}function jh(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function R6(t,e){const n=jh(typeof e=="string"?e:e.name,t.schema);return n==="node"?NR(t,e):n==="mark"?A6(t,e):{}}function DR(t,e=JSON.stringify){const n={};return t.filter(i=>{const r=e(i);return Object.prototype.hasOwnProperty.call(n,r)?!1:n[r]=!0})}function LR(t){const e=DR(t);return e.length===1?e:e.filter((n,i)=>!e.filter((o,l)=>l!==i).some(o=>n.oldRange.from>=o.oldRange.from&&n.oldRange.to<=o.oldRange.to&&n.newRange.from>=o.newRange.from&&n.newRange.to<=o.newRange.to))}function O6(t){const{mapping:e,steps:n}=t,i=[];return e.maps.forEach((r,o)=>{const l=[];if(r.ranges.length)r.forEach((c,f)=>{l.push({from:c,to:f})});else{const{from:c,to:f}=n[o];if(c===void 0||f===void 0)return;l.push({from:c,to:f})}l.forEach(({from:c,to:f})=>{const d=e.slice(o).map(c,-1),p=e.slice(o).map(f),m=e.invert().map(d,-1),y=e.invert().map(p);i.push({oldRange:{from:m,to:y},newRange:{from:d,to:p}})})}),LR(i)}function w2(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function _d(t,e,n={strict:!0}){const i=Object.keys(e);return i.length?i.every(r=>n.strict?e[r]===t[r]:w2(e[r])?e[r].test(t[r]):e[r]===t[r]):!0}function N6(t,e,n={}){return t.find(i=>i.type===e&&_d(Object.fromEntries(Object.keys(n).map(r=>[r,i.attrs[r]])),n))}function U7(t,e,n={}){return!!N6(t,e,n)}function x2(t,e,n){var i;if(!t||!e)return;let r=t.parent.childAfter(t.parentOffset);if((!r.node||!r.node.marks.some(p=>p.type===e))&&(r=t.parent.childBefore(t.parentOffset)),!r.node||!r.node.marks.some(p=>p.type===e)||(n=n||((i=r.node.marks[0])==null?void 0:i.attrs),!N6([...r.node.marks],e,n)))return;let l=r.index,c=t.start()+r.offset,f=l+1,d=c+r.node.nodeSize;for(;l>0&&U7([...t.parent.child(l-1).marks],e,n);)l-=1,c-=t.parent.child(l).nodeSize;for(;f<t.parent.childCount&&U7([...t.parent.child(f).marks],e,n);)d+=t.parent.child(f).nodeSize,f+=1;return{from:c,to:d}}function S2(t,e,n){const i=[];return t===e?n.resolve(t).marks().forEach(r=>{const o=n.resolve(t),l=x2(o,r.type);l&&i.push({mark:r,...l})}):n.nodesBetween(t,e,(r,o)=>{!r||r?.nodeSize===void 0||i.push(...r.marks.map(l=>({from:o,to:o+r.nodeSize,mark:l})))}),i}var _R=(t,e,n,i=20)=>{const r=t.doc.resolve(n);let o=i,l=null;for(;o>0&&l===null;){const c=r.node(o);c?.type.name===e?l=c:o-=1}return[l,o]};function Gm(t,e){return e.nodes[t]||e.marks[t]||null}function fd(t,e,n){return Object.fromEntries(Object.entries(n).filter(([i])=>{const r=t.find(o=>o.type===e&&o.name===i);return r?r.attribute.keepOnSplit:!1}))}var HR=(t,e=500)=>{let n="";const i=t.parentOffset;return t.parent.nodesBetween(Math.max(0,i-e),i,(r,o,l,c)=>{var f,d;const p=((d=(f=r.type.spec).toText)==null?void 0:d.call(f,{node:r,pos:o,parent:l,index:c}))||r.textContent||"%leaf%";n+=r.isAtom&&!r.isText?p:p.slice(0,Math.max(0,i-o))}),n};function Qg(t,e,n={}){const{empty:i,ranges:r}=t.selection,o=e?jr(e,t.schema):null;if(i)return!!(t.storedMarks||t.selection.$from.marks()).filter(m=>o?o.name===m.type.name:!0).find(m=>_d(m.attrs,n,{strict:!1}));let l=0;const c=[];if(r.forEach(({$from:m,$to:y})=>{const b=m.pos,C=y.pos;t.doc.nodesBetween(b,C,(w,x)=>{if(!w.isText&&!w.marks.length)return;const E=Math.max(b,x),A=Math.min(C,x+w.nodeSize),O=A-E;l+=O,c.push(...w.marks.map(H=>({mark:H,from:E,to:A})))})}),l===0)return!1;const f=c.filter(m=>o?o.name===m.mark.type.name:!0).filter(m=>_d(m.mark.attrs,n,{strict:!1})).reduce((m,y)=>m+y.to-y.from,0),d=c.filter(m=>o?m.mark.type!==o&&m.mark.type.excludes(o):!0).reduce((m,y)=>m+y.to-y.from,0);return(f>0?f+d:f)>=l}function _o(t,e,n={}){const{from:i,to:r,empty:o}=t.selection,l=e?Bt(e,t.schema):null,c=[];t.doc.nodesBetween(i,r,(m,y)=>{if(m.isText)return;const b=Math.max(i,y),C=Math.min(r,y+m.nodeSize);c.push({node:m,from:b,to:C})});const f=r-i,d=c.filter(m=>l?l.name===m.node.type.name:!0).filter(m=>_d(m.node.attrs,n,{strict:!1}));return o?!!d.length:d.reduce((m,y)=>m+y.to-y.from,0)>=f}function IR(t,e,n={}){if(!e)return _o(t,null,n)||Qg(t,null,n);const i=jh(e,t.schema);return i==="node"?_o(t,e,n):i==="mark"?Qg(t,e,n):!1}var zR=(t,e)=>{const{$from:n,$to:i,$anchor:r}=t.selection;if(e){const o=Un(c=>c.type.name===e)(t.selection);if(!o)return!1;const l=t.doc.resolve(o.pos+1);return r.pos+1===l.end()}return!(i.parentOffset<i.parent.nodeSize-2||n.pos!==i.pos)},BR=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function P7(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function F7(t,e){const{nodeExtensions:n}=qc(e),i=n.find(l=>l.name===t);if(!i)return!1;const r={name:i.name,options:i.options,storage:i.storage},o=Ze(me(i,"group",r));return typeof o!="string"?!1:o.split(" ").includes("list")}function Uh(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var i;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((i=t.text)!=null?i:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let r=!0;return t.content.forEach(o=>{r!==!1&&(Uh(o,{ignoreWhitespace:n,checkChildren:e})||(r=!1))}),r}return!1}function T2(t){return t instanceof he}function E2(t){return t instanceof fe}function Dr(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function D6(t,e,n){const r=t.state.doc.content.size,o=Dr(e,0,r),l=Dr(n,0,r),c=t.coordsAtPos(o),f=t.coordsAtPos(l,-1),d=Math.min(c.top,f.top),p=Math.max(c.bottom,f.bottom),m=Math.min(c.left,f.left),y=Math.max(c.right,f.right),b=y-m,C=p-d,E={top:d,bottom:p,left:m,right:y,width:b,height:C,x:m,y:d};return{...E,toJSON:()=>E}}function L6(t,e=null){if(!e)return null;const n=be.atStart(t),i=be.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return i;const r=n.from,o=i.to;return e==="all"?fe.create(t,Dr(0,r,o),Dr(t.content.size,r,o)):fe.create(t,Dr(e,r,o),Dr(e,r,o))}function VR(t,e,n){const i=t.steps.length-1;if(i<e)return;const r=t.steps[i];if(!(r instanceof Yt||r instanceof Gt))return;const o=t.mapping.maps[i];let l=0;o.forEach((c,f,d,p)=>{l===0&&(l=p)}),t.setSelection(be.near(t.doc.resolve(l),n))}var uu=class{constructor(t){this.find=t.find,this.handler=t.handler}},jR=(t,e)=>{if(w2(e))return e.exec(t);const n=e(t);if(!n)return null;const i=[n.text];return i.index=n.index,i.input=t,i.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),i.push(n.replaceWith)),i};function Vf(t){var e;const{editor:n,from:i,to:r,text:o,rules:l,plugin:c}=t,{view:f}=n;if(f.composing)return!1;const d=f.state.doc.resolve(i);if(d.parent.type.spec.code||(e=d.nodeBefore||d.nodeAfter)!=null&&e.marks.find(y=>y.type.spec.code))return!1;let p=!1;const m=HR(d)+o;return l.forEach(y=>{if(p)return;const b=jR(m,y.find);if(!b)return;const C=f.state.tr,w=Bh({state:f.state,transaction:C}),x={from:i-(b[0].length-o.length),to:r},{commands:E,chain:A,can:O}=new Vh({editor:n,state:w});y.handler({state:w,range:x,match:b,commands:E,chain:A,can:O})===null||!C.steps.length||(C.setMeta(c,{transform:C,from:i,to:r,text:o}),f.dispatch(C),p=!0)}),p}function UR(t){const{editor:e,rules:n}=t,i=new je({state:{init(){return null},apply(r,o,l){const c=r.getMeta(i);if(c)return c;const f=r.getMeta("applyInputRules");return!!f&&setTimeout(()=>{let{text:p}=f;typeof p=="string"?p=p:p=b2(W.from(p),l.schema);const{from:m}=f,y=m+p.length;Vf({editor:e,from:m,to:y,text:p,rules:n,plugin:i})}),r.selectionSet||r.docChanged?null:o}},props:{handleTextInput(r,o,l,c){return Vf({editor:e,from:o,to:l,text:c,rules:n,plugin:i})},handleDOMEvents:{compositionend:r=>(setTimeout(()=>{const{$cursor:o}=r.state.selection;o&&Vf({editor:e,from:o.pos,to:o.pos,text:"",rules:n,plugin:i})}),!1)},handleKeyDown(r,o){if(o.key!=="Enter")return!1;const{$cursor:l}=r.state.selection;return l?Vf({editor:e,from:l.pos,to:l.pos,text:`
`,rules:n,plugin:i}):!1}},isInputRules:!0});return i}function PR(t){return Object.prototype.toString.call(t).slice(8,-1)}function jf(t){return PR(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function _6(t,e){const n={...t};return jf(t)&&jf(e)&&Object.keys(e).forEach(i=>{jf(e[i])&&jf(t[i])?n[i]=_6(t[i],e[i]):n[i]=e[i]}),n}var M2=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...Ze(me(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Ze(me(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>_6(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},Ur=class H6 extends M2{constructor(){super(...arguments),this.type="mark"}static create(e={}){const n=typeof e=="function"?e():e;return new H6(n)}static handleExit({editor:e,mark:n}){const{tr:i}=e.state,r=e.state.selection.$from;if(r.pos===r.end()){const l=r.marks();if(!!!l.find(d=>d?.type.name===n.name))return!1;const f=l.find(d=>d?.type.name===n.name);return f&&i.removeStoredMark(f),i.insertText(" ",r.pos),e.view.dispatch(i),!0}return!1}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function FR(t){return typeof t=="number"}var qR=class{constructor(t){this.find=t.find,this.handler=t.handler}},$R=(t,e,n)=>{if(w2(e))return[...t.matchAll(e)];const i=e(t,n);return i?i.map(r=>{const o=[r.text];return o.index=r.index,o.input=t,o.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(r.replaceWith)),o}):[]};function KR(t){const{editor:e,state:n,from:i,to:r,rule:o,pasteEvent:l,dropEvent:c}=t,{commands:f,chain:d,can:p}=new Vh({editor:e,state:n}),m=[];return n.doc.nodesBetween(i,r,(b,C)=>{if(!b.isTextblock||b.type.spec.code)return;const w=Math.max(i,C),x=Math.min(r,C+b.content.size),E=b.textBetween(w-C,x-C,void 0,"￼");$R(E,o.find,l).forEach(O=>{if(O.index===void 0)return;const H=w+O.index+1,L=H+O[0].length,K={from:n.tr.mapping.map(H),to:n.tr.mapping.map(L)},Y=o.handler({state:n,range:K,match:O,commands:f,chain:d,can:p,pasteEvent:l,dropEvent:c});m.push(Y)})}),m.every(b=>b!==null)}var Uf=null,ZR=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)==null||e.setData("text/html",t),n};function YR(t){const{editor:e,rules:n}=t;let i=null,r=!1,o=!1,l=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,c;try{c=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{c=null}const f=({state:p,from:m,to:y,rule:b,pasteEvt:C})=>{const w=p.tr,x=Bh({state:p,transaction:w});if(!(!KR({editor:e,state:x,from:Math.max(m-1,0),to:y.b-1,rule:b,pasteEvent:C,dropEvent:c})||!w.steps.length)){try{c=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{c=null}return l=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,w}};return n.map(p=>new je({view(m){const y=C=>{var w;i=(w=m.dom.parentElement)!=null&&w.contains(C.target)?m.dom.parentElement:null,i&&(Uf=e)},b=()=>{Uf&&(Uf=null)};return window.addEventListener("dragstart",y),window.addEventListener("dragend",b),{destroy(){window.removeEventListener("dragstart",y),window.removeEventListener("dragend",b)}}},props:{handleDOMEvents:{drop:(m,y)=>{if(o=i===m.dom.parentElement,c=y,!o){const b=Uf;b?.isEditable&&setTimeout(()=>{const C=b.state.selection;C&&b.commands.deleteRange({from:C.from,to:C.to})},10)}return!1},paste:(m,y)=>{var b;const C=(b=y.clipboardData)==null?void 0:b.getData("text/html");return l=y,r=!!C?.includes("data-pm-slice"),!1}}},appendTransaction:(m,y,b)=>{const C=m[0],w=C.getMeta("uiEvent")==="paste"&&!r,x=C.getMeta("uiEvent")==="drop"&&!o,E=C.getMeta("applyPasteRules"),A=!!E;if(!w&&!x&&!A)return;if(A){let{text:L}=E;typeof L=="string"?L=L:L=b2(W.from(L),b.schema);const{from:K}=E,Y=K+L.length,X=ZR(L);return f({rule:p,state:b,from:K,to:{b:Y},pasteEvt:X})}const O=y.doc.content.findDiffStart(b.doc.content),H=y.doc.content.findDiffEnd(b.doc.content);if(!(!FR(O)||!H||O===H.b))return f({rule:p,state:b,from:O,to:H,pasteEvt:l})}}))}var Ph=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.extensions=E6(t),this.schema=RR(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Gm(e.name,this.schema)},i=me(e,"addCommands",n);return i?{...t,...i()}:t},{})}get plugins(){const{editor:t}=this,e=v2([...this.extensions].reverse()),n=[],i=[],r=e.map(o=>{const l={name:o.name,options:o.options,storage:this.editor.extensionStorage[o.name],editor:t,type:Gm(o.name,this.schema)},c=[],f=me(o,"addKeyboardShortcuts",l);let d={};if(o.type==="mark"&&me(o,"exitable",l)&&(d.ArrowRight=()=>Ur.handleExit({editor:t,mark:o})),f){const C=Object.fromEntries(Object.entries(f()).map(([w,x])=>[w,()=>x({editor:t})]));d={...d,...C}}const p=nR(d);c.push(p);const m=me(o,"addInputRules",l);P7(o,t.options.enableInputRules)&&m&&n.push(...m());const y=me(o,"addPasteRules",l);P7(o,t.options.enablePasteRules)&&y&&i.push(...y());const b=me(o,"addProseMirrorPlugins",l);if(b){const C=b();c.push(...C)}return c}).flat();return[UR({editor:t,rules:n}),...YR({editor:t,rules:i}),...r]}get attributes(){return T6(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=qc(this.extensions);return Object.fromEntries(e.filter(n=>!!me(n,"addNodeView")).map(n=>{const i=this.attributes.filter(c=>c.type===n.name),r={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:Bt(n.name,this.schema)},o=me(n,"addNodeView",r);if(!o)return[];const l=(c,f,d,p,m)=>{const y=$c(c,i);return o()({node:c,view:f,getPos:d,decorations:p,innerDecorations:m,editor:t,extension:n,HTMLAttributes:y})};return[n.name,l]}))}get markViews(){const{editor:t}=this,{markExtensions:e}=qc(this.extensions);return Object.fromEntries(e.filter(n=>!!me(n,"addMarkView")).map(n=>{const i=this.attributes.filter(c=>c.type===n.name),r={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:jr(n.name,this.schema)},o=me(n,"addMarkView",r);if(!o)return[];const l=(c,f,d)=>{const p=$c(c,i);return o()({mark:c,view:f,inline:d,editor:t,extension:n,HTMLAttributes:p,updateAttributes:m=>{uN(c,t,m)}})};return[n.name,l]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var n;const i={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Gm(e.name,this.schema)};e.type==="mark"&&((n=Ze(me(e,"keepOnSplit",i)))==null||n)&&this.splittableMarks.push(e.name);const r=me(e,"onBeforeCreate",i),o=me(e,"onCreate",i),l=me(e,"onUpdate",i),c=me(e,"onSelectionUpdate",i),f=me(e,"onTransaction",i),d=me(e,"onFocus",i),p=me(e,"onBlur",i),m=me(e,"onDestroy",i);r&&this.editor.on("beforeCreate",r),o&&this.editor.on("create",o),l&&this.editor.on("update",l),c&&this.editor.on("selectionUpdate",c),f&&this.editor.on("transaction",f),d&&this.editor.on("focus",d),p&&this.editor.on("blur",p),m&&this.editor.on("destroy",m)})}};Ph.resolve=E6;Ph.sort=v2;Ph.flatten=y2;var GR={};v6(GR,{ClipboardTextSerializer:()=>z6,Commands:()=>U6,Delete:()=>P6,Drop:()=>F6,Editable:()=>q6,FocusEvents:()=>K6,Keymap:()=>Z6,Paste:()=>Y6,Tabindex:()=>G6,focusEventsPluginKey:()=>$6});var Ye=class I6 extends M2{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new I6(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},z6=Ye.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new je({key:new qe("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:i,selection:r}=e,{ranges:o}=r,l=Math.min(...o.map(p=>p.$from.pos)),c=Math.max(...o.map(p=>p.$to.pos)),f=C2(n);return M6(i,{from:l,to:c},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:f})}}})]}}),B6={};v6(B6,{blur:()=>XR,clearContent:()=>WR,clearNodes:()=>JR,command:()=>QR,createParagraphNear:()=>eO,cut:()=>tO,deleteCurrentNode:()=>nO,deleteNode:()=>iO,deleteRange:()=>rO,deleteSelection:()=>oO,enter:()=>sO,exitCode:()=>lO,extendMarkRange:()=>aO,first:()=>cO,focus:()=>uO,forEach:()=>fO,insertContent:()=>dO,insertContentAt:()=>pO,joinBackward:()=>yO,joinDown:()=>gO,joinForward:()=>bO,joinItemBackward:()=>vO,joinItemForward:()=>CO,joinTextblockBackward:()=>wO,joinTextblockForward:()=>xO,joinUp:()=>mO,keyboardShortcut:()=>TO,lift:()=>EO,liftEmptyBlock:()=>MO,liftListItem:()=>kO,newlineInCode:()=>AO,resetAttributes:()=>RO,scrollIntoView:()=>OO,selectAll:()=>NO,selectNodeBackward:()=>DO,selectNodeForward:()=>LO,selectParentNode:()=>_O,selectTextblockEnd:()=>HO,selectTextblockStart:()=>IO,setContent:()=>zO,setMark:()=>VO,setMeta:()=>jO,setNode:()=>UO,setNodeSelection:()=>PO,setTextSelection:()=>FO,sinkListItem:()=>qO,splitBlock:()=>$O,splitListItem:()=>KO,toggleList:()=>ZO,toggleMark:()=>YO,toggleNode:()=>GO,toggleWrap:()=>XO,undoInputRule:()=>WO,unsetAllMarks:()=>JO,unsetMark:()=>QO,updateAttributes:()=>eN,wrapIn:()=>tN,wrapInList:()=>nN});var XR=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),WR=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),JR=()=>({state:t,tr:e,dispatch:n})=>{const{selection:i}=e,{ranges:r}=i;return n&&r.forEach(({$from:o,$to:l})=>{t.doc.nodesBetween(o.pos,l.pos,(c,f)=>{if(c.type.isText)return;const{doc:d,mapping:p}=e,m=d.resolve(p.map(f)),y=d.resolve(p.map(f+c.nodeSize)),b=m.blockRange(y);if(!b)return;const C=ua(b);if(c.type.isTextblock){const{defaultType:w}=m.parent.contentMatchAt(m.index());e.setNodeMarkup(b.start,w)}(C||C===0)&&e.lift(b,C)})}),!0},QR=t=>e=>t(e),eO=()=>({state:t,dispatch:e})=>m6(t,e),tO=(t,e)=>({editor:n,tr:i})=>{const{state:r}=n,o=r.doc.slice(t.from,t.to);i.deleteRange(t.from,t.to);const l=i.mapping.map(e);return i.insert(l,o.content),i.setSelection(new fe(i.doc.resolve(Math.max(l-1,0)))),!0},nO=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,i=n.$anchor.node();if(i.content.size>0)return!1;const r=t.selection.$anchor;for(let o=r.depth;o>0;o-=1)if(r.node(o).type===i.type){if(e){const c=r.before(o),f=r.after(o);t.delete(c,f).scrollIntoView()}return!0}return!1},iO=t=>({tr:e,state:n,dispatch:i})=>{const r=Bt(t,n.schema),o=e.selection.$anchor;for(let l=o.depth;l>0;l-=1)if(o.node(l).type===r){if(i){const f=o.before(l),d=o.after(l);e.delete(f,d).scrollIntoView()}return!0}return!1},rO=t=>({tr:e,dispatch:n})=>{const{from:i,to:r}=t;return n&&e.delete(i,r),!0},oO=()=>({state:t,dispatch:e})=>d2(t,e),sO=()=>({commands:t})=>t.keyboardShortcut("Enter"),lO=()=>({state:t,dispatch:e})=>aR(t,e),aO=(t,e={})=>({tr:n,state:i,dispatch:r})=>{const o=jr(t,i.schema),{doc:l,selection:c}=n,{$from:f,from:d,to:p}=c;if(r){const m=x2(f,o,e);if(m&&m.from<=d&&m.to>=p){const y=fe.create(l,m.from,m.to);n.setSelection(y)}}return!0},cO=t=>e=>{const n=typeof t=="function"?t(e):t;for(let i=0;i<n.length;i+=1)if(n[i](e))return!0;return!1};function V6(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function Fh(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var uO=(t=null,e={})=>({editor:n,view:i,tr:r,dispatch:o})=>{e={scrollIntoView:!0,...e};const l=()=>{(Fh()||V6())&&i.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(i.focus(),e?.scrollIntoView&&n.commands.scrollIntoView())})};if(i.hasFocus()&&t===null||t===!1)return!0;if(o&&t===null&&!E2(n.state.selection))return l(),!0;const c=L6(r.doc,t)||n.state.selection,f=n.state.selection.eq(c);return o&&(f||r.setSelection(c),f&&r.storedMarks&&r.setStoredMarks(r.storedMarks),l()),!0},fO=(t,e)=>n=>t.every((i,r)=>e(i,{...n,index:r})),dO=(t,e)=>({tr:n,commands:i})=>i.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),hO=t=>!("type"in t),pO=(t,e,n)=>({tr:i,dispatch:r,editor:o})=>{var l;if(r){n={parseOptions:o.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let c;const{selection:f}=o.state,d=E=>{o.emit("contentError",{editor:o,error:E,disableCollaboration:()=>{"collaboration"in o.storage&&typeof o.storage.collaboration=="object"&&o.storage.collaboration&&(o.storage.collaboration.isDisabled=!0)}})},p={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!o.options.enableContentCheck&&o.options.emitContentError)try{Fc(e,o.schema,{parseOptions:p,errorOnInvalidContent:!0})}catch(E){d(E)}try{c=Fc(e,o.schema,{parseOptions:p,errorOnInvalidContent:(l=n.errorOnInvalidContent)!=null?l:o.options.enableContentCheck})}catch(E){return d(E),!1}let{from:m,to:y}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},b=!0,C=!0;if((hO(c)?c:[c]).forEach(E=>{E.check(),b=b?E.isText&&E.marks.length===0:!1,C=C?E.isBlock:!1}),m===y&&C){const{parent:E}=i.doc.resolve(m);E.isTextblock&&!E.type.spec.code&&!E.childCount&&(m-=1,y+=1)}let x;if(b){if(Array.isArray(e))x=e.map(E=>E.text||"").join("");else if(e instanceof W){let E="";e.forEach(A=>{A.text&&(E+=A.text)}),x=E}else typeof e=="object"&&e&&e.text?x=e.text:x=e;i.insertText(x,m,y)}else{x=c;const E=f.$from.parentOffset===0,A=f.$from.node().isText||f.$from.node().isTextblock,O=f.$from.node().content.size>0;E&&A&&O&&(m=Math.max(0,m-1)),i.replaceWith(m,y,x)}n.updateSelection&&VR(i,i.steps.length-1,-1),n.applyInputRules&&i.setMeta("applyInputRules",{from:m,text:x}),n.applyPasteRules&&i.setMeta("applyPasteRules",{from:m,text:x})}return!0},mO=()=>({state:t,dispatch:e})=>oR(t,e),gO=()=>({state:t,dispatch:e})=>sR(t,e),yO=()=>({state:t,dispatch:e})=>a6(t,e),bO=()=>({state:t,dispatch:e})=>d6(t,e),vO=()=>({state:t,dispatch:e,tr:n})=>{try{const i=Dh(t.doc,t.selection.$from.pos,-1);return i==null?!1:(n.join(i,2),e&&e(n),!0)}catch{return!1}},CO=()=>({state:t,dispatch:e,tr:n})=>{try{const i=Dh(t.doc,t.selection.$from.pos,1);return i==null?!1:(n.join(i,2),e&&e(n),!0)}catch{return!1}},wO=()=>({state:t,dispatch:e})=>iR(t,e),xO=()=>({state:t,dispatch:e})=>rR(t,e);function j6(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function SO(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let i,r,o,l;for(let c=0;c<e.length-1;c+=1){const f=e[c];if(/^(cmd|meta|m)$/i.test(f))l=!0;else if(/^a(lt)?$/i.test(f))i=!0;else if(/^(c|ctrl|control)$/i.test(f))r=!0;else if(/^s(hift)?$/i.test(f))o=!0;else if(/^mod$/i.test(f))Fh()||j6()?l=!0:r=!0;else throw new Error(`Unrecognized modifier name: ${f}`)}return i&&(n=`Alt-${n}`),r&&(n=`Ctrl-${n}`),l&&(n=`Meta-${n}`),o&&(n=`Shift-${n}`),n}var TO=t=>({editor:e,view:n,tr:i,dispatch:r})=>{const o=SO(t).split(/-(?!$)/),l=o.find(d=>!["Alt","Ctrl","Meta","Shift"].includes(d)),c=new KeyboardEvent("keydown",{key:l==="Space"?" ":l,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),f=e.captureTransaction(()=>{n.someProp("handleKeyDown",d=>d(n,c))});return f?.steps.forEach(d=>{const p=d.map(i.mapping);p&&r&&i.maybeStep(p)}),!0},EO=(t,e={})=>({state:n,dispatch:i})=>{const r=Bt(t,n.schema);return _o(n,r,e)?lR(n,i):!1},MO=()=>({state:t,dispatch:e})=>g6(t,e),kO=t=>({state:e,dispatch:n})=>{const i=Bt(t,e.schema);return vR(i)(e,n)},AO=()=>({state:t,dispatch:e})=>p6(t,e);function q7(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((i,r)=>(n.includes(r)||(i[r]=t[r]),i),{})}var RO=(t,e)=>({tr:n,state:i,dispatch:r})=>{let o=null,l=null;const c=jh(typeof t=="string"?t:t.name,i.schema);return c?(c==="node"&&(o=Bt(t,i.schema)),c==="mark"&&(l=jr(t,i.schema)),r&&n.selection.ranges.forEach(f=>{i.doc.nodesBetween(f.$from.pos,f.$to.pos,(d,p)=>{o&&o===d.type&&n.setNodeMarkup(p,void 0,q7(d.attrs,e)),l&&d.marks.length&&d.marks.forEach(m=>{l===m.type&&n.addMark(p,p+d.nodeSize,l.create(q7(m.attrs,e)))})})}),!0):!1},OO=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),NO=()=>({tr:t,dispatch:e})=>{if(e){const n=new Vn(t.doc);t.setSelection(n)}return!0},DO=()=>({state:t,dispatch:e})=>u6(t,e),LO=()=>({state:t,dispatch:e})=>h6(t,e),_O=()=>({state:t,dispatch:e})=>fR(t,e),HO=()=>({state:t,dispatch:e})=>pR(t,e),IO=()=>({state:t,dispatch:e})=>hR(t,e),zO=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:i={}}={})=>({editor:r,tr:o,dispatch:l,commands:c})=>{const{doc:f}=o;if(i.preserveWhitespace!=="full"){const d=Jg(t,r.schema,i,{errorOnInvalidContent:e??r.options.enableContentCheck});return l&&o.replaceWith(0,f.content.size,d).setMeta("preventUpdate",!n),!0}return l&&o.setMeta("preventUpdate",!n),c.insertContentAt({from:0,to:f.content.size},t,{parseOptions:i,errorOnInvalidContent:e??r.options.enableContentCheck})};function BO(t,e,n){var i;const{selection:r}=e;let o=null;if(E2(r)&&(o=r.$cursor),o){const c=(i=t.storedMarks)!=null?i:o.marks();return!!n.isInSet(c)||!c.some(f=>f.type.excludes(n))}const{ranges:l}=r;return l.some(({$from:c,$to:f})=>{let d=c.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(c.pos,f.pos,(p,m,y)=>{if(d)return!1;if(p.isInline){const b=!y||y.type.allowsMarkType(n),C=!!n.isInSet(p.marks)||!p.marks.some(w=>w.type.excludes(n));d=b&&C}return!d}),d})}var VO=(t,e={})=>({tr:n,state:i,dispatch:r})=>{const{selection:o}=n,{empty:l,ranges:c}=o,f=jr(t,i.schema);if(r)if(l){const d=A6(i,f);n.addStoredMark(f.create({...d,...e}))}else c.forEach(d=>{const p=d.$from.pos,m=d.$to.pos;i.doc.nodesBetween(p,m,(y,b)=>{const C=Math.max(b,p),w=Math.min(b+y.nodeSize,m);y.marks.find(E=>E.type===f)?y.marks.forEach(E=>{f===E.type&&n.addMark(C,w,f.create({...E.attrs,...e}))}):n.addMark(C,w,f.create(e))})});return BO(i,n,f)},jO=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),UO=(t,e={})=>({state:n,dispatch:i,chain:r})=>{const o=Bt(t,n.schema);let l;return n.selection.$anchor.sameParent(n.selection.$head)&&(l=n.selection.$anchor.parent.attrs),o.isTextblock?r().command(({commands:c})=>B7(o,{...l,...e})(n)?!0:c.clearNodes()).command(({state:c})=>B7(o,{...l,...e})(c,i)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},PO=t=>({tr:e,dispatch:n})=>{if(n){const{doc:i}=e,r=Dr(t,0,i.content.size),o=he.create(i,r);e.setSelection(o)}return!0},FO=t=>({tr:e,dispatch:n})=>{if(n){const{doc:i}=e,{from:r,to:o}=typeof t=="number"?{from:t,to:t}:t,l=fe.atStart(i).from,c=fe.atEnd(i).to,f=Dr(r,l,c),d=Dr(o,l,c),p=fe.create(i,f,d);e.setSelection(p)}return!0},qO=t=>({state:e,dispatch:n})=>{const i=Bt(t,e.schema);return xR(i)(e,n)};function $7(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const i=n.filter(r=>e?.includes(r.type.name));t.tr.ensureMarks(i)}}var $O=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:i,editor:r})=>{const{selection:o,doc:l}=e,{$from:c,$to:f}=o,d=r.extensionManager.attributes,p=fd(d,c.node().type.name,c.node().attrs);if(o instanceof he&&o.node.isBlock)return!c.parentOffset||!Lr(l,c.pos)?!1:(i&&(t&&$7(n,r.extensionManager.splittableMarks),e.split(c.pos).scrollIntoView()),!0);if(!c.parent.isBlock)return!1;const m=f.parentOffset===f.parent.content.size,y=c.depth===0?void 0:ER(c.node(-1).contentMatchAt(c.indexAfter(-1)));let b=m&&y?[{type:y,attrs:p}]:void 0,C=Lr(e.doc,e.mapping.map(c.pos),1,b);if(!b&&!C&&Lr(e.doc,e.mapping.map(c.pos),1,y?[{type:y}]:void 0)&&(C=!0,b=y?[{type:y,attrs:p}]:void 0),i){if(C&&(o instanceof fe&&e.deleteSelection(),e.split(e.mapping.map(c.pos),1,b),y&&!m&&!c.parentOffset&&c.parent.type!==y)){const w=e.mapping.map(c.before()),x=e.doc.resolve(w);c.node(-1).canReplaceWith(x.index(),x.index()+1,y)&&e.setNodeMarkup(e.mapping.map(c.before()),y)}t&&$7(n,r.extensionManager.splittableMarks),e.scrollIntoView()}return C},KO=(t,e={})=>({tr:n,state:i,dispatch:r,editor:o})=>{var l;const c=Bt(t,i.schema),{$from:f,$to:d}=i.selection,p=i.selection.node;if(p&&p.isBlock||f.depth<2||!f.sameParent(d))return!1;const m=f.node(-1);if(m.type!==c)return!1;const y=o.extensionManager.attributes;if(f.parent.content.size===0&&f.node(-1).childCount===f.indexAfter(-1)){if(f.depth===2||f.node(-3).type!==c||f.index(-2)!==f.node(-2).childCount-1)return!1;if(r){let E=W.empty;const A=f.index(-1)?1:f.index(-2)?2:3;for(let X=f.depth-A;X>=f.depth-3;X-=1)E=W.from(f.node(X).copy(E));const O=f.indexAfter(-1)<f.node(-2).childCount?1:f.indexAfter(-2)<f.node(-3).childCount?2:3,H={...fd(y,f.node().type.name,f.node().attrs),...e},L=((l=c.contentMatch.defaultType)==null?void 0:l.createAndFill(H))||void 0;E=E.append(W.from(c.createAndFill(null,L)||void 0));const K=f.before(f.depth-(A-1));n.replace(K,f.after(-O),new se(E,4-A,0));let Y=-1;n.doc.nodesBetween(K,n.doc.content.size,(X,oe)=>{if(Y>-1)return!1;X.isTextblock&&X.content.size===0&&(Y=oe+1)}),Y>-1&&n.setSelection(fe.near(n.doc.resolve(Y))),n.scrollIntoView()}return!0}const b=d.pos===f.end()?m.contentMatchAt(0).defaultType:null,C={...fd(y,m.type.name,m.attrs),...e},w={...fd(y,f.node().type.name,f.node().attrs),...e};n.delete(f.pos,d.pos);const x=b?[{type:c,attrs:C},{type:b,attrs:w}]:[{type:c,attrs:C}];if(!Lr(n.doc,f.pos,2))return!1;if(r){const{selection:E,storedMarks:A}=i,{splittableMarks:O}=o.extensionManager,H=A||E.$to.parentOffset&&E.$from.marks();if(n.split(f.pos,2,x).scrollIntoView(),!H||!r)return!0;const L=H.filter(K=>O.includes(K.type.name));n.ensureMarks(L)}return!0},Xm=(t,e)=>{const n=Un(l=>l.type===e)(t.selection);if(!n)return!0;const i=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(i===void 0)return!0;const r=t.doc.nodeAt(i);return n.node.type===r?.type&&Vo(t.doc,n.pos)&&t.join(n.pos),!0},Wm=(t,e)=>{const n=Un(l=>l.type===e)(t.selection);if(!n)return!0;const i=t.doc.resolve(n.start).after(n.depth);if(i===void 0)return!0;const r=t.doc.nodeAt(i);return n.node.type===r?.type&&Vo(t.doc,i)&&t.join(i),!0},ZO=(t,e,n,i={})=>({editor:r,tr:o,state:l,dispatch:c,chain:f,commands:d,can:p})=>{const{extensions:m,splittableMarks:y}=r.extensionManager,b=Bt(t,l.schema),C=Bt(e,l.schema),{selection:w,storedMarks:x}=l,{$from:E,$to:A}=w,O=E.blockRange(A),H=x||w.$to.parentOffset&&w.$from.marks();if(!O)return!1;const L=Un(K=>F7(K.type.name,m))(w);if(O.depth>=1&&L&&O.depth-L.depth<=1){if(L.node.type===b)return d.liftListItem(C);if(F7(L.node.type.name,m)&&b.validContent(L.node.content)&&c)return f().command(()=>(o.setNodeMarkup(L.pos,b),!0)).command(()=>Xm(o,b)).command(()=>Wm(o,b)).run()}return!n||!H||!c?f().command(()=>p().wrapInList(b,i)?!0:d.clearNodes()).wrapInList(b,i).command(()=>Xm(o,b)).command(()=>Wm(o,b)).run():f().command(()=>{const K=p().wrapInList(b,i),Y=H.filter(X=>y.includes(X.type.name));return o.ensureMarks(Y),K?!0:d.clearNodes()}).wrapInList(b,i).command(()=>Xm(o,b)).command(()=>Wm(o,b)).run()},YO=(t,e={},n={})=>({state:i,commands:r})=>{const{extendEmptyMarkRange:o=!1}=n,l=jr(t,i.schema);return Qg(i,l,e)?r.unsetMark(l,{extendEmptyMarkRange:o}):r.setMark(l,e)},GO=(t,e,n={})=>({state:i,commands:r})=>{const o=Bt(t,i.schema),l=Bt(e,i.schema),c=_o(i,o,n);let f;return i.selection.$anchor.sameParent(i.selection.$head)&&(f=i.selection.$anchor.parent.attrs),c?r.setNode(l,f):r.setNode(o,{...f,...n})},XO=(t,e={})=>({state:n,commands:i})=>{const r=Bt(t,n.schema);return _o(n,r,e)?i.lift(r):i.wrapIn(r,e)},WO=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let i=0;i<n.length;i+=1){const r=n[i];let o;if(r.spec.isInputRules&&(o=r.getState(t))){if(e){const l=t.tr,c=o.transform;for(let f=c.steps.length-1;f>=0;f-=1)l.step(c.steps[f].invert(c.docs[f]));if(o.text){const f=l.doc.resolve(o.from).marks();l.replaceWith(o.from,o.to,t.schema.text(o.text,f))}else l.delete(o.from,o.to)}return!0}}return!1},JO=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:i,ranges:r}=n;return i||e&&r.forEach(o=>{t.removeMark(o.$from.pos,o.$to.pos)}),!0},QO=(t,e={})=>({tr:n,state:i,dispatch:r})=>{var o;const{extendEmptyMarkRange:l=!1}=e,{selection:c}=n,f=jr(t,i.schema),{$from:d,empty:p,ranges:m}=c;if(!r)return!0;if(p&&l){let{from:y,to:b}=c;const C=(o=d.marks().find(x=>x.type===f))==null?void 0:o.attrs,w=x2(d,f,C);w&&(y=w.from,b=w.to),n.removeMark(y,b,f)}else m.forEach(y=>{n.removeMark(y.$from.pos,y.$to.pos,f)});return n.removeStoredMark(f),!0},eN=(t,e={})=>({tr:n,state:i,dispatch:r})=>{let o=null,l=null;const c=jh(typeof t=="string"?t:t.name,i.schema);return c?(c==="node"&&(o=Bt(t,i.schema)),c==="mark"&&(l=jr(t,i.schema)),r&&n.selection.ranges.forEach(f=>{const d=f.$from.pos,p=f.$to.pos;let m,y,b,C;n.selection.empty?i.doc.nodesBetween(d,p,(w,x)=>{o&&o===w.type&&(b=Math.max(x,d),C=Math.min(x+w.nodeSize,p),m=x,y=w)}):i.doc.nodesBetween(d,p,(w,x)=>{x<d&&o&&o===w.type&&(b=Math.max(x,d),C=Math.min(x+w.nodeSize,p),m=x,y=w),x>=d&&x<=p&&(o&&o===w.type&&n.setNodeMarkup(x,void 0,{...w.attrs,...e}),l&&w.marks.length&&w.marks.forEach(E=>{if(l===E.type){const A=Math.max(x,d),O=Math.min(x+w.nodeSize,p);n.addMark(A,O,l.create({...E.attrs,...e}))}}))}),y&&(m!==void 0&&n.setNodeMarkup(m,void 0,{...y.attrs,...e}),l&&y.marks.length&&y.marks.forEach(w=>{l===w.type&&n.addMark(b,C,l.create({...w.attrs,...e}))}))}),!0):!1},tN=(t,e={})=>({state:n,dispatch:i})=>{const r=Bt(t,n.schema);return mR(r,e)(n,i)},nN=(t,e={})=>({state:n,dispatch:i})=>{const r=Bt(t,n.schema);return gR(r,e)(n,i)},U6=Ye.create({name:"commands",addCommands(){return{...B6}}}),P6=Ye.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,i,r;const o=()=>{var l,c,f,d;if((d=(f=(c=(l=this.editor.options.coreExtensionOptions)==null?void 0:l.delete)==null?void 0:c.filterTransaction)==null?void 0:f.call(c,t))!=null?d:t.getMeta("y-sync$"))return;const p=C6(t.before,[t,...e]);O6(p).forEach(b=>{p.mapping.mapResult(b.oldRange.from).deletedAfter&&p.mapping.mapResult(b.oldRange.to).deletedBefore&&p.before.nodesBetween(b.oldRange.from,b.oldRange.to,(C,w)=>{const x=w+C.nodeSize-2,E=b.oldRange.from<=w&&x<=b.oldRange.to;this.editor.emit("delete",{type:"node",node:C,from:w,to:x,newFrom:p.mapping.map(w),newTo:p.mapping.map(x),deletedRange:b.oldRange,newRange:b.newRange,partial:!E,editor:this.editor,transaction:t,combinedTransform:p})})});const y=p.mapping;p.steps.forEach((b,C)=>{var w,x;if(b instanceof ki){const E=y.slice(C).map(b.from,-1),A=y.slice(C).map(b.to),O=y.invert().map(E,-1),H=y.invert().map(A),L=(w=p.doc.nodeAt(E-1))==null?void 0:w.marks.some(Y=>Y.eq(b.mark)),K=(x=p.doc.nodeAt(A))==null?void 0:x.marks.some(Y=>Y.eq(b.mark));this.editor.emit("delete",{type:"mark",mark:b.mark,from:b.from,to:b.to,deletedRange:{from:O,to:H},newRange:{from:E,to:A},partial:!!(K||L),editor:this.editor,transaction:t,combinedTransform:p})}})};(r=(i=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:i.async)==null||r?setTimeout(o,0):o()}}),F6=Ye.create({name:"drop",addProseMirrorPlugins(){return[new je({key:new qe("tiptapDrop"),props:{handleDrop:(t,e,n,i)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:i})}}})]}}),q6=Ye.create({name:"editable",addProseMirrorPlugins(){return[new je({key:new qe("editable"),props:{editable:()=>this.editor.options.editable}})]}}),$6=new qe("focusEvents"),K6=Ye.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new je({key:$6,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const i=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(i),!1},blur:(e,n)=>{t.isFocused=!1;const i=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(i),!1}}}})]}}),Z6=Ye.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:l})=>[()=>l.undoInputRule(),()=>l.command(({tr:c})=>{const{selection:f,doc:d}=c,{empty:p,$anchor:m}=f,{pos:y,parent:b}=m,C=m.parent.isTextblock&&y>0?c.doc.resolve(y-1):m,w=C.parent.type.spec.isolating,x=m.pos-m.parentOffset,E=w&&C.parent.childCount===1?x===m.pos:be.atStart(d).from===y;return!p||!b.type.isTextblock||b.textContent.length||!E||E&&m.parent.type.name==="paragraph"?!1:l.clearNodes()}),()=>l.deleteSelection(),()=>l.joinBackward(),()=>l.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:l})=>[()=>l.deleteSelection(),()=>l.deleteCurrentNode(),()=>l.joinForward(),()=>l.selectNodeForward()]),i={Enter:()=>this.editor.commands.first(({commands:l})=>[()=>l.newlineInCode(),()=>l.createParagraphNear(),()=>l.liftEmptyBlock(),()=>l.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},r={...i},o={...i,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Fh()||j6()?o:r},addProseMirrorPlugins(){return[new je({key:new qe("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(w=>w.getMeta("composition")))return;const i=t.some(w=>w.docChanged)&&!e.doc.eq(n.doc),r=t.some(w=>w.getMeta("preventClearDocument"));if(!i||r)return;const{empty:o,from:l,to:c}=e.selection,f=be.atStart(e.doc).from,d=be.atEnd(e.doc).to;if(o||!(l===f&&c===d)||!Uh(n.doc))return;const y=n.tr,b=Bh({state:n,transaction:y}),{commands:C}=new Vh({editor:this.editor,state:b});if(C.clearNodes(),!!y.steps.length)return y}})]}}),Y6=Ye.create({name:"paste",addProseMirrorPlugins(){return[new je({key:new qe("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),G6=Ye.create({name:"tabindex",addProseMirrorPlugins(){return[new je({key:new qe("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),iN=class Il{constructor(e,n,i=!1,r=null){this.currentNode=null,this.actualDepth=null,this.isBlock=i,this.resolvedPos=e,this.editor=n,this.currentNode=r}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,i=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,i=this.to-1}this.editor.commands.insertContentAt({from:n,to:i},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new Il(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Il(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Il(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,i)=>{const r=n.isBlock&&!n.isTextblock,o=n.isAtom&&!n.isText,l=this.pos+i+(o?0:1);if(l<0||l>this.resolvedPos.doc.nodeSize-2)return;const c=this.resolvedPos.doc.resolve(l);if(!r&&c.depth<=this.depth)return;const f=new Il(c,this.editor,r,r?n:null);r&&(f.actualDepth=this.depth+1),e.push(new Il(c,this.editor,r,r?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let i=null,r=this.parent;for(;r&&!i;){if(r.node.type.name===e)if(Object.keys(n).length>0){const o=r.node.attrs,l=Object.keys(n);for(let c=0;c<l.length;c+=1){const f=l[c];if(o[f]!==n[f])break}}else i=r;r=r.parent}return i}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},i=!1){let r=[];if(!this.children||this.children.length===0)return r;const o=Object.keys(n);return this.children.forEach(l=>{i&&r.length>0||(l.node.type.name===e&&o.every(f=>n[f]===l.node.attrs[f])&&r.push(l),!(i&&r.length>0)&&(r=r.concat(l.querySelectorAll(e,n,i))))}),r}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}},rN=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function oN(t,e,n){const i=document.querySelector("style[data-tiptap-style]");if(i!==null)return i;const r=document.createElement("style");return e&&r.setAttribute("nonce",e),r.setAttribute("data-tiptap-style",""),r.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(r),r}var sN=class extends TR{constructor(t={}){super(),this.css=null,this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:i})=>{throw i},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:i,slice:r,moved:o})=>this.options.onDrop(i,r,o)),this.on("paste",({event:i,slice:r})=>this.options.onPaste(i,r)),this.on("delete",this.options.onDelete);const e=this.createDoc(),n=L6(e,this.options.autofocus);this.editorState=Bl.create({doc:e,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){var t;if(this.editorView){const e=this.editorView.dom;e?.editor&&delete e.editor,this.editorView.destroy()}this.editorView=null,this.isInitialized=!1,(t=this.css)==null||t.remove(),this.css=null}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=oN(rN,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.editorState=this.state.apply(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const n=S6(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],i=this.state.reconfigure({plugins:n});return this.view.updateState(i),i}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let n=e;if([].concat(t).forEach(r=>{const o=typeof r=="string"?`${r}$`:r.key;n=n.filter(l=>!l.key.startsWith(o))}),e.length===n.length)return;const i=this.state.reconfigure({plugins:n});return this.view.updateState(i),i}createExtensionManager(){var t,e;const i=[...this.options.enableCoreExtensions?[q6,z6.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),U6,K6,Z6,G6,F6,Y6,P6].filter(r=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[r.name]!==!1:!0):[],...this.options.extensions].filter(r=>["extension","node","mark"].includes(r?.type));this.extensionManager=new Ph(i,this)}createCommandManager(){this.commandManager=new Vh({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=Jg(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),t=Jg(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){var e;this.editorView=new s6(t,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.createNodeViews(),this.prependClass(),this.injectCSS();const i=this.view.dom;i.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(d=>{var p;return(p=this.capturedTransaction)==null?void 0:p.step(d)});return}const{state:e,transactions:n}=this.state.applyTransaction(t),i=!this.state.selection.eq(e.selection),r=n.includes(t),o=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!r)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:n.slice(1)}),i&&this.emit("selectionUpdate",{editor:this,transaction:t});const l=n.findLast(d=>d.getMeta("focus")||d.getMeta("blur")),c=l?.getMeta("focus"),f=l?.getMeta("blur");c&&this.emit("focus",{editor:this,event:c.event,transaction:l}),f&&this.emit("blur",{editor:this,event:f.event,transaction:l}),!(t.getMeta("preventUpdate")||!n.some(d=>d.docChanged)||o.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:n.slice(1)})}getAttributes(t){return R6(this.state,t)}isActive(t,e){const n=typeof t=="string"?t:null,i=typeof t=="string"?e:t;return IR(this.state,n,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return b2(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:n={}}=t||{};return k6(this.state.doc,{blockSeparator:e,textSerializers:{...C2(this.schema),...n}})}get isEmpty(){return Uh(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelector(t,e))||null}$nodes(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new iN(e,this)}get $doc(){return this.$pos(0)}};function Jl(t){return new uu({find:t.find,handler:({state:e,range:n,match:i})=>{const r=Ze(t.getAttributes,void 0,i);if(r===!1||r===null)return null;const{tr:o}=e,l=i[i.length-1],c=i[0];if(l){const f=c.search(/\S/),d=n.from+c.indexOf(l),p=d+l.length;if(S2(n.from,n.to,e.doc).filter(b=>b.mark.type.excluded.find(w=>w===t.type&&w!==b.mark.type)).filter(b=>b.to>d).length)return null;p<n.to&&o.delete(p,n.to),d>n.from&&o.delete(n.from+f,d);const y=n.from+f+l.length;o.addMark(n.from+f,y,t.type.create(r||{})),o.removeStoredMark(t.type)}}})}function lN(t){return new uu({find:t.find,handler:({state:e,range:n,match:i})=>{const r=Ze(t.getAttributes,void 0,i)||{},{tr:o}=e,l=n.from;let c=n.to;const f=t.type.create(r);if(i[1]){const d=i[0].lastIndexOf(i[1]);let p=l+d;p>c?p=c:c=p+i[1].length;const m=i[0][i[0].length-1];o.insertText(m,l+i[0].length-1),o.replaceWith(p,c,f)}else if(i[0]){const d=t.type.isInline?l:l-1;o.insert(d,t.type.create(r)).delete(o.mapping.map(l),o.mapping.map(c))}o.scrollIntoView()}})}function e0(t){return new uu({find:t.find,handler:({state:e,range:n,match:i})=>{const r=e.doc.resolve(n.from),o=Ze(t.getAttributes,void 0,i)||{};if(!r.node(-1).canReplaceWith(r.index(-1),r.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,o)}})}function kt(t){return new uu({find:t.find,handler:({state:e,range:n,match:i})=>{let r=t.replace,o=n.from;const l=n.to;if(i[1]){const c=i[0].lastIndexOf(i[1]);r+=i[0].slice(c+i[1].length),o+=c;const f=o-l;f>0&&(r=i[0].slice(c-f,c)+r,o=l)}e.tr.insertText(r,o,l)}})}function Ql(t){return new uu({find:t.find,handler:({state:e,range:n,match:i,chain:r})=>{const o=Ze(t.getAttributes,void 0,i)||{},l=e.tr.delete(n.from,n.to),f=l.doc.resolve(n.from).blockRange(),d=f&&J0(f,t.type,o);if(!d)return null;if(l.wrap(f,d),t.keepMarks&&t.editor){const{selection:m,storedMarks:y}=e,{splittableMarks:b}=t.editor.extensionManager,C=y||m.$to.parentOffset&&m.$from.marks();if(C){const w=C.filter(x=>b.includes(x.type.name));l.ensureMarks(w)}}if(t.keepAttributes){const m=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";r().updateAttributes(m,o).run()}const p=l.doc.resolve(n.from-1).nodeBefore;p&&p.type===t.type&&Vo(l.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(i,p))&&l.join(n.from-1)}})}function aN(t,e){const{selection:n}=t,{$from:i}=n;if(n instanceof he){const o=i.index();return i.parent.canReplaceWith(o,o+1,e)}let r=i.depth;for(;r>=0;){const o=i.index(r);if(i.node(r).contentMatchAt(o).matchType(e))return!0;r-=1}return!1}function cN(t){return t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function uN(t,e,n={}){const{state:i}=e,{doc:r,tr:o}=i,l=t;r.descendants((c,f)=>{const d=o.mapping.map(f),p=o.mapping.map(f)+c.nodeSize;let m=null;if(c.marks.forEach(b=>{if(b!==l)return!1;m=b}),!m)return;let y=!1;if(Object.keys(n).forEach(b=>{n[b]!==m.attrs[b]&&(y=!0)}),y){const b=t.type.create({...t.attrs,...n});o.removeMark(d,p,t.type),o.addMark(d,p,b)}}),o.docChanged&&e.view.dispatch(o)}var vt=class X6 extends M2{constructor(){super(...arguments),this.type="node"}static create(e={}){const n=typeof e=="function"?e():e;return new X6(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},fN=class{constructor(t,e,n){this.isDragging=!1,this.component=t,this.editor=e.editor,this.options={stopEvent:null,ignoreMutation:null,...n},this.extension=e.extension,this.node=e.node,this.decorations=e.decorations,this.innerDecorations=e.innerDecorations,this.view=e.view,this.HTMLAttributes=e.HTMLAttributes,this.getPos=e.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(t){var e,n,i,r,o,l,c;const{view:f}=this.editor,d=t.target,p=d.nodeType===3?(e=d.parentElement)==null?void 0:e.closest("[data-drag-handle]"):d.closest("[data-drag-handle]");if(!this.dom||(n=this.contentDOM)!=null&&n.contains(d)||!p)return;let m=0,y=0;if(this.dom!==p){const E=this.dom.getBoundingClientRect(),A=p.getBoundingClientRect(),O=(r=t.offsetX)!=null?r:(i=t.nativeEvent)==null?void 0:i.offsetX,H=(l=t.offsetY)!=null?l:(o=t.nativeEvent)==null?void 0:o.offsetY;m=A.x-E.x+O,y=A.y-E.y+H}const b=this.dom.cloneNode(!0);(c=t.dataTransfer)==null||c.setDragImage(b,m,y);const C=this.getPos();if(typeof C!="number")return;const w=he.create(f.state.doc,C),x=f.state.tr.setSelection(w);f.dispatch(x)}stopEvent(t){var e;if(!this.dom)return!1;if(typeof this.options.stopEvent=="function")return this.options.stopEvent({event:t});const n=t.target;if(!(this.dom.contains(n)&&!((e=this.contentDOM)!=null&&e.contains(n))))return!1;const r=t.type.startsWith("drag"),o=t.type==="drop";if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(n.tagName)||n.isContentEditable)&&!o&&!r)return!0;const{isEditable:c}=this.editor,{isDragging:f}=this,d=!!this.node.type.spec.draggable,p=he.isSelectable(this.node),m=t.type==="copy",y=t.type==="paste",b=t.type==="cut",C=t.type==="mousedown";if(!d&&p&&r&&t.target===this.dom&&t.preventDefault(),d&&r&&!f&&t.target===this.dom)return t.preventDefault(),!1;if(d&&c&&!f&&C){const w=n.closest("[data-drag-handle]");w&&(this.dom===w||this.dom.contains(w))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(f||o||m||y||b||C&&p)}ignoreMutation(t){return!this.dom||!this.contentDOM?!0:typeof this.options.ignoreMutation=="function"?this.options.ignoreMutation({mutation:t}):this.node.isLeaf||this.node.isAtom?!0:t.type==="selection"||this.dom.contains(t.target)&&t.type==="childList"&&(Fh()||V6())&&this.editor.isFocused&&[...Array.from(t.addedNodes),...Array.from(t.removedNodes)].every(n=>n.isContentEditable)?!1:this.contentDOM===t.target&&t.type==="attributes"?!0:!this.contentDOM.contains(t.target)}updateAttributes(t){this.editor.commands.command(({tr:e})=>{const n=this.getPos();return typeof n!="number"?!1:(e.setNodeMarkup(n,void 0,{...this.node.attrs,...t}),!0)})}deleteNode(){const t=this.getPos();if(typeof t!="number")return;const e=t+this.node.nodeSize;this.editor.commands.deleteRange({from:t,to:e})}};function Os(t){return new qR({find:t.find,handler:({state:e,range:n,match:i,pasteEvent:r})=>{const o=Ze(t.getAttributes,void 0,i,r);if(o===!1||o===null)return null;const{tr:l}=e,c=i[i.length-1],f=i[0];let d=n.to;if(c){const p=f.search(/\S/),m=n.from+f.indexOf(c),y=m+c.length;if(S2(n.from,n.to,e.doc).filter(C=>C.mark.type.excluded.find(x=>x===t.type&&x!==C.mark.type)).filter(C=>C.to>m).length)return null;y<n.to&&l.delete(y,n.to),m>n.from&&l.delete(n.from+p,m),d=n.from+p+c.length,l.addMark(n.from+p,d,t.type.create(o||{})),l.removeStoredMark(t.type)}}})}var Jm,K7;function dN(){return K7||(K7=1,Jm=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var i,r,o;if(Array.isArray(e)){if(i=e.length,i!=n.length)return!1;for(r=i;r--!==0;)if(!t(e[r],n[r]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(r of e.entries())if(!n.has(r[0]))return!1;for(r of e.entries())if(!t(r[1],n.get(r[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(r of e.entries())if(!n.has(r[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(i=e.length,i!=n.length)return!1;for(r=i;r--!==0;)if(e[r]!==n[r])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(o=Object.keys(e),i=o.length,i!==Object.keys(n).length)return!1;for(r=i;r--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[r]))return!1;for(r=i;r--!==0;){var l=o[r];if(!(l==="_owner"&&e.$$typeof)&&!t(e[l],n[l]))return!1}return!0}return e!==e&&n!==n}),Jm}var hN=dN();const pN=G0(hN);var Qm={exports:{}},eg={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z7;function mN(){if(Z7)return eg;Z7=1;var t=su(),e=K5();function n(d,p){return d===p&&(d!==0||1/d===1/p)||d!==d&&p!==p}var i=typeof Object.is=="function"?Object.is:n,r=e.useSyncExternalStore,o=t.useRef,l=t.useEffect,c=t.useMemo,f=t.useDebugValue;return eg.useSyncExternalStoreWithSelector=function(d,p,m,y,b){var C=o(null);if(C.current===null){var w={hasValue:!1,value:null};C.current=w}else w=C.current;C=c(function(){function E(K){if(!A){if(A=!0,O=K,K=y(K),b!==void 0&&w.hasValue){var Y=w.value;if(b(Y,K))return H=Y}return H=K}if(Y=H,i(O,K))return Y;var X=y(K);return b!==void 0&&b(Y,X)?(O=K,Y):(O=K,H=X)}var A=!1,O,H,L=m===void 0?null:m;return[function(){return E(p())},L===null?void 0:function(){return E(L())}]},[p,m,y,b]);var x=r(d,C[0],C[1]);return l(function(){w.hasValue=!0,w.value=x},[x]),f(x),x},eg}var Y7;function gN(){return Y7||(Y7=1,Qm.exports=mN()),Qm.exports}var yN=gN(),bN=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},vN=({contentComponent:t})=>{const e=Z5.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return T.jsx(T.Fragment,{children:Object.values(e)})};function CN(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,i){e={...e,[n]:vM.createPortal(i.reactElement,i.element,n)},t.forEach(r=>r())},removeRenderer(n){const i={...e};delete i[n],e=i,t.forEach(r=>r())}}}var wN=class extends bt.Component{constructor(t){var e;super(t),this.editorContentRef=bt.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const t=this.props.editor;if(t&&!t.isDestroyed&&t.options.element){if(t.contentComponent)return;const e=this.editorContentRef.current;e.append(...t.options.element.childNodes),t.setOptions({element:e}),t.contentComponent=CN(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=t.contentComponent.subscribe(()=>{this.setState(n=>n.hasContentComponentInitialized?n:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),t.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!((t=e.options.element)!=null&&t.firstChild)))return;const n=document.createElement("div");n.append(...e.options.element.childNodes),e.setOptions({element:n})}render(){const{editor:t,innerRef:e,...n}=this.props;return T.jsxs(T.Fragment,{children:[T.jsx("div",{ref:bN(e,this.editorContentRef),...n}),t?.contentComponent&&T.jsx(vN,{contentComponent:t.contentComponent})]})}},xN=M.forwardRef((t,e)=>{const n=bt.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return bt.createElement(wN,{key:n,innerRef:e,...t})}),SN=bt.memo(xN),TN=typeof window<"u"?M.useLayoutEffect:M.useEffect,EN=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(i=>i())},n=this.editor;return n.on("transaction",e),()=>{n.off("transaction",e)}}}};function W6(t){var e;const[n]=M.useState(()=>new EN(t.editor)),i=yN.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:pN);return TN(()=>n.watch(t.editor),[t.editor,n]),M.useDebugValue(i),i}var MN=!1,t0=typeof window>"u",kN=t0||!!(typeof window<"u"&&window.next),AN=class J6{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?t0||kN?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...i)=>{var r,o;return(o=(r=this.options.current).onBeforeCreate)==null?void 0:o.call(r,...i)},onBlur:(...i)=>{var r,o;return(o=(r=this.options.current).onBlur)==null?void 0:o.call(r,...i)},onCreate:(...i)=>{var r,o;return(o=(r=this.options.current).onCreate)==null?void 0:o.call(r,...i)},onDestroy:(...i)=>{var r,o;return(o=(r=this.options.current).onDestroy)==null?void 0:o.call(r,...i)},onFocus:(...i)=>{var r,o;return(o=(r=this.options.current).onFocus)==null?void 0:o.call(r,...i)},onSelectionUpdate:(...i)=>{var r,o;return(o=(r=this.options.current).onSelectionUpdate)==null?void 0:o.call(r,...i)},onTransaction:(...i)=>{var r,o;return(o=(r=this.options.current).onTransaction)==null?void 0:o.call(r,...i)},onUpdate:(...i)=>{var r,o;return(o=(r=this.options.current).onUpdate)==null?void 0:o.call(r,...i)},onContentError:(...i)=>{var r,o;return(o=(r=this.options.current).onContentError)==null?void 0:o.call(r,...i)},onDrop:(...i)=>{var r,o;return(o=(r=this.options.current).onDrop)==null?void 0:o.call(r,...i)},onPaste:(...i)=>{var r,o;return(o=(r=this.options.current).onPaste)==null?void 0:o.call(r,...i)},onDelete:(...i)=>{var r,o;return(o=(r=this.options.current).onDelete)==null?void 0:o.call(r,...i)}};return new sN(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(i=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(i)?!0:i==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((r,o)=>{var l;return r===((l=n.extensions)==null?void 0:l[o])}):e[i]===n[i])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?J6.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((i,r)=>i===e[r]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function RN(t={},e=[]){const n=M.useRef(t);n.current=t;const[i]=M.useState(()=>new AN(n)),r=Z5.useSyncExternalStore(i.subscribe,i.getEditor,i.getServerSnapshot);return M.useDebugValue(r),M.useEffect(i.onRender(e)),W6({editor:r,selector:({transactionNumber:o})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&o===0?0:o+1}),r}var k2=M.createContext({editor:null});k2.Consumer;var A2=()=>M.useContext(k2),Q6=M.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),ON=()=>M.useContext(Q6),NN=bt.forwardRef((t,e)=>{const{onDragStart:n}=ON(),i=t.as||"div";return T.jsx(i,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});function G7(t){return!!(typeof t=="function"&&t.prototype&&t.prototype.isReactComponent)}function X7(t){return!!(typeof t=="object"&&t.$$typeof&&(t.$$typeof.toString()==="Symbol(react.forward_ref)"||t.$$typeof.description==="react.forward_ref"))}function DN(t){return!!(typeof t=="object"&&t.$$typeof&&(t.$$typeof.toString()==="Symbol(react.memo)"||t.$$typeof.description==="react.memo"))}function LN(t){if(G7(t)||X7(t))return!0;if(DN(t)){const e=t.type;if(e)return G7(e)||X7(e)}return!1}function _N(){try{if(M.version)return parseInt(M.version.split(".")[0],10)>=19}catch{}return!1}var n0=class{constructor(t,{editor:e,props:n={},as:i="div",className:r=""}){this.ref=null,this.id=Math.floor(Math.random()*4294967295).toString(),this.component=t,this.editor=e,this.props=n,this.element=document.createElement(i),this.element.classList.add("react-renderer"),r&&this.element.classList.add(...r.split(" ")),this.editor.isInitialized?ca.flushSync(()=>{this.render()}):queueMicrotask(()=>{this.render()})}render(){var t;const e=this.component,n=this.props,i=this.editor,r=_N(),o=LN(e),l={...n};l.ref&&!(r||o)&&delete l.ref,!l.ref&&(r||o)&&(l.ref=c=>{this.ref=c}),this.reactElement=T.jsx(e,{...l}),(t=i?.contentComponent)==null||t.setRenderer(this.id,this)}updateProps(t={}){this.props={...this.props,...t},this.render()}destroy(){var t;const e=this.editor;(t=e?.contentComponent)==null||t.removeRenderer(this.id)}updateAttributes(t){Object.keys(t).forEach(e=>{this.element.setAttribute(e,t[e])})}};bt.createContext({markViewContentRef:()=>{}});var HN=class extends fN{constructor(t,e,n){if(super(t,e,n),!this.node.isLeaf){this.options.contentDOMElementTag?this.contentDOMElement=document.createElement(this.options.contentDOMElementTag):this.contentDOMElement=document.createElement(this.node.isInline?"span":"div"),this.contentDOMElement.dataset.nodeViewContentReact="",this.contentDOMElement.dataset.nodeViewWrapper="",this.contentDOMElement.style.whiteSpace="inherit";const i=this.dom.querySelector("[data-node-view-content]");if(!i)return;i.appendChild(this.contentDOMElement)}}mount(){const t={editor:this.editor,node:this.node,decorations:this.decorations,innerDecorations:this.innerDecorations,view:this.view,selected:!1,extension:this.extension,HTMLAttributes:this.HTMLAttributes,getPos:()=>this.getPos(),updateAttributes:(f={})=>this.updateAttributes(f),deleteNode:()=>this.deleteNode(),ref:M.createRef()};if(!this.component.displayName){const f=d=>d.charAt(0).toUpperCase()+d.substring(1);this.component.displayName=f(this.extension.name)}const i={onDragStart:this.onDragStart.bind(this),nodeViewContentRef:f=>{f&&this.contentDOMElement&&f.firstChild!==this.contentDOMElement&&(f.hasAttribute("data-node-view-wrapper")&&f.removeAttribute("data-node-view-wrapper"),f.appendChild(this.contentDOMElement))}},r=this.component,o=M.memo(f=>T.jsx(Q6.Provider,{value:i,children:M.createElement(r,f)}));o.displayName="ReactNodeView";let l=this.node.isInline?"span":"div";this.options.as&&(l=this.options.as);const{className:c=""}=this.options;this.handleSelectionUpdate=this.handleSelectionUpdate.bind(this),this.renderer=new n0(o,{editor:this.editor,props:t,as:l,className:`node-${this.node.type.name} ${c}`.trim()}),this.editor.on("selectionUpdate",this.handleSelectionUpdate),this.updateElementAttributes()}get dom(){var t;if(this.renderer.element.firstElementChild&&!((t=this.renderer.element.firstElementChild)!=null&&t.hasAttribute("data-node-view-wrapper")))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.contentDOMElement}handleSelectionUpdate(){const{from:t,to:e}=this.editor.state.selection,n=this.getPos();if(typeof n=="number")if(t<=n&&e>=n+this.node.nodeSize){if(this.renderer.props.selected)return;this.selectNode()}else{if(!this.renderer.props.selected)return;this.deselectNode()}}update(t,e,n){const i=r=>{this.renderer.updateProps(r),typeof this.options.attrs=="function"&&this.updateElementAttributes()};if(t.type!==this.node.type)return!1;if(typeof this.options.update=="function"){const r=this.node,o=this.decorations,l=this.innerDecorations;return this.node=t,this.decorations=e,this.innerDecorations=n,this.options.update({oldNode:r,oldDecorations:o,newNode:t,newDecorations:e,oldInnerDecorations:l,innerDecorations:n,updateProps:()=>i({node:t,decorations:e,innerDecorations:n})})}return t===this.node&&this.decorations===e&&this.innerDecorations===n||(this.node=t,this.decorations=e,this.innerDecorations=n,i({node:t,decorations:e,innerDecorations:n})),!0}selectNode(){this.renderer.updateProps({selected:!0}),this.renderer.element.classList.add("ProseMirror-selectednode")}deselectNode(){this.renderer.updateProps({selected:!1}),this.renderer.element.classList.remove("ProseMirror-selectednode")}destroy(){this.renderer.destroy(),this.editor.off("selectionUpdate",this.handleSelectionUpdate),this.contentDOMElement=null}updateElementAttributes(){if(this.options.attrs){let t={};if(typeof this.options.attrs=="function"){const e=this.editor.extensionManager.attributes,n=$c(this.node,e);t=this.options.attrs({node:this.node,HTMLAttributes:n})}else t=this.options.attrs;this.renderer.updateAttributes(t)}}};function IN(t,e){return n=>n.editor.contentComponent?new HN(t,n,e):{}}var Hd=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:n,...i}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,i,n]},zN=/^\s*>\s$/,BN=vt.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return Hd("blockquote",{...Fe(this.options.HTMLAttributes,t),children:Hd("slot",{})})},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Ql({find:zN,type:this.type})]}}),VN=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,jN=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,UN=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,PN=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,FN=Ur.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return Hd("strong",{...Fe(this.options.HTMLAttributes,t),children:Hd("slot",{})})},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Jl({find:VN,type:this.type}),Jl({find:UN,type:this.type})]},addPasteRules(){return[Os({find:jN,type:this.type}),Os({find:PN,type:this.type})]}}),qN=/(^|[^`])`([^`]+)`(?!`)/,$N=/(^|[^`])`([^`]+)`(?!`)/g,KN=Ur.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",Fe(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Jl({find:qN,type:this.type})]},addPasteRules(){return[Os({find:$N,type:this.type})]}}),ZN=/^```([a-z]+)?[\s\n]$/,YN=/^~~~([a-z]+)?[\s\n]$/,GN=vt.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,o=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(l=>l.startsWith(n)).map(l=>l.replace(n,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",Fe(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:i,empty:r}=n;if(!r||i.parent.type!==this.type)return!1;const o=i.parentOffset===i.parent.nodeSize-2,l=i.parent.textContent.endsWith(`

`);return!o||!l?!1:t.chain().command(({tr:c})=>(c.delete(i.pos-2,i.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:i}=e,{$from:r,empty:o}=n;if(!o||r.parent.type!==this.type||!(r.parentOffset===r.parent.nodeSize-2))return!1;const c=r.after();return c===void 0?!1:i.nodeAt(c)?t.commands.command(({tr:d})=>(d.setSelection(be.near(i.resolve(c))),!0)):t.commands.exitCode()}}},addInputRules(){return[e0({find:ZN,type:this.type,getAttributes:t=>({language:t[1]})}),e0({find:YN,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new je({key:new qe("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),i=e.clipboardData.getData("vscode-editor-data"),r=i?JSON.parse(i):void 0,o=r?.mode;if(!n||!o)return!1;const{tr:l,schema:c}=t.state,f=c.text(n.replace(/\r\n?/g,`
`));return l.replaceSelectionWith(this.type.create({language:o},f)),l.selection.$from.parent.type!==this.type&&l.setSelection(fe.near(l.doc.resolve(Math.max(0,l.selection.from-2)))),l.setMeta("paste",!0),t.dispatch(l),!0}}})]}}),XN=vt.create({name:"doc",topNode:!0,content:"block+"}),WN=vt.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",Fe(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:i})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:r,storedMarks:o}=n;if(r.$from.parent.type.spec.isolating)return!1;const{keepMarks:l}=this.options,{splittableMarks:c}=i.extensionManager,f=o||r.$to.parentOffset&&r.$from.marks();return e().insertContent({type:this.name}).command(({tr:d,dispatch:p})=>{if(p&&f&&l){const m=f.filter(y=>c.includes(y.type.name));d.ensureMarks(m)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),JN=vt.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,Fe(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>e0({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),QN=vt.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",Fe(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!aN(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$to:i}=n,r=t();return T2(n)?r.insertContentAt(i.pos,{type:this.name}):r.insertContent({type:this.name}),r.command(({tr:o,dispatch:l})=>{var c;if(l){const{$to:f}=o.selection,d=f.end();if(f.nodeAfter)f.nodeAfter.isTextblock?o.setSelection(fe.create(o.doc,f.pos+1)):f.nodeAfter.isBlock?o.setSelection(he.create(o.doc,f.pos)):o.setSelection(fe.create(o.doc,f.pos));else{const p=(c=f.parent.type.contentMatch.defaultType)==null?void 0:c.create();p&&(o.insert(d,p),o.setSelection(fe.create(o.doc,d+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[lN({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),eD=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,tD=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,nD=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,iD=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,rD=Ur.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",Fe(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Jl({find:eD,type:this.type}),Jl({find:nD,type:this.type})]},addPasteRules(){return[Os({find:tD,type:this.type}),Os({find:iD,type:this.type})]}});const oD="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mögensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",sD="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",ea=(t,e)=>{for(const n in e)t[n]=e[n];return t},i0="numeric",r0="ascii",o0="alpha",Mc="asciinumeric",Cc="alphanumeric",s0="domain",ew="emoji",lD="scheme",aD="slashscheme",tg="whitespace";function cD(t,e){return t in e||(e[t]=[]),e[t]}function bs(t,e,n){e[i0]&&(e[Mc]=!0,e[Cc]=!0),e[r0]&&(e[Mc]=!0,e[o0]=!0),e[Mc]&&(e[Cc]=!0),e[o0]&&(e[Cc]=!0),e[Cc]&&(e[s0]=!0),e[ew]&&(e[s0]=!0);for(const i in e){const r=cD(i,n);r.indexOf(t)<0&&r.push(t)}}function uD(t,e){const n={};for(const i in e)e[i].indexOf(t)>=0&&(n[i]=!0);return n}function In(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}In.groups={};In.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let i=0;i<e.jr.length;i++){const r=e.jr[i][0],o=e.jr[i][1];if(o&&r.test(t))return o}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,i){for(let r=0;r<t.length;r++)this.tt(t[r],e,n,i)},tr(t,e,n,i){i=i||In.groups;let r;return e&&e.j?r=e:(r=new In(e),n&&i&&bs(e,n,i)),this.jr.push([t,r]),r},ts(t,e,n,i){let r=this;const o=t.length;if(!o)return r;for(let l=0;l<o-1;l++)r=r.tt(t[l]);return r.tt(t[o-1],e,n,i)},tt(t,e,n,i){i=i||In.groups;const r=this;if(e&&e.j)return r.j[t]=e,e;const o=e;let l,c=r.go(t);if(c?(l=new In,ea(l.j,c.j),l.jr.push.apply(l.jr,c.jr),l.jd=c.jd,l.t=c.t):l=new In,o){if(i)if(l.t&&typeof l.t=="string"){const f=ea(uD(l.t,i),n);bs(o,f,i)}else n&&bs(o,n,i);l.t=o}return r.j[t]=l,l}};const Ae=(t,e,n,i,r)=>t.ta(e,n,i,r),St=(t,e,n,i,r)=>t.tr(e,n,i,r),W7=(t,e,n,i,r)=>t.ts(e,n,i,r),ne=(t,e,n,i,r)=>t.tt(e,n,i,r),kr="WORD",l0="UWORD",tw="ASCIINUMERICAL",nw="ALPHANUMERICAL",Kc="LOCALHOST",a0="TLD",c0="UTLD",dd="SCHEME",zl="SLASH_SCHEME",R2="NUM",u0="WS",O2="NL",kc="OPENBRACE",Ac="CLOSEBRACE",Id="OPENBRACKET",zd="CLOSEBRACKET",Bd="OPENPAREN",Vd="CLOSEPAREN",jd="OPENANGLEBRACKET",Ud="CLOSEANGLEBRACKET",Pd="FULLWIDTHLEFTPAREN",Fd="FULLWIDTHRIGHTPAREN",qd="LEFTCORNERBRACKET",$d="RIGHTCORNERBRACKET",Kd="LEFTWHITECORNERBRACKET",Zd="RIGHTWHITECORNERBRACKET",Yd="FULLWIDTHLESSTHAN",Gd="FULLWIDTHGREATERTHAN",Xd="AMPERSAND",Wd="APOSTROPHE",Jd="ASTERISK",vo="AT",Qd="BACKSLASH",eh="BACKTICK",th="CARET",xo="COLON",N2="COMMA",nh="DOLLAR",Gi="DOT",ih="EQUALS",D2="EXCLAMATION",pi="HYPHEN",Rc="PERCENT",rh="PIPE",oh="PLUS",sh="POUND",Oc="QUERY",L2="QUOTE",iw="FULLWIDTHMIDDLEDOT",_2="SEMI",Xi="SLASH",Nc="TILDE",lh="UNDERSCORE",rw="EMOJI",ah="SYM";var ow=Object.freeze({__proto__:null,ALPHANUMERICAL:nw,AMPERSAND:Xd,APOSTROPHE:Wd,ASCIINUMERICAL:tw,ASTERISK:Jd,AT:vo,BACKSLASH:Qd,BACKTICK:eh,CARET:th,CLOSEANGLEBRACKET:Ud,CLOSEBRACE:Ac,CLOSEBRACKET:zd,CLOSEPAREN:Vd,COLON:xo,COMMA:N2,DOLLAR:nh,DOT:Gi,EMOJI:rw,EQUALS:ih,EXCLAMATION:D2,FULLWIDTHGREATERTHAN:Gd,FULLWIDTHLEFTPAREN:Pd,FULLWIDTHLESSTHAN:Yd,FULLWIDTHMIDDLEDOT:iw,FULLWIDTHRIGHTPAREN:Fd,HYPHEN:pi,LEFTCORNERBRACKET:qd,LEFTWHITECORNERBRACKET:Kd,LOCALHOST:Kc,NL:O2,NUM:R2,OPENANGLEBRACKET:jd,OPENBRACE:kc,OPENBRACKET:Id,OPENPAREN:Bd,PERCENT:Rc,PIPE:rh,PLUS:oh,POUND:sh,QUERY:Oc,QUOTE:L2,RIGHTCORNERBRACKET:$d,RIGHTWHITECORNERBRACKET:Zd,SCHEME:dd,SEMI:_2,SLASH:Xi,SLASH_SCHEME:zl,SYM:ah,TILDE:Nc,TLD:a0,UNDERSCORE:lh,UTLD:c0,UWORD:l0,WORD:kr,WS:u0});const Tr=/[a-z]/,pc=/\p{L}/u,ng=/\p{Emoji}/u,Er=/\d/,ig=/\s/,J7="\r",rg=`
`,fD="️",dD="‍",og="￼";let Pf=null,Ff=null;function hD(t=[]){const e={};In.groups=e;const n=new In;Pf==null&&(Pf=Q7(oD)),Ff==null&&(Ff=Q7(sD)),ne(n,"'",Wd),ne(n,"{",kc),ne(n,"}",Ac),ne(n,"[",Id),ne(n,"]",zd),ne(n,"(",Bd),ne(n,")",Vd),ne(n,"<",jd),ne(n,">",Ud),ne(n,"（",Pd),ne(n,"）",Fd),ne(n,"「",qd),ne(n,"」",$d),ne(n,"『",Kd),ne(n,"』",Zd),ne(n,"＜",Yd),ne(n,"＞",Gd),ne(n,"&",Xd),ne(n,"*",Jd),ne(n,"@",vo),ne(n,"`",eh),ne(n,"^",th),ne(n,":",xo),ne(n,",",N2),ne(n,"$",nh),ne(n,".",Gi),ne(n,"=",ih),ne(n,"!",D2),ne(n,"-",pi),ne(n,"%",Rc),ne(n,"|",rh),ne(n,"+",oh),ne(n,"#",sh),ne(n,"?",Oc),ne(n,'"',L2),ne(n,"/",Xi),ne(n,";",_2),ne(n,"~",Nc),ne(n,"_",lh),ne(n,"\\",Qd),ne(n,"・",iw);const i=St(n,Er,R2,{[i0]:!0});St(i,Er,i);const r=St(i,Tr,tw,{[Mc]:!0}),o=St(i,pc,nw,{[Cc]:!0}),l=St(n,Tr,kr,{[r0]:!0});St(l,Er,r),St(l,Tr,l),St(r,Er,r),St(r,Tr,r);const c=St(n,pc,l0,{[o0]:!0});St(c,Tr),St(c,Er,o),St(c,pc,c),St(o,Er,o),St(o,Tr),St(o,pc,o);const f=ne(n,rg,O2,{[tg]:!0}),d=ne(n,J7,u0,{[tg]:!0}),p=St(n,ig,u0,{[tg]:!0});ne(n,og,p),ne(d,rg,f),ne(d,og,p),St(d,ig,p),ne(p,J7),ne(p,rg),St(p,ig,p),ne(p,og,p);const m=St(n,ng,rw,{[ew]:!0});ne(m,"#"),St(m,ng,m),ne(m,fD,m);const y=ne(m,dD);ne(y,"#"),St(y,ng,m);const b=[[Tr,l],[Er,r]],C=[[Tr,null],[pc,c],[Er,o]];for(let w=0;w<Pf.length;w++)po(n,Pf[w],a0,kr,b);for(let w=0;w<Ff.length;w++)po(n,Ff[w],c0,l0,C);bs(a0,{tld:!0,ascii:!0},e),bs(c0,{utld:!0,alpha:!0},e),po(n,"file",dd,kr,b),po(n,"mailto",dd,kr,b),po(n,"http",zl,kr,b),po(n,"https",zl,kr,b),po(n,"ftp",zl,kr,b),po(n,"ftps",zl,kr,b),bs(dd,{scheme:!0,ascii:!0},e),bs(zl,{slashscheme:!0,ascii:!0},e),t=t.sort((w,x)=>w[0]>x[0]?1:-1);for(let w=0;w<t.length;w++){const x=t[w][0],A=t[w][1]?{[lD]:!0}:{[aD]:!0};x.indexOf("-")>=0?A[s0]=!0:Tr.test(x)?Er.test(x)?A[Mc]=!0:A[r0]=!0:A[i0]=!0,W7(n,x,x,A)}return W7(n,"localhost",Kc,{ascii:!0}),n.jd=new In(ah),{start:n,tokens:ea({groups:e},ow)}}function sw(t,e){const n=pD(e.replace(/[A-Z]/g,c=>c.toLowerCase())),i=n.length,r=[];let o=0,l=0;for(;l<i;){let c=t,f=null,d=0,p=null,m=-1,y=-1;for(;l<i&&(f=c.go(n[l]));)c=f,c.accepts()?(m=0,y=0,p=c):m>=0&&(m+=n[l].length,y++),d+=n[l].length,o+=n[l].length,l++;o-=m,l-=y,d-=m,r.push({t:p.t,v:e.slice(o-d,o),s:o-d,e:o})}return r}function pD(t){const e=[],n=t.length;let i=0;for(;i<n;){let r=t.charCodeAt(i),o,l=r<55296||r>56319||i+1===n||(o=t.charCodeAt(i+1))<56320||o>57343?t[i]:t.slice(i,i+2);e.push(l),i+=l.length}return e}function po(t,e,n,i,r){let o;const l=e.length;for(let c=0;c<l-1;c++){const f=e[c];t.j[f]?o=t.j[f]:(o=new In(i),o.jr=r.slice(),t.j[f]=o),t=o}return o=new In(n),o.jr=r.slice(),t.j[e[l-1]]=o,o}function Q7(t){const e=[],n=[];let i=0,r="0123456789";for(;i<t.length;){let o=0;for(;r.indexOf(t[i+o])>=0;)o++;if(o>0){e.push(n.join(""));for(let l=parseInt(t.substring(i,i+o),10);l>0;l--)n.pop();i+=o}else n.push(t[i]),i++}return e}const Zc={defaultProtocol:"http",events:null,format:eC,formatHref:eC,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function H2(t,e=null){let n=ea({},Zc);t&&(n=ea(n,t instanceof H2?t.o:t));const i=n.ignoreTags,r=[];for(let o=0;o<i.length;o++)r.push(i[o].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=r}H2.prototype={o:Zc,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const i=e!=null;let r=this.o[t];return r&&(typeof r=="object"?(r=n.t in r?r[n.t]:Zc[t],typeof r=="function"&&i&&(r=r(e,n))):typeof r=="function"&&i&&(r=r(e,n.t,n)),r)},getObj(t,e,n){let i=this.o[t];return typeof i=="function"&&e!=null&&(i=i(e,n.t,n)),i},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function eC(t){return t}function lw(t,e){this.t="token",this.v=t,this.tk=e}lw.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),i=t.get("format",e,this);return n&&i.length>n?i.substring(0,n)+"…":i},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=Zc.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),i=t.get("formatHref",n,this),r=t.get("tagName",n,e),o=this.toFormattedString(t),l={},c=t.get("className",n,e),f=t.get("target",n,e),d=t.get("rel",n,e),p=t.getObj("attributes",n,e),m=t.getObj("events",n,e);return l.href=i,c&&(l.class=c),f&&(l.target=f),d&&(l.rel=d),p&&ea(l,p),{tagName:r,attributes:l,content:o,eventListeners:m}}};function qh(t,e){class n extends lw{constructor(r,o){super(r,o),this.t=t}}for(const i in e)n.prototype[i]=e[i];return n.t=t,n}const tC=qh("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),nC=qh("text"),mD=qh("nl"),qf=qh("url",{isLink:!0,toHref(t=Zc.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==Kc&&t[1].t===xo}}),di=t=>new In(t);function gD({groups:t}){const e=t.domain.concat([Xd,Jd,vo,Qd,eh,th,nh,ih,pi,R2,Rc,rh,oh,sh,Xi,ah,Nc,lh]),n=[Wd,xo,N2,Gi,D2,Rc,Oc,L2,_2,jd,Ud,kc,Ac,zd,Id,Bd,Vd,Pd,Fd,qd,$d,Kd,Zd,Yd,Gd],i=[Xd,Wd,Jd,Qd,eh,th,nh,ih,pi,kc,Ac,Rc,rh,oh,sh,Oc,Xi,ah,Nc,lh],r=di(),o=ne(r,Nc);Ae(o,i,o),Ae(o,t.domain,o);const l=di(),c=di(),f=di();Ae(r,t.domain,l),Ae(r,t.scheme,c),Ae(r,t.slashscheme,f),Ae(l,i,o),Ae(l,t.domain,l);const d=ne(l,vo);ne(o,vo,d),ne(c,vo,d),ne(f,vo,d);const p=ne(o,Gi);Ae(p,i,o),Ae(p,t.domain,o);const m=di();Ae(d,t.domain,m),Ae(m,t.domain,m);const y=ne(m,Gi);Ae(y,t.domain,m);const b=di(tC);Ae(y,t.tld,b),Ae(y,t.utld,b),ne(d,Kc,b);const C=ne(m,pi);ne(C,pi,C),Ae(C,t.domain,m),Ae(b,t.domain,m),ne(b,Gi,y),ne(b,pi,C);const w=ne(b,xo);Ae(w,t.numeric,tC);const x=ne(l,pi),E=ne(l,Gi);ne(x,pi,x),Ae(x,t.domain,l),Ae(E,i,o),Ae(E,t.domain,l);const A=di(qf);Ae(E,t.tld,A),Ae(E,t.utld,A),Ae(A,t.domain,l),Ae(A,i,o),ne(A,Gi,E),ne(A,pi,x),ne(A,vo,d);const O=ne(A,xo),H=di(qf);Ae(O,t.numeric,H);const L=di(qf),K=di();Ae(L,e,L),Ae(L,n,K),Ae(K,e,L),Ae(K,n,K),ne(A,Xi,L),ne(H,Xi,L);const Y=ne(c,xo),X=ne(f,xo),oe=ne(X,Xi),Q=ne(oe,Xi);Ae(c,t.domain,l),ne(c,Gi,E),ne(c,pi,x),Ae(f,t.domain,l),ne(f,Gi,E),ne(f,pi,x),Ae(Y,t.domain,L),ne(Y,Xi,L),ne(Y,Oc,L),Ae(Q,t.domain,L),Ae(Q,e,L),ne(Q,Xi,L);const le=[[kc,Ac],[Id,zd],[Bd,Vd],[jd,Ud],[Pd,Fd],[qd,$d],[Kd,Zd],[Yd,Gd]];for(let re=0;re<le.length;re++){const[ce,ie]=le[re],$=ne(L,ce);ne(K,ce,$),ne($,ie,L);const _=di(qf);Ae($,e,_);const j=di();Ae($,n),Ae(_,e,_),Ae(_,n,j),Ae(j,e,_),Ae(j,n,j),ne(_,ie,L),ne(j,ie,L)}return ne(r,Kc,A),ne(r,O2,mD),{start:r,tokens:ow}}function yD(t,e,n){let i=n.length,r=0,o=[],l=[];for(;r<i;){let c=t,f=null,d=null,p=0,m=null,y=-1;for(;r<i&&!(f=c.go(n[r].t));)l.push(n[r++]);for(;r<i&&(d=f||c.go(n[r].t));)f=null,c=d,c.accepts()?(y=0,m=c):y>=0&&y++,r++,p++;if(y<0)r-=p,r<i&&(l.push(n[r]),r++);else{l.length>0&&(o.push(sg(nC,e,l)),l=[]),r-=y,p-=y;const b=m.t,C=n.slice(r-p,r);o.push(sg(b,e,C))}}return l.length>0&&o.push(sg(nC,e,l)),o}function sg(t,e,n){const i=n[0].s,r=n[n.length-1].e,o=e.slice(i,r);return new t(o,n)}const bD=typeof console<"u"&&console&&console.warn||(()=>{}),vD="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",ht={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function CD(){return In.groups={},ht.scanner=null,ht.parser=null,ht.tokenQueue=[],ht.pluginQueue=[],ht.customSchemes=[],ht.initialized=!1,ht}function iC(t,e=!1){if(ht.initialized&&bD(`linkifyjs: already initialized - will not register custom scheme "${t}" ${vD}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);ht.customSchemes.push([t,e])}function wD(){ht.scanner=hD(ht.customSchemes);for(let t=0;t<ht.tokenQueue.length;t++)ht.tokenQueue[t][1]({scanner:ht.scanner});ht.parser=gD(ht.scanner.tokens);for(let t=0;t<ht.pluginQueue.length;t++)ht.pluginQueue[t][1]({scanner:ht.scanner,parser:ht.parser});return ht.initialized=!0,ht}function I2(t){return ht.initialized||wD(),yD(ht.parser.start,t,sw(ht.scanner.start,t))}I2.scan=sw;function aw(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const i=new H2(n),r=I2(t),o=[];for(let l=0;l<r.length;l++){const c=r[l];c.isLink&&(!e||c.t===e)&&i.check(c)&&o.push(c.toFormattedObject(i))}return o}var z2="[\0-   ᠎ -\u2029 　]",xD=new RegExp(z2),SD=new RegExp(`${z2}$`),TD=new RegExp(z2,"g");function ED(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function MD(t){return new je({key:new qe("autolink"),appendTransaction:(e,n,i)=>{const r=e.some(d=>d.docChanged)&&!n.doc.eq(i.doc),o=e.some(d=>d.getMeta("preventAutolink"));if(!r||o)return;const{tr:l}=i,c=C6(n.doc,[...e]);if(O6(c).forEach(({newRange:d})=>{const p=MR(i.doc,d,b=>b.isTextblock);let m,y;if(p.length>1)m=p[0],y=i.doc.textBetween(m.pos,m.pos+m.node.nodeSize,void 0," ");else if(p.length){const b=i.doc.textBetween(d.from,d.to," "," ");if(!SD.test(b))return;m=p[0],y=i.doc.textBetween(m.pos,d.to,void 0," ")}if(m&&y){const b=y.split(xD).filter(Boolean);if(b.length<=0)return!1;const C=b[b.length-1],w=m.pos+y.lastIndexOf(C);if(!C)return!1;const x=I2(C).map(E=>E.toObject(t.defaultProtocol));if(!ED(x))return!1;x.filter(E=>E.isLink).map(E=>({...E,from:w+E.start+1,to:w+E.end+1})).filter(E=>i.schema.marks.code?!i.doc.rangeHasMark(E.from,E.to,i.schema.marks.code):!0).filter(E=>t.validate(E.value)).filter(E=>t.shouldAutoLink(E.value)).forEach(E=>{S2(E.from,E.to,i.doc).some(A=>A.mark.type===t.type)||l.addMark(E.from,E.to,t.type.create({href:E.href}))})}}),!!l.steps.length)return l}})}function kD(t){return new je({key:new qe("handleClickLink"),props:{handleClick:(e,n,i)=>{var r,o;if(i.button!==0||!e.editable)return!1;let l=null;if(i.target instanceof HTMLAnchorElement)l=i.target;else{let p=i.target;const m=[];for(;p.nodeName!=="DIV";)m.push(p),p=p.parentNode;l=m.find(y=>y.nodeName==="A")}if(!l)return!1;const c=R6(e.state,t.type.name),f=(r=l?.href)!=null?r:c.href,d=(o=l?.target)!=null?o:c.target;return t.enableClickSelection&&t.editor.commands.extendMarkRange(t.type.name),l&&f?(window.open(f,d),!0):!1}}})}function AD(t){return new je({key:new qe("handlePasteLink"),props:{handlePaste:(e,n,i)=>{const{state:r}=e,{selection:o}=r,{empty:l}=o;if(l)return!1;let c="";i.content.forEach(d=>{c+=d.textContent});const f=aw(c,{defaultProtocol:t.defaultProtocol}).find(d=>d.isLink&&d.value===c);return!c||!f?!1:t.editor.commands.setMark(t.type,{href:f.href})}}})}function as(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(i=>{const r=typeof i=="string"?i:i.scheme;r&&n.push(r)}),!t||t.replace(TD,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var RD=Ur.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){iC(t);return}iC(t.scheme,t.optionalSlashes)})},onDestroy(){CD()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!as(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!as(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!as(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",Fe(this.options.HTMLAttributes,t),0]:["a",Fe(this.options.HTMLAttributes,{...t,href:""}),0]},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:i=>!!as(i,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:i=>!!as(i,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Os({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:i}=this.options,r=aw(t).filter(o=>o.isLink&&this.options.isAllowedUri(o.value,{defaultValidate:l=>!!as(l,n),protocols:n,defaultProtocol:i}));r.length&&r.forEach(o=>e.push({text:o.value,data:{href:o.href},index:o.start}))}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(MD({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:i=>this.options.isAllowedUri(i,{defaultValidate:r=>!!as(r,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&t.push(kD({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(AD({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),t}}),OD=Object.defineProperty,ND=(t,e)=>{for(var n in e)OD(t,n,{get:e[n],enumerable:!0})},DD="listItem",rC="textStyle",oC=/^\s*([-+*])\s$/,cw=vt.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",Fe(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(DD,this.editor.getAttributes(rC)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Ql({find:oC,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Ql({find:oC,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(rC),editor:this.editor})),[t]}}),uw=vt.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Fe(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),LD={};ND(LD,{findListItemPos:()=>fu,getNextListDepth:()=>B2,handleBackspace:()=>f0,handleDelete:()=>d0,hasListBefore:()=>fw,hasListItemAfter:()=>_D,hasListItemBefore:()=>dw,listItemHasSubList:()=>hw,nextListIsDeeper:()=>pw,nextListIsHigher:()=>mw});var fu=(t,e)=>{const{$from:n}=e.selection,i=Bt(t,e.schema);let r=null,o=n.depth,l=n.pos,c=null;for(;o>0&&c===null;)r=n.node(o),r.type===i?c=o:(o-=1,l-=1);return c===null?null:{$pos:e.doc.resolve(l),depth:c}},B2=(t,e)=>{const n=fu(t,e);if(!n)return!1;const[,i]=_R(e,t,n.$pos.pos+4);return i},fw=(t,e,n)=>{const{$anchor:i}=t.selection,r=Math.max(0,i.pos-2),o=t.doc.resolve(r).node();return!(!o||!n.includes(o.type.name))},dw=(t,e)=>{var n;const{$anchor:i}=e.selection,r=e.doc.resolve(i.pos-2);return!(r.index()===0||((n=r.nodeBefore)==null?void 0:n.type.name)!==t)},hw=(t,e,n)=>{if(!n)return!1;const i=Bt(t,e.schema);let r=!1;return n.descendants(o=>{o.type===i&&(r=!0)}),r},f0=(t,e,n)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!_o(t.state,e)&&fw(t.state,e,n)){const{$anchor:c}=t.state.selection,f=t.state.doc.resolve(c.before()-1),d=[];f.node().descendants((y,b)=>{y.type.name===e&&d.push({node:y,pos:b})});const p=d.at(-1);if(!p)return!1;const m=t.state.doc.resolve(f.start()+p.pos+1);return t.chain().cut({from:c.start()-1,to:c.end()+1},m.end()).joinForward().run()}if(!_o(t.state,e)||!BR(t.state))return!1;const i=fu(e,t.state);if(!i)return!1;const o=t.state.doc.resolve(i.$pos.pos-2).node(i.depth),l=hw(e,t.state,o);return dw(e,t.state)&&!l?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},pw=(t,e)=>{const n=B2(t,e),i=fu(t,e);return!i||!n?!1:n>i.depth},mw=(t,e)=>{const n=B2(t,e),i=fu(t,e);return!i||!n?!1:n<i.depth},d0=(t,e)=>{if(!_o(t.state,e)||!zR(t.state,e))return!1;const{selection:n}=t.state,{$from:i,$to:r}=n;return!n.empty&&i.sameParent(r)?!1:pw(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():mw(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},_D=(t,e)=>{var n;const{$anchor:i}=e.selection,r=e.doc.resolve(i.pos-i.parentOffset-2);return!(r.index()===r.parent.childCount-1||((n=r.nodeAfter)==null?void 0:n.type.name)!==t)},gw=Ye.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&d0(t,n)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&d0(t,n)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:i})=>{t.state.schema.nodes[n]!==void 0&&f0(t,n,i)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:i})=>{t.state.schema.nodes[n]!==void 0&&f0(t,n,i)&&(e=!0)}),e}}}}),HD="listItem",sC="textStyle",lC=/^(\d+)\.\s$/,yw=vt.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",Fe(this.options.HTMLAttributes,n),0]:["ol",Fe(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(HD,this.editor.getAttributes(sC)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Ql({find:lC,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Ql({find:lC,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(sC)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),ID=/^\s*(\[([( |x])?\])\s$/,zD=vt.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",Fe(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:i})=>{const r=document.createElement("li"),o=document.createElement("label"),l=document.createElement("span"),c=document.createElement("input"),f=document.createElement("div"),d=()=>{var p,m;c.ariaLabel=((m=(p=this.options.a11y)==null?void 0:p.checkboxLabel)==null?void 0:m.call(p,t,c.checked))||`Task item checkbox for ${t.textContent||"empty task item"}`};return d(),o.contentEditable="false",c.type="checkbox",c.addEventListener("mousedown",p=>p.preventDefault()),c.addEventListener("change",p=>{if(!i.isEditable&&!this.options.onReadOnlyChecked){c.checked=!c.checked;return}const{checked:m}=p.target;i.isEditable&&typeof n=="function"&&i.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:y})=>{const b=n();if(typeof b!="number")return!1;const C=y.doc.nodeAt(b);return y.setNodeMarkup(b,void 0,{...C?.attrs,checked:m}),!0}).run(),!i.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,m)||(c.checked=!c.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([p,m])=>{r.setAttribute(p,m)}),r.dataset.checked=t.attrs.checked,c.checked=t.attrs.checked,o.append(c,l),r.append(o,f),Object.entries(e).forEach(([p,m])=>{r.setAttribute(p,m)}),{dom:r,contentDOM:f,update:p=>p.type!==this.type?!1:(r.dataset.checked=p.attrs.checked,c.checked=p.attrs.checked,d(),!0)}}},addInputRules(){return[Ql({find:ID,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),BD=vt.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",Fe(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});Ye.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(cw.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(uw.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(gw.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(yw.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(zD.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(BD.configure(this.options.taskList)),t}});var bw=vt.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",Fe(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),VD=bw,jD=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,UD=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,PD=Ur.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",Fe(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Jl({find:jD,type:this.type})]},addPasteRules(){return[Os({find:UD,type:this.type})]}}),FD=vt.create({name:"text",group:"inline"}),qD=Ur.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",Fe(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function $D(t={}){return new je({view(e){return new KD(e,t)}})}class KD{constructor(e,n){var i;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(i=n.width)!==null&&i!==void 0?i:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(r=>{let o=l=>{this[r](l)};return e.dom.addEventListener(r,o),{name:r,handler:o}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,i,r=this.editorView.dom,o=r.getBoundingClientRect(),l=o.width/r.offsetWidth,c=o.height/r.offsetHeight;if(n){let m=e.nodeBefore,y=e.nodeAfter;if(m||y){let b=this.editorView.nodeDOM(this.cursorPos-(m?m.nodeSize:0));if(b){let C=b.getBoundingClientRect(),w=m?C.bottom:C.top;m&&y&&(w=(w+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let x=this.width/2*c;i={left:C.left,right:C.right,top:w-x,bottom:w+x}}}}if(!i){let m=this.editorView.coordsAtPos(this.cursorPos),y=this.width/2*l;i={left:m.left-y,right:m.left+y,top:m.top,bottom:m.bottom}}let f=this.editorView.dom.offsetParent;this.element||(this.element=f.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let d,p;if(!f||f==document.body&&getComputedStyle(f).position=="static")d=-pageXOffset,p=-pageYOffset;else{let m=f.getBoundingClientRect(),y=m.width/f.offsetWidth,b=m.height/f.offsetHeight;d=m.left-f.scrollLeft*y,p=m.top-f.scrollTop*b}this.element.style.left=(i.left-d)/l+"px",this.element.style.top=(i.top-p)/c+"px",this.element.style.width=(i.right-i.left)/l+"px",this.element.style.height=(i.bottom-i.top)/c+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),i=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),r=i&&i.type.spec.disableDropCursor,o=typeof r=="function"?r(this.editorView,n,e):r;if(n&&!o){let l=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let c=C9(this.editorView.state.doc,l,this.editorView.dragging.slice);c!=null&&(l=c)}this.setCursor(l),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class Et extends be{constructor(e){super(e,e)}map(e,n){let i=e.resolve(n.map(this.head));return Et.valid(i)?new Et(i):be.near(i)}content(){return se.empty}eq(e){return e instanceof Et&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Et(e.resolve(n.pos))}getBookmark(){return new V2(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!ZD(e)||!YD(e))return!1;let i=n.type.spec.allowGapCursor;if(i!=null)return i;let r=n.contentMatchAt(e.index()).defaultType;return r&&r.isTextblock}static findGapCursorFrom(e,n,i=!1){e:for(;;){if(!i&&Et.valid(e))return e;let r=e.pos,o=null;for(let l=e.depth;;l--){let c=e.node(l);if(n>0?e.indexAfter(l)<c.childCount:e.index(l)>0){o=c.child(n>0?e.indexAfter(l):e.index(l)-1);break}else if(l==0)return null;r+=n;let f=e.doc.resolve(r);if(Et.valid(f))return f}for(;;){let l=n>0?o.firstChild:o.lastChild;if(!l){if(o.isAtom&&!o.isText&&!he.isSelectable(o)){e=e.doc.resolve(r+o.nodeSize*n),i=!1;continue e}break}o=l,r+=n;let c=e.doc.resolve(r);if(Et.valid(c))return c}return null}}}Et.prototype.visible=!1;Et.findFrom=Et.findGapCursorFrom;be.jsonID("gapcursor",Et);class V2{constructor(e){this.pos=e}map(e){return new V2(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return Et.valid(n)?new Et(n):be.near(n)}}function ZD(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),i=t.node(e);if(n==0){if(i.type.spec.isolating)return!0;continue}for(let r=i.child(n-1);;r=r.lastChild){if(r.childCount==0&&!r.inlineContent||r.isAtom||r.type.spec.isolating)return!0;if(r.inlineContent)return!1}}return!0}function YD(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),i=t.node(e);if(n==i.childCount){if(i.type.spec.isolating)return!0;continue}for(let r=i.child(n);;r=r.firstChild){if(r.childCount==0&&!r.inlineContent||r.isAtom||r.type.spec.isolating)return!0;if(r.inlineContent)return!1}}return!0}function GD(){return new je({props:{decorations:QD,createSelectionBetween(t,e,n){return e.pos==n.pos&&Et.valid(n)?new Et(n):null},handleClick:WD,handleKeyDown:XD,handleDOMEvents:{beforeinput:JD}}})}const XD=f2({ArrowLeft:$f("horiz",-1),ArrowRight:$f("horiz",1),ArrowUp:$f("vert",-1),ArrowDown:$f("vert",1)});function $f(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(i,r,o){let l=i.selection,c=e>0?l.$to:l.$from,f=l.empty;if(l instanceof fe){if(!o.endOfTextblock(n)||c.depth==0)return!1;f=!1,c=i.doc.resolve(e>0?c.after():c.before())}let d=Et.findGapCursorFrom(c,e,f);return d?(r&&r(i.tr.setSelection(new Et(d))),!0):!1}}function WD(t,e,n){if(!t||!t.editable)return!1;let i=t.state.doc.resolve(e);if(!Et.valid(i))return!1;let r=t.posAtCoords({left:n.clientX,top:n.clientY});return r&&r.inside>-1&&he.isSelectable(t.state.doc.nodeAt(r.inside))?!1:(t.dispatch(t.state.tr.setSelection(new Et(i))),!0)}function JD(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof Et))return!1;let{$from:n}=t.state.selection,i=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!i)return!1;let r=W.empty;for(let l=i.length-1;l>=0;l--)r=W.from(i[l].createAndFill(null,r));let o=t.state.tr.replace(n.pos,n.pos,new se(r,0,0));return o.setSelection(fe.near(o.doc.resolve(n.pos+1))),t.dispatch(o),!1}function QD(t){if(!(t.selection instanceof Et))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Je.create(t.doc,[It.widget(t.selection.head,e,{key:"gapcursor"})])}var ch=200,Xt=function(){};Xt.prototype.append=function(e){return e.length?(e=Xt.from(e),!this.length&&e||e.length<ch&&this.leafAppend(e)||this.length<ch&&e.leafPrepend(this)||this.appendInner(e)):this};Xt.prototype.prepend=function(e){return e.length?Xt.from(e).append(this):this};Xt.prototype.appendInner=function(e){return new eL(this,e)};Xt.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Xt.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Xt.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Xt.prototype.forEach=function(e,n,i){n===void 0&&(n=0),i===void 0&&(i=this.length),n<=i?this.forEachInner(e,n,i,0):this.forEachInvertedInner(e,n,i,0)};Xt.prototype.map=function(e,n,i){n===void 0&&(n=0),i===void 0&&(i=this.length);var r=[];return this.forEach(function(o,l){return r.push(e(o,l))},n,i),r};Xt.from=function(e){return e instanceof Xt?e:e&&e.length?new vw(e):Xt.empty};var vw=function(t){function e(i){t.call(this),this.values=i}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(r,o){return r==0&&o==this.length?this:new e(this.values.slice(r,o))},e.prototype.getInner=function(r){return this.values[r]},e.prototype.forEachInner=function(r,o,l,c){for(var f=o;f<l;f++)if(r(this.values[f],c+f)===!1)return!1},e.prototype.forEachInvertedInner=function(r,o,l,c){for(var f=o-1;f>=l;f--)if(r(this.values[f],c+f)===!1)return!1},e.prototype.leafAppend=function(r){if(this.length+r.length<=ch)return new e(this.values.concat(r.flatten()))},e.prototype.leafPrepend=function(r){if(this.length+r.length<=ch)return new e(r.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(Xt);Xt.empty=new vw([]);var eL=function(t){function e(n,i){t.call(this),this.left=n,this.right=i,this.length=n.length+i.length,this.depth=Math.max(n.depth,i.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(i){return i<this.left.length?this.left.get(i):this.right.get(i-this.left.length)},e.prototype.forEachInner=function(i,r,o,l){var c=this.left.length;if(r<c&&this.left.forEachInner(i,r,Math.min(o,c),l)===!1||o>c&&this.right.forEachInner(i,Math.max(r-c,0),Math.min(this.length,o)-c,l+c)===!1)return!1},e.prototype.forEachInvertedInner=function(i,r,o,l){var c=this.left.length;if(r>c&&this.right.forEachInvertedInner(i,r-c,Math.max(o,c)-c,l+c)===!1||o<c&&this.left.forEachInvertedInner(i,Math.min(r,c),o,l)===!1)return!1},e.prototype.sliceInner=function(i,r){if(i==0&&r==this.length)return this;var o=this.left.length;return r<=o?this.left.slice(i,r):i>=o?this.right.slice(i-o,r-o):this.left.slice(i,o).append(this.right.slice(0,r-o))},e.prototype.leafAppend=function(i){var r=this.right.leafAppend(i);if(r)return new e(this.left,r)},e.prototype.leafPrepend=function(i){var r=this.left.leafPrepend(i);if(r)return new e(r,this.right)},e.prototype.appendInner=function(i){return this.left.depth>=Math.max(this.right.depth,i.depth)+1?new e(this.left,new e(this.right,i)):new e(this,i)},e}(Xt);const tL=500;class Ei{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let i=this.items.length;for(;;i--)if(this.items.get(i-1).selection){--i;break}let r,o;n&&(r=this.remapping(i,this.items.length),o=r.maps.length);let l=e.tr,c,f,d=[],p=[];return this.items.forEach((m,y)=>{if(!m.step){r||(r=this.remapping(i,y+1),o=r.maps.length),o--,p.push(m);return}if(r){p.push(new mo(m.map));let b=m.step.map(r.slice(o)),C;b&&l.maybeStep(b).doc&&(C=l.mapping.maps[l.mapping.maps.length-1],d.push(new mo(C,void 0,void 0,d.length+p.length))),o--,C&&r.appendMap(C,o)}else l.maybeStep(m.step);if(m.selection)return c=r?m.selection.map(r.slice(o)):m.selection,f=new Ei(this.items.slice(0,i).append(p.reverse().concat(d)),this.eventCount-1),!1},this.items.length,0),{remaining:f,transform:l,selection:c}}addTransform(e,n,i,r){let o=[],l=this.eventCount,c=this.items,f=!r&&c.length?c.get(c.length-1):null;for(let p=0;p<e.steps.length;p++){let m=e.steps[p].invert(e.docs[p]),y=new mo(e.mapping.maps[p],m,n),b;(b=f&&f.merge(y))&&(y=b,p?o.pop():c=c.slice(0,c.length-1)),o.push(y),n&&(l++,n=void 0),r||(f=y)}let d=l-i.depth;return d>iL&&(c=nL(c,d),l-=d),new Ei(c.append(o),l)}remapping(e,n){let i=new Bc;return this.items.forEach((r,o)=>{let l=r.mirrorOffset!=null&&o-r.mirrorOffset>=e?i.maps.length-r.mirrorOffset:void 0;i.appendMap(r.map,l)},e,n),i}addMaps(e){return this.eventCount==0?this:new Ei(this.items.append(e.map(n=>new mo(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let i=[],r=Math.max(0,this.items.length-n),o=e.mapping,l=e.steps.length,c=this.eventCount;this.items.forEach(y=>{y.selection&&c--},r);let f=n;this.items.forEach(y=>{let b=o.getMirror(--f);if(b==null)return;l=Math.min(l,b);let C=o.maps[b];if(y.step){let w=e.steps[b].invert(e.docs[b]),x=y.selection&&y.selection.map(o.slice(f+1,b));x&&c++,i.push(new mo(C,w,x))}else i.push(new mo(C))},r);let d=[];for(let y=n;y<l;y++)d.push(new mo(o.maps[y]));let p=this.items.slice(0,r).append(d).append(i),m=new Ei(p,c);return m.emptyItemCount()>tL&&(m=m.compress(this.items.length-i.length)),m}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),i=n.maps.length,r=[],o=0;return this.items.forEach((l,c)=>{if(c>=e)r.push(l),l.selection&&o++;else if(l.step){let f=l.step.map(n.slice(i)),d=f&&f.getMap();if(i--,d&&n.appendMap(d,i),f){let p=l.selection&&l.selection.map(n.slice(i));p&&o++;let m=new mo(d.invert(),f,p),y,b=r.length-1;(y=r.length&&r[b].merge(m))?r[b]=y:r.push(m)}}else l.map&&i--},this.items.length,0),new Ei(Xt.from(r.reverse()),o)}}Ei.empty=new Ei(Xt.empty,0);function nL(t,e){let n;return t.forEach((i,r)=>{if(i.selection&&e--==0)return n=r,!1}),t.slice(n)}let mo=class Cw{constructor(e,n,i,r){this.map=e,this.step=n,this.selection=i,this.mirrorOffset=r}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Cw(n.getMap().invert(),n,this.selection)}}};class Co{constructor(e,n,i,r,o){this.done=e,this.undone=n,this.prevRanges=i,this.prevTime=r,this.prevComposition=o}}const iL=20;function rL(t,e,n,i){let r=n.getMeta(Ss),o;if(r)return r.historyState;n.getMeta(lL)&&(t=new Co(t.done,t.undone,null,0,-1));let l=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(l&&l.getMeta(Ss))return l.getMeta(Ss).redo?new Co(t.done.addTransform(n,void 0,i,hd(e)),t.undone,aC(n.mapping.maps),t.prevTime,t.prevComposition):new Co(t.done,t.undone.addTransform(n,void 0,i,hd(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(l&&l.getMeta("addToHistory")===!1)){let c=n.getMeta("composition"),f=t.prevTime==0||!l&&t.prevComposition!=c&&(t.prevTime<(n.time||0)-i.newGroupDelay||!oL(n,t.prevRanges)),d=l?lg(t.prevRanges,n.mapping):aC(n.mapping.maps);return new Co(t.done.addTransform(n,f?e.selection.getBookmark():void 0,i,hd(e)),Ei.empty,d,n.time,c??t.prevComposition)}else return(o=n.getMeta("rebased"))?new Co(t.done.rebased(n,o),t.undone.rebased(n,o),lg(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Co(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),lg(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function oL(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((i,r)=>{for(let o=0;o<e.length;o+=2)i<=e[o+1]&&r>=e[o]&&(n=!0)}),n}function aC(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((i,r,o,l)=>e.push(o,l));return e}function lg(t,e){if(!t)return null;let n=[];for(let i=0;i<t.length;i+=2){let r=e.map(t[i],1),o=e.map(t[i+1],-1);r<=o&&n.push(r,o)}return n}function sL(t,e,n){let i=hd(e),r=Ss.get(e).spec.config,o=(n?t.undone:t.done).popEvent(e,i);if(!o)return null;let l=o.selection.resolve(o.transform.doc),c=(n?t.done:t.undone).addTransform(o.transform,e.selection.getBookmark(),r,i),f=new Co(n?c:o.remaining,n?o.remaining:c,null,0,-1);return o.transform.setSelection(l).setMeta(Ss,{redo:n,historyState:f})}let ag=!1,cC=null;function hd(t){let e=t.plugins;if(cC!=e){ag=!1,cC=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){ag=!0;break}}return ag}const Ss=new qe("history"),lL=new qe("closeHistory");function aL(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new je({key:Ss,state:{init(){return new Co(Ei.empty,Ei.empty,null,0,-1)},apply(e,n,i){return rL(n,i,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let i=n.inputType,r=i=="historyUndo"?xw:i=="historyRedo"?Sw:null;return r?(n.preventDefault(),r(e.state,e.dispatch)):!1}}}})}function ww(t,e){return(n,i)=>{let r=Ss.getState(n);if(!r||(t?r.undone:r.done).eventCount==0)return!1;if(i){let o=sL(r,n,t);o&&i(e?o.scrollIntoView():o)}return!0}}const xw=ww(!1,!0),Sw=ww(!0,!0);Ye.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=t?.node||this.editor.state.doc;if((t?.mode||this.options.mode)==="textSize"){const i=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(i)}return e.nodeSize},this.storage.words=t=>{const e=t?.node||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new je({key:new qe("characterCount"),appendTransaction:(e,n,i)=>{if(t)return;const r=this.options.limit;if(r==null||r===0){t=!0;return}const o=this.storage.characters({node:i.doc});if(o>r){const l=o-r,c=0,f=l;console.warn(`[CharacterCount] Initial content exceeded limit of ${r} characters. Content was automatically trimmed.`);const d=i.tr.deleteRange(c,f);return t=!0,d}t=!0},filterTransaction:(e,n)=>{const i=this.options.limit;if(!e.docChanged||i===0||i===null||i===void 0)return!0;const r=this.storage.characters({node:n.doc}),o=this.storage.characters({node:e.doc});if(o<=i||r>i&&o>i&&o<=r)return!0;if(r>i&&o>i&&o>r||!e.getMeta("paste"))return!1;const c=e.selection.$head.pos,f=o-i,d=c-f,p=c;return e.deleteRange(d,p),!(this.storage.characters({node:e.doc})>i)}})]}});var cL=Ye.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[$D(this.options)]}});Ye.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new je({key:new qe("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:i}=this.editor,{anchor:r}=e,o=[];if(!n||!i)return Je.create(t,[]);let l=0;this.options.mode==="deepest"&&t.descendants((f,d)=>{if(f.isText)return;if(!(r>=d&&r<=d+f.nodeSize-1))return!1;l+=1});let c=0;return t.descendants((f,d)=>{if(f.isText||!(r>=d&&r<=d+f.nodeSize-1))return!1;if(c+=1,this.options.mode==="deepest"&&l-c>0||this.options.mode==="shallowest"&&c>1)return this.options.mode==="deepest";o.push(It.node(d,d+f.nodeSize,{class:this.options.className}))}),Je.create(t,o)}}})]}});var uL=Ye.create({name:"gapCursor",addProseMirrorPlugins(){return[GD()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=Ze(me(t,"allowGapCursor",n)))!=null?e:null}}}),fL=Ye.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something …",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new je({key:new qe("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:i}=e,r=[];if(!n)return null;const o=this.editor.isEmpty;return t.descendants((l,c)=>{const f=i>=c&&i<=c+l.nodeSize,d=!l.isLeaf&&Uh(l);if((f||!this.options.showOnlyCurrent)&&d){const p=[this.options.emptyNodeClass];o&&p.push(this.options.emptyEditorClass);const m=It.node(c,c+l.nodeSize,{class:p.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:l,pos:c,hasAnchor:f}):this.options.placeholder});r.push(m)}return this.options.includeChildren}),Je.create(t,r)}}})]}});Ye.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new je({key:new qe("selection"),props:{decorations(n){return n.selection.empty||t.isFocused||!t.isEditable||T2(n.selection)||t.view.dragging?null:Je.create(n.doc,[It.inline(n.selection.from,n.selection.to,{class:e.className})])}}})]}});function uC({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||e?.type===t}var dL=Ye.create({name:"trailingNode",addOptions(){return{node:"paragraph",notAfter:[]}},addProseMirrorPlugins(){const t=new qe(this.name),e=Object.entries(this.editor.schema.nodes).map(([,n])=>n).filter(n=>(this.options.notAfter||[]).concat(this.options.node).includes(n.name));return[new je({key:t,appendTransaction:(n,i,r)=>{const{doc:o,tr:l,schema:c}=r,f=t.getState(r),d=o.content.size,p=c.nodes[this.options.node];if(f)return l.insert(d,p.create())},state:{init:(n,i)=>{const r=i.tr.doc.lastChild;return!uC({node:r,types:e})},apply:(n,i)=>{if(!n.docChanged)return i;const r=n.doc.lastChild;return!uC({node:r,types:e})}}})]}}),hL=Ye.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>xw(t,e),redo:()=>({state:t,dispatch:e})=>Sw(t,e)}},addProseMirrorPlugins(){return[aL(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),pL=Ye.create({name:"starterKit",addExtensions(){var t,e,n,i;const r=[];return this.options.bold!==!1&&r.push(FN.configure(this.options.bold)),this.options.blockquote!==!1&&r.push(BN.configure(this.options.blockquote)),this.options.bulletList!==!1&&r.push(cw.configure(this.options.bulletList)),this.options.code!==!1&&r.push(KN.configure(this.options.code)),this.options.codeBlock!==!1&&r.push(GN.configure(this.options.codeBlock)),this.options.document!==!1&&r.push(XN.configure(this.options.document)),this.options.dropcursor!==!1&&r.push(cL.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&r.push(uL.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&r.push(WN.configure(this.options.hardBreak)),this.options.heading!==!1&&r.push(JN.configure(this.options.heading)),this.options.undoRedo!==!1&&r.push(hL.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&r.push(QN.configure(this.options.horizontalRule)),this.options.italic!==!1&&r.push(rD.configure(this.options.italic)),this.options.listItem!==!1&&r.push(uw.configure(this.options.listItem)),this.options.listKeymap!==!1&&r.push(gw.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&r.push(RD.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&r.push(yw.configure(this.options.orderedList)),this.options.paragraph!==!1&&r.push(bw.configure(this.options.paragraph)),this.options.strike!==!1&&r.push(PD.configure(this.options.strike)),this.options.text!==!1&&r.push(FD.configure(this.options.text)),this.options.underline!==!1&&r.push(qD.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&r.push(dL.configure((i=this.options)==null?void 0:i.trailingNode)),r}}),mL=Ye.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>{const e=t.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:t=>t.textAlign?{style:`text-align: ${t.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>this.options.alignments.includes(t)?this.options.types.map(n=>e.updateAttributes(n,{textAlign:t})).every(n=>n):!1,unsetTextAlign:()=>({commands:t})=>this.options.types.map(e=>t.resetAttributes(e,"textAlign")).every(e=>e),toggleTextAlign:t=>({editor:e,commands:n})=>this.options.alignments.includes(t)?e.isActive({textAlign:t})?n.unsetTextAlign():n.setTextAlign(t):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),gL=t=>kt({find:/--$/,replace:t??"—"}),yL=t=>kt({find:/\.\.\.$/,replace:t??"…"}),bL=t=>kt({find:/(?:^|[\s{[(<'"\u2018\u201C])(")$/,replace:t??"“"}),vL=t=>kt({find:/"$/,replace:t??"”"}),CL=t=>kt({find:/(?:^|[\s{[(<'"\u2018\u201C])(')$/,replace:t??"‘"}),wL=t=>kt({find:/'$/,replace:t??"’"}),xL=t=>kt({find:/<-$/,replace:t??"←"}),SL=t=>kt({find:/->$/,replace:t??"→"}),TL=t=>kt({find:/\(c\)$/,replace:t??"©"}),EL=t=>kt({find:/\(tm\)$/,replace:t??"™"}),ML=t=>kt({find:/\(sm\)$/,replace:t??"℠"}),kL=t=>kt({find:/\(r\)$/,replace:t??"®"}),AL=t=>kt({find:/(?:^|\s)(1\/2)\s$/,replace:t??"½"}),RL=t=>kt({find:/\+\/-$/,replace:t??"±"}),OL=t=>kt({find:/!=$/,replace:t??"≠"}),NL=t=>kt({find:/<<$/,replace:t??"«"}),DL=t=>kt({find:/>>$/,replace:t??"»"}),LL=t=>kt({find:/\d+\s?([*x])\s?\d+$/,replace:t??"×"}),_L=t=>kt({find:/\^2$/,replace:t??"²"}),HL=t=>kt({find:/\^3$/,replace:t??"³"}),IL=t=>kt({find:/(?:^|\s)(1\/4)\s$/,replace:t??"¼"}),zL=t=>kt({find:/(?:^|\s)(3\/4)\s$/,replace:t??"¾"}),BL=Ye.create({name:"typography",addOptions(){return{closeDoubleQuote:"”",closeSingleQuote:"’",copyright:"©",ellipsis:"…",emDash:"—",laquo:"«",leftArrow:"←",multiplication:"×",notEqual:"≠",oneHalf:"½",oneQuarter:"¼",openDoubleQuote:"“",openSingleQuote:"‘",plusMinus:"±",raquo:"»",registeredTrademark:"®",rightArrow:"→",servicemark:"℠",superscriptThree:"³",superscriptTwo:"²",threeQuarters:"¾",trademark:"™"}},addInputRules(){const t=[];return this.options.emDash!==!1&&t.push(gL(this.options.emDash)),this.options.ellipsis!==!1&&t.push(yL(this.options.ellipsis)),this.options.openDoubleQuote!==!1&&t.push(bL(this.options.openDoubleQuote)),this.options.closeDoubleQuote!==!1&&t.push(vL(this.options.closeDoubleQuote)),this.options.openSingleQuote!==!1&&t.push(CL(this.options.openSingleQuote)),this.options.closeSingleQuote!==!1&&t.push(wL(this.options.closeSingleQuote)),this.options.leftArrow!==!1&&t.push(xL(this.options.leftArrow)),this.options.rightArrow!==!1&&t.push(SL(this.options.rightArrow)),this.options.copyright!==!1&&t.push(TL(this.options.copyright)),this.options.trademark!==!1&&t.push(EL(this.options.trademark)),this.options.servicemark!==!1&&t.push(ML(this.options.servicemark)),this.options.registeredTrademark!==!1&&t.push(kL(this.options.registeredTrademark)),this.options.oneHalf!==!1&&t.push(AL(this.options.oneHalf)),this.options.plusMinus!==!1&&t.push(RL(this.options.plusMinus)),this.options.notEqual!==!1&&t.push(OL(this.options.notEqual)),this.options.laquo!==!1&&t.push(NL(this.options.laquo)),this.options.raquo!==!1&&t.push(DL(this.options.raquo)),this.options.multiplication!==!1&&t.push(LL(this.options.multiplication)),this.options.superscriptTwo!==!1&&t.push(_L(this.options.superscriptTwo)),this.options.superscriptThree!==!1&&t.push(HL(this.options.superscriptThree)),this.options.oneQuarter!==!1&&t.push(IL(this.options.oneQuarter)),this.options.threeQuarters!==!1&&t.push(zL(this.options.threeQuarters)),t}}),VL=Ur.create({name:"subscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sub"},{style:"vertical-align",getAttrs(t){return t!=="sub"?!1:null}}]},renderHTML({HTMLAttributes:t}){return["sub",Fe(this.options.HTMLAttributes,t),0]},addCommands(){return{setSubscript:()=>({commands:t})=>t.setMark(this.name),toggleSubscript:()=>({commands:t})=>t.toggleMark(this.name),unsetSubscript:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-,":()=>this.editor.commands.toggleSubscript()}}}),jL=Ur.create({name:"superscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sup"},{style:"vertical-align",getAttrs(t){return t!=="super"?!1:null}}]},renderHTML({HTMLAttributes:t}){return["sup",Fe(this.options.HTMLAttributes,t),0]},addCommands(){return{setSuperscript:()=>({commands:t})=>t.setMark(this.name),toggleSuperscript:()=>({commands:t})=>t.toggleMark(this.name),unsetSuperscript:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-.":()=>this.editor.commands.toggleSuperscript()}}}),h0,p0;if(typeof WeakMap<"u"){let t=new WeakMap;h0=e=>t.get(e),p0=(e,n)=>(t.set(e,n),n)}else{const t=[];let n=0;h0=i=>{for(let r=0;r<t.length;r+=2)if(t[r]==i)return t[r+1]},p0=(i,r)=>(n==10&&(n=0),t[n++]=i,t[n++]=r)}var Mt=class{constructor(t,e,n,i){this.width=t,this.height=e,this.map=n,this.problems=i}findCell(t){for(let e=0;e<this.map.length;e++){const n=this.map[e];if(n!=t)continue;const i=e%this.width,r=e/this.width|0;let o=i+1,l=r+1;for(let c=1;o<this.width&&this.map[e+c]==n;c++)o++;for(let c=1;l<this.height&&this.map[e+this.width*c]==n;c++)l++;return{left:i,top:r,right:o,bottom:l}}throw new RangeError(`No cell with offset ${t} found`)}colCount(t){for(let e=0;e<this.map.length;e++)if(this.map[e]==t)return e%this.width;throw new RangeError(`No cell with offset ${t} found`)}nextCell(t,e,n){const{left:i,right:r,top:o,bottom:l}=this.findCell(t);return e=="horiz"?(n<0?i==0:r==this.width)?null:this.map[o*this.width+(n<0?i-1:r)]:(n<0?o==0:l==this.height)?null:this.map[i+this.width*(n<0?o-1:l)]}rectBetween(t,e){const{left:n,right:i,top:r,bottom:o}=this.findCell(t),{left:l,right:c,top:f,bottom:d}=this.findCell(e);return{left:Math.min(n,l),top:Math.min(r,f),right:Math.max(i,c),bottom:Math.max(o,d)}}cellsInRect(t){const e=[],n={};for(let i=t.top;i<t.bottom;i++)for(let r=t.left;r<t.right;r++){const o=i*this.width+r,l=this.map[o];n[l]||(n[l]=!0,!(r==t.left&&r&&this.map[o-1]==l||i==t.top&&i&&this.map[o-this.width]==l)&&e.push(l))}return e}positionAt(t,e,n){for(let i=0,r=0;;i++){const o=r+n.child(i).nodeSize;if(i==t){let l=e+t*this.width;const c=(t+1)*this.width;for(;l<c&&this.map[l]<r;)l++;return l==c?o-1:this.map[l]}r=o}}static get(t){return h0(t)||p0(t,UL(t))}};function UL(t){if(t.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+t.type.name);const e=PL(t),n=t.childCount,i=[];let r=0,o=null;const l=[];for(let d=0,p=e*n;d<p;d++)i[d]=0;for(let d=0,p=0;d<n;d++){const m=t.child(d);p++;for(let C=0;;C++){for(;r<i.length&&i[r]!=0;)r++;if(C==m.childCount)break;const w=m.child(C),{colspan:x,rowspan:E,colwidth:A}=w.attrs;for(let O=0;O<E;O++){if(O+d>=n){(o||(o=[])).push({type:"overlong_rowspan",pos:p,n:E-O});break}const H=r+O*e;for(let L=0;L<x;L++){i[H+L]==0?i[H+L]=p:(o||(o=[])).push({type:"collision",row:d,pos:p,n:x-L});const K=A&&A[L];if(K){const Y=(H+L)%e*2,X=l[Y];X==null||X!=K&&l[Y+1]==1?(l[Y]=K,l[Y+1]=1):X==K&&l[Y+1]++}}}r+=x,p+=w.nodeSize}const y=(d+1)*e;let b=0;for(;r<y;)i[r++]==0&&b++;b&&(o||(o=[])).push({type:"missing",row:d,n:b}),p++}(e===0||n===0)&&(o||(o=[])).push({type:"zero_sized"});const c=new Mt(e,n,i,o);let f=!1;for(let d=0;!f&&d<l.length;d+=2)l[d]!=null&&l[d+1]<n&&(f=!0);return f&&FL(c,l,t),c}function PL(t){let e=-1,n=!1;for(let i=0;i<t.childCount;i++){const r=t.child(i);let o=0;if(n)for(let l=0;l<i;l++){const c=t.child(l);for(let f=0;f<c.childCount;f++){const d=c.child(f);l+d.attrs.rowspan>i&&(o+=d.attrs.colspan)}}for(let l=0;l<r.childCount;l++){const c=r.child(l);o+=c.attrs.colspan,c.attrs.rowspan>1&&(n=!0)}e==-1?e=o:e!=o&&(e=Math.max(e,o))}return e}function FL(t,e,n){t.problems||(t.problems=[]);const i={};for(let r=0;r<t.map.length;r++){const o=t.map[r];if(i[o])continue;i[o]=!0;const l=n.nodeAt(o);if(!l)throw new RangeError(`No cell with offset ${o} found`);let c=null;const f=l.attrs;for(let d=0;d<f.colspan;d++){const p=(r+d)%t.width,m=e[p*2];m!=null&&(!f.colwidth||f.colwidth[d]!=m)&&((c||(c=qL(f)))[d]=m)}c&&t.problems.unshift({type:"colwidth mismatch",pos:o,colwidth:c})}}function qL(t){if(t.colwidth)return t.colwidth.slice();const e=[];for(let n=0;n<t.colspan;n++)e.push(0);return e}function Cn(t){let e=t.cached.tableNodeTypes;if(!e){e=t.cached.tableNodeTypes={};for(const n in t.nodes){const i=t.nodes[n],r=i.spec.tableRole;r&&(e[r]=i)}}return e}var So=new qe("selectingCells");function fa(t){for(let e=t.depth-1;e>0;e--)if(t.node(e).type.spec.tableRole=="row")return t.node(0).resolve(t.before(e+1));return null}function $L(t){for(let e=t.depth;e>0;e--){const n=t.node(e).type.spec.tableRole;if(n==="cell"||n==="header_cell")return t.node(e)}return null}function Vi(t){const e=t.selection.$head;for(let n=e.depth;n>0;n--)if(e.node(n).type.spec.tableRole=="row")return!0;return!1}function $h(t){const e=t.selection;if("$anchorCell"in e&&e.$anchorCell)return e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell;if("node"in e&&e.node&&e.node.type.spec.tableRole=="cell")return e.$anchor;const n=fa(e.$head)||KL(e.$head);if(n)return n;throw new RangeError(`No cell found around position ${e.head}`)}function KL(t){for(let e=t.nodeAfter,n=t.pos;e;e=e.firstChild,n++){const i=e.type.spec.tableRole;if(i=="cell"||i=="header_cell")return t.doc.resolve(n)}for(let e=t.nodeBefore,n=t.pos;e;e=e.lastChild,n--){const i=e.type.spec.tableRole;if(i=="cell"||i=="header_cell")return t.doc.resolve(n-e.nodeSize)}}function m0(t){return t.parent.type.spec.tableRole=="row"&&!!t.nodeAfter}function ZL(t){return t.node(0).resolve(t.pos+t.nodeAfter.nodeSize)}function j2(t,e){return t.depth==e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}function Tw(t,e,n){const i=t.node(-1),r=Mt.get(i),o=t.start(-1),l=r.nextCell(t.pos-o,e,n);return l==null?null:t.node(0).resolve(o+l)}function Ns(t,e,n=1){const i={...t,colspan:t.colspan-n};return i.colwidth&&(i.colwidth=i.colwidth.slice(),i.colwidth.splice(e,n),i.colwidth.some(r=>r>0)||(i.colwidth=null)),i}function Ew(t,e,n=1){const i={...t,colspan:t.colspan+n};if(i.colwidth){i.colwidth=i.colwidth.slice();for(let r=0;r<n;r++)i.colwidth.splice(e,0,0)}return i}function YL(t,e,n){const i=Cn(e.type.schema).header_cell;for(let r=0;r<t.height;r++)if(e.nodeAt(t.map[n+r*t.width]).type!=i)return!1;return!0}var lt=class Ar extends be{constructor(e,n=e){const i=e.node(-1),r=Mt.get(i),o=e.start(-1),l=r.rectBetween(e.pos-o,n.pos-o),c=e.node(0),f=r.cellsInRect(l).filter(p=>p!=n.pos-o);f.unshift(n.pos-o);const d=f.map(p=>{const m=i.nodeAt(p);if(!m)throw RangeError(`No cell with offset ${p} found`);const y=o+p+1;return new e2(c.resolve(y),c.resolve(y+m.content.size))});super(d[0].$from,d[0].$to,d),this.$anchorCell=e,this.$headCell=n}map(e,n){const i=e.resolve(n.map(this.$anchorCell.pos)),r=e.resolve(n.map(this.$headCell.pos));if(m0(i)&&m0(r)&&j2(i,r)){const o=this.$anchorCell.node(-1)!=i.node(-1);return o&&this.isRowSelection()?Ar.rowSelection(i,r):o&&this.isColSelection()?Ar.colSelection(i,r):new Ar(i,r)}return fe.between(i,r)}content(){const e=this.$anchorCell.node(-1),n=Mt.get(e),i=this.$anchorCell.start(-1),r=n.rectBetween(this.$anchorCell.pos-i,this.$headCell.pos-i),o={},l=[];for(let f=r.top;f<r.bottom;f++){const d=[];for(let p=f*n.width+r.left,m=r.left;m<r.right;m++,p++){const y=n.map[p];if(o[y])continue;o[y]=!0;const b=n.findCell(y);let C=e.nodeAt(y);if(!C)throw RangeError(`No cell with offset ${y} found`);const w=r.left-b.left,x=b.right-r.right;if(w>0||x>0){let E=C.attrs;if(w>0&&(E=Ns(E,0,w)),x>0&&(E=Ns(E,E.colspan-x,x)),b.left<r.left){if(C=C.type.createAndFill(E),!C)throw RangeError(`Could not create cell with attrs ${JSON.stringify(E)}`)}else C=C.type.create(E,C.content)}if(b.top<r.top||b.bottom>r.bottom){const E={...C.attrs,rowspan:Math.min(b.bottom,r.bottom)-Math.max(b.top,r.top)};b.top<r.top?C=C.type.createAndFill(E):C=C.type.create(E,C.content)}d.push(C)}l.push(e.child(f).copy(W.from(d)))}const c=this.isColSelection()&&this.isRowSelection()?e:l;return new se(W.from(c),1,1)}replace(e,n=se.empty){const i=e.steps.length,r=this.ranges;for(let l=0;l<r.length;l++){const{$from:c,$to:f}=r[l],d=e.mapping.slice(i);e.replace(d.map(c.pos),d.map(f.pos),l?se.empty:n)}const o=be.findFrom(e.doc.resolve(e.mapping.slice(i).map(this.to)),-1);o&&e.setSelection(o)}replaceWith(e,n){this.replace(e,new se(W.from(n),0,0))}forEachCell(e){const n=this.$anchorCell.node(-1),i=Mt.get(n),r=this.$anchorCell.start(-1),o=i.cellsInRect(i.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r));for(let l=0;l<o.length;l++)e(n.nodeAt(o[l]),r+o[l])}isColSelection(){const e=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(e,n)>0)return!1;const i=e+this.$anchorCell.nodeAfter.attrs.rowspan,r=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(i,r)==this.$headCell.node(-1).childCount}static colSelection(e,n=e){const i=e.node(-1),r=Mt.get(i),o=e.start(-1),l=r.findCell(e.pos-o),c=r.findCell(n.pos-o),f=e.node(0);return l.top<=c.top?(l.top>0&&(e=f.resolve(o+r.map[l.left])),c.bottom<r.height&&(n=f.resolve(o+r.map[r.width*(r.height-1)+c.right-1]))):(c.top>0&&(n=f.resolve(o+r.map[c.left])),l.bottom<r.height&&(e=f.resolve(o+r.map[r.width*(r.height-1)+l.right-1]))),new Ar(e,n)}isRowSelection(){const e=this.$anchorCell.node(-1),n=Mt.get(e),i=this.$anchorCell.start(-1),r=n.colCount(this.$anchorCell.pos-i),o=n.colCount(this.$headCell.pos-i);if(Math.min(r,o)>0)return!1;const l=r+this.$anchorCell.nodeAfter.attrs.colspan,c=o+this.$headCell.nodeAfter.attrs.colspan;return Math.max(l,c)==n.width}eq(e){return e instanceof Ar&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e,n=e){const i=e.node(-1),r=Mt.get(i),o=e.start(-1),l=r.findCell(e.pos-o),c=r.findCell(n.pos-o),f=e.node(0);return l.left<=c.left?(l.left>0&&(e=f.resolve(o+r.map[l.top*r.width])),c.right<r.width&&(n=f.resolve(o+r.map[r.width*(c.top+1)-1]))):(c.left>0&&(n=f.resolve(o+r.map[c.top*r.width])),l.right<r.width&&(e=f.resolve(o+r.map[r.width*(l.top+1)-1]))),new Ar(e,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,n){return new Ar(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,i=n){return new Ar(e.resolve(n),e.resolve(i))}getBookmark(){return new GL(this.$anchorCell.pos,this.$headCell.pos)}};lt.prototype.visible=!1;be.jsonID("cell",lt);var GL=class Mw{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Mw(e.map(this.anchor),e.map(this.head))}resolve(e){const n=e.resolve(this.anchor),i=e.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&i.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&i.index()<i.parent.childCount&&j2(n,i)?new lt(n,i):be.near(i,1)}};function XL(t){if(!(t.selection instanceof lt))return null;const e=[];return t.selection.forEachCell((n,i)=>{e.push(It.node(i,i+n.nodeSize,{class:"selectedCell"}))}),Je.create(t.doc,e)}function WL({$from:t,$to:e}){if(t.pos==e.pos||t.pos<e.pos-6)return!1;let n=t.pos,i=e.pos,r=t.depth;for(;r>=0&&!(t.after(r+1)<t.end(r));r--,n++);for(let o=e.depth;o>=0&&!(e.before(o+1)>e.start(o));o--,i--);return n==i&&/row|table/.test(t.node(r).type.spec.tableRole)}function JL({$from:t,$to:e}){let n,i;for(let r=t.depth;r>0;r--){const o=t.node(r);if(o.type.spec.tableRole==="cell"||o.type.spec.tableRole==="header_cell"){n=o;break}}for(let r=e.depth;r>0;r--){const o=e.node(r);if(o.type.spec.tableRole==="cell"||o.type.spec.tableRole==="header_cell"){i=o;break}}return n!==i&&e.parentOffset===0}function QL(t,e,n){const i=(e||t).selection,r=(e||t).doc;let o,l;if(i instanceof he&&(l=i.node.type.spec.tableRole)){if(l=="cell"||l=="header_cell")o=lt.create(r,i.from);else if(l=="row"){const c=r.resolve(i.from+1);o=lt.rowSelection(c,c)}else if(!n){const c=Mt.get(i.node),f=i.from+1,d=f+c.map[c.width*c.height-1];o=lt.create(r,f+1,d)}}else i instanceof fe&&WL(i)?o=fe.create(r,i.from):i instanceof fe&&JL(i)&&(o=fe.create(r,i.$from.start(),i.$from.end()));return o&&(e||(e=t.tr)).setSelection(o),e}var e_=new qe("fix-tables");function kw(t,e,n,i){const r=t.childCount,o=e.childCount;e:for(let l=0,c=0;l<o;l++){const f=e.child(l);for(let d=c,p=Math.min(r,l+3);d<p;d++)if(t.child(d)==f){c=d+1,n+=f.nodeSize;continue e}i(f,n),c<r&&t.child(c).sameMarkup(f)?kw(t.child(c),f,n+1,i):f.nodesBetween(0,f.content.size,i,n+1),n+=f.nodeSize}}function Aw(t,e){let n;const i=(r,o)=>{r.type.spec.tableRole=="table"&&(n=t_(t,r,o,n))};return e?e.doc!=t.doc&&kw(e.doc,t.doc,0,i):t.doc.descendants(i),n}function t_(t,e,n,i){const r=Mt.get(e);if(!r.problems)return i;i||(i=t.tr);const o=[];for(let f=0;f<r.height;f++)o.push(0);for(let f=0;f<r.problems.length;f++){const d=r.problems[f];if(d.type=="collision"){const p=e.nodeAt(d.pos);if(!p)continue;const m=p.attrs;for(let y=0;y<m.rowspan;y++)o[d.row+y]+=d.n;i.setNodeMarkup(i.mapping.map(n+1+d.pos),null,Ns(m,m.colspan-d.n,d.n))}else if(d.type=="missing")o[d.row]+=d.n;else if(d.type=="overlong_rowspan"){const p=e.nodeAt(d.pos);if(!p)continue;i.setNodeMarkup(i.mapping.map(n+1+d.pos),null,{...p.attrs,rowspan:p.attrs.rowspan-d.n})}else if(d.type=="colwidth mismatch"){const p=e.nodeAt(d.pos);if(!p)continue;i.setNodeMarkup(i.mapping.map(n+1+d.pos),null,{...p.attrs,colwidth:d.colwidth})}else if(d.type=="zero_sized"){const p=i.mapping.map(n);i.delete(p,p+e.nodeSize)}}let l,c;for(let f=0;f<o.length;f++)o[f]&&(l==null&&(l=f),c=f);for(let f=0,d=n+1;f<r.height;f++){const p=e.child(f),m=d+p.nodeSize,y=o[f];if(y>0){let b="cell";p.firstChild&&(b=p.firstChild.type.spec.tableRole);const C=[];for(let x=0;x<y;x++){const E=Cn(t.schema)[b].createAndFill();E&&C.push(E)}const w=(f==0||l==f-1)&&c==f?d+1:m-1;i.insert(i.mapping.map(w),C)}d=m}return i.setMeta(e_,{fixTables:!0})}function nr(t){const e=t.selection,n=$h(t),i=n.node(-1),r=n.start(-1),o=Mt.get(i);return{...e instanceof lt?o.rectBetween(e.$anchorCell.pos-r,e.$headCell.pos-r):o.findCell(n.pos-r),tableStart:r,map:o,table:i}}function Rw(t,{map:e,tableStart:n,table:i},r){let o=r>0?-1:0;YL(e,i,r+o)&&(o=r==0||r==e.width?null:0);for(let l=0;l<e.height;l++){const c=l*e.width+r;if(r>0&&r<e.width&&e.map[c-1]==e.map[c]){const f=e.map[c],d=i.nodeAt(f);t.setNodeMarkup(t.mapping.map(n+f),null,Ew(d.attrs,r-e.colCount(f))),l+=d.attrs.rowspan-1}else{const f=o==null?Cn(i.type.schema).cell:i.nodeAt(e.map[c+o]).type,d=e.positionAt(l,r,i);t.insert(t.mapping.map(n+d),f.createAndFill())}}return t}function n_(t,e){if(!Vi(t))return!1;if(e){const n=nr(t);e(Rw(t.tr,n,n.left))}return!0}function i_(t,e){if(!Vi(t))return!1;if(e){const n=nr(t);e(Rw(t.tr,n,n.right))}return!0}function r_(t,{map:e,table:n,tableStart:i},r){const o=t.mapping.maps.length;for(let l=0;l<e.height;){const c=l*e.width+r,f=e.map[c],d=n.nodeAt(f),p=d.attrs;if(r>0&&e.map[c-1]==f||r<e.width-1&&e.map[c+1]==f)t.setNodeMarkup(t.mapping.slice(o).map(i+f),null,Ns(p,r-e.colCount(f)));else{const m=t.mapping.slice(o).map(i+f);t.delete(m,m+d.nodeSize)}l+=p.rowspan}}function o_(t,e){if(!Vi(t))return!1;if(e){const n=nr(t),i=t.tr;if(n.left==0&&n.right==n.map.width)return!1;for(let r=n.right-1;r_(i,n,r),r!=n.left;r--){const o=n.tableStart?i.doc.nodeAt(n.tableStart-1):i.doc;if(!o)throw RangeError("No table found");n.table=o,n.map=Mt.get(o)}e(i)}return!0}function s_(t,e,n){var i;const r=Cn(e.type.schema).header_cell;for(let o=0;o<t.width;o++)if(((i=e.nodeAt(t.map[o+n*t.width]))==null?void 0:i.type)!=r)return!1;return!0}function Ow(t,{map:e,tableStart:n,table:i},r){var o;let l=n;for(let d=0;d<r;d++)l+=i.child(d).nodeSize;const c=[];let f=r>0?-1:0;s_(e,i,r+f)&&(f=r==0||r==e.height?null:0);for(let d=0,p=e.width*r;d<e.width;d++,p++)if(r>0&&r<e.height&&e.map[p]==e.map[p-e.width]){const m=e.map[p],y=i.nodeAt(m).attrs;t.setNodeMarkup(n+m,null,{...y,rowspan:y.rowspan+1}),d+=y.colspan-1}else{const m=f==null?Cn(i.type.schema).cell:(o=i.nodeAt(e.map[p+f*e.width]))==null?void 0:o.type,y=m?.createAndFill();y&&c.push(y)}return t.insert(l,Cn(i.type.schema).row.create(null,c)),t}function l_(t,e){if(!Vi(t))return!1;if(e){const n=nr(t);e(Ow(t.tr,n,n.top))}return!0}function a_(t,e){if(!Vi(t))return!1;if(e){const n=nr(t);e(Ow(t.tr,n,n.bottom))}return!0}function c_(t,{map:e,table:n,tableStart:i},r){let o=0;for(let d=0;d<r;d++)o+=n.child(d).nodeSize;const l=o+n.child(r).nodeSize,c=t.mapping.maps.length;t.delete(o+i,l+i);const f=new Set;for(let d=0,p=r*e.width;d<e.width;d++,p++){const m=e.map[p];if(!f.has(m)){if(f.add(m),r>0&&m==e.map[p-e.width]){const y=n.nodeAt(m).attrs;t.setNodeMarkup(t.mapping.slice(c).map(m+i),null,{...y,rowspan:y.rowspan-1}),d+=y.colspan-1}else if(r<e.height&&m==e.map[p+e.width]){const y=n.nodeAt(m),b=y.attrs,C=y.type.create({...b,rowspan:y.attrs.rowspan-1},y.content),w=e.positionAt(r+1,d,n);t.insert(t.mapping.slice(c).map(i+w),C),d+=b.colspan-1}}}}function u_(t,e){if(!Vi(t))return!1;if(e){const n=nr(t),i=t.tr;if(n.top==0&&n.bottom==n.map.height)return!1;for(let r=n.bottom-1;c_(i,n,r),r!=n.top;r--){const o=n.tableStart?i.doc.nodeAt(n.tableStart-1):i.doc;if(!o)throw RangeError("No table found");n.table=o,n.map=Mt.get(n.table)}e(i)}return!0}function fC(t){const e=t.content;return e.childCount==1&&e.child(0).isTextblock&&e.child(0).childCount==0}function f_({width:t,height:e,map:n},i){let r=i.top*t+i.left,o=r,l=(i.bottom-1)*t+i.left,c=r+(i.right-i.left-1);for(let f=i.top;f<i.bottom;f++){if(i.left>0&&n[o]==n[o-1]||i.right<t&&n[c]==n[c+1])return!0;o+=t,c+=t}for(let f=i.left;f<i.right;f++){if(i.top>0&&n[r]==n[r-t]||i.bottom<e&&n[l]==n[l+t])return!0;r++,l++}return!1}function dC(t,e){const n=t.selection;if(!(n instanceof lt)||n.$anchorCell.pos==n.$headCell.pos)return!1;const i=nr(t),{map:r}=i;if(f_(r,i))return!1;if(e){const o=t.tr,l={};let c=W.empty,f,d;for(let p=i.top;p<i.bottom;p++)for(let m=i.left;m<i.right;m++){const y=r.map[p*r.width+m],b=i.table.nodeAt(y);if(!(l[y]||!b))if(l[y]=!0,f==null)f=y,d=b;else{fC(b)||(c=c.append(b.content));const C=o.mapping.map(y+i.tableStart);o.delete(C,C+b.nodeSize)}}if(f==null||d==null)return!0;if(o.setNodeMarkup(f+i.tableStart,null,{...Ew(d.attrs,d.attrs.colspan,i.right-i.left-d.attrs.colspan),rowspan:i.bottom-i.top}),c.size){const p=f+1+d.content.size,m=fC(d)?f+1:p;o.replaceWith(m+i.tableStart,p+i.tableStart,c)}o.setSelection(new lt(o.doc.resolve(f+i.tableStart))),e(o)}return!0}function hC(t,e){const n=Cn(t.schema);return d_(({node:i})=>n[i.type.spec.tableRole])(t,e)}function d_(t){return(e,n)=>{var i;const r=e.selection;let o,l;if(r instanceof lt){if(r.$anchorCell.pos!=r.$headCell.pos)return!1;o=r.$anchorCell.nodeAfter,l=r.$anchorCell.pos}else{if(o=$L(r.$from),!o)return!1;l=(i=fa(r.$from))==null?void 0:i.pos}if(o==null||l==null||o.attrs.colspan==1&&o.attrs.rowspan==1)return!1;if(n){let c=o.attrs;const f=[],d=c.colwidth;c.rowspan>1&&(c={...c,rowspan:1}),c.colspan>1&&(c={...c,colspan:1});const p=nr(e),m=e.tr;for(let b=0;b<p.right-p.left;b++)f.push(d?{...c,colwidth:d&&d[b]?[d[b]]:null}:c);let y;for(let b=p.top;b<p.bottom;b++){let C=p.map.positionAt(b,p.left,p.table);b==p.top&&(C+=o.nodeSize);for(let w=p.left,x=0;w<p.right;w++,x++)w==p.left&&b==p.top||m.insert(y=m.mapping.map(C+p.tableStart,1),t({node:o,row:b,col:w}).createAndFill(f[x]))}m.setNodeMarkup(l,t({node:o,row:p.top,col:p.left}),f[0]),r instanceof lt&&m.setSelection(new lt(m.doc.resolve(r.$anchorCell.pos),y?m.doc.resolve(y):void 0)),n(m)}return!0}}function h_(t,e){return function(n,i){if(!Vi(n))return!1;const r=$h(n);if(r.nodeAfter.attrs[t]===e)return!1;if(i){const o=n.tr;n.selection instanceof lt?n.selection.forEachCell((l,c)=>{l.attrs[t]!==e&&o.setNodeMarkup(c,null,{...l.attrs,[t]:e})}):o.setNodeMarkup(r.pos,null,{...r.nodeAfter.attrs,[t]:e}),i(o)}return!0}}function p_(t){return function(e,n){if(!Vi(e))return!1;if(n){const i=Cn(e.schema),r=nr(e),o=e.tr,l=r.map.cellsInRect(t=="column"?{left:r.left,top:0,right:r.right,bottom:r.map.height}:t=="row"?{left:0,top:r.top,right:r.map.width,bottom:r.bottom}:r),c=l.map(f=>r.table.nodeAt(f));for(let f=0;f<l.length;f++)c[f].type==i.header_cell&&o.setNodeMarkup(r.tableStart+l[f],i.cell,c[f].attrs);if(o.steps.length==0)for(let f=0;f<l.length;f++)o.setNodeMarkup(r.tableStart+l[f],i.header_cell,c[f].attrs);n(o)}return!0}}function pC(t,e,n){const i=e.map.cellsInRect({left:0,top:0,right:t=="row"?e.map.width:1,bottom:t=="column"?e.map.height:1});for(let r=0;r<i.length;r++){const o=e.table.nodeAt(i[r]);if(o&&o.type!==n.header_cell)return!1}return!0}function Yc(t,e){return e=e||{useDeprecatedLogic:!1},e.useDeprecatedLogic?p_(t):function(n,i){if(!Vi(n))return!1;if(i){const r=Cn(n.schema),o=nr(n),l=n.tr,c=pC("row",o,r),f=pC("column",o,r),p=(t==="column"?c:t==="row"?f:!1)?1:0,m=t=="column"?{left:0,top:p,right:1,bottom:o.map.height}:t=="row"?{left:p,top:0,right:o.map.width,bottom:1}:o,y=t=="column"?f?r.cell:r.header_cell:t=="row"?c?r.cell:r.header_cell:r.cell;o.map.cellsInRect(m).forEach(b=>{const C=b+o.tableStart,w=l.doc.nodeAt(C);w&&l.setNodeMarkup(C,y,w.attrs)}),i(l)}return!0}}Yc("row",{useDeprecatedLogic:!0});Yc("column",{useDeprecatedLogic:!0});var m_=Yc("cell",{useDeprecatedLogic:!0});function g_(t,e){if(e<0){const n=t.nodeBefore;if(n)return t.pos-n.nodeSize;for(let i=t.index(-1)-1,r=t.before();i>=0;i--){const o=t.node(-1).child(i),l=o.lastChild;if(l)return r-1-l.nodeSize;r-=o.nodeSize}}else{if(t.index()<t.parent.childCount-1)return t.pos+t.nodeAfter.nodeSize;const n=t.node(-1);for(let i=t.indexAfter(-1),r=t.after();i<n.childCount;i++){const o=n.child(i);if(o.childCount)return r+1;r+=o.nodeSize}}return null}function mC(t){return function(e,n){if(!Vi(e))return!1;const i=g_($h(e),t);if(i==null)return!1;if(n){const r=e.doc.resolve(i);n(e.tr.setSelection(fe.between(r,ZL(r))).scrollIntoView())}return!0}}function y_(t,e){const n=t.selection.$anchor;for(let i=n.depth;i>0;i--)if(n.node(i).type.spec.tableRole=="table")return e&&e(t.tr.delete(n.before(i),n.after(i)).scrollIntoView()),!0;return!1}function Kf(t,e){const n=t.selection;if(!(n instanceof lt))return!1;if(e){const i=t.tr,r=Cn(t.schema).cell.createAndFill().content;n.forEachCell((o,l)=>{o.content.eq(r)||i.replace(i.mapping.map(l+1),i.mapping.map(l+o.nodeSize-1),new se(r,0,0))}),i.docChanged&&e(i)}return!0}function b_(t){if(!t.size)return null;let{content:e,openStart:n,openEnd:i}=t;for(;e.childCount==1&&(n>0&&i>0||e.child(0).type.spec.tableRole=="table");)n--,i--,e=e.child(0).content;const r=e.child(0),o=r.type.spec.tableRole,l=r.type.schema,c=[];if(o=="row")for(let f=0;f<e.childCount;f++){let d=e.child(f).content;const p=f?0:Math.max(0,n-1),m=f<e.childCount-1?0:Math.max(0,i-1);(p||m)&&(d=g0(Cn(l).row,new se(d,p,m)).content),c.push(d)}else if(o=="cell"||o=="header_cell")c.push(n||i?g0(Cn(l).row,new se(e,n,i)).content:e);else return null;return v_(l,c)}function v_(t,e){const n=[];for(let r=0;r<e.length;r++){const o=e[r];for(let l=o.childCount-1;l>=0;l--){const{rowspan:c,colspan:f}=o.child(l).attrs;for(let d=r;d<r+c;d++)n[d]=(n[d]||0)+f}}let i=0;for(let r=0;r<n.length;r++)i=Math.max(i,n[r]);for(let r=0;r<n.length;r++)if(r>=e.length&&e.push(W.empty),n[r]<i){const o=Cn(t).cell.createAndFill(),l=[];for(let c=n[r];c<i;c++)l.push(o);e[r]=e[r].append(W.from(l))}return{height:e.length,width:i,rows:e}}function g0(t,e){const n=t.createAndFill();return new Q0(n).replace(0,n.content.size,e).doc}function C_({width:t,height:e,rows:n},i,r){if(t!=i){const o=[],l=[];for(let c=0;c<n.length;c++){const f=n[c],d=[];for(let p=o[c]||0,m=0;p<i;m++){let y=f.child(m%f.childCount);p+y.attrs.colspan>i&&(y=y.type.createChecked(Ns(y.attrs,y.attrs.colspan,p+y.attrs.colspan-i),y.content)),d.push(y),p+=y.attrs.colspan;for(let b=1;b<y.attrs.rowspan;b++)o[c+b]=(o[c+b]||0)+y.attrs.colspan}l.push(W.from(d))}n=l,t=i}if(e!=r){const o=[];for(let l=0,c=0;l<r;l++,c++){const f=[],d=n[c%e];for(let p=0;p<d.childCount;p++){let m=d.child(p);l+m.attrs.rowspan>r&&(m=m.type.create({...m.attrs,rowspan:Math.max(1,r-m.attrs.rowspan)},m.content)),f.push(m)}o.push(W.from(f))}n=o,e=r}return{width:t,height:e,rows:n}}function w_(t,e,n,i,r,o,l){const c=t.doc.type.schema,f=Cn(c);let d,p;if(r>e.width)for(let m=0,y=0;m<e.height;m++){const b=n.child(m);y+=b.nodeSize;const C=[];let w;b.lastChild==null||b.lastChild.type==f.cell?w=d||(d=f.cell.createAndFill()):w=p||(p=f.header_cell.createAndFill());for(let x=e.width;x<r;x++)C.push(w);t.insert(t.mapping.slice(l).map(y-1+i),C)}if(o>e.height){const m=[];for(let C=0,w=(e.height-1)*e.width;C<Math.max(e.width,r);C++){const x=C>=e.width?!1:n.nodeAt(e.map[w+C]).type==f.header_cell;m.push(x?p||(p=f.header_cell.createAndFill()):d||(d=f.cell.createAndFill()))}const y=f.row.create(null,W.from(m)),b=[];for(let C=e.height;C<o;C++)b.push(y);t.insert(t.mapping.slice(l).map(i+n.nodeSize-2),b)}return!!(d||p)}function gC(t,e,n,i,r,o,l,c){if(l==0||l==e.height)return!1;let f=!1;for(let d=r;d<o;d++){const p=l*e.width+d,m=e.map[p];if(e.map[p-e.width]==m){f=!0;const y=n.nodeAt(m),{top:b,left:C}=e.findCell(m);t.setNodeMarkup(t.mapping.slice(c).map(m+i),null,{...y.attrs,rowspan:l-b}),t.insert(t.mapping.slice(c).map(e.positionAt(l,C,n)),y.type.createAndFill({...y.attrs,rowspan:b+y.attrs.rowspan-l})),d+=y.attrs.colspan-1}}return f}function yC(t,e,n,i,r,o,l,c){if(l==0||l==e.width)return!1;let f=!1;for(let d=r;d<o;d++){const p=d*e.width+l,m=e.map[p];if(e.map[p-1]==m){f=!0;const y=n.nodeAt(m),b=e.colCount(m),C=t.mapping.slice(c).map(m+i);t.setNodeMarkup(C,null,Ns(y.attrs,l-b,y.attrs.colspan-(l-b))),t.insert(C+y.nodeSize,y.type.createAndFill(Ns(y.attrs,0,l-b))),d+=y.attrs.rowspan-1}}return f}function bC(t,e,n,i,r){let o=n?t.doc.nodeAt(n-1):t.doc;if(!o)throw new Error("No table found");let l=Mt.get(o);const{top:c,left:f}=i,d=f+r.width,p=c+r.height,m=t.tr;let y=0;function b(){if(o=n?m.doc.nodeAt(n-1):m.doc,!o)throw new Error("No table found");l=Mt.get(o),y=m.mapping.maps.length}w_(m,l,o,n,d,p,y)&&b(),gC(m,l,o,n,f,d,c,y)&&b(),gC(m,l,o,n,f,d,p,y)&&b(),yC(m,l,o,n,c,p,f,y)&&b(),yC(m,l,o,n,c,p,d,y)&&b();for(let C=c;C<p;C++){const w=l.positionAt(C,f,o),x=l.positionAt(C,d,o);m.replace(m.mapping.slice(y).map(w+n),m.mapping.slice(y).map(x+n),new se(r.rows[C-c],0,0))}b(),m.setSelection(new lt(m.doc.resolve(n+l.positionAt(c,f,o)),m.doc.resolve(n+l.positionAt(p-1,d-1,o)))),e(m)}var x_=f2({ArrowLeft:Zf("horiz",-1),ArrowRight:Zf("horiz",1),ArrowUp:Zf("vert",-1),ArrowDown:Zf("vert",1),"Shift-ArrowLeft":Yf("horiz",-1),"Shift-ArrowRight":Yf("horiz",1),"Shift-ArrowUp":Yf("vert",-1),"Shift-ArrowDown":Yf("vert",1),Backspace:Kf,"Mod-Backspace":Kf,Delete:Kf,"Mod-Delete":Kf});function pd(t,e,n){return n.eq(t.selection)?!1:(e&&e(t.tr.setSelection(n).scrollIntoView()),!0)}function Zf(t,e){return(n,i,r)=>{if(!r)return!1;const o=n.selection;if(o instanceof lt)return pd(n,i,be.near(o.$headCell,e));if(t!="horiz"&&!o.empty)return!1;const l=Nw(r,t,e);if(l==null)return!1;if(t=="horiz")return pd(n,i,be.near(n.doc.resolve(o.head+e),e));{const c=n.doc.resolve(l),f=Tw(c,t,e);let d;return f?d=be.near(f,1):e<0?d=be.near(n.doc.resolve(c.before(-1)),-1):d=be.near(n.doc.resolve(c.after(-1)),1),pd(n,i,d)}}}function Yf(t,e){return(n,i,r)=>{if(!r)return!1;const o=n.selection;let l;if(o instanceof lt)l=o;else{const f=Nw(r,t,e);if(f==null)return!1;l=new lt(n.doc.resolve(f))}const c=Tw(l.$headCell,t,e);return c?pd(n,i,new lt(l.$anchorCell,c)):!1}}function S_(t,e){const n=t.state.doc,i=fa(n.resolve(e));return i?(t.dispatch(t.state.tr.setSelection(new lt(i))),!0):!1}function T_(t,e,n){if(!Vi(t.state))return!1;let i=b_(n);const r=t.state.selection;if(r instanceof lt){i||(i={width:1,height:1,rows:[W.from(g0(Cn(t.state.schema).cell,n))]});const o=r.$anchorCell.node(-1),l=r.$anchorCell.start(-1),c=Mt.get(o).rectBetween(r.$anchorCell.pos-l,r.$headCell.pos-l);return i=C_(i,c.right-c.left,c.bottom-c.top),bC(t.state,t.dispatch,l,c,i),!0}else if(i){const o=$h(t.state),l=o.start(-1);return bC(t.state,t.dispatch,l,Mt.get(o.node(-1)).findCell(o.pos-l),i),!0}else return!1}function E_(t,e){var n;if(e.ctrlKey||e.metaKey)return;const i=vC(t,e.target);let r;if(e.shiftKey&&t.state.selection instanceof lt)o(t.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&i&&(r=fa(t.state.selection.$anchor))!=null&&((n=cg(t,e))==null?void 0:n.pos)!=r.pos)o(r,e),e.preventDefault();else if(!i)return;function o(f,d){let p=cg(t,d);const m=So.getState(t.state)==null;if(!p||!j2(f,p))if(m)p=f;else return;const y=new lt(f,p);if(m||!t.state.selection.eq(y)){const b=t.state.tr.setSelection(y);m&&b.setMeta(So,f.pos),t.dispatch(b)}}function l(){t.root.removeEventListener("mouseup",l),t.root.removeEventListener("dragstart",l),t.root.removeEventListener("mousemove",c),So.getState(t.state)!=null&&t.dispatch(t.state.tr.setMeta(So,-1))}function c(f){const d=f,p=So.getState(t.state);let m;if(p!=null)m=t.state.doc.resolve(p);else if(vC(t,d.target)!=i&&(m=cg(t,e),!m))return l();m&&o(m,d)}t.root.addEventListener("mouseup",l),t.root.addEventListener("dragstart",l),t.root.addEventListener("mousemove",c)}function Nw(t,e,n){if(!(t.state.selection instanceof fe))return null;const{$head:i}=t.state.selection;for(let r=i.depth-1;r>=0;r--){const o=i.node(r);if((n<0?i.index(r):i.indexAfter(r))!=(n<0?0:o.childCount))return null;if(o.type.spec.tableRole=="cell"||o.type.spec.tableRole=="header_cell"){const c=i.before(r),f=e=="vert"?n>0?"down":"up":n>0?"right":"left";return t.endOfTextblock(f)?c:null}}return null}function vC(t,e){for(;e&&e!=t.dom;e=e.parentNode)if(e.nodeName=="TD"||e.nodeName=="TH")return e;return null}function cg(t,e){const n=t.posAtCoords({left:e.clientX,top:e.clientY});return n&&n?fa(t.state.doc.resolve(n.pos)):null}var M_=class{constructor(e,n){this.node=e,this.defaultCellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${n}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),y0(e,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!=this.node.type?!1:(this.node=e,y0(e,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(e){return e.type=="attributes"&&(e.target==this.table||this.colgroup.contains(e.target))}};function y0(t,e,n,i,r,o){var l;let c=0,f=!0,d=e.firstChild;const p=t.firstChild;if(p){for(let m=0,y=0;m<p.childCount;m++){const{colspan:b,colwidth:C}=p.child(m).attrs;for(let w=0;w<b;w++,y++){const x=r==y?o:C&&C[w],E=x?x+"px":"";if(c+=x||i,x||(f=!1),d)d.style.width!=E&&(d.style.width=E),d=d.nextSibling;else{const A=document.createElement("col");A.style.width=E,e.appendChild(A)}}}for(;d;){const m=d.nextSibling;(l=d.parentNode)==null||l.removeChild(d),d=m}f?(n.style.width=c+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=c+"px")}}var ti=new qe("tableColumnResizing");function k_({handleWidth:t=5,cellMinWidth:e=25,defaultCellMinWidth:n=100,View:i=M_,lastColumnResizable:r=!0}={}){const o=new je({key:ti,state:{init(l,c){var f,d;const p=(d=(f=o.spec)==null?void 0:f.props)==null?void 0:d.nodeViews,m=Cn(c.schema).table.name;return i&&p&&(p[m]=(y,b)=>new i(y,n,b)),new A_(-1,!1)},apply(l,c){return c.apply(l)}},props:{attributes:l=>{const c=ti.getState(l);return c&&c.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(l,c)=>{R_(l,c,t,r)},mouseleave:l=>{O_(l)},mousedown:(l,c)=>{N_(l,c,e,n)}},decorations:l=>{const c=ti.getState(l);if(c&&c.activeHandle>-1)return I_(l,c.activeHandle)},nodeViews:{}}});return o}var A_=class md{constructor(e,n){this.activeHandle=e,this.dragging=n}apply(e){const n=this,i=e.getMeta(ti);if(i&&i.setHandle!=null)return new md(i.setHandle,!1);if(i&&i.setDragging!==void 0)return new md(n.activeHandle,i.setDragging);if(n.activeHandle>-1&&e.docChanged){let r=e.mapping.map(n.activeHandle,-1);return m0(e.doc.resolve(r))||(r=-1),new md(r,n.dragging)}return n}};function R_(t,e,n,i){if(!t.editable)return;const r=ti.getState(t.state);if(r&&!r.dragging){const o=L_(e.target);let l=-1;if(o){const{left:c,right:f}=o.getBoundingClientRect();e.clientX-c<=n?l=CC(t,e,"left",n):f-e.clientX<=n&&(l=CC(t,e,"right",n))}if(l!=r.activeHandle){if(!i&&l!==-1){const c=t.state.doc.resolve(l),f=c.node(-1),d=Mt.get(f),p=c.start(-1);if(d.colCount(c.pos-p)+c.nodeAfter.attrs.colspan-1==d.width-1)return}Dw(t,l)}}}function O_(t){if(!t.editable)return;const e=ti.getState(t.state);e&&e.activeHandle>-1&&!e.dragging&&Dw(t,-1)}function N_(t,e,n,i){var r;if(!t.editable)return!1;const o=(r=t.dom.ownerDocument.defaultView)!=null?r:window,l=ti.getState(t.state);if(!l||l.activeHandle==-1||l.dragging)return!1;const c=t.state.doc.nodeAt(l.activeHandle),f=D_(t,l.activeHandle,c.attrs);t.dispatch(t.state.tr.setMeta(ti,{setDragging:{startX:e.clientX,startWidth:f}}));function d(m){o.removeEventListener("mouseup",d),o.removeEventListener("mousemove",p);const y=ti.getState(t.state);y?.dragging&&(__(t,y.activeHandle,wC(y.dragging,m,n)),t.dispatch(t.state.tr.setMeta(ti,{setDragging:null})))}function p(m){if(!m.which)return d(m);const y=ti.getState(t.state);if(y&&y.dragging){const b=wC(y.dragging,m,n);xC(t,y.activeHandle,b,i)}}return xC(t,l.activeHandle,f,i),o.addEventListener("mouseup",d),o.addEventListener("mousemove",p),e.preventDefault(),!0}function D_(t,e,{colspan:n,colwidth:i}){const r=i&&i[i.length-1];if(r)return r;const o=t.domAtPos(e);let c=o.node.childNodes[o.offset].offsetWidth,f=n;if(i)for(let d=0;d<n;d++)i[d]&&(c-=i[d],f--);return c/f}function L_(t){for(;t&&t.nodeName!="TD"&&t.nodeName!="TH";)t=t.classList&&t.classList.contains("ProseMirror")?null:t.parentNode;return t}function CC(t,e,n,i){const r=n=="right"?-i:i,o=t.posAtCoords({left:e.clientX+r,top:e.clientY});if(!o)return-1;const{pos:l}=o,c=fa(t.state.doc.resolve(l));if(!c)return-1;if(n=="right")return c.pos;const f=Mt.get(c.node(-1)),d=c.start(-1),p=f.map.indexOf(c.pos-d);return p%f.width==0?-1:d+f.map[p-1]}function wC(t,e,n){const i=e.clientX-t.startX;return Math.max(n,t.startWidth+i)}function Dw(t,e){t.dispatch(t.state.tr.setMeta(ti,{setHandle:e}))}function __(t,e,n){const i=t.state.doc.resolve(e),r=i.node(-1),o=Mt.get(r),l=i.start(-1),c=o.colCount(i.pos-l)+i.nodeAfter.attrs.colspan-1,f=t.state.tr;for(let d=0;d<o.height;d++){const p=d*o.width+c;if(d&&o.map[p]==o.map[p-o.width])continue;const m=o.map[p],y=r.nodeAt(m).attrs,b=y.colspan==1?0:c-o.colCount(m);if(y.colwidth&&y.colwidth[b]==n)continue;const C=y.colwidth?y.colwidth.slice():H_(y.colspan);C[b]=n,f.setNodeMarkup(l+m,null,{...y,colwidth:C})}f.docChanged&&t.dispatch(f)}function xC(t,e,n,i){const r=t.state.doc.resolve(e),o=r.node(-1),l=r.start(-1),c=Mt.get(o).colCount(r.pos-l)+r.nodeAfter.attrs.colspan-1;let f=t.domAtPos(r.start(-1)).node;for(;f&&f.nodeName!="TABLE";)f=f.parentNode;f&&y0(o,f.firstChild,f,i,c,n)}function H_(t){return Array(t).fill(0)}function I_(t,e){var n;const i=[],r=t.doc.resolve(e),o=r.node(-1);if(!o)return Je.empty;const l=Mt.get(o),c=r.start(-1),f=l.colCount(r.pos-c)+r.nodeAfter.attrs.colspan-1;for(let d=0;d<l.height;d++){const p=f+d*l.width;if((f==l.width-1||l.map[p]!=l.map[p+1])&&(d==0||l.map[p]!=l.map[p-l.width])){const m=l.map[p],y=c+m+o.nodeAt(m).nodeSize-1,b=document.createElement("div");b.className="column-resize-handle",(n=ti.getState(t))!=null&&n.dragging&&i.push(It.node(c+m,c+m+o.nodeAt(m).nodeSize,{class:"column-resize-dragging"})),i.push(It.widget(y,b))}}return Je.create(t.doc,i)}function z_({allowTableNodeSelection:t=!1}={}){return new je({key:So,state:{init(){return null},apply(e,n){const i=e.getMeta(So);if(i!=null)return i==-1?null:i;if(n==null||!e.docChanged)return n;const{deleted:r,pos:o}=e.mapping.mapResult(n);return r?null:o}},props:{decorations:XL,handleDOMEvents:{mousedown:E_},createSelectionBetween(e){return So.getState(e.state)!=null?e.state.selection:null},handleTripleClick:S_,handleKeyDown:x_,handlePaste:T_},appendTransaction(e,n,i){return QL(i,Aw(i,n),t)}})}var B_=vt.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{const e=t.getAttribute("colwidth");return e?e.split(",").map(i=>parseInt(i,10)):null}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td"}]},renderHTML({HTMLAttributes:t}){return["td",Fe(this.options.HTMLAttributes,t),0]}}),V_=vt.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{const e=t.getAttribute("colwidth");return e?e.split(",").map(i=>parseInt(i,10)):null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th"}]},renderHTML({HTMLAttributes:t}){return["th",Fe(this.options.HTMLAttributes,t),0]}}),j_=vt.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:t}){return["tr",Fe(this.options.HTMLAttributes,t),0]}});function b0(t,e){return e?["width",`${Math.max(e,t)}px`]:["min-width",`${t}px`]}function SC(t,e,n,i,r,o){var l;let c=0,f=!0,d=e.firstChild;const p=t.firstChild;if(p!==null)for(let m=0,y=0;m<p.childCount;m+=1){const{colspan:b,colwidth:C}=p.child(m).attrs;for(let w=0;w<b;w+=1,y+=1){const x=r===y?o:C&&C[w],E=x?`${x}px`:"";if(c+=x||i,x||(f=!1),d){if(d.style.width!==E){const[A,O]=b0(i,x);d.style.setProperty(A,O)}d=d.nextSibling}else{const A=document.createElement("col"),[O,H]=b0(i,x);A.style.setProperty(O,H),e.appendChild(A)}}}for(;d;){const m=d.nextSibling;(l=d.parentNode)==null||l.removeChild(d),d=m}f?(n.style.width=`${c}px`,n.style.minWidth=""):(n.style.width="",n.style.minWidth=`${c}px`)}var U_=class{constructor(t,e){this.node=t,this.cellMinWidth=e,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),SC(t,this.colgroup,this.table,e),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(t){return t.type!==this.node.type?!1:(this.node=t,SC(t,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(t){return t.type==="attributes"&&(t.target===this.table||this.colgroup.contains(t.target))}};function P_(t,e,n,i){let r=0,o=!0;const l=[],c=t.firstChild;if(!c)return{};for(let m=0,y=0;m<c.childCount;m+=1){const{colspan:b,colwidth:C}=c.child(m).attrs;for(let w=0;w<b;w+=1,y+=1){const x=n===y?i:C&&C[w];r+=x||e,x||(o=!1);const[E,A]=b0(e,x);l.push(["col",{style:`${E}: ${A}`}])}}const f=o?`${r}px`:"",d=o?"":`${r}px`;return{colgroup:["colgroup",{},...l],tableWidth:f,tableMinWidth:d}}function TC(t,e){return t.createAndFill()}function F_(t){if(t.cached.tableNodeTypes)return t.cached.tableNodeTypes;const e={};return Object.keys(t.nodes).forEach(n=>{const i=t.nodes[n];i.spec.tableRole&&(e[i.spec.tableRole]=i)}),t.cached.tableNodeTypes=e,e}function q_(t,e,n,i,r){const o=F_(t),l=[],c=[];for(let d=0;d<n;d+=1){const p=TC(o.cell);if(p&&c.push(p),i){const m=TC(o.header_cell);m&&l.push(m)}}const f=[];for(let d=0;d<e;d+=1)f.push(o.row.createChecked(null,i&&d===0?l:c));return o.table.createChecked(null,f)}function $_(t){return t instanceof lt}var Gf=({editor:t})=>{const{selection:e}=t.state;if(!$_(e))return!1;let n=0;const i=x6(e.ranges[0].$from,o=>o.type.name==="table");return i?.node.descendants(o=>{if(o.type.name==="table")return!1;["tableCell","tableHeader"].includes(o.type.name)&&(n+=1)}),n===e.ranges.length?(t.commands.deleteTable(),!0):!1},K_=vt.create({name:"table",addOptions(){return{HTMLAttributes:{},resizable:!1,handleWidth:5,cellMinWidth:25,View:U_,lastColumnResizable:!0,allowTableNodeSelection:!1}},content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML(){return[{tag:"table"}]},renderHTML({node:t,HTMLAttributes:e}){const{colgroup:n,tableWidth:i,tableMinWidth:r}=P_(t,this.options.cellMinWidth);return["table",Fe(this.options.HTMLAttributes,e,{style:i?`width: ${i}`:`min-width: ${r}`}),n,["tbody",0]]},addCommands(){return{insertTable:({rows:t=3,cols:e=3,withHeaderRow:n=!0}={})=>({tr:i,dispatch:r,editor:o})=>{const l=q_(o.schema,t,e,n);if(r){const c=i.selection.from+1;i.replaceSelectionWith(l).scrollIntoView().setSelection(fe.near(i.doc.resolve(c)))}return!0},addColumnBefore:()=>({state:t,dispatch:e})=>n_(t,e),addColumnAfter:()=>({state:t,dispatch:e})=>i_(t,e),deleteColumn:()=>({state:t,dispatch:e})=>o_(t,e),addRowBefore:()=>({state:t,dispatch:e})=>l_(t,e),addRowAfter:()=>({state:t,dispatch:e})=>a_(t,e),deleteRow:()=>({state:t,dispatch:e})=>u_(t,e),deleteTable:()=>({state:t,dispatch:e})=>y_(t,e),mergeCells:()=>({state:t,dispatch:e})=>dC(t,e),splitCell:()=>({state:t,dispatch:e})=>hC(t,e),toggleHeaderColumn:()=>({state:t,dispatch:e})=>Yc("column")(t,e),toggleHeaderRow:()=>({state:t,dispatch:e})=>Yc("row")(t,e),toggleHeaderCell:()=>({state:t,dispatch:e})=>m_(t,e),mergeOrSplit:()=>({state:t,dispatch:e})=>dC(t,e)?!0:hC(t,e),setCellAttribute:(t,e)=>({state:n,dispatch:i})=>h_(t,e)(n,i),goToNextCell:()=>({state:t,dispatch:e})=>mC(1)(t,e),goToPreviousCell:()=>({state:t,dispatch:e})=>mC(-1)(t,e),fixTables:()=>({state:t,dispatch:e})=>(e&&Aw(t),!0),setCellSelection:t=>({tr:e,dispatch:n})=>{if(n){const i=lt.create(e.doc,t.anchorCell,t.headCell);e.setSelection(i)}return!0}}},addKeyboardShortcuts(){return{Tab:()=>this.editor.commands.goToNextCell()?!0:this.editor.can().addRowAfter()?this.editor.chain().addRowAfter().goToNextCell().run():!1,"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:Gf,"Mod-Backspace":Gf,Delete:Gf,"Mod-Delete":Gf}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[k_({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,defaultCellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],z_({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(t){const e={name:t.name,options:t.options,storage:t.storage};return{tableRole:Ze(me(t,"tableRole",e))}}}),Z_=Ye.create({name:"tableKit",addExtensions(){const t=[];return this.options.table!==!1&&t.push(K_.configure(this.options.table)),this.options.tableCell!==!1&&t.push(B_.configure(this.options.tableCell)),this.options.tableHeader!==!1&&t.push(V_.configure(this.options.tableHeader)),this.options.tableRow!==!1&&t.push(j_.configure(this.options.tableRow)),t}});let Y_=1;const Kh=()=>`folioTiptapNode-${Y_++}`,v0=(t,e)=>{window.top.postMessage({type:"f-tiptap-node:click",attrs:t,uniqueId:e},"*")};let C0=[];const G_=({html:t,serializedAttrs:e})=>{C0=[{html:t,serializedAttrs:e},...C0.slice(0,9)]},X_=t=>{const{uniqueId:e,...n}=t.node.attrs;if(M.useEffect(()=>{e||t.updateAttributes({uniqueId:Kh()})},[e]),!e)return;const[i,r]=M.useState("initial"),[o,l]=M.useState(""),c=M.useRef(null),f=M.useCallback(p=>{p.defaultPrevented||v0(n,e)},[n,e]),d=M.useCallback(p=>{v0(n,e)},[n,e]);return M.useEffect(()=>{if(i==="initial"&&e){const p=JSON.stringify(n),m=C0.find(y=>y.serializedAttrs===p);if(m){r("loaded"),l(m.html);return}else r("loading"),window.top.postMessage({type:"f-tiptap-node:render",uniqueId:e,attrs:n},"*")}},[i,e]),M.useEffect(()=>{if(c&&c.current){const p=c.current;return p.addEventListener("f-tiptap-node:edit",d),()=>{p.removeEventListener("f-tiptap-node:edit",d)}}},[c,d]),M.useEffect(()=>{const p=m=>{m.origin===window.origin&&(m.data.type==="f-input-tiptap:render-nodes"?m.data.nodes.forEach(y=>{if(y.unique_id===e){const b=JSON.stringify(n);G_({html:y.html,serializedAttrs:b}),l(y.html),r("loaded")}}):m.data&&m.data.type==="f-c-tiptap-overlay:saved"&&m.data.uniqueId===e&&m.data.node&&m.data.node.attrs&&(l(""),r("initial"),t.updateAttributes(m.data.node.attrs)))};return window.addEventListener("message",p),()=>{window.removeEventListener("message",p)}},[e,t,i]),T.jsx(NN,{className:"f-tiptap-node",tabIndex:0,"data-drag-handle":"",onDoubleClick:f,ref:c,children:o?T.jsx("div",{className:"f-tiptap-node__html",dangerouslySetInnerHTML:{__html:o}}):T.jsx("div",{className:"f-tiptap-node__loader-wrap rounded",children:T.jsx("span",{className:"folio-loader"})})})},EC=({direction:t,state:e,dispatch:n})=>{if(e.selection.from!==e.selection.to-1)return!1;const i=e.selection.node;if(!i||i.type.name!=="folioTiptapNode")return!1;let r;if(t==="up"){const l=e.doc.resolve(e.selection.from).nodeBefore;if(!l)return!1;r=e.selection.from-l.nodeSize}else{const l=e.doc.resolve(e.selection.to).nodeAfter;if(!l)return!1;r=e.selection.to+l.nodeSize-1}const o=e.tr;return o.deleteRange(e.selection.from,e.selection.to),o.insert(r,i),o.setSelection(fe.near(o.doc.resolve(r))),n(o),!0},Lw=vt.create({name:"folioTiptapNode",group:"block",draggable:!0,selectable:!0,atom:!0,code:!0,isolating:!0,addAttributes(){return{version:{default:1,parseHTML:t=>{let e;try{const n=t.dataset.folioTiptapNodeVersion||"1";e=parseInt(n,10)}catch(n){console.error("Error parsing folioTiptapNode version:",n),e=1}return e}},type:{default:"",parseHTML:t=>t.dataset.folioTiptapNodeType||""},data:{default:{},parseHTML:t=>{const e=t.dataset.folioTiptapNodeData||"{}";try{return JSON.parse(e)}catch(n){return console.error("Error parsing folioTiptapNode data:",n),{}}}},uniqueId:{default:"",parseHTML:t=>Kh()}}},parseHTML(){return[{tag:'div[class="f-tiptap-node"]'}]},renderHTML({HTMLAttributes:t}){return["div",{class:"f-tiptap-node","data-folio-tiptap-node-version":t.version,"data-folio-tiptap-node-type":t.type,"data-folio-tiptap-node-data":JSON.stringify(t.data)}]},addNodeView(){return IN(X_)},addCommands(){return{moveFolioTiptapNodeDown:()=>({state:t,dispatch:e})=>EC({direction:"down",state:t,dispatch:e}),moveFolioTiptapNodeUp:()=>({state:t,dispatch:e})=>EC({direction:"up",state:t,dispatch:e}),editFolioTipapNode:()=>({state:t,dispatch:e})=>{const n=t.selection.node;if(!n||n.type.name!==this.name)return!1;const{uniqueId:i,...r}=n.attrs;return v0(r,i),!0},removeFolioTiptapNode:()=>({state:t,dispatch:e})=>{const n=t.selection.node;if(!n||n.type.name!==this.name)return!1;const i=t.tr;return i.deleteRange(t.selection.from,t.selection.to),e(i),!0}}}}),_w=M.memo(({className:t,...e})=>T.jsxs("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[T.jsx("rect",{width:"10",height:"20",x:"2",y:"2",rx:"2"}),T.jsx("path",{d:"M21.593 11.998H15.19M18.39 15.201V8.8"})]}));_w.displayName="AddColumnAfter";const Hw=M.memo(({className:t,...e})=>T.jsx("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:T.jsxs("g",{transform:"rotate(180 12 12)",children:[T.jsx("rect",{width:"10",height:"20",x:"2",y:"2",rx:"2"}),T.jsx("path",{d:"M21.593 11.998H15.19M18.39 15.201V8.8"})]})}));Hw.displayName="AddColumnBefore";const W_=M.memo(({className:t,...e})=>T.jsxs("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2ZM4 12C4 7.58172 7.58172 4 12 4C16.4183 4 20 7.58172 20 12C20 16.4183 16.4183 20 12 20C7.58172 20 4 16.4183 4 12Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 7C12.5523 7 13 7.44772 13 8V12C13 12.5523 12.5523 13 12 13C11.4477 13 11 12.5523 11 12V8C11 7.44772 11.4477 7 12 7Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 15C12.5523 15 13 15.4477 13 16C13 16.5523 12.5523 17 12 17C11.4477 17 11 16.5523 11 16C11 15.4477 11.4477 15 12 15Z",fill:"currentColor"})]}));W_.displayName="AlertCircleIcon";const Iw=M.memo(({className:t,...e})=>T.jsxs("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 6C2 5.44772 2.44772 5 3 5H21C21.5523 5 22 5.44772 22 6C22 6.55228 21.5523 7 21 7H3C2.44772 7 2 6.55228 2 6Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 12C6 11.4477 6.44772 11 7 11H17C17.5523 11 18 11.4477 18 12C18 12.5523 17.5523 13 17 13H7C6.44772 13 6 12.5523 6 12Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 18C4 17.4477 4.44772 17 5 17H19C19.5523 17 20 17.4477 20 18C20 18.5523 19.5523 19 19 19H5C4.44772 19 4 18.5523 4 18Z",fill:"currentColor"})]}));Iw.displayName="AlignCenterIcon";const J_=M.memo(({className:t,...e})=>T.jsxs("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 6C2 5.44772 2.44772 5 3 5H21C21.5523 5 22 5.44772 22 6C22 6.55228 21.5523 7 21 7H3C2.44772 7 2 6.55228 2 6Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 12C2 11.4477 2.44772 11 3 11H21C21.5523 11 22 11.4477 22 12C22 12.5523 21.5523 13 21 13H3C2.44772 13 2 12.5523 2 12Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 18C2 17.4477 2.44772 17 3 17H21C21.5523 17 22 17.4477 22 18C22 18.5523 21.5523 19 21 19H3C2.44772 19 2 18.5523 2 18Z",fill:"currentColor"})]}));J_.displayName="AlignJustifyIcon";const U2=M.memo(({className:t,...e})=>T.jsxs("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 6C2 5.44772 2.44772 5 3 5H21C21.5523 5 22 5.44772 22 6C22 6.55228 21.5523 7 21 7H3C2.44772 7 2 6.55228 2 6Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 12C2 11.4477 2.44772 11 3 11H15C15.5523 11 16 11.4477 16 12C16 12.5523 15.5523 13 15 13H3C2.44772 13 2 12.5523 2 12Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 18C2 17.4477 2.44772 17 3 17H17C17.5523 17 18 17.4477 18 18C18 18.5523 17.5523 19 17 19H3C2.44772 19 2 18.5523 2 18Z",fill:"currentColor"})]}));U2.displayName="AlignLeftIcon";const zw=M.memo(({className:t,...e})=>T.jsxs("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 6C2 5.44772 2.44772 5 3 5H21C21.5523 5 22 5.44772 22 6C22 6.55228 21.5523 7 21 7H3C2.44772 7 2 6.55228 2 6Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 12C8 11.4477 8.44772 11 9 11H21C21.5523 11 22 11.4477 22 12C22 12.5523 21.5523 13 21 13H9C8.44772 13 8 12.5523 8 12Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 18C6 17.4477 6.44772 17 7 17H21C21.5523 17 22 17.4477 22 18C22 18.5523 21.5523 19 21 19H7C6.44772 19 6 18.5523 6 18Z",fill:"currentColor"})]}));zw.displayName="AlignRightIcon";const Bw=M.memo(({className:t,...e})=>T.jsx("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:T.jsx("path",{d:"M11.92 19.92L4 12L11.92 4.08L13.33 5.5L7.83 11H22V13H7.83L13.34 18.5L11.92 19.92ZM4 12V2H2V22H4V12Z",fill:"currentColor"})}));Bw.displayName="ArrowCollapseLeft";const Vw=M.memo(({className:t,...e})=>T.jsx("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:T.jsx("path",{d:"M12.08 4.08L20 12L12.08 19.92L10.67 18.5L16.17 13H2V11H16.17L10.67 5.5L12.08 4.08ZM20 12V22H22V2H20V12Z",fill:"currentColor"})}));Vw.displayName="ArrowCollapseRight";const jw=M.memo(({className:t,...e})=>T.jsx("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:T.jsx("path",{d:"M11.0001 4H13.0001V16L18.5001 10.5L19.9201 11.92L12.0001 19.84L4.08008 11.92L5.50008 10.5L11.0001 16V4Z",fill:"currentColor"})}));jw.displayName="ArrowDownIcon";const Q_=M.memo(({className:t,...e})=>T.jsx("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:T.jsx("path",{d:"M12.7071 5.70711C13.0976 5.31658 13.0976 4.68342 12.7071 4.29289C12.3166 3.90237 11.6834 3.90237 11.2929 4.29289L4.29289 11.2929C3.90237 11.6834 3.90237 12.3166 4.29289 12.7071L11.2929 19.7071C11.6834 20.0976 12.3166 20.0976 12.7071 19.7071C13.0976 19.3166 13.0976 18.6834 12.7071 18.2929L7.41421 13L19 13C19.5523 13 20 12.5523 20 12C20 11.4477 19.5523 11 19 11L7.41421 11L12.7071 5.70711Z",fill:"currentColor"})}));Q_.displayName="ArrowLeftIcon";const Uw=M.memo(({className:t,...e})=>T.jsx("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:T.jsx("path",{d:"M13.0001 20H11.0001V8.00003L5.50008 13.5L4.08008 12.08L12.0001 4.16003L19.9201 12.08L18.5001 13.5L13.0001 8.00003V20Z",fill:"currentColor"})}));Uw.displayName="ArrowUpIcon";const eH=M.memo(({className:t,...e})=>T.jsx("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.43471 4.01458C4.34773 4.06032 4.26607 4.11977 4.19292 4.19292C4.11977 4.26607 4.06032 4.34773 4.01458 4.43471C2.14611 6.40628 1 9.0693 1 12C1 18.0751 5.92487 23 12 23C14.9306 23 17.5936 21.854 19.5651 19.9856C19.6522 19.9398 19.7339 19.8803 19.8071 19.8071C19.8803 19.7339 19.9398 19.6522 19.9856 19.5651C21.854 17.5936 23 14.9306 23 12C23 5.92487 18.0751 1 12 1C9.0693 1 6.40628 2.14611 4.43471 4.01458ZM6.38231 4.9681C7.92199 3.73647 9.87499 3 12 3C16.9706 3 21 7.02944 21 12C21 14.125 20.2635 16.078 19.0319 17.6177L6.38231 4.9681ZM17.6177 19.0319C16.078 20.2635 14.125 21 12 21C7.02944 21 3 16.9706 3 12C3 9.87499 3.73647 7.92199 4.9681 6.38231L17.6177 19.0319Z",fill:"currentColor"})}));eH.displayName="BanIcon";const tH=M.memo(({className:t,...e})=>T.jsxs("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 6C8 5.44772 8.44772 5 9 5H16C16.5523 5 17 5.44772 17 6C17 6.55228 16.5523 7 16 7H9C8.44772 7 8 6.55228 8 6Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 3C4.55228 3 5 3.44772 5 4L5 20C5 20.5523 4.55229 21 4 21C3.44772 21 3 20.5523 3 20L3 4C3 3.44772 3.44772 3 4 3Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 12C8 11.4477 8.44772 11 9 11H20C20.5523 11 21 11.4477 21 12C21 12.5523 20.5523 13 20 13H9C8.44772 13 8 12.5523 8 12Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 18C8 17.4477 8.44772 17 9 17H16C16.5523 17 17 17.4477 17 18C17 18.5523 16.5523 19 16 19H9C8.44772 19 8 18.5523 8 18Z",fill:"currentColor"})]}));tH.displayName="BlockQuoteIcon";const Pw=M.memo(({className:t,...e})=>T.jsx("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 2.5C5.17157 2.5 4.5 3.17157 4.5 4V20C4.5 20.8284 5.17157 21.5 6 21.5H15C16.4587 21.5 17.8576 20.9205 18.8891 19.8891C19.9205 18.8576 20.5 17.4587 20.5 16C20.5 14.5413 19.9205 13.1424 18.8891 12.1109C18.6781 11.9 18.4518 11.7079 18.2128 11.5359C19.041 10.5492 19.5 9.29829 19.5 8C19.5 6.54131 18.9205 5.14236 17.8891 4.11091C16.8576 3.07946 15.4587 2.5 14 2.5H6ZM14 10.5C14.663 10.5 15.2989 10.2366 15.7678 9.76777C16.2366 9.29893 16.5 8.66304 16.5 8C16.5 7.33696 16.2366 6.70107 15.7678 6.23223C15.2989 5.76339 14.663 5.5 14 5.5H7.5V10.5H14ZM7.5 18.5V13.5H15C15.663 13.5 16.2989 13.7634 16.7678 14.2322C17.2366 14.7011 17.5 15.337 17.5 16C17.5 16.663 17.2366 17.2989 16.7678 17.7678C16.2989 18.2366 15.663 18.5 15 18.5H7.5Z",fill:"currentColor"})}));Pw.displayName="BoldIcon";const nH=M.memo(({className:t,...e})=>T.jsx("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.7071 6.29289C21.0976 6.68342 21.0976 7.31658 20.7071 7.70711L10.7071 17.7071C10.3166 18.0976 9.68342 18.0976 9.29289 17.7071L4.29289 12.7071C3.90237 12.3166 3.90237 11.6834 4.29289 11.2929C4.68342 10.9024 5.31658 10.9024 5.70711 11.2929L10 15.5858L19.2929 6.29289C19.6834 5.90237 20.3166 5.90237 20.7071 6.29289Z",fill:"currentColor"})}));nH.displayName="CheckIcon";const Fw=M.memo(({className:t,...e})=>T.jsx("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.29289 8.29289C5.68342 7.90237 6.31658 7.90237 6.70711 8.29289L12 13.5858L17.2929 8.29289C17.6834 7.90237 18.3166 7.90237 18.7071 8.29289C19.0976 8.68342 19.0976 9.31658 18.7071 9.70711L12.7071 15.7071C12.3166 16.0976 11.6834 16.0976 11.2929 15.7071L5.29289 9.70711C4.90237 9.31658 4.90237 8.68342 5.29289 8.29289Z",fill:"currentColor"})}));Fw.displayName="ChevronDownIcon";const Zh=M.memo(({className:t,...e})=>T.jsx("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:T.jsx("path",{d:"M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z",fill:"currentColor"})}));Zh.displayName="CloseIcon";const iH=M.memo(({className:t,...e})=>T.jsxs("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.70711 2.29289C7.09763 2.68342 7.09763 3.31658 6.70711 3.70711L4.41421 6L6.70711 8.29289C7.09763 8.68342 7.09763 9.31658 6.70711 9.70711C6.31658 10.0976 5.68342 10.0976 5.29289 9.70711L2.29289 6.70711C1.90237 6.31658 1.90237 5.68342 2.29289 5.29289L5.29289 2.29289C5.68342 1.90237 6.31658 1.90237 6.70711 2.29289Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.2929 2.29289C10.6834 1.90237 11.3166 1.90237 11.7071 2.29289L14.7071 5.29289C15.0976 5.68342 15.0976 6.31658 14.7071 6.70711L11.7071 9.70711C11.3166 10.0976 10.6834 10.0976 10.2929 9.70711C9.90237 9.31658 9.90237 8.68342 10.2929 8.29289L12.5858 6L10.2929 3.70711C9.90237 3.31658 9.90237 2.68342 10.2929 2.29289Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17 4C17 3.44772 17.4477 3 18 3H19C20.6569 3 22 4.34315 22 6V18C22 19.6569 20.6569 21 19 21H5C3.34315 21 2 19.6569 2 18V12C2 11.4477 2.44772 11 3 11C3.55228 11 4 11.4477 4 12V18C4 18.5523 4.44772 19 5 19H19C19.5523 19 20 18.5523 20 18V6C20 5.44772 19.5523 5 19 5H18C17.4477 5 17 4.55228 17 4Z",fill:"currentColor"})]}));iH.displayName="CodeBlockIcon";const qw=M.memo(({className:t,...e})=>T.jsxs("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[T.jsx("path",{d:"M15.4545 4.2983C15.6192 3.77115 15.3254 3.21028 14.7983 3.04554C14.2712 2.88081 13.7103 3.1746 13.5455 3.70175L8.54554 19.7017C8.38081 20.2289 8.6746 20.7898 9.20175 20.9545C9.72889 21.1192 10.2898 20.8254 10.4545 20.2983L15.4545 4.2983Z",fill:"currentColor"}),T.jsx("path",{d:"M6.70711 7.29289C7.09763 7.68342 7.09763 8.31658 6.70711 8.70711L3.41421 12L6.70711 15.2929C7.09763 15.6834 7.09763 16.3166 6.70711 16.7071C6.31658 17.0976 5.68342 17.0976 5.29289 16.7071L1.29289 12.7071C0.902369 12.3166 0.902369 11.6834 1.29289 11.2929L5.29289 7.29289C5.68342 6.90237 6.31658 6.90237 6.70711 7.29289Z",fill:"currentColor"}),T.jsx("path",{d:"M17.2929 7.29289C17.6834 6.90237 18.3166 6.90237 18.7071 7.29289L22.7071 11.2929C23.0976 11.6834 23.0976 12.3166 22.7071 12.7071L18.7071 16.7071C18.3166 17.0976 17.6834 17.0976 17.2929 16.7071C16.9024 16.3166 16.9024 15.6834 17.2929 15.2929L20.5858 12L17.2929 8.70711C16.9024 8.31658 16.9024 7.68342 17.2929 7.29289Z",fill:"currentColor"})]}));qw.displayName="Code2Icon";const $w=M.memo(({className:t,...e})=>T.jsx("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 4C21 3.44772 20.5523 3 20 3C19.4477 3 19 3.44772 19 4V11C19 11.7956 18.6839 12.5587 18.1213 13.1213C17.5587 13.6839 16.7956 14 16 14H6.41421L9.70711 10.7071C10.0976 10.3166 10.0976 9.68342 9.70711 9.29289C9.31658 8.90237 8.68342 8.90237 8.29289 9.29289L3.29289 14.2929C2.90237 14.6834 2.90237 15.3166 3.29289 15.7071L8.29289 20.7071C8.68342 21.0976 9.31658 21.0976 9.70711 20.7071C10.0976 20.3166 10.0976 19.6834 9.70711 19.2929L6.41421 16H16C17.3261 16 18.5979 15.4732 19.5355 14.5355C20.4732 13.5979 21 12.3261 21 11V4Z",fill:"currentColor"})}));$w.displayName="CornerDownLeftIcon";const Kw=M.memo(({className:t,...e})=>T.jsx("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:T.jsx("path",{d:"M20.71 7.04006C21.1 6.65006 21.1 6.00006 20.71 5.63006L18.37 3.29006C18 2.90006 17.35 2.90006 16.96 3.29006L15.12 5.12006L18.87 8.87006M3 17.2501V21.0001H6.75L17.81 9.93006L14.06 6.18006L3 17.2501Z",fill:"currentColor"})}));Kw.displayName="EditIcon";const Zw=M.memo(({className:t,...e})=>T.jsxs("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[T.jsx("path",{d:"M14 3C14 2.44772 14.4477 2 15 2H21C21.5523 2 22 2.44772 22 3V9C22 9.55228 21.5523 10 21 10C20.4477 10 20 9.55228 20 9V5.41421L10.7071 14.7071C10.3166 15.0976 9.68342 15.0976 9.29289 14.7071C8.90237 14.3166 8.90237 13.6834 9.29289 13.2929L18.5858 4H15C14.4477 4 14 3.55228 14 3Z",fill:"currentColor"}),T.jsx("path",{d:"M4.29289 7.29289C4.48043 7.10536 4.73478 7 5 7H11C11.5523 7 12 6.55228 12 6C12 5.44772 11.5523 5 11 5H5C4.20435 5 3.44129 5.31607 2.87868 5.87868C2.31607 6.44129 2 7.20435 2 8V19C2 19.7957 2.31607 20.5587 2.87868 21.1213C3.44129 21.6839 4.20435 22 5 22H16C16.7957 22 17.5587 21.6839 18.1213 21.1213C18.6839 20.5587 19 19.7957 19 19V13C19 12.4477 18.5523 12 18 12C17.4477 12 17 12.4477 17 13V19C17 19.2652 16.8946 19.5196 16.7071 19.7071C16.5196 19.8946 16.2652 20 16 20H5C4.73478 20 4.48043 19.8946 4.29289 19.7071C4.10536 19.5196 4 19.2652 4 19V8C4 7.73478 4.10536 7.48043 4.29289 7.29289Z",fill:"currentColor"})]}));Zw.displayName="ExternalLinkIcon";const Yw=M.memo(({className:t,...e})=>T.jsx("svg",{width:"17",height:"16",className:t,viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:T.jsx("path",{d:"M16.1789 8.32686L11.616 3.76343C11.4016 3.54914 11.1109 3.42877 10.8077 3.42877C10.5046 3.42877 10.2139 3.54914 9.99944 3.76343L6.93773 6.82514L4.50001 0H3.35715L0.5 8H1.64286L2.21372 6.28571H5.64229L6.10115 7.66171L1.97772 11.7851C1.87154 11.8913 1.78732 12.0173 1.72986 12.156C1.67239 12.2947 1.64282 12.4433 1.64282 12.5934C1.64282 12.7435 1.67239 12.8922 1.72986 13.0309C1.78732 13.1696 1.87154 13.2956 1.97772 13.4017L4.57544 16H10.0554L16.1789 9.876C16.2807 9.77427 16.3614 9.65348 16.4165 9.52052C16.4716 9.38757 16.5 9.24506 16.5 9.10114C16.5 8.95722 16.4716 8.81472 16.4165 8.68176C16.3614 8.54881 16.2807 8.42859 16.1789 8.32686ZM2.59429 5.14286L3.92629 1.14286L5.26115 5.14286H2.59429ZM9.58287 14.8571H5.04858L2.78572 12.5931L6.39258 8.98686L10.9229 13.5166L9.58287 14.8571ZM11.7314 12.7086L7.20115 8.17886L10.808 4.57143L15.3377 9.10114L11.7314 12.7086Z",fill:"currentColor"})}));Yw.displayName="FormatEraseIcon";const P2=M.memo(({className:t,...e})=>T.jsx("svg",{width:"24",height:"24",className:t,viewBox:"0 -960 960 960",xmlns:"http://www.w3.org/2000/svg",...e,children:T.jsx("path",{d:"M120-280v-400h400v400H120Zm80-80h240v-240H200v240Zm-80-400v-80h720v80H120Zm480 160v-80h240v80H600Zm0 160v-80h240v80H600Zm0 160v-80h240v80H600ZM120-120v-80h720v80H120Z",fill:"currentColor"})}));P2.displayName="FormatImageLeft";const rH=M.memo(({className:t,...e})=>T.jsxs("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[T.jsx("path",{d:"M5 6C5 5.44772 4.55228 5 4 5C3.44772 5 3 5.44772 3 6V18C3 18.5523 3.44772 19 4 19C4.55228 19 5 18.5523 5 18V13H11V18C11 18.5523 11.4477 19 12 19C12.5523 19 13 18.5523 13 18V6C13 5.44772 12.5523 5 12 5C11.4477 5 11 5.44772 11 6V11H5V6Z",fill:"currentColor"}),T.jsx("path",{d:"M16 10C16 9.44772 16.4477 9 17 9H21C21.5523 9 22 9.44772 22 10C22 10.5523 21.5523 11 21 11H18V12H18.3C20.2754 12 22 13.4739 22 15.5C22 17.5261 20.2754 19 18.3 19C17.6457 19 17.0925 18.8643 16.5528 18.5944C16.0588 18.3474 15.8586 17.7468 16.1055 17.2528C16.3525 16.7588 16.9532 16.5586 17.4472 16.8056C17.7074 16.9357 17.9542 17 18.3 17C19.3246 17 20 16.2739 20 15.5C20 14.7261 19.3246 14 18.3 14H17C16.4477 14 16 13.5523 16 13L16 12.9928V10Z",fill:"currentColor"})]}));rH.displayName="HeadingFiveIcon";const Gw=M.memo(({className:t,...e})=>T.jsxs("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[T.jsx("path",{d:"M4 5C4.55228 5 5 5.44772 5 6V11H11V6C11 5.44772 11.4477 5 12 5C12.5523 5 13 5.44772 13 6V18C13 18.5523 12.5523 19 12 19C11.4477 19 11 18.5523 11 18V13H5V18C5 18.5523 4.55228 19 4 19C3.44772 19 3 18.5523 3 18V6C3 5.44772 3.44772 5 4 5Z",fill:"currentColor"}),T.jsx("path",{d:"M17 9C17.5523 9 18 9.44772 18 10V13H20V10C20 9.44772 20.4477 9 21 9C21.5523 9 22 9.44772 22 10V18C22 18.5523 21.5523 19 21 19C20.4477 19 20 18.5523 20 18V15H17C16.4477 15 16 14.5523 16 14V10C16 9.44772 16.4477 9 17 9Z",fill:"currentColor"})]}));Gw.displayName="HeadingFourIcon";const Xw=M.memo(({className:t,...e})=>T.jsx("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:T.jsx("path",{d:"M6 3C6.55228 3 7 3.44772 7 4V11H17V4C17 3.44772 17.4477 3 18 3C18.5523 3 19 3.44772 19 4V20C19 20.5523 18.5523 21 18 21C17.4477 21 17 20.5523 17 20V13H7V20C7 20.5523 6.55228 21 6 21C5.44772 21 5 20.5523 5 20V4C5 3.44772 5.44772 3 6 3Z",fill:"currentColor"})}));Xw.displayName="HeadingIcon";const oH=M.memo(({className:t,...e})=>T.jsxs("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[T.jsx("path",{d:"M5 6C5 5.44772 4.55228 5 4 5C3.44772 5 3 5.44772 3 6V18C3 18.5523 3.44772 19 4 19C4.55228 19 5 18.5523 5 18V13H11V18C11 18.5523 11.4477 19 12 19C12.5523 19 13 18.5523 13 18V6C13 5.44772 12.5523 5 12 5C11.4477 5 11 5.44772 11 6V11H5V6Z",fill:"currentColor"}),T.jsx("path",{d:"M21.0001 10C21.0001 9.63121 20.7971 9.29235 20.472 9.11833C20.1468 8.94431 19.7523 8.96338 19.4454 9.16795L16.4454 11.168C15.9859 11.4743 15.8617 12.0952 16.1681 12.5547C16.4744 13.0142 17.0953 13.1384 17.5548 12.8321L19.0001 11.8685V18C19.0001 18.5523 19.4478 19 20.0001 19C20.5524 19 21.0001 18.5523 21.0001 18V10Z",fill:"currentColor"})]}));oH.displayName="HeadingOneIcon";const sH=M.memo(({className:t,...e})=>T.jsxs("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[T.jsx("path",{d:"M5 6C5 5.44772 4.55228 5 4 5C3.44772 5 3 5.44772 3 6V18C3 18.5523 3.44772 19 4 19C4.55228 19 5 18.5523 5 18V13H11V18C11 18.5523 11.4477 19 12 19C12.5523 19 13 18.5523 13 18V6C13 5.44772 12.5523 5 12 5C11.4477 5 11 5.44772 11 6V11H5V6Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.7071 9.29289C21.0976 9.68342 21.0976 10.3166 20.7071 10.7071C19.8392 11.575 19.2179 12.2949 18.7889 13.0073C18.8587 13.0025 18.929 13 19 13C20.6569 13 22 14.3431 22 16C22 17.6569 20.6569 19 19 19C17.3431 19 16 17.6569 16 16C16 14.6007 16.2837 13.4368 16.8676 12.3419C17.4384 11.2717 18.2728 10.3129 19.2929 9.29289C19.6834 8.90237 20.3166 8.90237 20.7071 9.29289ZM19 17C18.4477 17 18 16.5523 18 16C18 15.4477 18.4477 15 19 15C19.5523 15 20 15.4477 20 16C20 16.5523 19.5523 17 19 17Z",fill:"currentColor"})]}));sH.displayName="HeadingSixIcon";const Ww=M.memo(({className:t,...e})=>T.jsxs("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[T.jsx("path",{d:"M4 5C4.55228 5 5 5.44772 5 6V11H11V6C11 5.44772 11.4477 5 12 5C12.5523 5 13 5.44772 13 6V18C13 18.5523 12.5523 19 12 19C11.4477 19 11 18.5523 11 18V13H5V18C5 18.5523 4.55228 19 4 19C3.44772 19 3 18.5523 3 18V6C3 5.44772 3.44772 5 4 5Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.4608 11.2169C19.1135 11.0531 18.5876 11.0204 18.0069 11.3619C17.5309 11.642 16.918 11.4831 16.638 11.007C16.358 10.531 16.5169 9.91809 16.9929 9.63807C18.1123 8.97962 19.3364 8.94691 20.314 9.40808C21.2839 9.86558 21.9999 10.818 21.9999 12C21.9999 12.7957 21.6838 13.5587 21.1212 14.1213C20.5586 14.6839 19.7956 15 18.9999 15C18.4476 15 17.9999 14.5523 17.9999 14C17.9999 13.4477 18.4476 13 18.9999 13C19.2651 13 19.5195 12.8947 19.707 12.7071C19.8946 12.5196 19.9999 12.2652 19.9999 12C19.9999 11.6821 19.8159 11.3844 19.4608 11.2169Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.0001 14C18.0001 13.4477 18.4478 13 19.0001 13C19.7957 13 20.5588 13.3161 21.1214 13.8787C21.684 14.4413 22.0001 15.2043 22.0001 16C22.0001 17.2853 21.2767 18.3971 20.1604 18.8994C19.0257 19.41 17.642 19.2315 16.4001 18.3C15.9582 17.9686 15.8687 17.3418 16.2001 16.9C16.5314 16.4582 17.1582 16.3686 17.6001 16.7C18.3581 17.2685 18.9744 17.24 19.3397 17.0756C19.7234 16.9029 20.0001 16.5147 20.0001 16C20.0001 15.7348 19.8947 15.4804 19.7072 15.2929C19.5196 15.1054 19.2653 15 19.0001 15C18.4478 15 18.0001 14.5523 18.0001 14Z",fill:"currentColor"})]}));Ww.displayName="HeadingThreeIcon";const Jw=M.memo(({className:t,...e})=>T.jsxs("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[T.jsx("path",{d:"M5 6C5 5.44772 4.55228 5 4 5C3.44772 5 3 5.44772 3 6V18C3 18.5523 3.44772 19 4 19C4.55228 19 5 18.5523 5 18V13H11V18C11 18.5523 11.4477 19 12 19C12.5523 19 13 18.5523 13 18V6C13 5.44772 12.5523 5 12 5C11.4477 5 11 5.44772 11 6V11H5V6Z",fill:"currentColor"}),T.jsx("path",{d:"M22.0001 12C22.0001 10.7611 21.1663 9.79297 20.0663 9.42632C18.9547 9.05578 17.6171 9.28724 16.4001 10.2C15.9582 10.5314 15.8687 11.1582 16.2001 11.6C16.5314 12.0418 17.1582 12.1314 17.6001 11.8C18.383 11.2128 19.0455 11.1942 19.4338 11.3237C19.8339 11.457 20.0001 11.7389 20.0001 12C20.0001 12.4839 19.8554 12.7379 19.6537 12.9481C19.4275 13.1837 19.1378 13.363 18.7055 13.6307C18.6313 13.6767 18.553 13.7252 18.4701 13.777C17.9572 14.0975 17.3128 14.5261 16.8163 15.2087C16.3007 15.9177 16.0001 16.8183 16.0001 18C16.0001 18.5523 16.4478 19 17.0001 19H21.0001C21.5523 19 22.0001 18.5523 22.0001 18C22.0001 17.4477 21.5523 17 21.0001 17H18.131C18.21 16.742 18.3176 16.5448 18.4338 16.385C18.6873 16.0364 19.0429 15.7775 19.5301 15.473C19.5898 15.4357 19.6536 15.3966 19.7205 15.3556C20.139 15.0992 20.6783 14.7687 21.0964 14.3332C21.6447 13.7621 22.0001 13.0161 22.0001 12Z",fill:"currentColor"})]}));Jw.displayName="HeadingTwoIcon";const lH=M.memo(({className:t,...e})=>T.jsx("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.7072 4.70711C15.0977 4.31658 15.0977 3.68342 14.7072 3.29289C14.3167 2.90237 13.6835 2.90237 13.293 3.29289L8.69294 7.89286L8.68594 7.9C8.13626 8.46079 7.82837 9.21474 7.82837 10C7.82837 10.2306 7.85491 10.4584 7.90631 10.6795L2.29289 16.2929C2.10536 16.4804 2 16.7348 2 17V20C2 20.5523 2.44772 21 3 21H12C12.2652 21 12.5196 20.8946 12.7071 20.7071L15.3205 18.0937C15.5416 18.1452 15.7695 18.1717 16.0001 18.1717C16.7853 18.1717 17.5393 17.8639 18.1001 17.3142L22.7072 12.7071C23.0977 12.3166 23.0977 11.6834 22.7072 11.2929C22.3167 10.9024 21.6835 10.9024 21.293 11.2929L16.6971 15.8887C16.5105 16.0702 16.2605 16.1717 16.0001 16.1717C15.7397 16.1717 15.4897 16.0702 15.303 15.8887L10.1113 10.697C9.92992 10.5104 9.82837 10.2604 9.82837 10C9.82837 9.73963 9.92992 9.48958 10.1113 9.30297L14.7072 4.70711ZM13.5858 17L9.00004 12.4142L4 17.4142V19H11.5858L13.5858 17Z",fill:"currentColor"})}));lH.displayName="HighlighterIcon";const Qw=M.memo(({className:t,...e})=>T.jsx("svg",{width:"17",height:"16",className:t,viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:T.jsx("path",{d:"M13.8333 1.33317C13.8333 0.964984 13.5348 0.666504 13.1666 0.666504C12.7984 0.666504 12.4999 0.964984 12.4999 1.33317V2.6665H11.1666C10.7984 2.6665 10.4999 2.96498 10.4999 3.33317C10.4999 3.70136 10.7984 3.99984 11.1666 3.99984H12.4999V5.33317C12.4999 5.70136 12.7984 5.99984 13.1666 5.99984C13.5348 5.99984 13.8333 5.70136 13.8333 5.33317V3.99984H15.1666C15.5348 3.99984 15.8333 3.70136 15.8333 3.33317C15.8333 2.96498 15.5348 2.6665 15.1666 2.6665H13.8333V1.33317ZM3.83325 2.6665C3.65644 2.6665 3.48687 2.73674 3.36185 2.86176C3.23683 2.98679 3.16659 3.15636 3.16659 3.33317V12.6665C3.16659 12.8433 3.23683 13.0129 3.36185 13.1379C3.48687 13.2629 3.65644 13.3332 3.83325 13.3332H4.22378L10.0859 7.47104C10.461 7.0961 10.9696 6.88544 11.4999 6.88544C12.0303 6.88544 12.5389 7.0961 12.9139 7.47104L13.8333 8.39037V7.99984C13.8333 7.63164 14.1317 7.33317 14.4999 7.33317C14.8681 7.33317 15.1666 7.63164 15.1666 7.99984V9.9985V10.0012V12.6665C15.1666 13.197 14.9559 13.7056 14.5808 14.0807C14.2057 14.4558 13.6971 14.6665 13.1666 14.6665H4.50138H4.49846H3.83325C3.30282 14.6665 2.79411 14.4558 2.41904 14.0807C2.04397 13.7056 1.83325 13.197 1.83325 12.6665V3.33317C1.83325 2.80274 2.04397 2.29403 2.41904 1.91896C2.79411 1.54388 3.30282 1.33317 3.83325 1.33317H8.49992C8.86812 1.33317 9.16659 1.63165 9.16659 1.99984C9.16659 2.36802 8.86812 2.6665 8.49992 2.6665H3.83325ZM6.1094 13.3332H13.1666C13.3434 13.3332 13.513 13.2629 13.638 13.1379C13.763 13.0129 13.8333 12.8433 13.8333 12.6665V10.276L11.9713 8.41397C11.8463 8.28904 11.6767 8.21877 11.4999 8.21877C11.3232 8.21877 11.1537 8.28897 11.0287 8.4139L6.1094 13.3332ZM5.08571 4.58562C5.46078 4.21055 5.96949 3.99984 6.49992 3.99984C7.03035 3.99984 7.53905 4.21055 7.91412 4.58562C8.28919 4.9607 8.49992 5.4694 8.49992 5.99984C8.49992 6.53027 8.28919 7.03897 7.91412 7.41404C7.53905 7.7891 7.03035 7.99984 6.49992 7.99984C5.96949 7.99984 5.46078 7.7891 5.08571 7.41404C4.71063 7.03897 4.49992 6.53027 4.49992 5.99984C4.49992 5.4694 4.71063 4.9607 5.08571 4.58562ZM6.49992 5.33317C6.32311 5.33317 6.15354 5.40341 6.02851 5.52843C5.90349 5.65346 5.83325 5.82302 5.83325 5.99984C5.83325 6.17665 5.90349 6.34622 6.02851 6.47124C6.15354 6.59626 6.32311 6.6665 6.49992 6.6665C6.67673 6.6665 6.8463 6.59626 6.97133 6.47124C7.09635 6.34622 7.16659 6.17665 7.16659 5.99984C7.16659 5.82302 7.09635 5.65346 6.97133 5.52843C6.8463 5.40341 6.67673 5.33317 6.49992 5.33317Z",fill:"currentColor"})}));Qw.displayName="ImageIcon";const ex=M.memo(({className:t,...e})=>T.jsx("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:T.jsx("path",{d:"M15.0222 3H19C19.5523 3 20 3.44772 20 4C20 4.55228 19.5523 5 19 5H15.693L10.443 19H14C14.5523 19 15 19.4477 15 20C15 20.5523 14.5523 21 14 21H9.02418C9.00802 21.0004 8.99181 21.0004 8.97557 21H5C4.44772 21 4 20.5523 4 20C4 19.4477 4.44772 19 5 19H8.30704L13.557 5H10C9.44772 5 9 4.55228 9 4C9 3.44772 9.44772 3 10 3H14.9782C14.9928 2.99968 15.0075 2.99967 15.0222 3Z",fill:"currentColor"})}));ex.displayName="ItalicIcon";const tx=M.memo(({className:t,...e})=>T.jsxs("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[T.jsx("path",{d:"M16.9958 1.06669C15.4226 1.05302 13.907 1.65779 12.7753 2.75074L12.765 2.76086L11.045 4.47086C10.6534 4.86024 10.6515 5.49341 11.0409 5.88507C11.4303 6.27673 12.0634 6.27858 12.4551 5.88919L14.1697 4.18456C14.9236 3.45893 15.9319 3.05752 16.9784 3.06662C18.0272 3.07573 19.0304 3.49641 19.772 4.23804C20.5137 4.97967 20.9344 5.98292 20.9435 7.03171C20.9526 8.07776 20.5515 9.08563 19.8265 9.83941L16.833 12.8329C16.4274 13.2386 15.9393 13.5524 15.4019 13.7529C14.8645 13.9533 14.2903 14.0359 13.7181 13.9949C13.146 13.9539 12.5894 13.7904 12.0861 13.5154C11.5827 13.2404 11.1444 12.8604 10.8008 12.401C10.47 11.9588 9.84333 11.8685 9.40108 12.1993C8.95883 12.5301 8.86849 13.1568 9.1993 13.599C9.71464 14.288 10.3721 14.858 11.1272 15.2705C11.8822 15.683 12.7171 15.9283 13.5753 15.9898C14.4334 16.0513 15.2948 15.9274 16.1009 15.6267C16.907 15.326 17.639 14.8555 18.2473 14.247L21.2472 11.2471L21.2593 11.2347C22.3523 10.1031 22.9571 8.58751 22.9434 7.01433C22.9297 5.44115 22.2987 3.93628 21.1863 2.82383C20.0738 1.71138 18.5689 1.08036 16.9958 1.06669Z",fill:"currentColor"}),T.jsx("path",{d:"M10.4247 8.0102C9.56657 7.94874 8.70522 8.07256 7.89911 8.37326C7.09305 8.67395 6.36096 9.14458 5.75272 9.753L2.75285 12.7529L2.74067 12.7653C1.64772 13.8969 1.04295 15.4125 1.05662 16.9857C1.07029 18.5589 1.70131 20.0637 2.81376 21.1762C3.9262 22.2886 5.43108 22.9196 7.00426 22.9333C8.57744 22.947 10.0931 22.3422 11.2247 21.2493L11.2371 21.2371L12.9471 19.5271C13.3376 19.1366 13.3376 18.5034 12.9471 18.1129C12.5565 17.7223 11.9234 17.7223 11.5328 18.1129L9.82932 19.8164C9.07555 20.5414 8.06768 20.9425 7.02164 20.9334C5.97285 20.9243 4.9696 20.5036 4.22797 19.762C3.48634 19.0203 3.06566 18.0171 3.05655 16.9683C3.04746 15.9222 3.44851 14.9144 4.17355 14.1606L7.16719 11.167C7.5727 10.7613 8.06071 10.4476 8.59811 10.2471C9.13552 10.0467 9.70976 9.96412 10.2819 10.0051C10.854 10.0461 11.4106 10.2096 11.9139 10.4846C12.4173 10.7596 12.8556 11.1397 13.1992 11.599C13.53 12.0412 14.1567 12.1316 14.5989 11.8007C15.0412 11.4699 15.1315 10.8433 14.8007 10.401C14.2854 9.71205 13.6279 9.14198 12.8729 8.72948C12.1178 8.31697 11.2829 8.07166 10.4247 8.0102Z",fill:"currentColor"})]}));tx.displayName="LinkIcon";const F2=M.memo(({className:t,...e})=>T.jsxs("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 6C7 5.44772 7.44772 5 8 5H21C21.5523 5 22 5.44772 22 6C22 6.55228 21.5523 7 21 7H8C7.44772 7 7 6.55228 7 6Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 12C7 11.4477 7.44772 11 8 11H21C21.5523 11 22 11.4477 22 12C22 12.5523 21.5523 13 21 13H8C7.44772 13 7 12.5523 7 12Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 18C7 17.4477 7.44772 17 8 17H21C21.5523 17 22 17.4477 22 18C22 18.5523 21.5523 19 21 19H8C7.44772 19 7 18.5523 7 18Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 6C2 5.44772 2.44772 5 3 5H3.01C3.56228 5 4.01 5.44772 4.01 6C4.01 6.55228 3.56228 7 3.01 7H3C2.44772 7 2 6.55228 2 6Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 12C2 11.4477 2.44772 11 3 11H3.01C3.56228 11 4.01 11.4477 4.01 12C4.01 12.5523 3.56228 13 3.01 13H3C2.44772 13 2 12.5523 2 12Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 18C2 17.4477 2.44772 17 3 17H3.01C3.56228 17 4.01 17.4477 4.01 18C4.01 18.5523 3.56228 19 3.01 19H3C2.44772 19 2 18.5523 2 18Z",fill:"currentColor"})]}));F2.displayName="ListIcon";const nx=M.memo(({className:t,...e})=>T.jsxs("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 6C9 5.44772 9.44772 5 10 5H21C21.5523 5 22 5.44772 22 6C22 6.55228 21.5523 7 21 7H10C9.44772 7 9 6.55228 9 6Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 12C9 11.4477 9.44772 11 10 11H21C21.5523 11 22 11.4477 22 12C22 12.5523 21.5523 13 21 13H10C9.44772 13 9 12.5523 9 12Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 18C9 17.4477 9.44772 17 10 17H21C21.5523 17 22 17.4477 22 18C22 18.5523 21.5523 19 21 19H10C9.44772 19 9 18.5523 9 18Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 6C3 5.44772 3.44772 5 4 5H5C5.55228 5 6 5.44772 6 6V10C6 10.5523 5.55228 11 5 11C4.44772 11 4 10.5523 4 10V7C3.44772 7 3 6.55228 3 6Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 10C3 9.44772 3.44772 9 4 9H6C6.55228 9 7 9.44772 7 10C7 10.5523 6.55228 11 6 11H4C3.44772 11 3 10.5523 3 10Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.82219 13.0431C6.54543 13.4047 6.99997 14.1319 6.99997 15C6.99997 15.5763 6.71806 16.0426 6.48747 16.35C6.31395 16.5814 6.1052 16.8044 5.91309 17H5.99997C6.55226 17 6.99997 17.4477 6.99997 18C6.99997 18.5523 6.55226 19 5.99997 19H3.99997C3.44769 19 2.99997 18.5523 2.99997 18C2.99997 17.4237 3.28189 16.9575 3.51247 16.65C3.74323 16.3424 4.03626 16.0494 4.26965 15.8161C4.27745 15.8083 4.2852 15.8006 4.29287 15.7929C4.55594 15.5298 4.75095 15.3321 4.88748 15.15C4.96287 15.0495 4.99021 14.9922 4.99911 14.9714C4.99535 14.9112 4.9803 14.882 4.9739 14.8715C4.96613 14.8588 4.95382 14.845 4.92776 14.8319C4.87723 14.8067 4.71156 14.7623 4.44719 14.8944C3.95321 15.1414 3.35254 14.9412 3.10555 14.4472C2.85856 13.9533 3.05878 13.3526 3.55276 13.1056C4.28839 12.7378 5.12272 12.6934 5.82219 13.0431Z",fill:"currentColor"})]}));nx.displayName="ListOrderedIcon";const aH=M.memo(({className:t,...e})=>T.jsxs("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2C12.5523 2 13 2.44772 13 3V6C13 6.55228 12.5523 7 12 7C11.4477 7 11 6.55228 11 6V3C11 2.44772 11.4477 2 12 2Z",fill:"currentColor",opacity:"0.2"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.9497 4.22183C17.3402 4.61236 17.3402 5.24552 16.9497 5.63604L14.8284 7.75736C14.4379 8.14789 13.8047 8.14789 13.4142 7.75736C13.0237 7.36684 13.0237 6.73367 13.4142 6.34315L15.5355 4.22183C15.926 3.8313 16.5592 3.8313 16.9497 4.22183Z",fill:"currentColor",opacity:"0.3"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22 12C22 12.5523 21.5523 13 21 13H18C17.4477 13 17 12.5523 17 12C17 11.4477 17.4477 11 18 11H21C21.5523 11 22 11.4477 22 12Z",fill:"currentColor",opacity:"0.4"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.7782 16.9497C20.1687 16.5592 20.1687 15.926 19.7782 15.5355L17.6569 13.4142C17.2663 13.0237 16.6332 13.0237 16.2426 13.4142C15.8521 13.8047 15.8521 14.4379 16.2426 14.8284L18.364 16.9497C18.7545 17.3402 19.3876 17.3402 19.7782 16.9497Z",fill:"currentColor",opacity:"0.5"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 17C12.5523 17 13 17.4477 13 18V21C13 21.5523 12.5523 22 12 22C11.4477 22 11 21.5523 11 21V18C11 17.4477 11.4477 17 12 17Z",fill:"currentColor",opacity:"0.6"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.05025 19.7782C7.44078 20.1687 7.44078 20.8019 7.05025 21.1924C6.65973 21.5829 6.02656 21.5829 5.63604 21.1924L3.51472 19.0711C3.12419 18.6805 3.12419 18.0474 3.51472 17.6569C3.90524 17.2663 4.53841 17.2663 4.92893 17.6569L7.05025 19.7782Z",fill:"currentColor",opacity:"0.7"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 12C7 12.5523 6.55228 13 6 13H3C2.44772 13 2 12.5523 2 12C2 11.4477 2.44772 11 3 11H6C6.55228 11 7 11.4477 7 12Z",fill:"currentColor",opacity:"0.8"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.22183 7.05025C4.61236 7.44078 5.24552 7.44078 5.63604 7.05025L7.75736 4.92893C8.14789 4.53841 8.14789 3.90524 7.75736 3.51472C7.36684 3.12419 6.73367 3.12419 6.34315 3.51472L4.22183 5.63604C3.8313 6.02656 3.8313 6.65973 4.22183 7.05025Z",fill:"currentColor",opacity:"0.9"})]}));aH.displayName="LoaderIcon";const cH=M.memo(({className:t,...e})=>T.jsxs("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2C10.0222 2 8.08879 2.58649 6.4443 3.6853C4.79981 4.78412 3.51809 6.3459 2.76121 8.17317C2.00433 10.0004 1.8063 12.0111 2.19215 13.9509C2.578 15.8907 3.53041 17.6725 4.92894 19.0711C6.32746 20.4696 8.10929 21.422 10.0491 21.8079C11.9889 22.1937 13.9996 21.9957 15.8268 21.2388C17.6541 20.4819 19.2159 19.2002 20.3147 17.5557C21.4135 15.9112 22 13.9778 22 12C22 11.5955 21.7564 11.2309 21.3827 11.0761C21.009 10.9213 20.5789 11.0069 20.2929 11.2929C19.287 12.2988 17.9226 12.864 16.5 12.864C15.0774 12.864 13.713 12.2988 12.7071 11.2929C11.7012 10.287 11.136 8.92261 11.136 7.5C11.136 6.07739 11.7012 4.71304 12.7071 3.70711C12.9931 3.42111 13.0787 2.99099 12.9239 2.61732C12.7691 2.24364 12.4045 2 12 2ZM7.55544 5.34824C8.27036 4.87055 9.05353 4.51389 9.87357 4.28778C9.39271 5.27979 9.13604 6.37666 9.13604 7.5C9.13604 9.45304 9.91189 11.3261 11.2929 12.7071C12.6739 14.0881 14.547 14.864 16.5 14.864C17.6233 14.864 18.7202 14.6073 19.7122 14.1264C19.4861 14.9465 19.1295 15.7296 18.6518 16.4446C17.7727 17.7602 16.5233 18.7855 15.0615 19.391C13.5997 19.9965 11.9911 20.155 10.4393 19.8463C8.88743 19.5376 7.46197 18.7757 6.34315 17.6569C5.22433 16.538 4.4624 15.1126 4.15372 13.5607C3.84504 12.0089 4.00347 10.4003 4.60897 8.93853C5.21447 7.47672 6.23985 6.22729 7.55544 5.34824Z",fill:"currentColor"}),T.jsx("path",{d:"M19 2C19.5523 2 20 2.44772 20 3V4H21C21.5523 4 22 4.44772 22 5C22 5.55228 21.5523 6 21 6H20V7C20 7.55228 19.5523 8 19 8C18.4477 8 18 7.55228 18 7V6H17C16.4477 6 16 5.55228 16 5C16 4.44772 16.4477 4 17 4H18V3C18 2.44772 18.4477 2 19 2Z",fill:"currentColor"})]}));cH.displayName="MoonStarIcon";const ix=M.memo(({className:t,...e})=>T.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,...e,children:T.jsx("path",{d:"M12.6667 2C13.0203 2 13.3594 2.14048 13.6095 2.39052C13.8595 2.64057 14 2.97971 14 3.33333V12.6667C14 13.4067 13.4 14 12.6667 14H3.33333C2.97971 14 2.64057 13.8595 2.39052 13.6095C2.14048 13.3594 2 13.0203 2 12.6667V3.33333C2 2.97971 2.14048 2.64057 2.39052 2.39052C2.64057 2.14048 2.97971 2 3.33333 2H12.6667ZM11.1333 6.23333C11.28 6.09333 11.28 5.86 11.1333 5.72L10.28 4.86667C10.14 4.72 9.90667 4.72 9.76667 4.86667L9.1 5.53333L10.4667 6.9L11.1333 6.23333ZM4.66667 9.96V11.3333H6.04L10.08 7.29333L8.70667 5.92L4.66667 9.96Z",fill:"currentColor"})}));ix.displayName="PencilBoxIcon";const rx=M.memo(({className:t,...e})=>T.jsx("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.7071 2.29289C15.3166 1.90237 14.6834 1.90237 14.2929 2.29289C13.9024 2.68342 13.9024 3.31658 14.2929 3.70711L17.5858 7H9.5C7.77609 7 6.12279 7.68482 4.90381 8.90381C3.68482 10.1228 3 11.7761 3 13.5C3 14.3536 3.16813 15.1988 3.49478 15.9874C3.82144 16.7761 4.30023 17.4926 4.90381 18.0962C6.12279 19.3152 7.77609 20 9.5 20H13C13.5523 20 14 19.5523 14 19C14 18.4477 13.5523 18 13 18H9.5C8.30653 18 7.16193 17.5259 6.31802 16.682C5.90016 16.2641 5.56869 15.768 5.34254 15.2221C5.1164 14.6761 5 14.0909 5 13.5C5 12.3065 5.47411 11.1619 6.31802 10.318C7.16193 9.47411 8.30653 9 9.5 9H17.5858L14.2929 12.2929C13.9024 12.6834 13.9024 13.3166 14.2929 13.7071C14.6834 14.0976 15.3166 14.0976 15.7071 13.7071L20.7071 8.70711C21.0976 8.31658 21.0976 7.68342 20.7071 7.29289L15.7071 2.29289Z",fill:"currentColor"})}));rx.displayName="Redo2Icon";const uH=M.memo(({className:t,...e})=>T.jsxs("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.8159 21H11.1841C10.9072 21 10.6478 20.8616 10.4969 20.6343C10.346 20.407 10.3244 20.1188 10.4394 19.8708L10.8045 19.0156C11.0696 18.4636 11.0186 17.8184 10.6683 17.3164C10.3181 16.8145 9.72183 16.5364 9.09901 16.5734C8.476 16.6104 7.91775 16.9571 7.63604 17.4938L7.36396 18.0062C7.24896 18.2542 6.98962 18.4221 6.70219 18.4518C6.41477 18.4815 6.12535 18.3695 5.94721 18.1514L4.84869 16.8486C4.67054 16.6305 4.62917 16.3367 4.73916 16.0797C4.84915 15.8227 5.09135 15.6422 5.36827 15.6062L6.24173 15.4938C6.86455 15.4071 7.40265 14.9929 7.68436 14.4062C7.96608 13.8196 7.94604 13.1304 7.63604 12.5562C7.32604 11.9821 6.76392 11.6105 6.14099 11.5734C5.518 11.5364 4.91871 11.8428 4.63604 12.3438L4.30396 12.9062C4.18896 13.1542 3.92962 13.3221 3.64219 13.3518C3.35477 13.3815 3.06535 13.2695 2.88721 13.0514L1.94869 11.8486C1.77054 11.6305 1.72917 11.3367 1.83916 11.0797C1.94915 10.8227 2.19135 10.6422 2.46827 10.6062L3.34173 10.4938C3.96455 10.4071 4.50265 9.99294 4.78436 9.40625C5.06608 8.81956 5.04604 8.13044 4.73604 7.55625C4.42604 6.98206 3.86392 6.61044 3.24099 6.57344C2.618 6.53644 2.01871 6.84279 1.73604 7.34375L1.46396 7.85625C1.34896 8.10425 1.08962 8.27213 0.802186 8.30181C0.514754 8.33148 0.225332 8.21948 0.0471854 8.00135L-0.85134 6.69865C-1.02949 6.48052 -1.07086 6.18669 -1.03916 5.92972C-1.00747 5.67274 -0.826704 5.49213 -0.549206 5.45622L0.324236 5.34375C0.947054 5.257 1.48516 4.84283 1.76687 4.25614C2.04858 3.66945 2.02854 2.98033 1.71854 2.40614C1.40854 1.83195 0.846424 1.46033 0.223493 1.42333C-0.399496 1.38633 -0.998788 1.69268 -1.28146 2.19364L-1.5533 2.70614C-1.6683 2.95414 -1.92764 3.122 -2.21507 3.15168C-2.5025 3.18135 -2.79192 3.06935 -2.97006 2.85122L-3.86858 1.54849C-4.04673 1.33036 -4.0881 1.03653 -4.0564 0.779558C-4.02471 0.522582 -3.84931 0.341969 -3.57182 0.305993L-2.69838 0.193524C-2.07556 0.106778 -1.53746 -0.307387 -1.25574 -0.894082C-0.974032 -1.48078 -0.994072 -2.1699 -1.30407 -2.74408C-1.61407 -3.31827 -2.17619 -3.68989 -2.79912 -3.72689C-3.42211 -3.76389 -4.0214 -3.45754 -4.30407 -2.95658L-4.57595 -2.44408C-4.69095 -2.19608 -4.95029 -2.0282 -5.23772 -1.99852C-5.52515 -1.96885 -5.81457 -2.08085 -5.99272 -2.29898L-6.89124 -3.60171C-7.06939 -3.81984 -7.11076 -4.11366 -7.07906 -4.37064C-7.04737 -4.62762 -6.87197 -4.80823 -6.59448 -4.84421L-5.72104 -4.95668C-5.09822 -5.04343 -4.56012 -5.4576 -4.2784 -6.04429C-3.99669 -6.63098 -4.01673 -7.3201 -4.32673 -7.89429C-4.63673 -8.46848 -5.19885 -8.8401 -5.82178 -8.8771C-6.44477 -8.9141 -7.04406 -8.60775 -7.32673 -8.10679L-7.59861 -7.59429C-7.71361 -7.34629 -7.97295 -7.17841 -8.26038 -7.14873C-8.54781 -7.11906 -8.83723 -7.23106 -9.01538 -7.44919L-9.9139 -8.75192C-10.091 -8.97005 -10.1324 -9.26388 -10.1007 -9.52085C-10.069 -9.77783 -9.89363 -9.95844 -9.61614 -9.99442L-8.7427 -10.1069C-8.11988 -10.1936 -7.58178 -10.6078 -7.30006 -11.1945C-7.01835 -11.7812 -7.03839 -12.4703 -7.34839 -13.0445C-7.65839 -13.6187 -8.22051 -13.9903 -8.84344 -14.0273C-9.46643 -14.0643 -10.0657 -13.758 -10.3484 -13.2571L-10.6203 -12.7446C-10.7353 -12.4966 -10.9946 -12.3287 -11.282 -12.299C-11.5695 -12.2693 -11.8589 -12.3813 -12.037 -12.5995L-12.9356 -13.9022C-13.1137 -14.1203 -13.1551 -14.4142 -13.1234 -14.6711C-13.0917 -14.9281 -12.9163 -15.1087 -12.6388 -15.1447L-11.7654 -15.2572C-11.1425 -15.3439 -10.6044 -15.7581 -10.3227 -16.3448C-10.041 -16.9315 -10.061 -17.6206 -10.371 -18.1948C-10.681 -18.769 -11.2432 -19.1406 -11.8661 -19.1776C-12.4891 -19.2146 -13.0884 -18.9083 -13.371 -18.4073L-13.6429 -17.8948C-13.7579 -17.6468 -14.0173 -17.4789 -14.3047 -17.4492C-14.5921 -17.4195 -14.8815 -17.5315 -15.0597 -17.7497L-15.9582 -19.0524C-16.1363 -19.2705 -16.1777 -19.5644 -16.146 -19.8213C-16.1143 -20.0783 -15.9389 -20.2589 -15.6614 -20.2949L-14.788 -20.4074C-14.1651 -20.4941 -13.627 -20.9083 -13.3453 -21.495C-13.0636 -22.0817 -13.0836 -22.7708 -13.3936 -23.345C-13.7036 -23.9192 -14.2657 -24.2908 -14.8887 -24.3278C-15.5117 -24.3648 -16.111 -24.0585 -16.3936 -23.5575L-16.6655 -23.045C-16.7805 -22.797 -17.0398 -22.6291 -17.3273 -22.5994C-17.6147 -22.5697 -17.9041 -22.6817 -18.0823 -22.8999L-18.9808 -24.2026C-19.1589 -24.4207 -19.2003 -24.7145 -19.1686 -24.9715C-19.1369 -25.2285 -18.9615 -25.4091 -18.684 -25.4451L-17.8106 -25.5576C-17.1877 -25.6443 -16.6496 -26.0585 -16.3679 -26.6452C-16.0862 -27.2319 -16.1062 -27.921 -16.4162 -28.4952C-16.7262 -29.0694 -17.2883 -29.441 -17.9113 -29.478C-18.5343 -29.515 -19.1336 -29.2087 -19.4162 -28.7077L-19.6881 -28.1952C-19.8031 -27.9472 -20.0624 -27.7793 -20.3499 -27.7496C-20.6373 -27.7199 -20.9267 -27.8319 -21.1049 -28.0501L-22.0034 -29.3528C-22.1815 -29.5709 -22.2229 -29.8647 -22.1912 -30.1217C-22.1595 -30.3787 -21.9841 -30.5593 -21.7066 -30.5953L-20.8332 -30.7078Z",fill:"currentColor"}),T.jsx("circle",{cx:"12",cy:"12",r:"3",fill:"currentColor"})]}));uH.displayName="SettingsIcon";const ox=M.memo(({className:t,...e})=>T.jsx("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:T.jsx("path",{d:"M9 7V17H15V15H11V7H9Z",fill:"currentColor"})}));ox.displayName="SizeLIcon";const sx=M.memo(({className:t,...e})=>T.jsx("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:T.jsx("path",{d:"M9 7C7.9 7 7 7.9 7 9V17H9V9H11V16H13V9H15V17H17V9C17 7.9 16.11 7 15 7H9Z",fill:"currentColor"})}));sx.displayName="SizeMIcon";const lx=M.memo(({className:t,...e})=>T.jsx("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:T.jsx("path",{d:"M11 7C9.9 7 9 7.9 9 9V11C9 12.11 9.9 13 11 13H13V15H9V17H13C14.11 17 15 16.11 15 15V13C15 11.9 14.11 11 13 11H11V9H15V7H11Z",fill:"currentColor"})}));lx.displayName="SizeSIcon";const ax=M.memo(({className:t,...e})=>T.jsxs("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[T.jsx("path",{d:"M9.00039 3H16.0001C16.5524 3 17.0001 3.44772 17.0001 4C17.0001 4.55229 16.5524 5 16.0001 5H9.00011C8.68006 4.99983 8.36412 5.07648 8.07983 5.22349C7.79555 5.37051 7.55069 5.5836 7.36585 5.84487C7.181 6.10614 7.06155 6.40796 7.01754 6.72497C6.97352 7.04198 7.00623 7.36492 7.11292 7.66667C7.29701 8.18737 7.02414 8.75872 6.50344 8.94281C5.98274 9.1269 5.4114 8.85403 5.2273 8.33333C5.01393 7.72984 4.94851 7.08396 5.03654 6.44994C5.12456 5.81592 5.36346 5.21229 5.73316 4.68974C6.10285 4.1672 6.59256 3.74101 7.16113 3.44698C7.72955 3.15303 8.36047 2.99975 9.00039 3Z",fill:"currentColor"}),T.jsx("path",{d:"M18 13H20C20.5523 13 21 12.5523 21 12C21 11.4477 20.5523 11 20 11H4C3.44772 11 3 11.4477 3 12C3 12.5523 3.44772 13 4 13H14C14.7956 13 15.5587 13.3161 16.1213 13.8787C16.6839 14.4413 17 15.2044 17 16C17 16.7956 16.6839 17.5587 16.1213 18.1213C15.5587 18.6839 14.7956 19 14 19H6C5.44772 19 5 19.4477 5 20C5 20.5523 5.44772 21 6 21H14C15.3261 21 16.5979 20.4732 17.5355 19.5355C18.4732 18.5979 19 17.3261 19 16C19 14.9119 18.6453 13.8604 18 13Z",fill:"currentColor"})]}));ax.displayName="StrikeIcon";const cx=M.memo(({className:t,...e})=>T.jsxs("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.29289 7.29289C3.68342 6.90237 4.31658 6.90237 4.70711 7.29289L12.7071 15.2929C13.0976 15.6834 13.0976 16.3166 12.7071 16.7071C12.3166 17.0976 11.6834 17.0976 11.2929 16.7071L3.29289 8.70711C2.90237 8.31658 2.90237 7.68342 3.29289 7.29289Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.7071 7.29289C13.0976 7.68342 13.0976 8.31658 12.7071 8.70711L4.70711 16.7071C4.31658 17.0976 3.68342 17.0976 3.29289 16.7071C2.90237 16.3166 2.90237 15.6834 3.29289 15.2929L11.2929 7.29289C11.6834 6.90237 12.3166 6.90237 12.7071 7.29289Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.4079 14.3995C18.0284 14.0487 18.7506 13.9217 19.4536 14.0397C20.1566 14.1578 20.7977 14.5138 21.2696 15.0481L21.2779 15.0574L21.2778 15.0575C21.7439 15.5988 22 16.2903 22 17C22 18.0823 21.3962 18.8401 20.7744 19.3404C20.194 19.8073 19.4858 20.141 18.9828 20.378C18.9638 20.387 18.9451 20.3958 18.9266 20.4045C18.4473 20.6306 18.2804 20.7817 18.1922 20.918C18.1773 20.9412 18.1619 20.9681 18.1467 21H21C21.5523 21 22 21.4477 22 22C22 22.5523 21.5523 23 21 23H17C16.4477 23 16 22.5523 16 22C16 21.1708 16.1176 20.4431 16.5128 19.832C16.9096 19.2184 17.4928 18.8695 18.0734 18.5956C18.6279 18.334 19.138 18.0901 19.5207 17.7821C19.8838 17.49 20 17.2477 20 17C20 16.7718 19.9176 16.5452 19.7663 16.3672C19.5983 16.1792 19.3712 16.0539 19.1224 16.0121C18.8722 15.9701 18.6152 16.015 18.3942 16.1394C18.1794 16.2628 18.0205 16.4549 17.9422 16.675C17.7572 17.1954 17.1854 17.4673 16.665 17.2822C16.1446 17.0972 15.8728 16.5254 16.0578 16.005C16.2993 15.3259 16.7797 14.7584 17.4039 14.4018L17.4079 14.3995L17.4079 14.3995Z",fill:"currentColor"})]}));cx.displayName="SubscriptIcon";const fH=M.memo(({className:t,...e})=>T.jsxs("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[T.jsx("path",{d:"M12 1C12.5523 1 13 1.44772 13 2V4C13 4.55228 12.5523 5 12 5C11.4477 5 11 4.55228 11 4V2C11 1.44772 11.4477 1 12 1Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 12C7 9.23858 9.23858 7 12 7C14.7614 7 17 9.23858 17 12C17 14.7614 14.7614 17 12 17C9.23858 17 7 14.7614 7 12ZM12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9Z",fill:"currentColor"}),T.jsx("path",{d:"M13 20C13 19.4477 12.5523 19 12 19C11.4477 19 11 19.4477 11 20V22C11 22.5523 11.4477 23 12 23C12.5523 23 13 22.5523 13 22V20Z",fill:"currentColor"}),T.jsx("path",{d:"M4.22282 4.22289C4.61335 3.83236 5.24651 3.83236 5.63704 4.22289L7.04704 5.63289C7.43756 6.02341 7.43756 6.65658 7.04704 7.0471C6.65651 7.43762 6.02335 7.43762 5.63283 7.0471L4.22282 5.6371C3.8323 5.24658 3.8323 4.61341 4.22282 4.22289Z",fill:"currentColor"}),T.jsx("path",{d:"M18.367 16.9529C17.9765 16.5623 17.3433 16.5623 16.9528 16.9529C16.5623 17.3434 16.5623 17.9766 16.9528 18.3671L18.3628 19.7771C18.7533 20.1676 19.3865 20.1676 19.777 19.7771C20.1675 19.3866 20.1675 18.7534 19.777 18.3629L18.367 16.9529Z",fill:"currentColor"}),T.jsx("path",{d:"M1 12C1 11.4477 1.44772 11 2 11H4C4.55228 11 5 11.4477 5 12C5 12.5523 4.55228 13 4 13H2C1.44772 13 1 12.5523 1 12Z",fill:"currentColor"}),T.jsx("path",{d:"M20 11C19.4477 11 19 11.4477 19 12C19 12.5523 19.4477 13 20 13H22C22.5523 13 23 12.5523 23 12C23 11.4477 22.5523 11 22 11H20Z",fill:"currentColor"}),T.jsx("path",{d:"M7.04704 16.9529C7.43756 17.3434 7.43756 17.9766 7.04704 18.3671L5.63704 19.7771C5.24651 20.1676 4.61335 20.1676 4.22282 19.7771C3.8323 19.3866 3.8323 18.7534 4.22283 18.3629L5.63283 16.9529C6.02335 16.5623 6.65651 16.5623 7.04704 16.9529Z",fill:"currentColor"}),T.jsx("path",{d:"M19.777 5.6371C20.1675 5.24657 20.1675 4.61341 19.777 4.22289C19.3865 3.83236 18.7533 3.83236 18.3628 4.22289L16.9528 5.63289C16.5623 6.02341 16.5623 6.65658 16.9528 7.0471C17.3433 7.43762 17.9765 7.43762 18.367 7.0471L19.777 5.6371Z",fill:"currentColor"})]}));fH.displayName="SunIcon";const ux=M.memo(({className:t,...e})=>T.jsxs("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.7071 7.29289C13.0976 7.68342 13.0976 8.31658 12.7071 8.70711L4.70711 16.7071C4.31658 17.0976 3.68342 17.0976 3.29289 16.7071C2.90237 16.3166 2.90237 15.6834 3.29289 15.2929L11.2929 7.29289C11.6834 6.90237 12.3166 6.90237 12.7071 7.29289Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.29289 7.29289C3.68342 6.90237 4.31658 6.90237 4.70711 7.29289L12.7071 15.2929C13.0976 15.6834 13.0976 16.3166 12.7071 16.7071C12.3166 17.0976 11.6834 17.0976 11.2929 16.7071L3.29289 8.70711C2.90237 8.31658 2.90237 7.68342 3.29289 7.29289Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.405 1.40657C18.0246 1.05456 18.7463 0.92634 19.4492 1.04344C20.1521 1.16054 20.7933 1.51583 21.2652 2.0497L21.2697 2.05469L21.2696 2.05471C21.7431 2.5975 22 3.28922 22 4.00203C22 5.08579 21.3952 5.84326 20.7727 6.34289C20.1966 6.80531 19.4941 7.13675 18.9941 7.37261C18.9714 7.38332 18.9491 7.39383 18.9273 7.40415C18.4487 7.63034 18.2814 7.78152 18.1927 7.91844C18.1778 7.94155 18.1625 7.96834 18.1473 8.00003H21C21.5523 8.00003 22 8.44774 22 9.00003C22 9.55231 21.5523 10 21 10H17C16.4477 10 16 9.55231 16 9.00003C16 8.17007 16.1183 7.44255 16.5138 6.83161C16.9107 6.21854 17.4934 5.86971 18.0728 5.59591C18.6281 5.33347 19.1376 5.09075 19.5208 4.78316C19.8838 4.49179 20 4.25026 20 4.00203C20 3.77192 19.9178 3.54865 19.7646 3.37182C19.5968 3.18324 19.3696 3.05774 19.1205 3.01625C18.8705 2.97459 18.6137 3.02017 18.3933 3.14533C18.1762 3.26898 18.0191 3.45826 17.9406 3.67557C17.7531 4.19504 17.18 4.46414 16.6605 4.27662C16.141 4.0891 15.8719 3.51596 16.0594 2.99649C16.303 2.3219 16.7817 1.76125 17.4045 1.40689L17.405 1.40657Z",fill:"currentColor"})]}));ux.displayName="SuperscriptIcon";const fx=M.memo(({className:t,...e})=>T.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,...e,children:T.jsx("path",{d:"M11 2C11.5304 2 12.0391 2.21071 12.4142 2.58579C12.7893 2.96086 13 3.46957 13 4V20C13 20.5304 12.7893 21.0391 12.4142 21.4142C12.0391 21.7893 11.5304 22 11 22H2V2H11ZM4 10V14H11V10H4ZM4 16V20H11V16H4ZM4 4V8H11V4H4ZM15 11H18V8H20V11H23V13H20V16H18V13H15V11Z",fill:"currentColor"})}));fx.displayName="TableAddColumnAfter";const dx=M.memo(({className:t,...e})=>T.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,...e,children:T.jsx("path",{d:"M13 2C12.4696 2 11.9609 2.21071 11.5858 2.58579C11.2107 2.96086 11 3.46957 11 4V20C11 20.5304 11.2107 21.0391 11.5858 21.4142C11.9609 21.7893 12.4696 22 13 22H22V2H13ZM20 10V14H13V10H20ZM20 16V20H13V16H20ZM20 4V8H13V4H20ZM9 11H6V8H4V11H1V13H4V16H6V13H9V11Z",fill:"currentColor"})}));dx.displayName="TableAddColumnBefore";const hx=M.memo(({className:t,...e})=>T.jsx("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:T.jsx("path",{d:"M22 10C22 10.5304 21.7893 11.0391 21.4142 11.4142C21.0391 11.7893 20.5304 12 20 12H4C3.46957 12 2.96086 11.7893 2.58579 11.4142C2.21071 11.0391 2 10.5304 2 10V3H4V5H8V3H10V5H14V3H16V5H20V3H22V10ZM4 10H8V7H4V10ZM10 10H14V7H10V10ZM20 10V7H16V10H20ZM11 14H13V17H16V19H13V22H11V19H8V17H11V14Z",fill:"currentColor"})}));hx.displayName="TableAddRowAfter";const px=M.memo(({className:t,...e})=>T.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,...e,children:T.jsx("path",{d:"M22 14C22 13.4696 21.7893 12.9609 21.4142 12.5858C21.0391 12.2107 20.5304 12 20 12H4C3.46957 12 2.96086 12.2107 2.58579 12.5858C2.21071 12.9609 2 13.4696 2 14V21H4V19H8V21H10V19H14V21H16V19H20V21H22V14ZM4 14H8V17H4V14ZM10 14H14V17H10V14ZM20 14V17H16V14H20ZM11 10H13V7H16V5H13V2H11V5H8V7H11V10Z",fill:"currentColor"})}));px.displayName="TableAddRowBefore";const mx=M.memo(({className:t,...e})=>T.jsx("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:T.jsx("path",{d:"M4 2H11C11.5304 2 12.0391 2.21071 12.4142 2.58579C12.7893 2.96086 13 3.46957 13 4V20C13 20.5304 12.7893 21.0391 12.4142 21.4142C12.0391 21.7893 11.5304 22 11 22H4C3.46957 22 2.96086 21.7893 2.58579 21.4142C2.21071 21.0391 2 20.5304 2 20V4C2 3.46957 2.21071 2.96086 2.58579 2.58579C2.96086 2.21071 3.46957 2 4 2ZM4 10V14H11V10H4ZM4 16V20H11V16H4ZM4 4V8H11V4H4ZM17.59 12L15 9.41L16.41 8L19 10.59L21.59 8L23 9.41L20.41 12L23 14.59L21.59 16L19 13.41L16.41 16L15 14.59L17.59 12Z",fill:"currentColor"})}));mx.displayName="TableDeleteColumn";const gx=M.memo(({className:t,...e})=>T.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,...e,children:T.jsx("path",{d:"M9.41 13L12 15.59L14.59 13L16 14.41L13.41 17L16 19.59L14.59 21L12 18.41L9.41 21L8 19.59L10.59 17L8 14.41L9.41 13ZM22 9C22 9.53043 21.7893 10.0391 21.4142 10.4142C21.0391 10.7893 20.5304 11 20 11H4C3.46957 11 2.96086 10.7893 2.58579 10.4142C2.21071 10.0391 2 9.53043 2 9V6C2 5.46957 2.21071 4.96086 2.58579 4.58579C2.96086 4.21071 3.46957 4 4 4H20C20.5304 4 21.0391 4.21071 21.4142 4.58579C21.7893 4.96086 22 5.46957 22 6V9ZM4 9H8V6H4V9ZM10 9H14V6H10V9ZM16 9H20V6H16V9Z",fill:"currentColor"})}));gx.displayName="TableDeleteRow";const yx=M.memo(({className:t,...e})=>T.jsx("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:T.jsx("path",{d:"M15.46 15.88L16.88 14.46L19 16.59L21.12 14.46L22.54 15.88L20.41 18L22.54 20.12L21.12 21.54L19 19.41L16.88 21.54L15.46 20.12L17.59 18L15.46 15.88ZM4 3H18C18.5304 3 19.0391 3.21071 19.4142 3.58579C19.7893 3.96086 20 4.46957 20 5V12.08C18.45 11.82 16.92 12.18 15.68 13H12V17H13.08C12.97 17.68 12.97 18.35 13.08 19H4C3.46957 19 2.96086 18.7893 2.58579 18.4142C2.21071 18.0391 2 17.5304 2 17V5C2 4.46957 2.21071 3.96086 2.58579 3.58579C2.96086 3.21071 3.46957 3 4 3ZM4 7V11H10V7H4ZM12 7V11H18V7H12ZM4 13V17H10V13H4Z",fill:"currentColor"})}));yx.displayName="TableDeleteTable";const q2=M.memo(({className:t,...e})=>T.jsx("svg",{width:"17",height:"16",className:t,viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:T.jsx("path",{d:"M13.8333 8.66683H9.16659V13.3335H13.1666C13.5348 13.3335 13.8333 13.035 13.8333 12.6668V8.66683ZM3.16659 12.6668C3.16659 13.035 3.46506 13.3335 3.83325 13.3335H7.83325V8.66683H3.16659V12.6668ZM13.8333 3.3335C13.8333 2.96531 13.5348 2.66683 13.1666 2.66683H9.16659V7.3335H13.8333V3.3335ZM3.16659 7.3335H7.83325V2.66683H3.83325C3.46506 2.66683 3.16659 2.96531 3.16659 3.3335V7.3335ZM15.1666 12.6668C15.1666 13.7714 14.2712 14.6668 13.1666 14.6668H3.83325C2.72868 14.6668 1.83325 13.7714 1.83325 12.6668V3.3335C1.83325 2.22893 2.72868 1.3335 3.83325 1.3335H13.1666C14.2712 1.3335 15.1666 2.22893 15.1666 3.3335V12.6668Z",fill:"currentColor"})}));q2.displayName="TableIcon";const bx=M.memo(({className:t,...e})=>T.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,...e,children:T.jsx("path",{d:"M5 10H3V4H11V6H5V10ZM19 18H13V20H21V14H19V18ZM5 18V14H3V20H11V18H5ZM21 4H13V6H19V10H21V4ZM8 13V15L11 12L8 9V11H3V13H8ZM16 11V9L13 12L16 15V13H21V11H16Z",fill:"currentColor"})}));bx.displayName="TableMergeCells";const vx=M.memo(({className:t,...e})=>T.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,...e,children:T.jsx("path",{d:"M19 14H21V20H3V14H5V18H19V14ZM3 4V10H5V6H19V10H21V4H3ZM11 11V13H8V15L5 12L8 9V11H11ZM16 11V9L19 12L16 15V13H13V11H16Z",fill:"currentColor"})}));vx.displayName="TableSplitCell";const Cx=M.memo(({className:t,...e})=>T.jsxs("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[T.jsx("rect",{x:"6",y:"7",width:"4",height:"3",fill:"currentColor"}),T.jsx("path",{d:"M19 4C20.1046 4 21 4.89543 21 6V18C21 19.0357 20.2128 19.887 19.2041 19.9893L19 20H5L4.7959 19.9893C3.78722 19.887 3 19.0357 3 18V6C3 4.89543 3.89543 4 5 4H19ZM5 18H11V13H5V18ZM13 18H19V13H13V18ZM5 11H11V6H5V11ZM13 11H19V6H13V11Z",fill:"currentColor"})]}));Cx.displayName="TableToggleHeaderCell";const wx=M.memo(({className:t,...e})=>T.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,...e,children:[T.jsx("rect",{x:"6",y:"7",width:"4",height:"3",fill:"currentColor"}),T.jsx("rect",{x:"14",y:"7",width:"4",height:"3",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19 4C20.1046 4 21 4.89543 21 6V18C21 19.0357 20.2128 19.887 19.2041 19.9893L19 20H5L4.7959 19.9893C3.78722 19.887 3 19.0357 3 18V6C3 4.89543 3.89543 4 5 4H19ZM5 18H11V13H5V18ZM13 13V18H19V13H13ZM13 11H19V6H13V11ZM5 11H11V6H5V11Z",fill:"currentColor"})]}));wx.displayName="TableToggleHeaderColumn";const xx=M.memo(({className:t,...e})=>T.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,...e,children:[T.jsx("rect",{x:"6",y:"7",width:"4",height:"3",fill:"currentColor"}),T.jsx("rect",{x:"14",y:"7",width:"4",height:"3",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19 4C20.1046 4 21 4.89543 21 6V18C21 19.0357 20.2128 19.887 19.2041 19.9893L19 20H5L4.7959 19.9893C3.78722 19.887 3 19.0357 3 18V6C3 4.89543 3.89543 4 5 4H19ZM5 18H11V13H5V18ZM13 13V18H19V13H13ZM13 11H19V6H13V11ZM5 11H11V6H5V11Z",fill:"currentColor"})]}));xx.displayName="TableToggleHeaderRow";const Sx=M.memo(({className:t,...e})=>T.jsx("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 5V4C7 3.17477 7.40255 2.43324 7.91789 1.91789C8.43324 1.40255 9.17477 1 10 1H14C14.8252 1 15.5668 1.40255 16.0821 1.91789C16.5975 2.43324 17 3.17477 17 4V5H21C21.5523 5 22 5.44772 22 6C22 6.55228 21.5523 7 21 7H20V20C20 20.8252 19.5975 21.5668 19.0821 22.0821C18.5668 22.5975 17.8252 23 17 23H7C6.17477 23 5.43324 22.5975 4.91789 22.0821C4.40255 21.5668 4 20.8252 4 20V7H3C2.44772 7 2 6.55228 2 6C2 5.44772 2.44772 5 3 5H7ZM9 4C9 3.82523 9.09745 3.56676 9.33211 3.33211C9.56676 3.09745 9.82523 3 10 3H14C14.1748 3 14.4332 3.09745 14.6679 3.33211C14.9025 3.56676 15 3.82523 15 4V5H9V4ZM6 7V20C6 20.1748 6.09745 20.4332 6.33211 20.6679C6.56676 20.9025 6.82523 21 7 21H17C17.1748 21 17.4332 20.9025 17.6679 20.6679C17.9025 20.4332 18 20.1748 18 20V7H6Z",fill:"currentColor"})}));Sx.displayName="TrashIcon";const Tx=M.memo(({className:t,...e})=>T.jsx("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 4C7 3.44772 6.55228 3 6 3C5.44772 3 5 3.44772 5 4V10C5 11.8565 5.7375 13.637 7.05025 14.9497C8.36301 16.2625 10.1435 17 12 17C13.8565 17 15.637 16.2625 16.9497 14.9497C18.2625 13.637 19 11.8565 19 10V4C19 3.44772 18.5523 3 18 3C17.4477 3 17 3.44772 17 4V10C17 11.3261 16.4732 12.5979 15.5355 13.5355C14.5979 14.4732 13.3261 15 12 15C10.6739 15 9.40215 14.4732 8.46447 13.5355C7.52678 12.5979 7 11.3261 7 10V4ZM4 19C3.44772 19 3 19.4477 3 20C3 20.5523 3.44772 21 4 21H20C20.5523 21 21 20.5523 21 20C21 19.4477 20.5523 19 20 19H4Z",fill:"currentColor"})}));Tx.displayName="UnderlineIcon";const Ex=M.memo(({className:t,...e})=>T.jsx("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.70711 3.70711C10.0976 3.31658 10.0976 2.68342 9.70711 2.29289C9.31658 1.90237 8.68342 1.90237 8.29289 2.29289L3.29289 7.29289C2.90237 7.68342 2.90237 8.31658 3.29289 8.70711L8.29289 13.7071C8.68342 14.0976 9.31658 14.0976 9.70711 13.7071C10.0976 13.3166 10.0976 12.6834 9.70711 12.2929L6.41421 9H14.5C15.0909 9 15.6761 9.1164 16.2221 9.34254C16.768 9.56869 17.2641 9.90016 17.682 10.318C18.0998 10.7359 18.4313 11.232 18.6575 11.7779C18.8836 12.3239 19 12.9091 19 13.5C19 14.0909 18.8836 14.6761 18.6575 15.2221C18.4313 15.768 18.0998 16.2641 17.682 16.682C17.2641 17.0998 16.768 17.4313 16.2221 17.6575C15.6761 17.8836 15.0909 18 14.5 18H11C10.4477 18 10 18.4477 10 19C10 19.5523 10.4477 20 11 20H14.5C15.3536 20 16.1988 19.8319 16.9874 19.5052C17.7761 19.1786 18.4926 18.6998 19.0962 18.0962C19.6998 17.4926 20.1786 16.7761 20.5052 15.9874C20.8319 15.1988 21 14.3536 21 13.5C21 12.6464 20.8319 11.8012 20.5052 11.0126C20.1786 10.2239 19.6998 9.50739 19.0962 8.90381C18.4926 8.30022 17.7761 7.82144 16.9874 7.49478C16.1988 7.16813 15.3536 7 14.5 7H6.41421L9.70711 3.70711Z",fill:"currentColor"})}));Ex.displayName="Undo2Icon";const dH=M.memo(({className:t,...e})=>T.jsx("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.7071 5.29289C19.0976 5.68342 19.0976 6.31658 18.7071 6.70711L13.4142 12L18.7071 17.2929C19.0976 17.6834 19.0976 18.3166 18.7071 18.7071C18.3166 19.0976 17.6834 19.0976 17.2929 18.7071L12 13.4142L6.70711 18.7071C6.31658 19.0976 5.68342 19.0976 5.29289 18.7071C4.90237 18.3166 4.90237 17.6834 5.29289 17.2929L10.5858 12L5.29289 6.70711C4.90237 6.31658 4.90237 5.68342 5.29289 5.29289C5.68342 4.90237 6.31658 4.90237 6.70711 5.29289L12 10.5858L17.2929 5.29289C17.6834 4.90237 18.3166 4.90237 18.7071 5.29289Z",fill:"currentColor"})}));dH.displayName="XIcon";const Me=(t,e)=>(t[document.documentElement.lang]||t.en)[e]||e,Xf={cs:{moveFolioTiptapNodeUp:"Posunout nahoru",moveFolioTiptapNodeDown:"Posunout dolů",editFolioTipapNode:"Upravit",removeFolioTiptapNode:"Odstranit"},en:{moveFolioTiptapNodeUp:"Move up",moveFolioTiptapNodeDown:"Move down",editFolioTipapNode:"Edit",removeFolioTiptapNode:"Remove"}},hH={pluginKey:"folioTiptapNodeBubbleMenu",offset:({rects:t})=>-t.reference.height/2-t.floating.height/2,shouldShow:({editor:t,state:e})=>t.isActive(Lw.name),disabledKeys:({state:t})=>{const e=[];return t.doc.resolve(t.selection.from).nodeBefore||e.push("moveFolioTiptapNodeUp"),t.doc.resolve(t.selection.to).nodeAfter||e.push("moveFolioTiptapNodeDown"),e},items:[[{key:"moveFolioTiptapNodeUp",title:Me(Xf,"moveFolioTiptapNodeUp"),icon:Uw,command:({editor:t})=>{t.chain().focus().moveFolioTiptapNodeUp().run()}},{key:"moveFolioTiptapNodeDown",title:Me(Xf,"moveFolioTiptapNodeDown"),icon:jw,command:({editor:t})=>{t.chain().focus().moveFolioTiptapNodeDown().run()}},{key:"editFolioTipapNode",title:Me(Xf,"editFolioTipapNode"),icon:Kw,command:({editor:t})=>{t.chain().focus().editFolioTipapNode().run()}},{key:"removeFolioTiptapNode",title:Me(Xf,"removeFolioTiptapNode"),icon:Zh,command:({editor:t})=>{t.chain().focus().removeFolioTiptapNode().run()}}]]},Mx=t=>{const e={...t};return e.type==="folioTiptapNode"&&(e.attrs={...e.attrs,uniqueId:Kh()}),e.content&&Array.isArray(e.content)&&(e.content=e.content.map(n=>Mx(n))),e},kx=t=>{const e={...t};return e.type==="folioTiptapNode"&&(e.attrs={...e.attrs},delete e.attrs.uniqueId),e.content&&Array.isArray(e.content)&&(e.content=e.content.map(n=>kx(n))),e},pH=Ye.create({name:"folioTiptapColumnsExtension"});function mH(t,e,n=null){return n?t.createChecked({index:e},n):t.createAndFill({index:e})}function gH(t){if(t.cached.columnsNodeTypes)return t.cached.columnsNodeTypes;const e={columns:t.nodes.folioTiptapColumns,column:t.nodes.folioTiptapColumn};return t.cached.columnsNodeTypes=e,e}function yH(t,e,n=null){const i=gH(t),r=[];for(let o=0;o<e;o+=1){const l=mH(i.column,o,n);l&&r.push(l)}return i.columns.createChecked({columnCount:e},r)}function ug({state:t,dispatch:e,type:n}){const i=Un(o=>o.type.name===Yh.name)(t.selection),r=Un(o=>o.type.name===uh.name)(t.selection);if(e&&i&&r){const o=i.node,l=r.node.attrs.index,c=o.toJSON();let f=l;if(n==="delete"){if(c.content.length<=2){const x=[];c.content.forEach(A=>{A.content&&A.content.length>0&&x.push(...A.content)}),x.length===0&&x.push({type:"paragraph"});const E=t.tr;return E.replaceWith(i.pos,i.pos+i.node.nodeSize,x.map(A=>Oi.fromJSON(t.schema,A))),E.setSelection(fe.near(E.doc.resolve(i.pos+1))),e(E),!0}const b=c.content[l].content||[],C=l>0?l-1:l+1,w=c.content[C];b.length>0&&(w.content||(w.content=[]),w.content.push(...b)),c.content.splice(l,1),f=l>0?l-1:0}else f=n==="addBefore"?l:l+1,c.content.splice(f,0,{type:uh.name,attrs:{index:l},content:[{type:"paragraph"}]});c.attrs.cols=c.content.length,c.content.forEach((y,b)=>{y.attrs.index=b});const d=Oi.fromJSON(t.schema,c);let p=i.pos;d.content.forEach((y,b,C)=>{C<f&&(p+=y.nodeSize)});const m=t.tr;m.replaceWith(i.pos,i.pos+i.node.nodeSize,d).setSelection(fe.near(m.doc.resolve(p))),e(m)}return!0}function MC({state:t,dispatch:e,type:n}){const i=Un(o=>o.type.name===Yh.name)(t.selection),r=Un(o=>o.type.name===uh.name)(t.selection);if(e&&i&&r){const o=i.node,l=r.node.attrs.index;let c=0;n==="before"?c=(l-1+o.attrs.count)%o.attrs.count:c=(l+1)%o.attrs.count;let f=i.pos;o.content.forEach((p,m,y)=>{y<c&&(f+=p.nodeSize)});const d=t.tr;return d.setSelection(fe.near(d.doc.resolve(f))),e(d),!0}return!1}const uh=vt.create({name:"folioTiptapColumn",content:"block+",isolating:!0,addOptions(){return{HTMLAttributes:{class:"f-tiptap-column"}}},addAttributes(){return{index:{default:0,parseHTML:t=>{const e=t.getAttribute("data-f-tiptap-column-index");return typeof e=="string"?parseInt(e,10):typeof e=="number"?e:0}}}},parseHTML(){return[{tag:'div[class="f-tiptap-column"]'}]},renderHTML({HTMLAttributes:t}){return["div",Fe({"data-f-tiptap-column-index":t.index},this.options.HTMLAttributes,t),0]}}),Yh=vt.create({name:"folioTiptapColumns",group:"block",defining:!0,isolating:!0,allowGapCursor:!1,content:"folioTiptapColumn{1,}",draggable:!0,addOptions(){return{HTMLAttributes:{class:"f-tiptap-columns"}}},addAttributes(){return{count:{default:2,parseHTML:t=>t.getAttribute("data-f-tiptap-columns-count")}}},parseHTML(){return[{tag:'div[class="f-tiptap-columns"]'}]},renderHTML({HTMLAttributes:t}){return["div",Fe({"data-f-tiptap-columns-count":t.count,class:"f-tiptap-columns f-tiptap-avoid-external-layout"},this.options.HTMLAttributes,t),0]},addCommands(){return{insertFolioTiptapColumns:t=>({tr:e,dispatch:n,editor:i})=>{const r=yH(i.schema,t&&t.count||2);if(n){const o=e.selection.anchor+1;e.replaceSelectionWith(r).scrollIntoView().setSelection(fe.near(e.doc.resolve(o)))}return!0},addFolioTiptapColumnBefore:()=>({dispatch:t,state:e})=>ug({dispatch:t,state:e,type:"addBefore"}),addFolioTiptapColumnAfter:()=>({dispatch:t,state:e})=>ug({dispatch:t,state:e,type:"addAfter"}),deleteFolioTiptapColumn:()=>({dispatch:t,state:e})=>ug({dispatch:t,state:e,type:"delete"})}},addKeyboardShortcuts(){return{Tab:()=>MC({state:this.editor.state,dispatch:this.editor.view.dispatch,type:"after"}),"Shift-Tab":()=>MC({state:this.editor.state,dispatch:this.editor.view.dispatch,type:"before"})}}});/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bH=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),vH=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),kC=t=>{const e=vH(t);return e.charAt(0).toUpperCase()+e.slice(1)},Ax=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),CH=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xH=M.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:r="",children:o,iconNode:l,...c},f)=>M.createElement("svg",{ref:f,...wH,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:Ax("lucide",r),...!o&&!CH(c)&&{"aria-hidden":"true"},...c},[...l.map(([d,p])=>M.createElement(d,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=(t,e)=>{const n=M.forwardRef(({className:i,...r},o)=>M.createElement(xH,{ref:o,iconNode:e,className:Ax(`lucide-${bH(kC(t))}`,`lucide-${t}`,i),...r}));return n.displayName=kC(t),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SH=[["path",{d:"M3.5 13h6",key:"p1my2r"}],["path",{d:"m2 16 4.5-9 4.5 9",key:"ndf0b3"}],["path",{d:"M18 7v9",key:"pknjwm"}],["path",{d:"m14 12 4 4 4-4",key:"buelq4"}]],Rx=ir("a-arrow-down",SH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TH=[["path",{d:"M3.5 13h6",key:"p1my2r"}],["path",{d:"m2 16 4.5-9 4.5 9",key:"ndf0b3"}],["path",{d:"M18 16V7",key:"ty0viw"}],["path",{d:"m14 11 4-4 4 4",key:"1pu57t"}]],Ox=ir("a-arrow-up",TH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EH=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],MH=ir("code",EH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kH=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]],Nx=ir("columns-2",kH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AH=[["path",{d:"m21.12 6.4-6.05-4.06a2 2 0 0 0-2.17-.05L2.95 8.41a2 2 0 0 0-.95 1.7v5.82a2 2 0 0 0 .88 1.66l6.05 4.07a2 2 0 0 0 2.17.05l9.95-6.12a2 2 0 0 0 .95-1.7V8.06a2 2 0 0 0-.88-1.66Z",key:"1u2ovd"}],["path",{d:"M10 22v-8L2.25 9.15",key:"11pn4q"}],["path",{d:"m10 14 11.77-6.87",key:"1kt1wh"}]],AC=ir("cuboid",AH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RH=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],OH=ir("grip-vertical",RH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NH=[["path",{d:"M13 4v16",key:"8vvj80"}],["path",{d:"M17 4v16",key:"7dpous"}],["path",{d:"M19 4H9.5a4.5 4.5 0 0 0 0 9H13",key:"sh4n9v"}]],DH=ir("pilcrow",NH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LH=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Dx=ir("plus",LH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _H=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],HH=ir("settings",_H);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IH=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],$2=ir("x",IH);function K2(t){const{editor:e}=A2();return M.useMemo(()=>t||e,[t,e])}function Gh(){return typeof window<"u"}function Uo(t){return Lx(t)?(t.nodeName||"").toLowerCase():"#document"}function Pn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function rr(t){var e;return(e=(Lx(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Lx(t){return Gh()?t instanceof Node||t instanceof Pn(t).Node:!1}function dt(t){return Gh()?t instanceof Element||t instanceof Pn(t).Element:!1}function Ot(t){return Gh()?t instanceof HTMLElement||t instanceof Pn(t).HTMLElement:!1}function w0(t){return!Gh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Pn(t).ShadowRoot}const zH=new Set(["inline","contents"]);function du(t){const{overflow:e,overflowX:n,overflowY:i,display:r}=Ci(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!zH.has(r)}const BH=new Set(["table","td","th"]);function VH(t){return BH.has(Uo(t))}const jH=[":popover-open",":modal"];function Xh(t){return jH.some(e=>{try{return t.matches(e)}catch{return!1}})}const UH=["transform","translate","scale","rotate","perspective"],PH=["transform","translate","scale","rotate","perspective","filter"],FH=["paint","layout","strict","content"];function Z2(t){const e=Wh(),n=dt(t)?Ci(t):t;return UH.some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||PH.some(i=>(n.willChange||"").includes(i))||FH.some(i=>(n.contain||"").includes(i))}function qH(t){let e=Br(t);for(;Ot(e)&&!Hr(e);){if(Z2(e))return e;if(Xh(e))return null;e=Br(e)}return null}function Wh(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const $H=new Set(["html","body","#document"]);function Hr(t){return $H.has(Uo(t))}function Ci(t){return Pn(t).getComputedStyle(t)}function Jh(t){return dt(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Br(t){if(Uo(t)==="html")return t;const e=t.assignedSlot||t.parentNode||w0(t)&&t.host||rr(t);return w0(e)?e.host:e}function _x(t){const e=Br(t);return Hr(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ot(e)&&du(e)?e:_x(e)}function Do(t,e,n){var i;e===void 0&&(e=[]),n===void 0&&(n=!0);const r=_x(t),o=r===((i=t.ownerDocument)==null?void 0:i.body),l=Pn(r);if(o){const c=x0(l);return e.concat(l,l.visualViewport||[],du(r)?r:[],c&&n?Do(c):[])}return e.concat(r,Do(r,[],n))}function x0(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}const Hx=["top","right","bottom","left"],RC=["start","end"],OC=Hx.reduce((t,e)=>t.concat(e,e+"-"+RC[0],e+"-"+RC[1]),[]),Hi=Math.min,gn=Math.max,fh=Math.round,Vl=Math.floor,Ji=t=>({x:t,y:t}),KH={left:"right",right:"left",bottom:"top",top:"bottom"},ZH={start:"end",end:"start"};function S0(t,e,n){return gn(t,Hi(e,n))}function Ii(t,e){return typeof t=="function"?t(e):t}function ni(t){return t.split("-")[0]}function Ni(t){return t.split("-")[1]}function Y2(t){return t==="x"?"y":"x"}function G2(t){return t==="y"?"height":"width"}const YH=new Set(["top","bottom"]);function Ai(t){return YH.has(ni(t))?"y":"x"}function X2(t){return Y2(Ai(t))}function Ix(t,e,n){n===void 0&&(n=!1);const i=Ni(t),r=X2(t),o=G2(r);let l=r==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(l=hh(l)),[l,hh(l)]}function GH(t){const e=hh(t);return[dh(t),e,dh(e)]}function dh(t){return t.replace(/start|end/g,e=>ZH[e])}const NC=["left","right"],DC=["right","left"],XH=["top","bottom"],WH=["bottom","top"];function JH(t,e,n){switch(t){case"top":case"bottom":return n?e?DC:NC:e?NC:DC;case"left":case"right":return e?XH:WH;default:return[]}}function QH(t,e,n,i){const r=Ni(t);let o=JH(ni(t),n==="start",i);return r&&(o=o.map(l=>l+"-"+r),e&&(o=o.concat(o.map(dh)))),o}function hh(t){return t.replace(/left|right|bottom|top/g,e=>KH[e])}function eI(t){return{top:0,right:0,bottom:0,left:0,...t}}function W2(t){return typeof t!="number"?eI(t):{top:t,right:t,bottom:t,left:t}}function ta(t){const{x:e,y:n,width:i,height:r}=t;return{width:i,height:r,top:n,left:e,right:e+i,bottom:n+r,x:e,y:n}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var tI=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],ph=tI.join(","),zx=typeof Element>"u",na=zx?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,mh=!zx&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t?.ownerDocument},gh=function t(e,n){var i;n===void 0&&(n=!0);var r=e==null||(i=e.getAttribute)===null||i===void 0?void 0:i.call(e,"inert"),o=r===""||r==="true",l=o||n&&e&&t(e.parentNode);return l},nI=function(e){var n,i=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return i===""||i==="true"},Bx=function(e,n,i){if(gh(e))return[];var r=Array.prototype.slice.apply(e.querySelectorAll(ph));return n&&na.call(e,ph)&&r.unshift(e),r=r.filter(i),r},Vx=function t(e,n,i){for(var r=[],o=Array.from(e);o.length;){var l=o.shift();if(!gh(l,!1))if(l.tagName==="SLOT"){var c=l.assignedElements(),f=c.length?c:l.children,d=t(f,!0,i);i.flatten?r.push.apply(r,d):r.push({scopeParent:l,candidates:d})}else{var p=na.call(l,ph);p&&i.filter(l)&&(n||!e.includes(l))&&r.push(l);var m=l.shadowRoot||typeof i.getShadowRoot=="function"&&i.getShadowRoot(l),y=!gh(m,!1)&&(!i.shadowRootFilter||i.shadowRootFilter(l));if(m&&y){var b=t(m===!0?l.children:m.children,!0,i);i.flatten?r.push.apply(r,b):r.push({scopeParent:l,candidates:b})}else o.unshift.apply(o,l.children)}}return r},jx=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},Ux=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||nI(e))&&!jx(e)?0:e.tabIndex},iI=function(e,n){var i=Ux(e);return i<0&&n&&!jx(e)?0:i},rI=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},Px=function(e){return e.tagName==="INPUT"},oI=function(e){return Px(e)&&e.type==="hidden"},sI=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(i){return i.tagName==="SUMMARY"});return n},lI=function(e,n){for(var i=0;i<e.length;i++)if(e[i].checked&&e[i].form===n)return e[i]},aI=function(e){if(!e.name)return!0;var n=e.form||mh(e),i=function(c){return n.querySelectorAll('input[type="radio"][name="'+c+'"]')},r;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")r=i(window.CSS.escape(e.name));else try{r=i(e.name)}catch(l){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",l.message),!1}var o=lI(r,e.form);return!o||o===e},cI=function(e){return Px(e)&&e.type==="radio"},uI=function(e){return cI(e)&&!aI(e)},fI=function(e){var n,i=e&&mh(e),r=(n=i)===null||n===void 0?void 0:n.host,o=!1;if(i&&i!==e){var l,c,f;for(o=!!((l=r)!==null&&l!==void 0&&(c=l.ownerDocument)!==null&&c!==void 0&&c.contains(r)||e!=null&&(f=e.ownerDocument)!==null&&f!==void 0&&f.contains(e));!o&&r;){var d,p,m;i=mh(r),r=(d=i)===null||d===void 0?void 0:d.host,o=!!((p=r)!==null&&p!==void 0&&(m=p.ownerDocument)!==null&&m!==void 0&&m.contains(r))}}return o},LC=function(e){var n=e.getBoundingClientRect(),i=n.width,r=n.height;return i===0&&r===0},dI=function(e,n){var i=n.displayCheck,r=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var o=na.call(e,"details>summary:first-of-type"),l=o?e.parentElement:e;if(na.call(l,"details:not([open]) *"))return!0;if(!i||i==="full"||i==="legacy-full"){if(typeof r=="function"){for(var c=e;e;){var f=e.parentElement,d=mh(e);if(f&&!f.shadowRoot&&r(f)===!0)return LC(e);e.assignedSlot?e=e.assignedSlot:!f&&d!==e.ownerDocument?e=d.host:e=f}e=c}if(fI(e))return!e.getClientRects().length;if(i!=="legacy-full")return!0}else if(i==="non-zero-area")return LC(e);return!1},hI=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var i=0;i<n.children.length;i++){var r=n.children.item(i);if(r.tagName==="LEGEND")return na.call(n,"fieldset[disabled] *")?!0:!r.contains(e)}return!0}n=n.parentElement}return!1},T0=function(e,n){return!(n.disabled||gh(n)||oI(n)||dI(n,e)||sI(n)||hI(n))},E0=function(e,n){return!(uI(n)||Ux(n)<0||!T0(e,n))},pI=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},mI=function t(e){var n=[],i=[];return e.forEach(function(r,o){var l=!!r.scopeParent,c=l?r.scopeParent:r,f=iI(c,l),d=l?t(r.candidates):c;f===0?l?n.push.apply(n,d):n.push(c):i.push({documentOrder:o,tabIndex:f,item:r,isScope:l,content:d})}),i.sort(rI).reduce(function(r,o){return o.isScope?r.push.apply(r,o.content):r.push(o.content),r},[]).concat(n)},Qh=function(e,n){n=n||{};var i;return n.getShadowRoot?i=Vx([e],n.includeContainer,{filter:E0.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:pI}):i=Bx(e,n.includeContainer,E0.bind(null,n)),mI(i)},gI=function(e,n){n=n||{};var i;return n.getShadowRoot?i=Vx([e],n.includeContainer,{filter:T0.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):i=Bx(e,n.includeContainer,T0.bind(null,n)),i},Fx=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return na.call(e,ph)===!1?!1:E0(n,e)};function qx(){const t=navigator.userAgentData;return t!=null&&t.platform?t.platform:navigator.platform}function $x(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:i}=e;return n+"/"+i}).join(" "):navigator.userAgent}function Kx(){return/apple/i.test(navigator.vendor)}function M0(){const t=/android/i;return t.test(qx())||t.test($x())}function yI(){return qx().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function Zx(){return $x().includes("jsdom/")}const _C="data-floating-ui-focusable",bI="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])",fg="ArrowLeft",dg="ArrowRight",vI="ArrowUp",CI="ArrowDown";function Wi(t){let e=t.activeElement;for(;((n=e)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;e=e.shadowRoot.activeElement}return e}function rn(t,e){if(!t||!e)return!1;const n=e.getRootNode==null?void 0:e.getRootNode();if(t.contains(e))return!0;if(n&&w0(n)){let i=e;for(;i;){if(t===i)return!0;i=i.parentNode||i.host}}return!1}function Or(t){return"composedPath"in t?t.composedPath()[0]:t.target}function hg(t,e){if(e==null)return!1;if("composedPath"in t)return t.composedPath().includes(e);const n=t;return n.target!=null&&e.contains(n.target)}function wI(t){return t.matches("html,body")}function an(t){return t?.ownerDocument||document}function J2(t){return Ot(t)&&t.matches(bI)}function k0(t){return t?t.getAttribute("role")==="combobox"&&J2(t):!1}function xI(t){if(!t||Zx())return!0;try{return t.matches(":focus-visible")}catch{return!0}}function yh(t){return t?t.hasAttribute(_C)?t:t.querySelector("["+_C+"]")||t:null}function Ts(t,e,n){return n===void 0&&(n=!0),t.filter(r=>{var o;return r.parentId===e&&(!n||((o=r.context)==null?void 0:o.open))}).flatMap(r=>[r,...Ts(t,r.id,n)])}function SI(t,e){let n,i=-1;function r(o,l){l>i&&(n=o,i=l),Ts(t,o).forEach(f=>{r(f.id,l+1)})}return r(e,0),t.find(o=>o.id===n)}function HC(t,e){var n;let i=[],r=(n=t.find(o=>o.id===e))==null?void 0:n.parentId;for(;r;){const o=t.find(l=>l.id===r);r=o?.parentId,o&&(i=i.concat(o))}return i}function on(t){t.preventDefault(),t.stopPropagation()}function TI(t){return"nativeEvent"in t}function Yx(t){return t.mozInputSource===0&&t.isTrusted?!0:M0()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function Gx(t){return Zx()?!1:!M0()&&t.width===0&&t.height===0||M0()&&t.width===1&&t.height===1&&t.pressure===0&&t.detail===0&&t.pointerType==="mouse"||t.width<1&&t.height<1&&t.pressure===0&&t.detail===0&&t.pointerType==="touch"}function Gc(t,e){const n=["mouse","pen"];return e||n.push("",void 0),n.includes(t)}var EI=typeof document<"u",MI=function(){},ft=EI?M.useLayoutEffect:MI;const kI={...q5};function zn(t){const e=M.useRef(t);return ft(()=>{e.current=t}),e}const AI=kI.useInsertionEffect,RI=AI||(t=>t());function Nt(t){const e=M.useRef(()=>{});return RI(()=>{e.current=t}),M.useCallback(function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e.current==null?void 0:e.current(...i)},[])}function Wf(t,e,n){return Math.floor(t/e)!==n}function Dc(t,e){return e<0||e>=t.current.length}function pg(t,e){return mn(t,{disabledIndices:e})}function IC(t,e){return mn(t,{decrement:!0,startingIndex:t.current.length,disabledIndices:e})}function mn(t,e){let{startingIndex:n=-1,decrement:i=!1,disabledIndices:r,amount:o=1}=e===void 0?{}:e,l=n;do l+=i?-o:o;while(l>=0&&l<=t.current.length-1&&gd(t,l,r));return l}function OI(t,e){let{event:n,orientation:i,loop:r,rtl:o,cols:l,disabledIndices:c,minIndex:f,maxIndex:d,prevIndex:p,stopEvent:m=!1}=e,y=p;if(n.key===vI){if(m&&on(n),p===-1)y=d;else if(y=mn(t,{startingIndex:y,amount:l,decrement:!0,disabledIndices:c}),r&&(p-l<f||y<0)){const b=p%l,C=d%l,w=d-(C-b);C===b?y=d:y=C>b?w:w-l}Dc(t,y)&&(y=p)}if(n.key===CI&&(m&&on(n),p===-1?y=f:(y=mn(t,{startingIndex:p,amount:l,disabledIndices:c}),r&&p+l>d&&(y=mn(t,{startingIndex:p%l-l,amount:l,disabledIndices:c}))),Dc(t,y)&&(y=p)),i==="both"){const b=Vl(p/l);n.key===(o?fg:dg)&&(m&&on(n),p%l!==l-1?(y=mn(t,{startingIndex:p,disabledIndices:c}),r&&Wf(y,l,b)&&(y=mn(t,{startingIndex:p-p%l-1,disabledIndices:c}))):r&&(y=mn(t,{startingIndex:p-p%l-1,disabledIndices:c})),Wf(y,l,b)&&(y=p)),n.key===(o?dg:fg)&&(m&&on(n),p%l!==0?(y=mn(t,{startingIndex:p,decrement:!0,disabledIndices:c}),r&&Wf(y,l,b)&&(y=mn(t,{startingIndex:p+(l-p%l),decrement:!0,disabledIndices:c}))):r&&(y=mn(t,{startingIndex:p+(l-p%l),decrement:!0,disabledIndices:c})),Wf(y,l,b)&&(y=p));const C=Vl(d/l)===b;Dc(t,y)&&(r&&C?y=n.key===(o?dg:fg)?d:mn(t,{startingIndex:p-p%l-1,disabledIndices:c}):y=p)}return y}function NI(t,e,n){const i=[];let r=0;return t.forEach((o,l)=>{let{width:c,height:f}=o,d=!1;for(n&&(r=0);!d;){const p=[];for(let m=0;m<c;m++)for(let y=0;y<f;y++)p.push(r+m+y*e);r%e+c<=e&&p.every(m=>i[m]==null)?(p.forEach(m=>{i[m]=l}),d=!0):r++}}),[...i]}function DI(t,e,n,i,r){if(t===-1)return-1;const o=n.indexOf(t),l=e[t];switch(r){case"tl":return o;case"tr":return l?o+l.width-1:o;case"bl":return l?o+(l.height-1)*i:o;case"br":return n.lastIndexOf(t)}}function LI(t,e){return e.flatMap((n,i)=>t.includes(n)?[i]:[])}function gd(t,e,n){if(typeof n=="function")return n(e);if(n)return n.includes(e);const i=t.current[e];return i==null||i.hasAttribute("disabled")||i.getAttribute("aria-disabled")==="true"}const hu=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function Xx(t,e){const n=Qh(t,hu()),i=n.length;if(i===0)return;const r=Wi(an(t)),o=n.indexOf(r),l=o===-1?e===1?0:i-1:o+e;return n[l]}function Wx(t){return Xx(an(t).body,1)||t}function Jx(t){return Xx(an(t).body,-1)||t}function Lc(t,e){const n=e||t.currentTarget,i=t.relatedTarget;return!i||!rn(n,i)}function _I(t){Qh(t,hu()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function zC(t){t.querySelectorAll("[data-tabindex]").forEach(n=>{const i=n.dataset.tabindex;delete n.dataset.tabindex,i?n.setAttribute("tabindex",i):n.removeAttribute("tabindex")})}function BC(t,e,n){let{reference:i,floating:r}=t;const o=Ai(e),l=X2(e),c=G2(l),f=ni(e),d=o==="y",p=i.x+i.width/2-r.width/2,m=i.y+i.height/2-r.height/2,y=i[c]/2-r[c]/2;let b;switch(f){case"top":b={x:p,y:i.y-r.height};break;case"bottom":b={x:p,y:i.y+i.height};break;case"right":b={x:i.x+i.width,y:m};break;case"left":b={x:i.x-r.width,y:m};break;default:b={x:i.x,y:i.y}}switch(Ni(e)){case"start":b[l]-=y*(n&&d?-1:1);break;case"end":b[l]+=y*(n&&d?-1:1);break}return b}const HI=async(t,e,n)=>{const{placement:i="bottom",strategy:r="absolute",middleware:o=[],platform:l}=n,c=o.filter(Boolean),f=await(l.isRTL==null?void 0:l.isRTL(e));let d=await l.getElementRects({reference:t,floating:e,strategy:r}),{x:p,y:m}=BC(d,i,f),y=i,b={},C=0;for(let w=0;w<c.length;w++){const{name:x,fn:E}=c[w],{x:A,y:O,data:H,reset:L}=await E({x:p,y:m,initialPlacement:i,placement:y,strategy:r,middlewareData:b,rects:d,platform:l,elements:{reference:t,floating:e}});p=A??p,m=O??m,b={...b,[x]:{...b[x],...H}},L&&C<=50&&(C++,typeof L=="object"&&(L.placement&&(y=L.placement),L.rects&&(d=L.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:r}):L.rects),{x:p,y:m}=BC(d,y,f)),w=-1)}return{x:p,y:m,placement:y,strategy:r,middlewareData:b}};async function ia(t,e){var n;e===void 0&&(e={});const{x:i,y:r,platform:o,rects:l,elements:c,strategy:f}=t,{boundary:d="clippingAncestors",rootBoundary:p="viewport",elementContext:m="floating",altBoundary:y=!1,padding:b=0}=Ii(e,t),C=W2(b),x=c[y?m==="floating"?"reference":"floating":m],E=ta(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(x)))==null||n?x:x.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:d,rootBoundary:p,strategy:f})),A=m==="floating"?{x:i,y:r,width:l.floating.width,height:l.floating.height}:l.reference,O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),H=await(o.isElement==null?void 0:o.isElement(O))?await(o.getScale==null?void 0:o.getScale(O))||{x:1,y:1}:{x:1,y:1},L=ta(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:A,offsetParent:O,strategy:f}):A);return{top:(E.top-L.top+C.top)/H.y,bottom:(L.bottom-E.bottom+C.bottom)/H.y,left:(E.left-L.left+C.left)/H.x,right:(L.right-E.right+C.right)/H.x}}const II=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:i,placement:r,rects:o,platform:l,elements:c,middlewareData:f}=e,{element:d,padding:p=0}=Ii(t,e)||{};if(d==null)return{};const m=W2(p),y={x:n,y:i},b=X2(r),C=G2(b),w=await l.getDimensions(d),x=b==="y",E=x?"top":"left",A=x?"bottom":"right",O=x?"clientHeight":"clientWidth",H=o.reference[C]+o.reference[b]-y[b]-o.floating[C],L=y[b]-o.reference[b],K=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d));let Y=K?K[O]:0;(!Y||!await(l.isElement==null?void 0:l.isElement(K)))&&(Y=c.floating[O]||o.floating[C]);const X=H/2-L/2,oe=Y/2-w[C]/2-1,Q=Hi(m[E],oe),le=Hi(m[A],oe),re=Q,ce=Y-w[C]-le,ie=Y/2-w[C]/2+X,$=S0(re,ie,ce),_=!f.arrow&&Ni(r)!=null&&ie!==$&&o.reference[C]/2-(ie<re?Q:le)-w[C]/2<0,j=_?ie<re?ie-re:ie-ce:0;return{[b]:y[b]+j,data:{[b]:$,centerOffset:ie-$-j,..._&&{alignmentOffset:j}},reset:_}}});function zI(t,e,n){return(t?[...n.filter(r=>Ni(r)===t),...n.filter(r=>Ni(r)!==t)]:n.filter(r=>ni(r)===r)).filter(r=>t?Ni(r)===t||(e?dh(r)!==r:!1):!0)}const BI=function(t){return t===void 0&&(t={}),{name:"autoPlacement",options:t,async fn(e){var n,i,r;const{rects:o,middlewareData:l,placement:c,platform:f,elements:d}=e,{crossAxis:p=!1,alignment:m,allowedPlacements:y=OC,autoAlignment:b=!0,...C}=Ii(t,e),w=m!==void 0||y===OC?zI(m||null,b,y):y,x=await ia(e,C),E=((n=l.autoPlacement)==null?void 0:n.index)||0,A=w[E];if(A==null)return{};const O=Ix(A,o,await(f.isRTL==null?void 0:f.isRTL(d.floating)));if(c!==A)return{reset:{placement:w[0]}};const H=[x[ni(A)],x[O[0]],x[O[1]]],L=[...((i=l.autoPlacement)==null?void 0:i.overflows)||[],{placement:A,overflows:H}],K=w[E+1];if(K)return{data:{index:E+1,overflows:L},reset:{placement:K}};const Y=L.map(Q=>{const le=Ni(Q.placement);return[Q.placement,le&&p?Q.overflows.slice(0,2).reduce((re,ce)=>re+ce,0):Q.overflows[0],Q.overflows]}).sort((Q,le)=>Q[1]-le[1]),oe=((r=Y.filter(Q=>Q[2].slice(0,Ni(Q[0])?2:3).every(le=>le<=0))[0])==null?void 0:r[0])||Y[0][0];return oe!==c?{data:{index:E+1,overflows:L},reset:{placement:oe}}:{}}}},VI=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,i;const{placement:r,middlewareData:o,rects:l,initialPlacement:c,platform:f,elements:d}=e,{mainAxis:p=!0,crossAxis:m=!0,fallbackPlacements:y,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:w=!0,...x}=Ii(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const E=ni(r),A=Ai(c),O=ni(c)===c,H=await(f.isRTL==null?void 0:f.isRTL(d.floating)),L=y||(O||!w?[hh(c)]:GH(c)),K=C!=="none";!y&&K&&L.push(...QH(c,w,C,H));const Y=[c,...L],X=await ia(e,x),oe=[];let Q=((i=o.flip)==null?void 0:i.overflows)||[];if(p&&oe.push(X[E]),m){const ie=Ix(r,l,H);oe.push(X[ie[0]],X[ie[1]])}if(Q=[...Q,{placement:r,overflows:oe}],!oe.every(ie=>ie<=0)){var le,re;const ie=(((le=o.flip)==null?void 0:le.index)||0)+1,$=Y[ie];if($&&(!(m==="alignment"?A!==Ai($):!1)||Q.every(z=>z.overflows[0]>0&&Ai(z.placement)===A)))return{data:{index:ie,overflows:Q},reset:{placement:$}};let _=(re=Q.filter(j=>j.overflows[0]<=0).sort((j,z)=>j.overflows[1]-z.overflows[1])[0])==null?void 0:re.placement;if(!_)switch(b){case"bestFit":{var ce;const j=(ce=Q.filter(z=>{if(K){const J=Ai(z.placement);return J===A||J==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(J=>J>0).reduce((J,R)=>J+R,0)]).sort((z,J)=>z[1]-J[1])[0])==null?void 0:ce[0];j&&(_=j);break}case"initialPlacement":_=c;break}if(r!==_)return{reset:{placement:_}}}return{}}}};function VC(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function jC(t){return Hx.some(e=>t[e]>=0)}const jI=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:i="referenceHidden",...r}=Ii(t,e);switch(i){case"referenceHidden":{const o=await ia(e,{...r,elementContext:"reference"}),l=VC(o,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:jC(l)}}}case"escaped":{const o=await ia(e,{...r,altBoundary:!0}),l=VC(o,n.floating);return{data:{escapedOffsets:l,escaped:jC(l)}}}default:return{}}}}};function Qx(t){const e=Hi(...t.map(o=>o.left)),n=Hi(...t.map(o=>o.top)),i=gn(...t.map(o=>o.right)),r=gn(...t.map(o=>o.bottom));return{x:e,y:n,width:i-e,height:r-n}}function UI(t){const e=t.slice().sort((r,o)=>r.y-o.y),n=[];let i=null;for(let r=0;r<e.length;r++){const o=e[r];!i||o.y-i.y>i.height/2?n.push([o]):n[n.length-1].push(o),i=o}return n.map(r=>ta(Qx(r)))}const PI=function(t){return t===void 0&&(t={}),{name:"inline",options:t,async fn(e){const{placement:n,elements:i,rects:r,platform:o,strategy:l}=e,{padding:c=2,x:f,y:d}=Ii(t,e),p=Array.from(await(o.getClientRects==null?void 0:o.getClientRects(i.reference))||[]),m=UI(p),y=ta(Qx(p)),b=W2(c);function C(){if(m.length===2&&m[0].left>m[1].right&&f!=null&&d!=null)return m.find(x=>f>x.left-b.left&&f<x.right+b.right&&d>x.top-b.top&&d<x.bottom+b.bottom)||y;if(m.length>=2){if(Ai(n)==="y"){const Q=m[0],le=m[m.length-1],re=ni(n)==="top",ce=Q.top,ie=le.bottom,$=re?Q.left:le.left,_=re?Q.right:le.right,j=_-$,z=ie-ce;return{top:ce,bottom:ie,left:$,right:_,width:j,height:z,x:$,y:ce}}const x=ni(n)==="left",E=gn(...m.map(Q=>Q.right)),A=Hi(...m.map(Q=>Q.left)),O=m.filter(Q=>x?Q.left===A:Q.right===E),H=O[0].top,L=O[O.length-1].bottom,K=A,Y=E,X=Y-K,oe=L-H;return{top:H,bottom:L,left:K,right:Y,width:X,height:oe,x:K,y:H}}return y}const w=await o.getElementRects({reference:{getBoundingClientRect:C},floating:i.floating,strategy:l});return r.reference.x!==w.reference.x||r.reference.y!==w.reference.y||r.reference.width!==w.reference.width||r.reference.height!==w.reference.height?{reset:{rects:w}}:{}}}},eS=new Set(["left","top"]);async function FI(t,e){const{placement:n,platform:i,elements:r}=t,o=await(i.isRTL==null?void 0:i.isRTL(r.floating)),l=ni(n),c=Ni(n),f=Ai(n)==="y",d=eS.has(l)?-1:1,p=o&&f?-1:1,m=Ii(e,t);let{mainAxis:y,crossAxis:b,alignmentAxis:C}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return c&&typeof C=="number"&&(b=c==="end"?C*-1:C),f?{x:b*p,y:y*d}:{x:y*d,y:b*p}}const qI=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,i;const{x:r,y:o,placement:l,middlewareData:c}=e,f=await FI(e,t);return l===((n=c.offset)==null?void 0:n.placement)&&(i=c.arrow)!=null&&i.alignmentOffset?{}:{x:r+f.x,y:o+f.y,data:{...f,placement:l}}}}},$I=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:i,placement:r}=e,{mainAxis:o=!0,crossAxis:l=!1,limiter:c={fn:x=>{let{x:E,y:A}=x;return{x:E,y:A}}},...f}=Ii(t,e),d={x:n,y:i},p=await ia(e,f),m=Ai(ni(r)),y=Y2(m);let b=d[y],C=d[m];if(o){const x=y==="y"?"top":"left",E=y==="y"?"bottom":"right",A=b+p[x],O=b-p[E];b=S0(A,b,O)}if(l){const x=m==="y"?"top":"left",E=m==="y"?"bottom":"right",A=C+p[x],O=C-p[E];C=S0(A,C,O)}const w=c.fn({...e,[y]:b,[m]:C});return{...w,data:{x:w.x-n,y:w.y-i,enabled:{[y]:o,[m]:l}}}}}},KI=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:i,placement:r,rects:o,middlewareData:l}=e,{offset:c=0,mainAxis:f=!0,crossAxis:d=!0}=Ii(t,e),p={x:n,y:i},m=Ai(r),y=Y2(m);let b=p[y],C=p[m];const w=Ii(c,e),x=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(f){const O=y==="y"?"height":"width",H=o.reference[y]-o.floating[O]+x.mainAxis,L=o.reference[y]+o.reference[O]-x.mainAxis;b<H?b=H:b>L&&(b=L)}if(d){var E,A;const O=y==="y"?"width":"height",H=eS.has(ni(r)),L=o.reference[m]-o.floating[O]+(H&&((E=l.offset)==null?void 0:E[m])||0)+(H?0:x.crossAxis),K=o.reference[m]+o.reference[O]+(H?0:((A=l.offset)==null?void 0:A[m])||0)-(H?x.crossAxis:0);C<L?C=L:C>K&&(C=K)}return{[y]:b,[m]:C}}}},ZI=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,i;const{placement:r,rects:o,platform:l,elements:c}=e,{apply:f=()=>{},...d}=Ii(t,e),p=await ia(e,d),m=ni(r),y=Ni(r),b=Ai(r)==="y",{width:C,height:w}=o.floating;let x,E;m==="top"||m==="bottom"?(x=m,E=y===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(E=m,x=y==="end"?"top":"bottom");const A=w-p.top-p.bottom,O=C-p.left-p.right,H=Hi(w-p[x],A),L=Hi(C-p[E],O),K=!e.middlewareData.shift;let Y=H,X=L;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(X=O),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(Y=A),K&&!y){const Q=gn(p.left,0),le=gn(p.right,0),re=gn(p.top,0),ce=gn(p.bottom,0);b?X=C-2*(Q!==0||le!==0?Q+le:gn(p.left,p.right)):Y=w-2*(re!==0||ce!==0?re+ce:gn(p.top,p.bottom))}await f({...e,availableWidth:X,availableHeight:Y});const oe=await l.getDimensions(c.floating);return C!==oe.width||w!==oe.height?{reset:{rects:!0}}:{}}}};function tS(t){const e=Ci(t);let n=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const r=Ot(t),o=r?t.offsetWidth:n,l=r?t.offsetHeight:i,c=fh(n)!==o||fh(i)!==l;return c&&(n=o,i=l),{width:n,height:i,$:c}}function Q2(t){return dt(t)?t:t.contextElement}function Pl(t){const e=Q2(t);if(!Ot(e))return Ji(1);const n=e.getBoundingClientRect(),{width:i,height:r,$:o}=tS(e);let l=(o?fh(n.width):n.width)/i,c=(o?fh(n.height):n.height)/r;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const YI=Ji(0);function nS(t){const e=Pn(t);return!Wh()||!e.visualViewport?YI:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function GI(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Pn(t)?!1:e}function Ds(t,e,n,i){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect(),o=Q2(t);let l=Ji(1);e&&(i?dt(i)&&(l=Pl(i)):l=Pl(t));const c=GI(o,n,i)?nS(o):Ji(0);let f=(r.left+c.x)/l.x,d=(r.top+c.y)/l.y,p=r.width/l.x,m=r.height/l.y;if(o){const y=Pn(o),b=i&&dt(i)?Pn(i):i;let C=y,w=x0(C);for(;w&&i&&b!==C;){const x=Pl(w),E=w.getBoundingClientRect(),A=Ci(w),O=E.left+(w.clientLeft+parseFloat(A.paddingLeft))*x.x,H=E.top+(w.clientTop+parseFloat(A.paddingTop))*x.y;f*=x.x,d*=x.y,p*=x.x,m*=x.y,f+=O,d+=H,C=Pn(w),w=x0(C)}}return ta({width:p,height:m,x:f,y:d})}function ey(t,e){const n=Jh(t).scrollLeft;return e?e.left+n:Ds(rr(t)).left+n}function iS(t,e,n){n===void 0&&(n=!1);const i=t.getBoundingClientRect(),r=i.left+e.scrollLeft-(n?0:ey(t,i)),o=i.top+e.scrollTop;return{x:r,y:o}}function XI(t){let{elements:e,rect:n,offsetParent:i,strategy:r}=t;const o=r==="fixed",l=rr(i),c=e?Xh(e.floating):!1;if(i===l||c&&o)return n;let f={scrollLeft:0,scrollTop:0},d=Ji(1);const p=Ji(0),m=Ot(i);if((m||!m&&!o)&&((Uo(i)!=="body"||du(l))&&(f=Jh(i)),Ot(i))){const b=Ds(i);d=Pl(i),p.x=b.x+i.clientLeft,p.y=b.y+i.clientTop}const y=l&&!m&&!o?iS(l,f,!0):Ji(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-f.scrollLeft*d.x+p.x+y.x,y:n.y*d.y-f.scrollTop*d.y+p.y+y.y}}function WI(t){return Array.from(t.getClientRects())}function JI(t){const e=rr(t),n=Jh(t),i=t.ownerDocument.body,r=gn(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),o=gn(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let l=-n.scrollLeft+ey(t);const c=-n.scrollTop;return Ci(i).direction==="rtl"&&(l+=gn(e.clientWidth,i.clientWidth)-r),{width:r,height:o,x:l,y:c}}function QI(t,e){const n=Pn(t),i=rr(t),r=n.visualViewport;let o=i.clientWidth,l=i.clientHeight,c=0,f=0;if(r){o=r.width,l=r.height;const d=Wh();(!d||d&&e==="fixed")&&(c=r.offsetLeft,f=r.offsetTop)}return{width:o,height:l,x:c,y:f}}const ez=new Set(["absolute","fixed"]);function tz(t,e){const n=Ds(t,!0,e==="fixed"),i=n.top+t.clientTop,r=n.left+t.clientLeft,o=Ot(t)?Pl(t):Ji(1),l=t.clientWidth*o.x,c=t.clientHeight*o.y,f=r*o.x,d=i*o.y;return{width:l,height:c,x:f,y:d}}function UC(t,e,n){let i;if(e==="viewport")i=QI(t,n);else if(e==="document")i=JI(rr(t));else if(dt(e))i=tz(e,n);else{const r=nS(t);i={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return ta(i)}function rS(t,e){const n=Br(t);return n===e||!dt(n)||Hr(n)?!1:Ci(n).position==="fixed"||rS(n,e)}function nz(t,e){const n=e.get(t);if(n)return n;let i=Do(t,[],!1).filter(c=>dt(c)&&Uo(c)!=="body"),r=null;const o=Ci(t).position==="fixed";let l=o?Br(t):t;for(;dt(l)&&!Hr(l);){const c=Ci(l),f=Z2(l);!f&&c.position==="fixed"&&(r=null),(o?!f&&!r:!f&&c.position==="static"&&!!r&&ez.has(r.position)||du(l)&&!f&&rS(t,l))?i=i.filter(p=>p!==l):r=c,l=Br(l)}return e.set(t,i),i}function iz(t){let{element:e,boundary:n,rootBoundary:i,strategy:r}=t;const l=[...n==="clippingAncestors"?Xh(e)?[]:nz(e,this._c):[].concat(n),i],c=l[0],f=l.reduce((d,p)=>{const m=UC(e,p,r);return d.top=gn(m.top,d.top),d.right=Hi(m.right,d.right),d.bottom=Hi(m.bottom,d.bottom),d.left=gn(m.left,d.left),d},UC(e,c,r));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function rz(t){const{width:e,height:n}=tS(t);return{width:e,height:n}}function oz(t,e,n){const i=Ot(e),r=rr(e),o=n==="fixed",l=Ds(t,!0,o,e);let c={scrollLeft:0,scrollTop:0};const f=Ji(0);function d(){f.x=ey(r)}if(i||!i&&!o)if((Uo(e)!=="body"||du(r))&&(c=Jh(e)),i){const b=Ds(e,!0,o,e);f.x=b.x+e.clientLeft,f.y=b.y+e.clientTop}else r&&d();o&&!i&&r&&d();const p=r&&!i&&!o?iS(r,c):Ji(0),m=l.left+c.scrollLeft-f.x-p.x,y=l.top+c.scrollTop-f.y-p.y;return{x:m,y,width:l.width,height:l.height}}function mg(t){return Ci(t).position==="static"}function PC(t,e){if(!Ot(t)||Ci(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return rr(t)===n&&(n=n.ownerDocument.body),n}function oS(t,e){const n=Pn(t);if(Xh(t))return n;if(!Ot(t)){let r=Br(t);for(;r&&!Hr(r);){if(dt(r)&&!mg(r))return r;r=Br(r)}return n}let i=PC(t,e);for(;i&&VH(i)&&mg(i);)i=PC(i,e);return i&&Hr(i)&&mg(i)&&!Z2(i)?n:i||qH(t)||n}const sz=async function(t){const e=this.getOffsetParent||oS,n=this.getDimensions,i=await n(t.floating);return{reference:oz(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function lz(t){return Ci(t).direction==="rtl"}const az={convertOffsetParentRelativeRectToViewportRelativeRect:XI,getDocumentElement:rr,getClippingRect:iz,getOffsetParent:oS,getElementRects:sz,getClientRects:WI,getDimensions:rz,getScale:Pl,isElement:dt,isRTL:lz};function sS(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function cz(t,e){let n=null,i;const r=rr(t);function o(){var c;clearTimeout(i),(c=n)==null||c.disconnect(),n=null}function l(c,f){c===void 0&&(c=!1),f===void 0&&(f=1),o();const d=t.getBoundingClientRect(),{left:p,top:m,width:y,height:b}=d;if(c||e(),!y||!b)return;const C=Vl(m),w=Vl(r.clientWidth-(p+y)),x=Vl(r.clientHeight-(m+b)),E=Vl(p),O={rootMargin:-C+"px "+-w+"px "+-x+"px "+-E+"px",threshold:gn(0,Hi(1,f))||1};let H=!0;function L(K){const Y=K[0].intersectionRatio;if(Y!==f){if(!H)return l();Y?l(!1,Y):i=setTimeout(()=>{l(!1,1e-7)},1e3)}Y===1&&!sS(d,t.getBoundingClientRect())&&l(),H=!1}try{n=new IntersectionObserver(L,{...O,root:r.ownerDocument})}catch{n=new IntersectionObserver(L,O)}n.observe(t)}return l(!0),o}function ty(t,e,n,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:f=!1}=i,d=Q2(t),p=r||o?[...d?Do(d):[],...Do(e)]:[];p.forEach(E=>{r&&E.addEventListener("scroll",n,{passive:!0}),o&&E.addEventListener("resize",n)});const m=d&&c?cz(d,n):null;let y=-1,b=null;l&&(b=new ResizeObserver(E=>{let[A]=E;A&&A.target===d&&b&&(b.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var O;(O=b)==null||O.observe(e)})),n()}),d&&!f&&b.observe(d),b.observe(e));let C,w=f?Ds(t):null;f&&x();function x(){const E=Ds(t);w&&!sS(w,E)&&n(),w=E,C=requestAnimationFrame(x)}return n(),()=>{var E;p.forEach(A=>{r&&A.removeEventListener("scroll",n),o&&A.removeEventListener("resize",n)}),m?.(),(E=b)==null||E.disconnect(),b=null,f&&cancelAnimationFrame(C)}}const ep=qI,lS=BI,ny=$I,tp=VI,iy=ZI,aS=jI,cS=II,uS=PI,uz=KI,pu=(t,e,n)=>{const i=new Map,r={platform:az,...n},o={...r.platform,_c:i};return HI(t,e,{...r,platform:o})};var fz=typeof document<"u",dz=function(){},yd=fz?M.useLayoutEffect:dz;function bh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,i,r;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(i=n;i--!==0;)if(!bh(t[i],e[i]))return!1;return!0}if(r=Object.keys(t),n=r.length,n!==Object.keys(e).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(e,r[i]))return!1;for(i=n;i--!==0;){const o=r[i];if(!(o==="_owner"&&t.$$typeof)&&!bh(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function fS(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function FC(t,e){const n=fS(t);return Math.round(e*n)/n}function gg(t){const e=M.useRef(t);return yd(()=>{e.current=t}),e}function hz(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:i=[],platform:r,elements:{reference:o,floating:l}={},transform:c=!0,whileElementsMounted:f,open:d}=t,[p,m]=M.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[y,b]=M.useState(i);bh(y,i)||b(i);const[C,w]=M.useState(null),[x,E]=M.useState(null),A=M.useCallback(z=>{z!==K.current&&(K.current=z,w(z))},[]),O=M.useCallback(z=>{z!==Y.current&&(Y.current=z,E(z))},[]),H=o||C,L=l||x,K=M.useRef(null),Y=M.useRef(null),X=M.useRef(p),oe=f!=null,Q=gg(f),le=gg(r),re=gg(d),ce=M.useCallback(()=>{if(!K.current||!Y.current)return;const z={placement:e,strategy:n,middleware:y};le.current&&(z.platform=le.current),pu(K.current,Y.current,z).then(J=>{const R={...J,isPositioned:re.current!==!1};ie.current&&!bh(X.current,R)&&(X.current=R,ca.flushSync(()=>{m(R)}))})},[y,e,n,le,re]);yd(()=>{d===!1&&X.current.isPositioned&&(X.current.isPositioned=!1,m(z=>({...z,isPositioned:!1})))},[d]);const ie=M.useRef(!1);yd(()=>(ie.current=!0,()=>{ie.current=!1}),[]),yd(()=>{if(H&&(K.current=H),L&&(Y.current=L),H&&L){if(Q.current)return Q.current(H,L,ce);ce()}},[H,L,ce,Q,oe]);const $=M.useMemo(()=>({reference:K,floating:Y,setReference:A,setFloating:O}),[A,O]),_=M.useMemo(()=>({reference:H,floating:L}),[H,L]),j=M.useMemo(()=>{const z={position:n,left:0,top:0};if(!_.floating)return z;const J=FC(_.floating,p.x),R=FC(_.floating,p.y);return c?{...z,transform:"translate("+J+"px, "+R+"px)",...fS(_.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:J,top:R}},[n,c,_.floating,p.x,p.y]);return M.useMemo(()=>({...p,update:ce,refs:$,elements:_,floatingStyles:j}),[p,ce,$,_,j])}const ry=(t,e)=>({...ep(t),options:[t,e]}),oy=(t,e)=>({...ny(t),options:[t,e]}),pz=(t,e)=>({...uz(t),options:[t,e]}),sy=(t,e)=>({...tp(t),options:[t,e]});function Vs(t){const e=M.useRef(void 0),n=M.useCallback(i=>{const r=t.map(o=>{if(o!=null){if(typeof o=="function"){const l=o,c=l(i);return typeof c=="function"?c:()=>{l(null)}}return o.current=i,()=>{o.current=null}}});return()=>{r.forEach(o=>o?.())}},t);return M.useMemo(()=>t.every(i=>i==null)?null:i=>{e.current&&(e.current(),e.current=void 0),i!=null&&(e.current=n(i))},t)}function mz(t,e){const n=t.compareDocumentPosition(e);return n&Node.DOCUMENT_POSITION_FOLLOWING||n&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:n&Node.DOCUMENT_POSITION_PRECEDING||n&Node.DOCUMENT_POSITION_CONTAINS?1:0}const dS=M.createContext({register:()=>{},unregister:()=>{},map:new Map,elementsRef:{current:[]}});function gz(t){const{children:e,elementsRef:n,labelsRef:i}=t,[r,o]=M.useState(()=>new Set),l=M.useCallback(d=>{o(p=>new Set(p).add(d))},[]),c=M.useCallback(d=>{o(p=>{const m=new Set(p);return m.delete(d),m})},[]),f=M.useMemo(()=>{const d=new Map;return Array.from(r.keys()).sort(mz).forEach((m,y)=>{d.set(m,y)}),d},[r]);return T.jsx(dS.Provider,{value:M.useMemo(()=>({register:l,unregister:c,map:f,elementsRef:n,labelsRef:i}),[l,c,f,n,i]),children:e})}function yz(t){t===void 0&&(t={});const{label:e}=t,{register:n,unregister:i,map:r,elementsRef:o,labelsRef:l}=M.useContext(dS),[c,f]=M.useState(null),d=M.useRef(null),p=M.useCallback(m=>{if(d.current=m,c!==null&&(o.current[c]=m,l)){var y;const b=e!==void 0;l.current[c]=b?e:(y=m?.textContent)!=null?y:null}},[c,o,l,e]);return ft(()=>{const m=d.current;if(m)return n(m),()=>{i(m)}},[n,i]),ft(()=>{const m=d.current?r.get(d.current):null;m!=null&&f(m)},[r]),M.useMemo(()=>({ref:p,index:c??-1}),[c,p])}const bz="data-floating-ui-focusable",qC="active",$C="selected",mu="ArrowLeft",gu="ArrowRight",hS="ArrowUp",np="ArrowDown",vz={...q5};let KC=!1,Cz=0;const ZC=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Cz++;function wz(){const[t,e]=M.useState(()=>KC?ZC():void 0);return ft(()=>{t==null&&e(ZC())},[]),M.useEffect(()=>{KC=!0},[]),t}const xz=vz.useId,ly=xz||wz;function Sz(){const t=new Map;return{emit(e,n){var i;(i=t.get(e))==null||i.forEach(r=>r(n))},on(e,n){t.has(e)||t.set(e,new Set),t.get(e).add(n)},off(e,n){var i;(i=t.get(e))==null||i.delete(n)}}}const Tz=M.createContext(null),Ez=M.createContext(null),ip=()=>{var t;return((t=M.useContext(Tz))==null?void 0:t.id)||null},yu=()=>M.useContext(Ez);function Ls(t){return"data-floating-ui-"+t}function Sn(t){t.current!==-1&&(clearTimeout(t.current),t.current=-1)}const YC=Ls("safe-polygon");function yg(t,e,n){if(n&&!Gc(n))return 0;if(typeof t=="number")return t;if(typeof t=="function"){const i=t();return typeof i=="number"?i:i?.[e]}return t?.[e]}function bg(t){return typeof t=="function"?t():t}function Mz(t,e){e===void 0&&(e={});const{open:n,onOpenChange:i,dataRef:r,events:o,elements:l}=t,{enabled:c=!0,delay:f=0,handleClose:d=null,mouseOnly:p=!1,restMs:m=0,move:y=!0}=e,b=yu(),C=ip(),w=zn(d),x=zn(f),E=zn(n),A=zn(m),O=M.useRef(),H=M.useRef(-1),L=M.useRef(),K=M.useRef(-1),Y=M.useRef(!0),X=M.useRef(!1),oe=M.useRef(()=>{}),Q=M.useRef(!1),le=Nt(()=>{var j;const z=(j=r.current.openEvent)==null?void 0:j.type;return z?.includes("mouse")&&z!=="mousedown"});M.useEffect(()=>{if(!c)return;function j(z){let{open:J}=z;J||(Sn(H),Sn(K),Y.current=!0,Q.current=!1)}return o.on("openchange",j),()=>{o.off("openchange",j)}},[c,o]),M.useEffect(()=>{if(!c||!w.current||!n)return;function j(J){le()&&i(!1,J,"hover")}const z=an(l.floating).documentElement;return z.addEventListener("mouseleave",j),()=>{z.removeEventListener("mouseleave",j)}},[l.floating,n,i,c,w,le]);const re=M.useCallback(function(j,z,J){z===void 0&&(z=!0),J===void 0&&(J="hover");const R=yg(x.current,"close",O.current);R&&!L.current?(Sn(H),H.current=window.setTimeout(()=>i(!1,j,J),R)):z&&(Sn(H),i(!1,j,J))},[x,i]),ce=Nt(()=>{oe.current(),L.current=void 0}),ie=Nt(()=>{if(X.current){const j=an(l.floating).body;j.style.pointerEvents="",j.removeAttribute(YC),X.current=!1}}),$=Nt(()=>r.current.openEvent?["click","mousedown"].includes(r.current.openEvent.type):!1);M.useEffect(()=>{if(!c)return;function j(F){if(Sn(H),Y.current=!1,p&&!Gc(O.current)||bg(A.current)>0&&!yg(x.current,"open"))return;const te=yg(x.current,"open",O.current);te?H.current=window.setTimeout(()=>{E.current||i(!0,F,"hover")},te):n||i(!0,F,"hover")}function z(F){if($()){ie();return}oe.current();const te=an(l.floating);if(Sn(K),Q.current=!1,w.current&&r.current.floatingContext){n||Sn(H),L.current=w.current({...r.current.floatingContext,tree:b,x:F.clientX,y:F.clientY,onClose(){ie(),ce(),$()||re(F,!0,"safe-polygon")}});const we=L.current;te.addEventListener("mousemove",we),oe.current=()=>{te.removeEventListener("mousemove",we)};return}(O.current==="touch"?!rn(l.floating,F.relatedTarget):!0)&&re(F)}function J(F){$()||r.current.floatingContext&&(w.current==null||w.current({...r.current.floatingContext,tree:b,x:F.clientX,y:F.clientY,onClose(){ie(),ce(),$()||re(F)}})(F))}function R(){Sn(H)}function q(F){$()||re(F,!1)}if(dt(l.domReference)){const F=l.domReference,te=l.floating;return n&&F.addEventListener("mouseleave",J),y&&F.addEventListener("mousemove",j,{once:!0}),F.addEventListener("mouseenter",j),F.addEventListener("mouseleave",z),te&&(te.addEventListener("mouseleave",J),te.addEventListener("mouseenter",R),te.addEventListener("mouseleave",q)),()=>{n&&F.removeEventListener("mouseleave",J),y&&F.removeEventListener("mousemove",j),F.removeEventListener("mouseenter",j),F.removeEventListener("mouseleave",z),te&&(te.removeEventListener("mouseleave",J),te.removeEventListener("mouseenter",R),te.removeEventListener("mouseleave",q))}}},[l,c,t,p,y,re,ce,ie,i,n,E,b,x,w,r,$,A]),ft(()=>{var j;if(c&&n&&(j=w.current)!=null&&(j=j.__options)!=null&&j.blockPointerEvents&&le()){X.current=!0;const J=l.floating;if(dt(l.domReference)&&J){var z;const R=an(l.floating).body;R.setAttribute(YC,"");const q=l.domReference,F=b==null||(z=b.nodesRef.current.find(te=>te.id===C))==null||(z=z.context)==null?void 0:z.elements.floating;return F&&(F.style.pointerEvents=""),R.style.pointerEvents="none",q.style.pointerEvents="auto",J.style.pointerEvents="auto",()=>{R.style.pointerEvents="",q.style.pointerEvents="",J.style.pointerEvents=""}}}},[c,n,C,l,b,w,le]),ft(()=>{n||(O.current=void 0,Q.current=!1,ce(),ie())},[n,ce,ie]),M.useEffect(()=>()=>{ce(),Sn(H),Sn(K),ie()},[c,l.domReference,ce,ie]);const _=M.useMemo(()=>{function j(z){O.current=z.pointerType}return{onPointerDown:j,onPointerEnter:j,onMouseMove(z){const{nativeEvent:J}=z;function R(){!Y.current&&!E.current&&i(!0,J,"hover")}p&&!Gc(O.current)||n||bg(A.current)===0||Q.current&&z.movementX**2+z.movementY**2<2||(Sn(K),O.current==="touch"?R():(Q.current=!0,K.current=window.setTimeout(R,bg(A.current))))}}},[p,i,n,E,A]);return M.useMemo(()=>c?{reference:_}:{},[c,_])}const GC=()=>{},kz=M.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:GC,setState:GC,isInstantPhase:!1});function Az(t){const{children:e,delay:n,timeoutMs:i=0}=t,[r,o]=M.useReducer((f,d)=>({...f,...d}),{delay:n,timeoutMs:i,initialDelay:n,currentId:null,isInstantPhase:!1}),l=M.useRef(null),c=M.useCallback(f=>{o({currentId:f})},[]);return ft(()=>{r.currentId?l.current===null?l.current=r.currentId:r.isInstantPhase||o({isInstantPhase:!0}):(r.isInstantPhase&&o({isInstantPhase:!1}),l.current=null)},[r.currentId,r.isInstantPhase]),T.jsx(kz.Provider,{value:M.useMemo(()=>({...r,setState:o,setCurrentId:c}),[r,c]),children:e})}let XC=0;function fs(t,e){e===void 0&&(e={});const{preventScroll:n=!1,cancelPrevious:i=!0,sync:r=!1}=e;i&&cancelAnimationFrame(XC);const o=()=>t?.focus({preventScroll:n});r?o():XC=requestAnimationFrame(o)}function Rz(t){return t?.ownerDocument||document}const Fl={inert:new WeakMap,"aria-hidden":new WeakMap,none:new WeakMap};function WC(t){return t==="inert"?Fl.inert:t==="aria-hidden"?Fl["aria-hidden"]:Fl.none}let Jf=new WeakSet,Qf={},vg=0;const Oz=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,pS=t=>t&&(t.host||pS(t.parentNode)),Nz=(t,e)=>e.map(n=>{if(t.contains(n))return n;const i=pS(n);return t.contains(i)?i:null}).filter(n=>n!=null);function Dz(t,e,n,i){const r="data-floating-ui-inert",o=i?"inert":n?"aria-hidden":null,l=Nz(e,t),c=new Set,f=new Set(l),d=[];Qf[r]||(Qf[r]=new WeakMap);const p=Qf[r];l.forEach(m),y(e),c.clear();function m(b){!b||c.has(b)||(c.add(b),b.parentNode&&m(b.parentNode))}function y(b){!b||f.has(b)||[].forEach.call(b.children,C=>{if(Uo(C)!=="script")if(c.has(C))y(C);else{const w=o?C.getAttribute(o):null,x=w!==null&&w!=="false",E=WC(o),A=(E.get(C)||0)+1,O=(p.get(C)||0)+1;E.set(C,A),p.set(C,O),d.push(C),A===1&&x&&Jf.add(C),O===1&&C.setAttribute(r,""),!x&&o&&C.setAttribute(o,o==="inert"?"":"true")}})}return vg++,()=>{d.forEach(b=>{const C=WC(o),x=(C.get(b)||0)-1,E=(p.get(b)||0)-1;C.set(b,x),p.set(b,E),x||(!Jf.has(b)&&o&&b.removeAttribute(o),Jf.delete(b)),E||b.removeAttribute(r)}),vg--,vg||(Fl.inert=new WeakMap,Fl["aria-hidden"]=new WeakMap,Fl.none=new WeakMap,Jf=new WeakSet,Qf={})}}function JC(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=Rz(t[0]).body;return Dz(t.concat(Array.from(i.querySelectorAll('[aria-live],[role="status"],output'))),i,e,n)}const rp={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0},vh=M.forwardRef(function(e,n){const[i,r]=M.useState();ft(()=>{Kx()&&r("button")},[]);const o={ref:n,tabIndex:0,role:i,"aria-hidden":i?void 0:!0,[Ls("focus-guard")]:"",style:rp};return T.jsx("span",{...e,...o})}),mS=M.createContext(null),QC=Ls("portal");function Lz(t){t===void 0&&(t={});const{id:e,root:n}=t,i=ly(),r=gS(),[o,l]=M.useState(null),c=M.useRef(null);return ft(()=>()=>{o?.remove(),queueMicrotask(()=>{c.current=null})},[o]),ft(()=>{if(!i||c.current)return;const f=e?document.getElementById(e):null;if(!f)return;const d=document.createElement("div");d.id=i,d.setAttribute(QC,""),f.appendChild(d),c.current=d,l(d)},[e,i]),ft(()=>{if(n===null||!i||c.current)return;let f=n||r?.portalNode;f&&!dt(f)&&(f=f.current),f=f||document.body;let d=null;e&&(d=document.createElement("div"),d.id=e,f.appendChild(d));const p=document.createElement("div");p.id=i,p.setAttribute(QC,""),f=d||f,f.appendChild(p),c.current=p,l(p)},[e,n,i,r]),o}function ay(t){const{children:e,id:n,root:i,preserveTabOrder:r=!0}=t,o=Lz({id:n,root:i}),[l,c]=M.useState(null),f=M.useRef(null),d=M.useRef(null),p=M.useRef(null),m=M.useRef(null),y=l?.modal,b=l?.open,C=!!l&&!l.modal&&l.open&&r&&!!(i||o);return M.useEffect(()=>{if(!o||!r||y)return;function w(x){o&&Lc(x)&&(x.type==="focusin"?zC:_I)(o)}return o.addEventListener("focusin",w,!0),o.addEventListener("focusout",w,!0),()=>{o.removeEventListener("focusin",w,!0),o.removeEventListener("focusout",w,!0)}},[o,r,y]),M.useEffect(()=>{o&&(b||zC(o))},[b,o]),T.jsxs(mS.Provider,{value:M.useMemo(()=>({preserveTabOrder:r,beforeOutsideRef:f,afterOutsideRef:d,beforeInsideRef:p,afterInsideRef:m,portalNode:o,setFocusManagerState:c}),[r,o]),children:[C&&o&&T.jsx(vh,{"data-type":"outside",ref:f,onFocus:w=>{if(Lc(w,o)){var x;(x=p.current)==null||x.focus()}else{const E=l?l.domReference:null,A=Jx(E);A?.focus()}}}),C&&o&&T.jsx("span",{"aria-owns":o.id,style:rp}),o&&ca.createPortal(e,o),C&&o&&T.jsx(vh,{"data-type":"outside",ref:d,onFocus:w=>{if(Lc(w,o)){var x;(x=m.current)==null||x.focus()}else{const E=l?l.domReference:null,A=Wx(E);A?.focus(),l?.closeOnFocusOut&&l?.onOpenChange(!1,w.nativeEvent,"focus-out")}}})]})}const gS=()=>M.useContext(mS);function e5(t){return M.useMemo(()=>e=>{t.forEach(n=>{n&&(n.current=e)})},t)}const _z=20;let ds=[];function Hz(t){ds=ds.filter(e=>e.isConnected),t&&Uo(t)!=="body"&&(ds.push(t),ds.length>_z&&(ds=ds.slice(-20)))}function t5(){return ds.slice().reverse().find(t=>t.isConnected)}function Iz(t){const e=hu();return Fx(t,e)?t:Qh(t,e)[0]||t}function n5(t,e){var n;if(!e.current.includes("floating")&&!((n=t.getAttribute("role"))!=null&&n.includes("dialog")))return;const i=hu(),o=gI(t,i).filter(c=>{const f=c.getAttribute("data-tabindex")||"";return Fx(c,i)||c.hasAttribute("data-tabindex")&&!f.startsWith("-")}),l=t.getAttribute("tabindex");e.current.includes("floating")||o.length===0?l!=="0"&&t.setAttribute("tabindex","0"):(l!=="-1"||t.hasAttribute("data-tabindex")&&t.getAttribute("data-tabindex")!=="-1")&&(t.setAttribute("tabindex","-1"),t.setAttribute("data-tabindex","-1"))}const zz=M.forwardRef(function(e,n){return T.jsx("button",{...e,type:"button",ref:n,tabIndex:-1,style:rp})});function yS(t){const{context:e,children:n,disabled:i=!1,order:r=["content"],guards:o=!0,initialFocus:l=0,returnFocus:c=!0,restoreFocus:f=!1,modal:d=!0,visuallyHiddenDismiss:p=!1,closeOnFocusOut:m=!0,outsideElementsInert:y=!1,getInsideElements:b=()=>[]}=t,{open:C,onOpenChange:w,events:x,dataRef:E,elements:{domReference:A,floating:O}}=e,H=Nt(()=>{var Se;return(Se=E.current.floatingContext)==null?void 0:Se.nodeId}),L=Nt(b),K=typeof l=="number"&&l<0,Y=k0(A)&&K,X=Oz(),oe=X?o:!0,Q=!oe||X&&y,le=zn(r),re=zn(l),ce=zn(c),ie=yu(),$=gS(),_=M.useRef(null),j=M.useRef(null),z=M.useRef(!1),J=M.useRef(!1),R=M.useRef(-1),q=$!=null,F=yh(O),te=Nt(function(Se){return Se===void 0&&(Se=F),Se?Qh(Se,hu()):[]}),ae=Nt(Se=>{const De=te(Se);return le.current.map(Te=>A&&Te==="reference"?A:F&&Te==="floating"?F:De).filter(Boolean).flat()});M.useEffect(()=>{if(i||!d)return;function Se(Te){if(Te.key==="Tab"){rn(F,Wi(an(F)))&&te().length===0&&!Y&&on(Te);const Ee=ae(),Ct=Or(Te);le.current[0]==="reference"&&Ct===A&&(on(Te),Te.shiftKey?fs(Ee[Ee.length-1]):fs(Ee[1])),le.current[1]==="floating"&&Ct===F&&Te.shiftKey&&(on(Te),fs(Ee[0]))}}const De=an(F);return De.addEventListener("keydown",Se),()=>{De.removeEventListener("keydown",Se)}},[i,A,F,d,le,Y,te,ae]),M.useEffect(()=>{if(i||!O)return;function Se(De){const Te=Or(De),Ct=te().indexOf(Te);Ct!==-1&&(R.current=Ct)}return O.addEventListener("focusin",Se),()=>{O.removeEventListener("focusin",Se)}},[i,O,te]),M.useEffect(()=>{if(i||!m)return;function Se(){J.current=!0,setTimeout(()=>{J.current=!1})}function De(Te){const Ee=Te.relatedTarget,Ct=Te.currentTarget,gt=Or(Te);queueMicrotask(()=>{const at=H(),Jt=!(rn(A,Ee)||rn(O,Ee)||rn(Ee,O)||rn($?.portalNode,Ee)||Ee!=null&&Ee.hasAttribute(Ls("focus-guard"))||ie&&(Ts(ie.nodesRef.current,at).find($e=>{var it,un;return rn((it=$e.context)==null?void 0:it.elements.floating,Ee)||rn((un=$e.context)==null?void 0:un.elements.domReference,Ee)})||HC(ie.nodesRef.current,at).find($e=>{var it,un,ge;return[(it=$e.context)==null?void 0:it.elements.floating,yh((un=$e.context)==null?void 0:un.elements.floating)].includes(Ee)||((ge=$e.context)==null?void 0:ge.elements.domReference)===Ee})));if(Ct===A&&F&&n5(F,le),f&&Ct!==A&&!(gt!=null&&gt.isConnected)&&Wi(an(F))===an(F).body){Ot(F)&&F.focus();const $e=R.current,it=te(),un=it[$e]||it[it.length-1]||F;Ot(un)&&un.focus()}if(E.current.insideReactTree){E.current.insideReactTree=!1;return}(Y||!d)&&Ee&&Jt&&!J.current&&Ee!==t5()&&(z.current=!0,w(!1,Te,"focus-out"))})}if(O&&Ot(A))return A.addEventListener("focusout",De),A.addEventListener("pointerdown",Se),O.addEventListener("focusout",De),()=>{A.removeEventListener("focusout",De),A.removeEventListener("pointerdown",Se),O.removeEventListener("focusout",De)}},[i,A,O,F,d,ie,$,w,m,f,te,Y,H,le,E]);const we=M.useRef(null),ue=M.useRef(null),Ge=e5([we,$?.beforeInsideRef]),He=e5([ue,$?.afterInsideRef]);M.useEffect(()=>{var Se,De;if(i||!O)return;const Te=Array.from(($==null||(Se=$.portalNode)==null?void 0:Se.querySelectorAll("["+Ls("portal")+"]"))||[]),Ee=ie?HC(ie.nodesRef.current,H()):[],Ct=ie&&!d?Ee.map($e=>{var it;return(it=$e.context)==null?void 0:it.elements.floating}):[],gt=(De=Ee.find($e=>{var it;return k0(((it=$e.context)==null?void 0:it.elements.domReference)||null)}))==null||(De=De.context)==null?void 0:De.elements.domReference,at=[O,gt,...Te,...Ct,...L(),_.current,j.current,we.current,ue.current,$?.beforeOutsideRef.current,$?.afterOutsideRef.current,le.current.includes("reference")||Y?A:null].filter($e=>$e!=null),Jt=d||Y?JC(at,!Q,Q):JC(at);return()=>{Jt()}},[i,A,O,d,le,$,Y,oe,Q,ie,H,L]),ft(()=>{if(i||!Ot(F))return;const Se=an(F),De=Wi(Se);queueMicrotask(()=>{const Te=ae(F),Ee=re.current,Ct=(typeof Ee=="number"?Te[Ee]:Ee.current)||F,gt=rn(F,De);!K&&!gt&&C&&fs(Ct,{preventScroll:Ct===F})})},[i,C,F,K,ae,re]),ft(()=>{if(i||!F)return;const Se=an(F),De=Wi(Se);Hz(De);function Te(gt){let{reason:at,event:Jt,nested:$e}=gt;if(["hover","safe-polygon"].includes(at)&&Jt.type==="mouseleave"&&(z.current=!0),at==="outside-press")if($e)z.current=!1;else if(Yx(Jt)||Gx(Jt))z.current=!1;else{let it=!1;document.createElement("div").focus({get preventScroll(){return it=!0,!1}}),it?z.current=!1:z.current=!0}}x.on("openchange",Te);const Ee=Se.createElement("span");Ee.setAttribute("tabindex","-1"),Ee.setAttribute("aria-hidden","true"),Object.assign(Ee.style,rp),q&&A&&A.insertAdjacentElement("afterend",Ee);function Ct(){if(typeof ce.current=="boolean"){const gt=A||t5();return gt&&gt.isConnected?gt:Ee}return ce.current.current||Ee}return()=>{x.off("openchange",Te);const gt=Wi(Se),at=rn(O,gt)||ie&&Ts(ie.nodesRef.current,H(),!1).some($e=>{var it;return rn((it=$e.context)==null?void 0:it.elements.floating,gt)}),Jt=Ct();queueMicrotask(()=>{const $e=Iz(Jt);ce.current&&!z.current&&Ot($e)&&(!($e!==gt&&gt!==Se.body)||at)&&$e.focus({preventScroll:!0}),Ee.remove()})}},[i,O,F,ce,E,x,ie,q,A,H]),M.useEffect(()=>{queueMicrotask(()=>{z.current=!1})},[i]),ft(()=>{if(!i&&$)return $.setFocusManagerState({modal:d,closeOnFocusOut:m,open:C,onOpenChange:w,domReference:A}),()=>{$.setFocusManagerState(null)}},[i,$,d,C,w,m,A]),ft(()=>{i||F&&n5(F,le)},[i,F,le]);function cn(Se){return i||!p||!d?null:T.jsx(zz,{ref:Se==="start"?_:j,onClick:De=>w(!1,De.nativeEvent),children:typeof p=="string"?p:"Dismiss"})}const $n=!i&&oe&&(d?!Y:!0)&&(q||d);return T.jsxs(T.Fragment,{children:[$n&&T.jsx(vh,{"data-type":"inside",ref:Ge,onFocus:Se=>{if(d){const Te=ae();fs(r[0]==="reference"?Te[0]:Te[Te.length-1])}else if($!=null&&$.preserveTabOrder&&$.portalNode)if(z.current=!1,Lc(Se,$.portalNode)){const Te=Wx(A);Te?.focus()}else{var De;(De=$.beforeOutsideRef.current)==null||De.focus()}}}),!Y&&cn("start"),n,cn("end"),$n&&T.jsx(vh,{"data-type":"inside",ref:He,onFocus:Se=>{if(d)fs(ae()[0]);else if($!=null&&$.preserveTabOrder&&$.portalNode)if(m&&(z.current=!0),Lc(Se,$.portalNode)){const Te=Jx(A);Te?.focus()}else{var De;(De=$.afterOutsideRef.current)==null||De.focus()}}})]})}function i5(t){return Ot(t.target)&&t.target.tagName==="BUTTON"}function Bz(t){return Ot(t.target)&&t.target.tagName==="A"}function r5(t){return J2(t)}function bS(t,e){e===void 0&&(e={});const{open:n,onOpenChange:i,dataRef:r,elements:{domReference:o}}=t,{enabled:l=!0,event:c="click",toggle:f=!0,ignoreMouse:d=!1,keyboardHandlers:p=!0,stickIfOpen:m=!0}=e,y=M.useRef(),b=M.useRef(!1),C=M.useMemo(()=>({onPointerDown(w){y.current=w.pointerType},onMouseDown(w){const x=y.current;w.button===0&&c!=="click"&&(Gc(x,!0)&&d||(n&&f&&(!(r.current.openEvent&&m)||r.current.openEvent.type==="mousedown")?i(!1,w.nativeEvent,"click"):(w.preventDefault(),i(!0,w.nativeEvent,"click"))))},onClick(w){const x=y.current;if(c==="mousedown"&&y.current){y.current=void 0;return}Gc(x,!0)&&d||(n&&f&&(!(r.current.openEvent&&m)||r.current.openEvent.type==="click")?i(!1,w.nativeEvent,"click"):i(!0,w.nativeEvent,"click"))},onKeyDown(w){y.current=void 0,!(w.defaultPrevented||!p||i5(w))&&(w.key===" "&&!r5(o)&&(w.preventDefault(),b.current=!0),!Bz(w)&&w.key==="Enter"&&i(!(n&&f),w.nativeEvent,"click"))},onKeyUp(w){w.defaultPrevented||!p||i5(w)||r5(o)||w.key===" "&&b.current&&(b.current=!1,i(!(n&&f),w.nativeEvent,"click"))}}),[r,o,c,d,p,i,n,m,f]);return M.useMemo(()=>l?{reference:C}:{},[l,C])}const Vz={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},jz={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},o5=t=>{var e,n;return{escapeKey:typeof t=="boolean"?t:(e=t?.escapeKey)!=null?e:!1,outsidePress:typeof t=="boolean"?t:(n=t?.outsidePress)!=null?n:!0}};function cy(t,e){e===void 0&&(e={});const{open:n,onOpenChange:i,elements:r,dataRef:o}=t,{enabled:l=!0,escapeKey:c=!0,outsidePress:f=!0,outsidePressEvent:d="pointerdown",referencePress:p=!1,referencePressEvent:m="pointerdown",ancestorScroll:y=!1,bubbles:b,capture:C}=e,w=yu(),x=Nt(typeof f=="function"?f:()=>!1),E=typeof f=="function"?x:f,A=M.useRef(!1),{escapeKey:O,outsidePress:H}=o5(b),{escapeKey:L,outsidePress:K}=o5(C),Y=M.useRef(!1),X=M.useRef(-1),oe=Nt($=>{var _;if(!n||!l||!c||$.key!=="Escape"||Y.current)return;const j=(_=o.current.floatingContext)==null?void 0:_.nodeId,z=w?Ts(w.nodesRef.current,j):[];if(!O&&($.stopPropagation(),z.length>0)){let J=!0;if(z.forEach(R=>{var q;if((q=R.context)!=null&&q.open&&!R.context.dataRef.current.__escapeKeyBubbles){J=!1;return}}),!J)return}i(!1,TI($)?$.nativeEvent:$,"escape-key")}),Q=Nt($=>{var _;const j=()=>{var z;oe($),(z=Or($))==null||z.removeEventListener("keydown",j)};(_=Or($))==null||_.addEventListener("keydown",j)}),le=Nt($=>{var _;const j=o.current.insideReactTree;o.current.insideReactTree=!1;const z=A.current;if(A.current=!1,d==="click"&&z||j||typeof E=="function"&&!E($))return;const J=Or($),R="["+Ls("inert")+"]",q=an(r.floating).querySelectorAll(R);let F=dt(J)?J:null;for(;F&&!Hr(F);){const ue=Br(F);if(Hr(ue)||!dt(ue))break;F=ue}if(q.length&&dt(J)&&!wI(J)&&!rn(J,r.floating)&&Array.from(q).every(ue=>!rn(F,ue)))return;if(Ot(J)&&ie){const ue=Hr(J),Ge=Ci(J),He=/auto|scroll/,cn=ue||He.test(Ge.overflowX),$n=ue||He.test(Ge.overflowY),Se=cn&&J.clientWidth>0&&J.scrollWidth>J.clientWidth,De=$n&&J.clientHeight>0&&J.scrollHeight>J.clientHeight,Te=Ge.direction==="rtl",Ee=De&&(Te?$.offsetX<=J.offsetWidth-J.clientWidth:$.offsetX>J.clientWidth),Ct=Se&&$.offsetY>J.clientHeight;if(Ee||Ct)return}const te=(_=o.current.floatingContext)==null?void 0:_.nodeId,ae=w&&Ts(w.nodesRef.current,te).some(ue=>{var Ge;return hg($,(Ge=ue.context)==null?void 0:Ge.elements.floating)});if(hg($,r.floating)||hg($,r.domReference)||ae)return;const we=w?Ts(w.nodesRef.current,te):[];if(we.length>0){let ue=!0;if(we.forEach(Ge=>{var He;if((He=Ge.context)!=null&&He.open&&!Ge.context.dataRef.current.__outsidePressBubbles){ue=!1;return}}),!ue)return}i(!1,$,"outside-press")}),re=Nt($=>{var _;const j=()=>{var z;le($),(z=Or($))==null||z.removeEventListener(d,j)};(_=Or($))==null||_.addEventListener(d,j)});M.useEffect(()=>{if(!n||!l)return;o.current.__escapeKeyBubbles=O,o.current.__outsidePressBubbles=H;let $=-1;function _(q){i(!1,q,"ancestor-scroll")}function j(){window.clearTimeout($),Y.current=!0}function z(){$=window.setTimeout(()=>{Y.current=!1},Wh()?5:0)}const J=an(r.floating);c&&(J.addEventListener("keydown",L?Q:oe,L),J.addEventListener("compositionstart",j),J.addEventListener("compositionend",z)),E&&J.addEventListener(d,K?re:le,K);let R=[];return y&&(dt(r.domReference)&&(R=Do(r.domReference)),dt(r.floating)&&(R=R.concat(Do(r.floating))),!dt(r.reference)&&r.reference&&r.reference.contextElement&&(R=R.concat(Do(r.reference.contextElement)))),R=R.filter(q=>{var F;return q!==((F=J.defaultView)==null?void 0:F.visualViewport)}),R.forEach(q=>{q.addEventListener("scroll",_,{passive:!0})}),()=>{c&&(J.removeEventListener("keydown",L?Q:oe,L),J.removeEventListener("compositionstart",j),J.removeEventListener("compositionend",z)),E&&J.removeEventListener(d,K?re:le,K),R.forEach(q=>{q.removeEventListener("scroll",_)}),window.clearTimeout($)}},[o,r,c,E,d,n,i,y,l,O,H,oe,L,Q,le,K,re]),M.useEffect(()=>{o.current.insideReactTree=!1},[o,E,d]);const ce=M.useMemo(()=>({onKeyDown:oe,...p&&{[Vz[m]]:$=>{i(!1,$.nativeEvent,"reference-press")},...m!=="click"&&{onClick($){i(!1,$.nativeEvent,"reference-press")}}}}),[oe,i,p,m]),ie=M.useMemo(()=>({onKeyDown:oe,onMouseDown(){A.current=!0},onMouseUp(){A.current=!0},[jz[d]]:()=>{o.current.insideReactTree=!0},onBlurCapture(){w||(Sn(X),o.current.insideReactTree=!0,X.current=window.setTimeout(()=>{o.current.insideReactTree=!1}))}}),[oe,d,o,w]);return M.useMemo(()=>l?{reference:ce,floating:ie}:{},[l,ce,ie])}function Uz(t){const{open:e=!1,onOpenChange:n,elements:i}=t,r=ly(),o=M.useRef({}),[l]=M.useState(()=>Sz()),c=ip()!=null,[f,d]=M.useState(i.reference),p=Nt((b,C,w)=>{o.current.openEvent=b?C:void 0,l.emit("openchange",{open:b,event:C,reason:w,nested:c}),n?.(b,C,w)}),m=M.useMemo(()=>({setPositionReference:d}),[]),y=M.useMemo(()=>({reference:f||i.reference||null,floating:i.floating||null,domReference:i.reference}),[f,i.reference,i.floating]);return M.useMemo(()=>({dataRef:o,open:e,onOpenChange:p,elements:y,events:l,floatingId:r,refs:m}),[e,p,y,l,r,m])}function uy(t){t===void 0&&(t={});const{nodeId:e}=t,n=Uz({...t,elements:{reference:null,floating:null,...t.elements}}),i=t.rootContext||n,r=i.elements,[o,l]=M.useState(null),[c,f]=M.useState(null),p=r?.domReference||o,m=M.useRef(null),y=yu();ft(()=>{p&&(m.current=p)},[p]);const b=hz({...t,elements:{...r,...c&&{reference:c}}}),C=M.useCallback(O=>{const H=dt(O)?{getBoundingClientRect:()=>O.getBoundingClientRect(),getClientRects:()=>O.getClientRects(),contextElement:O}:O;f(H),b.refs.setReference(H)},[b.refs]),w=M.useCallback(O=>{(dt(O)||O===null)&&(m.current=O,l(O)),(dt(b.refs.reference.current)||b.refs.reference.current===null||O!==null&&!dt(O))&&b.refs.setReference(O)},[b.refs]),x=M.useMemo(()=>({...b.refs,setReference:w,setPositionReference:C,domReference:m}),[b.refs,w,C]),E=M.useMemo(()=>({...b.elements,domReference:p}),[b.elements,p]),A=M.useMemo(()=>({...b,...i,refs:x,elements:E,nodeId:e}),[b,x,E,e,i]);return ft(()=>{i.dataRef.current.floatingContext=A;const O=y?.nodesRef.current.find(H=>H.id===e);O&&(O.context=A)}),M.useMemo(()=>({...b,context:A,refs:x,elements:E}),[b,x,E,A])}function Cg(){return yI()&&Kx()}function Pz(t,e){e===void 0&&(e={});const{open:n,onOpenChange:i,events:r,dataRef:o,elements:l}=t,{enabled:c=!0,visibleOnly:f=!0}=e,d=M.useRef(!1),p=M.useRef(-1),m=M.useRef(!0);M.useEffect(()=>{if(!c)return;const b=Pn(l.domReference);function C(){!n&&Ot(l.domReference)&&l.domReference===Wi(an(l.domReference))&&(d.current=!0)}function w(){m.current=!0}function x(){m.current=!1}return b.addEventListener("blur",C),Cg()&&(b.addEventListener("keydown",w,!0),b.addEventListener("pointerdown",x,!0)),()=>{b.removeEventListener("blur",C),Cg()&&(b.removeEventListener("keydown",w,!0),b.removeEventListener("pointerdown",x,!0))}},[l.domReference,n,c]),M.useEffect(()=>{if(!c)return;function b(C){let{reason:w}=C;(w==="reference-press"||w==="escape-key")&&(d.current=!0)}return r.on("openchange",b),()=>{r.off("openchange",b)}},[r,c]),M.useEffect(()=>()=>{Sn(p)},[]);const y=M.useMemo(()=>({onMouseLeave(){d.current=!1},onFocus(b){if(d.current)return;const C=Or(b.nativeEvent);if(f&&dt(C)){if(Cg()&&!b.relatedTarget){if(!m.current&&!J2(C))return}else if(!xI(C))return}i(!0,b.nativeEvent,"focus")},onBlur(b){d.current=!1;const C=b.relatedTarget,w=b.nativeEvent,x=dt(C)&&C.hasAttribute(Ls("focus-guard"))&&C.getAttribute("data-type")==="outside";p.current=window.setTimeout(()=>{var E;const A=Wi(l.domReference?l.domReference.ownerDocument:document);!C&&A===l.domReference||rn((E=o.current.floatingContext)==null?void 0:E.refs.floating.current,A)||rn(l.domReference,A)||x||i(!1,w,"focus")})}}),[o,l.domReference,i,f]);return M.useMemo(()=>c?{reference:y}:{},[c,y])}function wg(t,e,n){const i=new Map,r=n==="item";let o=t;if(r&&t){const{[qC]:l,[$C]:c,...f}=t;o=f}return{...n==="floating"&&{tabIndex:-1,[bz]:""},...o,...e.map(l=>{const c=l?l[n]:null;return typeof c=="function"?t?c(t):null:c}).concat(t).reduce((l,c)=>(c&&Object.entries(c).forEach(f=>{let[d,p]=f;if(!(r&&[qC,$C].includes(d)))if(d.indexOf("on")===0){if(i.has(d)||i.set(d,[]),typeof p=="function"){var m;(m=i.get(d))==null||m.push(p),l[d]=function(){for(var y,b=arguments.length,C=new Array(b),w=0;w<b;w++)C[w]=arguments[w];return(y=i.get(d))==null?void 0:y.map(x=>x(...C)).find(x=>x!==void 0)}}}else l[d]=p}),l),{})}}function fy(t){t===void 0&&(t=[]);const e=t.map(c=>c?.reference),n=t.map(c=>c?.floating),i=t.map(c=>c?.item),r=M.useCallback(c=>wg(c,t,"reference"),e),o=M.useCallback(c=>wg(c,t,"floating"),n),l=M.useCallback(c=>wg(c,t,"item"),i);return M.useMemo(()=>({getReferenceProps:r,getFloatingProps:o,getItemProps:l}),[r,o,l])}const Fz="Escape";function op(t,e,n){switch(t){case"vertical":return e;case"horizontal":return n;default:return e||n}}function ed(t,e){return op(e,t===hS||t===np,t===mu||t===gu)}function xg(t,e,n){return op(e,t===np,n?t===mu:t===gu)||t==="Enter"||t===" "||t===""}function s5(t,e,n){return op(e,n?t===mu:t===gu,t===np)}function l5(t,e,n,i){const r=n?t===gu:t===mu,o=t===hS;return e==="both"||e==="horizontal"&&i&&i>1?t===Fz:op(e,r,o)}function qz(t,e){const{open:n,onOpenChange:i,elements:r,floatingId:o}=t,{listRef:l,activeIndex:c,onNavigate:f=()=>{},enabled:d=!0,selectedIndex:p=null,allowEscape:m=!1,loop:y=!1,nested:b=!1,rtl:C=!1,virtual:w=!1,focusItemOnOpen:x="auto",focusItemOnHover:E=!0,openOnArrowKeyDown:A=!0,disabledIndices:O=void 0,orientation:H="vertical",parentOrientation:L,cols:K=1,scrollItemIntoView:Y=!0,virtualItemRef:X,itemSizes:oe,dense:Q=!1}=e,le=yh(r.floating),re=zn(le),ce=ip(),ie=yu();ft(()=>{t.dataRef.current.orientation=H},[t,H]);const $=Nt(()=>{f(z.current===-1?null:z.current)}),_=k0(r.domReference),j=M.useRef(x),z=M.useRef(p??-1),J=M.useRef(null),R=M.useRef(!0),q=M.useRef($),F=M.useRef(!!r.floating),te=M.useRef(n),ae=M.useRef(!1),we=M.useRef(!1),ue=zn(O),Ge=zn(n),He=zn(Y),cn=zn(p),[$n,Se]=M.useState(),[De,Te]=M.useState(),Ee=Nt(()=>{function ge(Ke){if(w){var Ie;(Ie=Ke.id)!=null&&Ie.endsWith("-fui-option")&&(Ke.id=o+"-"+Math.random().toString(16).slice(2,10)),Se(Ke.id),ie?.events.emit("virtualfocus",Ke),X&&(X.current=Ke)}else fs(Ke,{sync:ae.current,preventScroll:!0})}const Ue=l.current[z.current],ve=we.current;Ue&&ge(Ue),(ae.current?Ke=>Ke():requestAnimationFrame)(()=>{const Ke=l.current[z.current]||Ue;if(!Ke)return;Ue||ge(Ke);const Ie=He.current;Ie&&gt&&(ve||!R.current)&&(Ke.scrollIntoView==null||Ke.scrollIntoView(typeof Ie=="boolean"?{block:"nearest",inline:"nearest"}:Ie))})});ft(()=>{d&&(n&&r.floating?j.current&&p!=null&&(we.current=!0,z.current=p,$()):F.current&&(z.current=-1,q.current()))},[d,n,r.floating,p,$]),ft(()=>{if(d&&n&&r.floating)if(c==null){if(ae.current=!1,cn.current!=null)return;if(F.current&&(z.current=-1,Ee()),(!te.current||!F.current)&&j.current&&(J.current!=null||j.current===!0&&J.current==null)){let ge=0;const Ue=()=>{l.current[0]==null?(ge<2&&(ge?requestAnimationFrame:queueMicrotask)(Ue),ge++):(z.current=J.current==null||xg(J.current,H,C)||b?pg(l,ue.current):IC(l,ue.current),J.current=null,$())};Ue()}}else Dc(l,c)||(z.current=c,Ee(),we.current=!1)},[d,n,r.floating,c,cn,b,l,H,C,$,Ee,ue]),ft(()=>{var ge;if(!d||r.floating||!ie||w||!F.current)return;const Ue=ie.nodesRef.current,ve=(ge=Ue.find(Ie=>Ie.id===ce))==null||(ge=ge.context)==null?void 0:ge.elements.floating,ct=Wi(an(r.floating)),Ke=Ue.some(Ie=>Ie.context&&rn(Ie.context.elements.floating,ct));ve&&!Ke&&R.current&&ve.focus({preventScroll:!0})},[d,r.floating,ie,ce,w]),ft(()=>{if(!d||!ie||!w||ce)return;function ge(Ue){Te(Ue.id),X&&(X.current=Ue)}return ie.events.on("virtualfocus",ge),()=>{ie.events.off("virtualfocus",ge)}},[d,ie,w,ce,X]),ft(()=>{q.current=$,te.current=n,F.current=!!r.floating}),ft(()=>{n||(J.current=null,j.current=x)},[n,x]);const Ct=c!=null,gt=M.useMemo(()=>{function ge(ve){if(!Ge.current)return;const ct=l.current.indexOf(ve);ct!==-1&&z.current!==ct&&(z.current=ct,$())}return{onFocus(ve){let{currentTarget:ct}=ve;ae.current=!0,ge(ct)},onClick:ve=>{let{currentTarget:ct}=ve;return ct.focus({preventScroll:!0})},...E&&{onMouseMove(ve){let{currentTarget:ct}=ve;ae.current=!0,we.current=!1,ge(ct)},onPointerLeave(ve){let{pointerType:ct}=ve;if(!(!R.current||ct==="touch")&&(ae.current=!0,z.current=-1,$(),!w)){var Ke;(Ke=re.current)==null||Ke.focus({preventScroll:!0})}}}}},[Ge,re,E,l,$,w]),at=M.useCallback(()=>{var ge;return L??(ie==null||(ge=ie.nodesRef.current.find(Ue=>Ue.id===ce))==null||(ge=ge.context)==null||(ge=ge.dataRef)==null?void 0:ge.current.orientation)},[ce,ie,L]),Jt=Nt(ge=>{if(R.current=!1,ae.current=!0,ge.which===229||!Ge.current&&ge.currentTarget===re.current)return;if(b&&l5(ge.key,H,C,K)){ed(ge.key,at())||on(ge),i(!1,ge.nativeEvent,"list-navigation"),Ot(r.domReference)&&(w?ie?.events.emit("virtualfocus",r.domReference):r.domReference.focus());return}const Ue=z.current,ve=pg(l,O),ct=IC(l,O);if(_||(ge.key==="Home"&&(on(ge),z.current=ve,$()),ge.key==="End"&&(on(ge),z.current=ct,$())),K>1){const Ke=oe||Array.from({length:l.current.length},()=>({width:1,height:1})),Ie=NI(Ke,K,Q),An=Ie.findIndex(Rn=>Rn!=null&&!gd(l,Rn,O)),Pt=Ie.reduce((Rn,or,sr)=>or!=null&&!gd(l,or,O)?sr:Rn,-1),Po=Ie[OI({current:Ie.map(Rn=>Rn!=null?l.current[Rn]:null)},{event:ge,orientation:H,loop:y,rtl:C,cols:K,disabledIndices:LI([...(typeof O!="function"?O:null)||l.current.map((Rn,or)=>gd(l,or,O)?or:void 0),void 0],Ie),minIndex:An,maxIndex:Pt,prevIndex:DI(z.current>ct?ve:z.current,Ke,Ie,K,ge.key===np?"bl":ge.key===(C?mu:gu)?"tr":"tl"),stopEvent:!0})];if(Po!=null&&(z.current=Po,$()),H==="both")return}if(ed(ge.key,H)){if(on(ge),n&&!w&&Wi(ge.currentTarget.ownerDocument)===ge.currentTarget){z.current=xg(ge.key,H,C)?ve:ct,$();return}xg(ge.key,H,C)?y?z.current=Ue>=ct?m&&Ue!==l.current.length?-1:ve:mn(l,{startingIndex:Ue,disabledIndices:O}):z.current=Math.min(ct,mn(l,{startingIndex:Ue,disabledIndices:O})):y?z.current=Ue<=ve?m&&Ue!==-1?l.current.length:ct:mn(l,{startingIndex:Ue,decrement:!0,disabledIndices:O}):z.current=Math.max(ve,mn(l,{startingIndex:Ue,decrement:!0,disabledIndices:O})),Dc(l,z.current)&&(z.current=-1),$()}}),$e=M.useMemo(()=>w&&n&&Ct&&{"aria-activedescendant":De||$n},[w,n,Ct,De,$n]),it=M.useMemo(()=>({"aria-orientation":H==="both"?void 0:H,..._?{}:$e,onKeyDown:Jt,onPointerMove(){R.current=!0}}),[$e,Jt,H,_]),un=M.useMemo(()=>{function ge(ve){x==="auto"&&Yx(ve.nativeEvent)&&(j.current=!0)}function Ue(ve){j.current=x,x==="auto"&&Gx(ve.nativeEvent)&&(j.current=!0)}return{...$e,onKeyDown(ve){R.current=!1;const ct=ve.key.startsWith("Arrow"),Ke=["Home","End"].includes(ve.key),Ie=ct||Ke,An=s5(ve.key,H,C),Pt=l5(ve.key,H,C,K),Po=s5(ve.key,at(),C),Rn=ed(ve.key,H),or=(b?Po:Rn)||ve.key==="Enter"||ve.key.trim()==="";if(w&&n){const lr=ie?.nodesRef.current.find(Ps=>Ps.parentId==null),On=ie&&lr?SI(ie.nodesRef.current,lr.id):null;if(Ie&&On&&X){const Ps=new KeyboardEvent("keydown",{key:ve.key,bubbles:!0});if(An||Pt){var sr,Fo;const Su=((sr=On.context)==null?void 0:sr.elements.domReference)===ve.currentTarget,ma=Pt&&!Su?(Fo=On.context)==null?void 0:Fo.elements.domReference:An?l.current.find(Fs=>Fs?.id===$n):null;ma&&(on(ve),ma.dispatchEvent(Ps),Te(void 0))}if((Rn||Ke)&&On.context&&On.context.open&&On.parentId&&ve.currentTarget!==On.context.elements.domReference){var Ui;on(ve),(Ui=On.context.elements.domReference)==null||Ui.dispatchEvent(Ps);return}}return Jt(ve)}if(!(!n&&!A&&ct)){if(or){const lr=ed(ve.key,at());J.current=b&&lr?null:ve.key}if(b){Po&&(on(ve),n?(z.current=pg(l,ue.current),$()):i(!0,ve.nativeEvent,"list-navigation"));return}Rn&&(p!=null&&(z.current=p),on(ve),!n&&A?i(!0,ve.nativeEvent,"list-navigation"):Jt(ve),n&&$())}},onFocus(){n&&!w&&(z.current=-1,$())},onPointerDown:Ue,onPointerEnter:Ue,onMouseDown:ge,onClick:ge}},[$n,$e,K,Jt,ue,x,l,b,$,i,n,A,H,at,C,p,ie,w,X]);return M.useMemo(()=>d?{reference:un,floating:it,item:gt}:{},[d,un,it,gt])}const $z=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function dy(t,e){var n,i;e===void 0&&(e={});const{open:r,elements:o,floatingId:l}=t,{enabled:c=!0,role:f="dialog"}=e,d=ly(),p=((n=o.domReference)==null?void 0:n.id)||d,m=M.useMemo(()=>{var A;return((A=yh(o.floating))==null?void 0:A.id)||l},[o.floating,l]),y=(i=$z.get(f))!=null?i:f,C=ip()!=null,w=M.useMemo(()=>y==="tooltip"||f==="label"?{["aria-"+(f==="label"?"labelledby":"describedby")]:r?m:void 0}:{"aria-expanded":r?"true":"false","aria-haspopup":y==="alertdialog"?"dialog":y,"aria-controls":r?m:void 0,...y==="listbox"&&{role:"combobox"},...y==="menu"&&{id:p},...y==="menu"&&C&&{role:"menuitem"},...f==="select"&&{"aria-autocomplete":"none"},...f==="combobox"&&{"aria-autocomplete":"list"}},[y,m,C,r,p,f]),x=M.useMemo(()=>{const A={id:m,...y&&{role:y}};return y==="tooltip"||f==="label"?A:{...A,...y==="menu"&&{"aria-labelledby":p}}},[y,m,p,f]),E=M.useCallback(A=>{let{active:O,selected:H}=A;const L={role:"option",...O&&{id:m+"-fui-option"}};switch(f){case"select":return{...L,"aria-selected":O&&H};case"combobox":return{...L,"aria-selected":H}}return{}},[m,f]);return M.useMemo(()=>c?{reference:w,floating:x,item:E}:{},[c,w,x,E])}function Kz(t,e){var n;const{open:i,dataRef:r}=t,{listRef:o,activeIndex:l,onMatch:c,onTypingChange:f,enabled:d=!0,findMatch:p=null,resetMs:m=750,ignoreKeys:y=[],selectedIndex:b=null}=e,C=M.useRef(-1),w=M.useRef(""),x=M.useRef((n=b??l)!=null?n:-1),E=M.useRef(null),A=Nt(c),O=Nt(f),H=zn(p),L=zn(y);ft(()=>{i&&(Sn(C),E.current=null,w.current="")},[i]),ft(()=>{if(i&&w.current===""){var Q;x.current=(Q=b??l)!=null?Q:-1}},[i,b,l]);const K=Nt(Q=>{Q?r.current.typing||(r.current.typing=Q,O(Q)):r.current.typing&&(r.current.typing=Q,O(Q))}),Y=Nt(Q=>{function le(_,j,z){const J=H.current?H.current(j,z):j.find(R=>R?.toLocaleLowerCase().indexOf(z.toLocaleLowerCase())===0);return J?_.indexOf(J):-1}const re=o.current;if(w.current.length>0&&w.current[0]!==" "&&(le(re,re,w.current)===-1?K(!1):Q.key===" "&&on(Q)),re==null||L.current.includes(Q.key)||Q.key.length!==1||Q.ctrlKey||Q.metaKey||Q.altKey)return;i&&Q.key!==" "&&(on(Q),K(!0)),re.every(_=>{var j,z;return _?((j=_[0])==null?void 0:j.toLocaleLowerCase())!==((z=_[1])==null?void 0:z.toLocaleLowerCase()):!0})&&w.current===Q.key&&(w.current="",x.current=E.current),w.current+=Q.key,Sn(C),C.current=window.setTimeout(()=>{w.current="",x.current=E.current,K(!1)},m);const ie=x.current,$=le(re,[...re.slice((ie||0)+1),...re.slice(0,(ie||0)+1)],w.current);$!==-1?(A($),E.current=$):Q.key!==" "&&(w.current="",K(!1))}),X=M.useMemo(()=>({onKeyDown:Y}),[Y]),oe=M.useMemo(()=>({onKeyDown:Y,onKeyUp(Q){Q.key===" "&&K(!1)}}),[Y,K]);return M.useMemo(()=>d?{reference:X,floating:oe}:{},[d,X,oe])}function Zz({initialOpen:t=!1,placement:e="top",open:n,onOpenChange:i,delay:r=600,closeDelay:o=0}={}){const[l,c]=M.useState(t),f=n??l,d=i??c,p=uy({placement:e,open:f,onOpenChange:d,whileElementsMounted:ty,middleware:[ry(4),sy({crossAxis:e.includes("-"),fallbackAxisSideDirection:"start",padding:4}),oy({padding:4})]}),m=p.context,y=Mz(m,{mouseOnly:!0,move:!1,restMs:r,enabled:n==null,delay:{close:o}}),b=Pz(m,{enabled:n==null}),C=cy(m),w=dy(m,{role:"tooltip"}),x=fy([y,b,C,w]);return M.useMemo(()=>({open:f,setOpen:d,...x,...p}),[f,d,x,p])}const A0=M.createContext(null);function vS(){const t=M.useContext(A0);if(t==null)throw new Error("Tooltip components must be wrapped in <TooltipProvider />");return t}function CS({children:t,...e}){const n=Zz(e);return e.useDelayGroup?T.jsx(Az,{delay:{open:e.delay??0,close:e.closeDelay??0},timeoutMs:e.timeout,children:T.jsx(A0.Provider,{value:n,children:t})}):T.jsx(A0.Provider,{value:n,children:t})}const wS=M.forwardRef(function({children:e,asChild:n=!1,...i},r){const o=vS(),l=M.isValidElement(e)?parseInt(M.version,10)>=19?e.props.ref:e.ref:void 0,c=Vs([o.refs.setReference,r,l]);if(n&&M.isValidElement(e)){const f={"data-tooltip-state":o.open?"open":"closed"};return M.cloneElement(e,o.getReferenceProps({ref:c,...i,...typeof e.props=="object"?e.props:{},...f}))}return T.jsx("button",{ref:c,"data-tooltip-state":o.open?"open":"closed",...o.getReferenceProps(i),children:e})}),xS=M.forwardRef(function({style:e,children:n,portal:i=!0,portalProps:r={},...o},l){const c=vS(),f=Vs([c.refs.setFloating,l]);if(!c.open)return null;const d=T.jsx("div",{ref:f,style:{...c.floatingStyles,...e},...c.getFloatingProps(o),className:"tiptap-tooltip",children:n});return i?T.jsx(ay,{...r,children:d}):d});CS.displayName="Tooltip";wS.displayName="TooltipTrigger";xS.displayName="TooltipContent";const Yz={ctrl:"⌘",alt:"⌥",shift:"⇧"},Gz=(t,e)=>{if(e){const n=t.toLowerCase();return Yz[n]||t.toUpperCase()}return t.charAt(0).toUpperCase()+t.slice(1)},Xz=(t,e)=>t?t.split("-").map(n=>n.trim()).map(n=>Gz(n,e)):[],Wz=({shortcuts:t})=>t.length===0?null:T.jsx("div",{children:t.map((e,n)=>T.jsxs(M.Fragment,{children:[n>0&&T.jsx("kbd",{children:"+"}),T.jsx("kbd",{children:e})]},n))}),zt=M.forwardRef(({className:t="",spanTag:e,children:n,tooltip:i,showTooltip:r=!0,shortcutKeys:o,"aria-label":l,...c},f)=>{const d=M.useMemo(()=>typeof navigator<"u"&&navigator.platform.toLowerCase().includes("mac"),[]),p=M.useMemo(()=>Xz(o,d),[o,d]);return!i||!r?e?T.jsx("span",{className:`tiptap-button ${t}`.trim(),ref:f,"aria-label":l,...c,children:n}):T.jsx("button",{className:`tiptap-button ${t}`.trim(),ref:f,"aria-label":l,...c,children:n}):T.jsxs(CS,{delay:200,children:[T.jsx(wS,{className:`tiptap-button ${t}`.trim(),ref:f,"aria-label":l,...c,children:n}),T.jsxs(xS,{children:[i,T.jsx(Wz,{shortcuts:p})]})]})});zt.displayName="Button";const Jz={cs:{addColumns:"Přidat sloupce"},en:{addColumns:"Add columns"}},Qz=M.forwardRef(({editor:t,disabled:e},n)=>{const i=K2(t),r=M.useCallback(l=>{!l.defaultPrevented&&!e&&i&&i.chain().focus().insertFolioTiptapColumns({count:2}).run()},[e]);if(!i||!i.isEditable)return null;const o=Me(Jz,"addColumns");return T.jsx(zt,{ref:n,type:"button","data-style":"ghost",role:"button",tabIndex:-1,"aria-label":o,tooltip:o,onClick:r,children:T.jsx(Nx,{className:"tiptap-button-icon"})})});Qz.displayName="FolioTiptapColumnsButton";const eB=[{variant:"large",title:{cs:"Velký text",en:"Large text"},icon:Ox},{variant:"small",title:{cs:"Malý text",en:"Small text"},icon:Rx}],tB=VD.extend({name:"styledParagraph",renderHTML({HTMLAttributes:t}){return["p",{...t,class:"f-tiptap-styled-paragraph"},0]},addOptions(){return{variants:eB}},addAttributes(){return{variant:{default:null,parseHTML:t=>t.getAttribute("data-variant"),renderHTML:t=>({"data-variant":t.variant})}}}}),SS=vt.create({name:"folioTiptapFloatAside",isolating:!0,content:"block+",addOptions(){return{HTMLAttributes:{class:"f-tiptap-float__aside"}}},parseHTML(){return[{tag:'div[class="f-tiptap-float__aside"]'}]},renderHTML({HTMLAttributes:t}){return["aside",Fe({class:"f-tiptap-float__aside"},this.options.HTMLAttributes,t),0]}}),nB=({tr:t,dispatch:e,editor:n})=>{const i=[n.schema.nodes.folioTiptapFloatAside.createAndFill({}),n.schema.nodes.folioTiptapFloatMain.createAndFill({})],r=n.schema.nodes.folioTiptapFloat.createChecked({},i);if(e){const o=t.selection.anchor+1;t.replaceSelectionWith(r).scrollIntoView().setSelection(fe.near(t.doc.resolve(o))),e(t)}return!0},iB=({attrs:t,tr:e,dispatch:n,state:i,editor:r})=>{const o=Un(f=>f.type.name===ra.name)(i.selection);if(!o)return!1;let l=!1;const c={side:o.node.attrs.side||"left",size:o.node.attrs.size||"medium"};return t.side&&t.side!==c.side&&["left","right"].includes(t.side)&&(c.side=t.side,l=!0),t.size&&t.size!==c.size&&["small","medium","large"].includes(t.size)&&(c.size=t.size,l=!0),l?(n&&(e.setNodeMarkup(o.pos,void 0,c),n(e)),!0):!1};function a5({state:t,dispatch:e}){const n=Un(i=>i.type.name===ra.name)(t.selection);if(e&&n){if(Un(l=>l.type.name==="listItem")(t.selection))return!1;const r=Un(l=>l.type.name===SS.name)(t.selection),o=t.tr;if(r){const l=r.pos+r.node.nodeSize;o.setSelection(fe.near(o.doc.resolve(l)))}else{const l=n.pos+1;o.setSelection(fe.near(o.doc.resolve(l)))}return e(o),!0}return!1}function rB({tr:t,dispatch:e,state:n,editor:i}){const r=Un(l=>l.type.name===ra.name)(n.selection);if(!r||!e)return!1;const o=[];return r.node.toJSON().content.forEach(l=>{l.content&&l.content.length>0&&l.content.forEach(c=>{if(c){if(c.type==="paragraph"&&(!c.content||c.content.length===0))return;o.push(c)}})}),o.length===0&&o.push({type:"paragraph"}),t.replaceWith(r.pos,r.pos+r.node.nodeSize,o.map(l=>Oi.fromJSON(n.schema,l))),t.setSelection(fe.near(t.doc.resolve(r.pos+1))),e(t),!0}const ra=vt.create({name:"folioTiptapFloat",group:"block",defining:!0,isolating:!0,allowGapCursor:!1,content:"folioTiptapFloatAside{1} folioTiptapFloatMain{1}",draggable:!1,addOptions(){return{HTMLAttributes:{class:"f-tiptap-float"}}},addAttributes(){return{side:{default:"left",parseHTML:t=>t.getAttribute("data-f-tiptap-float-side")||"left"},size:{default:"medium",parseHTML:t=>t.getAttribute("data-f-tiptap-float-size")||"medium"}}},parseHTML(){return[{tag:'div[class="f-tiptap-float"]'}]},renderHTML({HTMLAttributes:t}){return["div",Fe({class:"f-tiptap-float f-tiptap-avoid-external-layout","data-f-tiptap-float-side":t.side,"data-f-tiptap-float-size":t.size},this.options.HTMLAttributes,t),0]},addCommands(){return{insertFolioTiptapFloat:()=>({tr:t,dispatch:e,editor:n})=>nB({tr:t,dispatch:e,editor:n}),cancelFolioTiptapFloat:()=>({tr:t,dispatch:e,state:n,editor:i})=>rB({tr:t,dispatch:e,state:n,editor:i}),setFolioTiptapFloatAttributes:t=>({tr:e,dispatch:n,state:i,editor:r})=>iB({attrs:t,tr:e,dispatch:n,state:i,editor:r})}},addKeyboardShortcuts(){return{Tab:()=>a5({state:this.editor.state,dispatch:this.editor.view.dispatch}),"Shift-Tab":()=>a5({state:this.editor.state,dispatch:this.editor.view.dispatch})}}}),oB=vt.create({name:"folioTiptapFloatMain",isolating:!0,content:"block+",addOptions(){return{HTMLAttributes:{class:"f-tiptap-float__main"}}},parseHTML(){return[{tag:'div[class="f-tiptap-float__main"]'}]},renderHTML({HTMLAttributes:t}){return["div",Fe({class:"f-tiptap-float__main"},this.options.HTMLAttributes,t),0]}}),sB={cs:{addColumns:"Přidat obtékaný obsah"},en:{addColumns:"Add float layout"}},lB=M.forwardRef(({editor:t,disabled:e},n)=>{const i=M.useCallback(o=>{!o.defaultPrevented&&!e&&t&&t.chain().focus().insertFolioTiptapFloat().run()},[e]);if(!t||!t.isEditable)return null;const r=Me(sB,"addColumns");return T.jsx(zt,{ref:n,type:"button","data-style":"ghost",role:"button",tabIndex:-1,"aria-label":r,tooltip:r,onClick:i,children:T.jsx(P2,{className:"tiptap-button-icon"})})});lB.displayName="FolioTiptapFloatButton";const Nl={cs:{setFloatSideToLeft:"Obtékaný obsah - vlevo",setFloatSideToRight:"Obtékaný obsah - vpravo",cancelFloat:"Zrušit obtékání obsahu",setFloatSizeToSmall:"Obtékaný obsah - úzký",setFloatSizeToMedium:"Obtékaný obsah - střední",setFloatSizeToLarge:"Obtékaný obsah - široký"},en:{setFloatSideToLeft:"Float content - left",setFloatSideToRight:"Float content - right",cancelFloat:"Cancel float content",setFloatSizeToSmall:"Float content - small",setFloatSizeToMedium:"Float content - medium",setFloatSizeToLarge:"Float content - large"}},aB={pluginKey:"folioTiptapFloatBubbleMenu",shouldShow:({editor:t,state:e})=>t.isActive(ra.name),activeKeys:({editor:t})=>{const e=Un(i=>i.type.name===ra.name)(t.state.selection);if(!e)return[];const n=[];return e.node.attrs.side==="right"?n.push("setFloatSideToRight"):n.push("setFloatSideToLeft"),e.node.attrs.size==="small"?n.push("setFloatSizeToSmall"):e.node.attrs.size==="large"?n.push("setFloatSizeToLarge"):n.push("setFloatSizeToMedium"),n},items:[[{key:"setFloatSideToLeft",title:Me(Nl,"setFloatSideToLeft"),icon:Bw,command:({editor:t})=>{t.chain().focus().setFolioTiptapFloatAttributes({side:"left"}).run()}},{key:"cancelFloat",title:Me(Nl,"cancelFloat"),icon:Zh,command:({editor:t})=>{t.chain().focus().cancelFolioTiptapFloat().run()}},{key:"setFloatSideToRight",title:Me(Nl,"setFloatSideToRight"),icon:Vw,command:({editor:t})=>{t.chain().focus().setFolioTiptapFloatAttributes({side:"right"}).run()}}],[{key:"setFloatSizeToSmall",title:Me(Nl,"setFloatSizeToSmall"),icon:lx,command:({editor:t})=>{t.chain().focus().setFolioTiptapFloatAttributes({size:"small"}).run()}},{key:"setFloatSizeToMedium",title:Me(Nl,"setFloatSizeToMedium"),icon:sx,command:({editor:t})=>{t.chain().focus().setFolioTiptapFloatAttributes({size:"medium"}).run()}},{key:"setFloatSizeToLarge",title:Me(Nl,"setFloatSizeToLarge"),icon:ox,command:({editor:t})=>{t.chain().focus().setFolioTiptapFloatAttributes({size:"large"}).run()}}]]},cB={title:{cs:"Bodový seznam",en:"Bullet List"},icon:F2,key:"bulletList",command:({chain:t})=>{t.toggleBulletList()}},uB={title:{cs:"Sloupce",en:"Columns"},icon:Nx,key:"folioTiptapColumns",command:({chain:t})=>{t.insertFolioTiptapColumns({count:2})}},fB={title:{cs:"Obtékaný obsah",en:"Float content"},icon:P2,key:"folioTiptapFloat",command:({chain:t})=>{t.insertFolioTiptapFloat()}},dB={title:{cs:"Nadpis H4",en:"Heading H4"},icon:Gw,key:"heading-4",keymap:"####",command:({chain:t})=>{t.setNode("heading",{level:4})}},hB={title:{cs:"Nadpis H3",en:"Heading H3"},icon:Ww,key:"heading-3",keymap:"###",command:({chain:t})=>{t.setNode("heading",{level:3})}},pB={title:{cs:"Nadpis H2",en:"Heading H2"},icon:Jw,key:"heading-2",keymap:"##",command:({chain:t})=>{t.setNode("heading",{level:2})}},mB={title:{cs:"Číslovaný seznam",en:"Ordered List"},icon:nx,key:"orderedList",command:({chain:t})=>{t.toggleOrderedList()}},gB={title:{cs:"Odstavec",en:"Paragraph"},icon:DH,key:"paragraph",dontShowAsActiveInCollapsedToolbar:!0,command:({chain:t})=>{t.setNode("paragraph")}},yB={title:{cs:"Velký text",en:"Large text"},icon:Ox,key:"styledParagraph-large",command:({chain:t})=>{t.setNode("styledParagraph",{variant:"large"})}},bB={title:{cs:"Malý text",en:"Small text"},icon:Rx,key:"styledParagraph-small",command:({chain:t})=>{t.setNode("styledParagraph",{variant:"small"})}},vB={title:{cs:"Tabulka",en:"Table"},icon:q2,key:"table",command:({chain:t})=>{t.insertTable({rows:2,cols:2,withHeaderRow:!0})}},CB={title:{cs:"Zarovnat doprostřed",en:"Align center"},icon:Iw,key:"align-center",command:({chain:t})=>{t.setTextAlign("center")}},wB={title:{cs:"Zarovnat doleva",en:"Align left"},icon:U2,key:"align-left",command:({chain:t})=>{t.setTextAlign("left")}},xB={title:{cs:"Zarovnat doprava",en:"Align right"},icon:zw,key:"align-right",command:({chain:t})=>{t.setTextAlign("right")}},TS={title:{cs:"Rozložení",en:"Layouts"},key:"layouts",icon:q2,commands:[vB,uB,fB]},hy={title:{cs:"Seznamy",en:"Lists"},key:"lists",icon:F2,commands:[cB,mB]},SB={title:{cs:"Zarovnání",en:"Text align"},key:"textAlign",icon:U2,commands:[wB,CB,xB]},py={title:{cs:"Formát textu",en:"Text format"},key:"textStyles",icon:Xw,commands:[gB,pB,hB,dB,yB,bB]},TB=t=>{const e=t.map(n=>({title:n.title,icon:AC,key:`folioTiptapNode-${n.type}`,command:({chain:r})=>{window.top.postMessage({type:"f-tiptap-slash-command:selected",attrs:{type:n.type}},"*")}}));return e.sort((n,i)=>{const r=n.title[document.documentElement.lang]||n.title.en,o=i.title[document.documentElement.lang]||i.title.en;return r.localeCompare(o)}),{title:{cs:"Bloky",en:"Blocks"},key:"folioTiptapNodes",icon:AC,commands:e}};function EB(t){var e;const{char:n,allowSpaces:i,allowToIncludeChar:r,allowedPrefixes:o,startOfLine:l,$position:c}=t,f=i&&!r,d=cN(n),p=new RegExp(`\\s${d}$`),m=l?"^":"",y=r?"":d,b=f?new RegExp(`${m}${d}.*?(?=\\s${y}|$)`,"gm"):new RegExp(`${m}(?:^)?${d}[^\\s${y}]*`,"gm"),C=((e=c.nodeBefore)==null?void 0:e.isText)&&c.nodeBefore.text;if(!C)return null;const w=c.pos-C.length,x=Array.from(C.matchAll(b)).pop();if(!x||x.input===void 0||x.index===void 0)return null;const E=x.input.slice(Math.max(0,x.index-1),x.index),A=new RegExp(`^[${o?.join("")}\0]?$`).test(E);if(o!==null&&!A)return null;const O=w+x.index;let H=O+x[0].length;return f&&p.test(C.slice(H-1,H+1))&&(x[0]+=" ",H+=1),O<c.pos&&H>=c.pos?{range:{from:O,to:H},query:x[0].slice(n.length),text:x[0]}:null}var MB=new qe("suggestion");function kB({pluginKey:t=MB,editor:e,char:n="@",allowSpaces:i=!1,allowToIncludeChar:r=!1,allowedPrefixes:o=[" "],startOfLine:l=!1,decorationTag:c="span",decorationClass:f="suggestion",decorationContent:d="",decorationEmptyClass:p="is-empty",command:m=()=>null,items:y=()=>[],render:b=()=>({}),allow:C=()=>!0,findSuggestionMatch:w=EB}){let x;const E=b?.(),A=new je({key:t,view(){return{update:async(O,H)=>{var L,K,Y,X,oe,Q,le;const re=(L=this.key)==null?void 0:L.getState(H),ce=(K=this.key)==null?void 0:K.getState(O.state),ie=re.active&&ce.active&&re.range.from!==ce.range.from,$=!re.active&&ce.active,_=re.active&&!ce.active,j=!$&&!_&&re.query!==ce.query,z=$||ie&&j,J=j||ie,R=_||ie&&j;if(!z&&!J&&!R)return;const q=R&&!z?re:ce,F=O.dom.querySelector(`[data-decoration-id="${q.decorationId}"]`);x={editor:e,range:q.range,query:q.query,text:q.text,items:[],command:te=>m({editor:e,range:q.range,props:te}),decorationNode:F,clientRect:F?()=>{var te;const{decorationId:ae}=(te=this.key)==null?void 0:te.getState(e.state),we=O.dom.querySelector(`[data-decoration-id="${ae}"]`);return we?.getBoundingClientRect()||null}:null},z&&((Y=E?.onBeforeStart)==null||Y.call(E,x)),J&&((X=E?.onBeforeUpdate)==null||X.call(E,x)),(J||z)&&(x.items=await y({editor:e,query:q.query})),R&&((oe=E?.onExit)==null||oe.call(E,x)),J&&((Q=E?.onUpdate)==null||Q.call(E,x)),z&&((le=E?.onStart)==null||le.call(E,x))},destroy:()=>{var O;x&&((O=E?.onExit)==null||O.call(E,x))}}},state:{init(){return{active:!1,range:{from:0,to:0},query:null,text:null,composing:!1}},apply(O,H,L,K){const{isEditable:Y}=e,{composing:X}=e.view,{selection:oe}=O,{empty:Q,from:le}=oe,re={...H};if(re.composing=X,Y&&(Q||e.view.composing)){(le<H.range.from||le>H.range.to)&&!X&&!H.composing&&(re.active=!1);const ce=w({char:n,allowSpaces:i,allowToIncludeChar:r,allowedPrefixes:o,startOfLine:l,$position:oe.$from}),ie=`id_${Math.floor(Math.random()*4294967295)}`;ce&&C({editor:e,state:K,range:ce.range,isActive:H.active})?(re.active=!0,re.decorationId=H.decorationId?H.decorationId:ie,re.range=ce.range,re.query=ce.query,re.text=ce.text):re.active=!1}else re.active=!1;return re.active||(re.decorationId=null,re.range={from:0,to:0},re.query=null,re.text=null),re}},props:{handleKeyDown(O,H){var L;const{active:K,range:Y}=A.getState(O.state);return K&&((L=E?.onKeyDown)==null?void 0:L.call(E,{view:O,event:H,range:Y}))||!1},decorations(O){const{active:H,range:L,decorationId:K,query:Y}=A.getState(O);if(!H)return null;const X=!Y?.length,oe=[f];return X&&oe.push(p),Je.create(O.doc,[It.inline(L.from,L.to,{nodeName:c,class:oe.join(" "),"data-decoration-id":K,"data-decoration-content":d})])}}});return A}var AB=kB;const RB=Ye.create({name:"folioTiptapCommands",addOptions(){return{suggestion:{char:"/",command:({editor:t,range:e,props:n})=>{const i=t.chain();i.focus(),i.deleteRange(e),n.command({chain:i}),i.run()}}}},addProseMirrorPlugins(){return[AB({editor:this.editor,...this.options.suggestion})]},addCommands(){return{triggerFolioTiptapCommand:t=>({state:e,dispatch:n})=>{const i=t===null?e.selection.$from:e.doc.resolve(t);if(!i)return console.error("Invalid resolved position"),!1;const r=i.node(1);let o;r&&(r.isLeaf||r.content.size===0)?o=i.start(1)+r.nodeSize:o=i.after(1);const l=e.tr,c=e.schema.nodes.paragraph.create({},[e.schema.text("/")]);l.insert(o,c);const f=o+2;return l.setSelection(fe.create(l.doc,f)),n&&n(l),!0}}}}),c5={cs:{defaultAction:"Napsat /{query} do obsahu",defaultBlankAction:"Zavřít nabídku"},en:{defaultAction:"Type /{query} to content",defaultBlankAction:"Close menu"}};class OB extends bt.Component{constructor(e){super(e),this.state={selectedIndex:0}}onEscape(){this.props.command({title:"",normalizedTitle:"",icon:$2,key:"commandListEscape",command:({chain:e})=>{this.props.query&&e.insertContent(`/${this.props.query} `)}})}onKeyDown({event:e}){return e.key==="ArrowUp"?(this.upHandler(),!0):e.key==="ArrowDown"||e.key==="Tab"?(this.downHandler(),!0):e.key==="Enter"?(this.enterHandler(),!0):!1}setSelectedIndex(e){this.setState({selectedIndex:e})}upHandler(){let e=this.state.selectedIndex-1;if(e<0){let n=0;this.props.items.forEach(i=>{n+=i.commandsForSuggestion.length}),e=n-1}this.setSelectedIndex(e)}downHandler(){let e=0;this.props.items.forEach(i=>{e+=i.commandsForSuggestion.length});let n=this.state.selectedIndex+1;n>=e&&(n=0),this.setSelectedIndex(n)}enterHandler(){let e=-1,n=null;this.props.items.forEach(i=>{n||i.commandsForSuggestion.forEach(r=>{n||(e+=1,e===this.state.selectedIndex&&(n=r))})}),n&&this.selectItem(n)}selectItem(e){e&&this.props.command(e)}componentDidUpdate(e,n){let i=0;e.items.forEach(o=>{i+=o.commandsForSuggestion.length});let r=0;this.props.items.forEach(o=>{r+=o.commandsForSuggestion.length}),r!==i&&this.setState({selectedIndex:0})}render(){let e=-1;return T.jsxs("div",{className:"f-tiptap-commands-list",children:[this.props.items.length>0?T.jsx("div",{className:"f-tiptap-commands-list__section f-tiptap-commands-list__section--scroll",children:this.props.items.map(n=>T.jsxs(bt.Fragment,{children:[T.jsx("div",{className:"f-tiptap-commands-list__section-heading",children:n.title}),T.jsx("ul",{className:"f-tiptap-commands-list__section-ul",children:n.commandsForSuggestion.map(i=>{e+=1;const r=i.icon,o=e;return T.jsx("li",{className:"f-tiptap-commands-list__section-li",children:T.jsx("button",{type:"button",className:"f-tiptap-commands-list__item f-tiptap-commands-list__item--active","data-selected":String(e===this.state.selectedIndex),onClick:()=>this.selectItem(i),onMouseOver:()=>this.setSelectedIndex(o),children:T.jsxs("span",{className:"f-tiptap-commands-list__item-inner",children:[r?T.jsx(r,{className:"f-tiptap-commands-list__item-icon"}):null,T.jsx("span",{className:"f-tiptap-commands-list__item-label",children:i.title}),T.jsx("span",{className:"f-tiptap-commands-list__item-keymap","data-keymap":i.keymap})]})})},`${n.title}-${i.title}`)})})]},n.title))}):null,T.jsx("div",{className:"f-tiptap-commands-list__section f-tiptap-commands-list__section--fallback",children:T.jsx("ul",{className:"f-tiptap-commands-list__section-ul",children:T.jsx("li",{className:"f-tiptap-commands-list__section-li",children:T.jsx("span",{className:"f-tiptap-commands-list__item f-tiptap-commands-list__item--fallback",children:T.jsxs("span",{className:"f-tiptap-commands-list__item-inner",children:[T.jsx("span",{className:"f-tiptap-commands-list__item-label",children:this.props.query?Me(c5,"defaultAction").replace("{query}",this.props.query):Me(c5,"defaultBlankAction")}),T.jsx("span",{className:"f-tiptap-commands-list__item-keymap",children:"esc"})]})})})})})]})}}class NB extends bt.Component{close(){console.log("close"),this.props.command({title:"",normalizedTitle:"",icon:$2,key:"commandListBackdrop",command:({chain:e})=>{console.log("commandListBackdrop",this.props.query),this.props.query&&(console.log("insertContent"),e.insertContent(" "))}})}render(){return T.jsx("div",{className:"f-tiptap-commands-list-backdrop",onClick:()=>this.close()})}}const ES=t=>t.normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase(),MS=t=>({query:e})=>{const n=ES(e);return DB(t).map(i=>{const r=i.commandsForSuggestion.filter(o=>o.normalizedTitle.indexOf(n)!==-1);return r.length>0?{...i,commandsForSuggestion:r}:null}).filter(i=>i!==null)},DB=t=>{const e=document.documentElement.lang;return t.map(n=>{let i;return typeof n.title=="string"?i=n.title:i=n.title[e]||n.title.en,{title:i,key:n.key,commandsForSuggestion:n.commands.map(r=>{let o;return typeof r.title=="string"?o=r.title:o=r.title[e]||r.title.en,{...r,title:o,normalizedTitle:ES(o)}})}})},u5={items:MS([py,hy]),allowSpaces:!1,render:()=>{let t=null,e=null;function n(i,r){if(!t||!t.element)return;const o={getBoundingClientRect(){return i}};let l="bottom-start";r==="update"&&t&&t.element&&t.element.dataset.placement&&(l=t.element.dataset.placement),pu(o,t.element,{placement:l,middleware:[tp(),ep(12),iy({apply({availableWidth:c,availableHeight:f,elements:d}){Object.assign(t.element.style,{maxWidth:`${Math.max(0,c)}px`,maxHeight:`${Math.max(0,f)}px`,pointerEvents:"none"})}})]}).then(c=>{t.element.dataset.placement=c.placement,Object.assign(t.element.style,{left:`${c.x}px`,top:`${c.y}px`,zIndex:"11",position:c.strategy==="fixed"?"fixed":"absolute",display:"flex",flexDirection:"column"}),Object.assign(e.element.style,{inset:0,position:c.strategy==="fixed"?"fixed":"absolute",zIndex:"10"})})}return{onStart:i=>{i.editor.chain().setMeta("hideDragHandle",!0).setMeta("lockDragHandle",!0).run(),e=new n0(NB,{props:{...i,query:i.query},editor:i.editor}),document.body.appendChild(e.element),t=new n0(OB,{props:{...i,query:i.query},editor:i.editor}),document.body.appendChild(t.element),n(i.clientRect(),"start")},onUpdate(i){t?.updateProps(i),n(i.clientRect(),"update")},onKeyDown(i){return i.event.key==="Escape"?(t?.ref&&typeof t.ref.onEscape=="function"&&t.ref.onEscape(),e?.element&&(e.element.remove(),e.destroy()),t?.element&&(t.element.remove(),t.destroy()),!0):t?.ref?.onKeyDown(i)},onExit(i){i.editor.chain().setMeta("hideDragHandle",!1).setMeta("lockDragHandle",!1).run(),t&&(e&&(e.element&&document.body.contains(e.element)&&document.body.removeChild(e.element),e.destroy()),t.element&&document.body.contains(t.element)&&document.body.removeChild(t.element),t.destroy())}}}},Di=()=>new Map,R0=t=>{const e=Di();return t.forEach((n,i)=>{e.set(i,n)}),e},Pr=(t,e,n)=>{let i=t.get(e);return i===void 0&&t.set(e,i=n()),i},LB=(t,e)=>{const n=[];for(const[i,r]of t)n.push(e(r,i));return n},_B=(t,e)=>{for(const[n,i]of t)if(e(i,n))return!0;return!1},_s=()=>new Set,Sg=t=>t[t.length-1],HB=(t,e)=>{for(let n=0;n<e.length;n++)t.push(e[n])},Hs=Array.from,IB=(t,e)=>{for(let n=0;n<t.length;n++)if(e(t[n],n,t))return!0;return!1},O0=Array.isArray;class kS{constructor(){this._observers=Di()}on(e,n){return Pr(this._observers,e,_s).add(n),n}once(e,n){const i=(...r)=>{this.off(e,i),n(...r)};this.on(e,i)}off(e,n){const i=this._observers.get(e);i!==void 0&&(i.delete(n),i.size===0&&this._observers.delete(e))}emit(e,n){return Hs((this._observers.get(e)||Di()).values()).forEach(i=>i(...n))}destroy(){this._observers=Di()}}const Vr=Math.floor,bd=Math.abs,oa=(t,e)=>t<e?t:e,Ho=(t,e)=>t>e?t:e,AS=t=>t!==0?t<0:1/t<0,f5=1,d5=2,Tg=4,Eg=8,Xc=32,Ir=64,Tn=128,zB=1<<29,sp=31,N0=63,Es=127,BB=2147483647,RS=Number.MAX_SAFE_INTEGER,VB=Number.isInteger||(t=>typeof t=="number"&&isFinite(t)&&Vr(t)===t),jB=String.fromCharCode,UB=t=>t.toLowerCase(),PB=/^\s*/g,FB=t=>t.replace(PB,""),qB=/([A-Z])/g,h5=(t,e)=>FB(t.replace(qB,n=>`${e}${UB(n)}`)),$B=t=>{const e=unescape(encodeURIComponent(t)),n=e.length,i=new Uint8Array(n);for(let r=0;r<n;r++)i[r]=e.codePointAt(r);return i},Wc=typeof TextEncoder<"u"?new TextEncoder:null,KB=t=>Wc.encode(t),ZB=Wc?KB:$B;let _c=typeof TextDecoder>"u"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});_c&&_c.decode(new Uint8Array).length===1&&(_c=null);class bu{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const vu=()=>new bu,YB=t=>{const e=vu();return t(e),Ri(e)},GB=t=>{let e=t.cpos;for(let n=0;n<t.bufs.length;n++)e+=t.bufs[n].length;return e},Ri=t=>{const e=new Uint8Array(GB(t));let n=0;for(let i=0;i<t.bufs.length;i++){const r=t.bufs[i];e.set(r,n),n+=r.length}return e.set(new Uint8Array(t.cbuf.buffer,0,t.cpos),n),e},XB=(t,e)=>{const n=t.cbuf.length;n-t.cpos<e&&(t.bufs.push(new Uint8Array(t.cbuf.buffer,0,t.cpos)),t.cbuf=new Uint8Array(Ho(n,e)*2),t.cpos=0)},Zt=(t,e)=>{const n=t.cbuf.length;t.cpos===n&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(n*2),t.cpos=0),t.cbuf[t.cpos++]=e},D0=Zt,Be=(t,e)=>{for(;e>Es;)Zt(t,Tn|Es&e),e=Vr(e/128);Zt(t,Es&e)},my=(t,e)=>{const n=AS(e);for(n&&(e=-e),Zt(t,(e>N0?Tn:0)|(n?Ir:0)|N0&e),e=Vr(e/64);e>0;)Zt(t,(e>Es?Tn:0)|Es&e),e=Vr(e/128)},L0=new Uint8Array(3e4),WB=L0.length/3,JB=(t,e)=>{if(e.length<WB){const n=Wc.encodeInto(e,L0).written||0;Be(t,n);for(let i=0;i<n;i++)Zt(t,L0[i])}else Qn(t,ZB(e))},QB=(t,e)=>{const n=unescape(encodeURIComponent(e)),i=n.length;Be(t,i);for(let r=0;r<i;r++)Zt(t,n.codePointAt(r))},ql=Wc&&Wc.encodeInto?JB:QB,lp=(t,e)=>{const n=t.cbuf.length,i=t.cpos,r=oa(n-i,e.length),o=e.length-r;t.cbuf.set(e.subarray(0,r),i),t.cpos+=r,o>0&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(Ho(n*2,o)),t.cbuf.set(e.subarray(r)),t.cpos=o)},Qn=(t,e)=>{Be(t,e.byteLength),lp(t,e)},gy=(t,e)=>{XB(t,e);const n=new DataView(t.cbuf.buffer,t.cpos,e);return t.cpos+=e,n},eV=(t,e)=>gy(t,4).setFloat32(0,e,!1),tV=(t,e)=>gy(t,8).setFloat64(0,e,!1),nV=(t,e)=>gy(t,8).setBigInt64(0,e,!1),p5=new DataView(new ArrayBuffer(4)),iV=t=>(p5.setFloat32(0,t),p5.getFloat32(0)===t),sa=(t,e)=>{switch(typeof e){case"string":Zt(t,119),ql(t,e);break;case"number":VB(e)&&bd(e)<=BB?(Zt(t,125),my(t,e)):iV(e)?(Zt(t,124),eV(t,e)):(Zt(t,123),tV(t,e));break;case"bigint":Zt(t,122),nV(t,e);break;case"object":if(e===null)Zt(t,126);else if(O0(e)){Zt(t,117),Be(t,e.length);for(let n=0;n<e.length;n++)sa(t,e[n])}else if(e instanceof Uint8Array)Zt(t,116),Qn(t,e);else{Zt(t,118);const n=Object.keys(e);Be(t,n.length);for(let i=0;i<n.length;i++){const r=n[i];ql(t,r),sa(t,e[r])}}break;case"boolean":Zt(t,e?120:121);break;default:Zt(t,127)}};class m5 extends bu{constructor(e){super(),this.w=e,this.s=null,this.count=0}write(e){this.s===e?this.count++:(this.count>0&&Be(this,this.count-1),this.count=1,this.w(this,e),this.s=e)}}const g5=t=>{t.count>0&&(my(t.encoder,t.count===1?t.s:-t.s),t.count>1&&Be(t.encoder,t.count-2))};class vd{constructor(){this.encoder=new bu,this.s=0,this.count=0}write(e){this.s===e?this.count++:(g5(this),this.count=1,this.s=e)}toUint8Array(){return g5(this),Ri(this.encoder)}}const y5=t=>{if(t.count>0){const e=t.diff*2+(t.count===1?0:1);my(t.encoder,e),t.count>1&&Be(t.encoder,t.count-2)}};class Mg{constructor(){this.encoder=new bu,this.s=0,this.count=0,this.diff=0}write(e){this.diff===e-this.s?(this.s=e,this.count++):(y5(this),this.count=1,this.diff=e-this.s,this.s=e)}toUint8Array(){return y5(this),Ri(this.encoder)}}class rV{constructor(){this.sarr=[],this.s="",this.lensE=new vd}write(e){this.s+=e,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(e.length)}toUint8Array(){const e=new bu;return this.sarr.push(this.s),this.s="",ql(e,this.sarr.join("")),lp(e,this.lensE.toUint8Array()),Ri(e)}}const Io=t=>new Error(t),Li=()=>{throw Io("Method unimplemented")},qn=()=>{throw Io("Unexpected case")},OS=Io("Unexpected end of array"),NS=Io("Integer out of Range");class ap{constructor(e){this.arr=e,this.pos=0}}const yy=t=>new ap(t),oV=t=>t.pos!==t.arr.length,sV=(t,e)=>{const n=new Uint8Array(t.arr.buffer,t.pos+t.arr.byteOffset,e);return t.pos+=e,n},mi=t=>sV(t,pt(t)),Jc=t=>t.arr[t.pos++],pt=t=>{let e=0,n=1;const i=t.arr.length;for(;t.pos<i;){const r=t.arr[t.pos++];if(e=e+(r&Es)*n,n*=128,r<Tn)return e;if(e>RS)throw NS}throw OS},by=t=>{let e=t.arr[t.pos++],n=e&N0,i=64;const r=(e&Ir)>0?-1:1;if((e&Tn)===0)return r*n;const o=t.arr.length;for(;t.pos<o;){if(e=t.arr[t.pos++],n=n+(e&Es)*i,i*=128,e<Tn)return r*n;if(n>RS)throw NS}throw OS},lV=t=>{let e=pt(t);if(e===0)return"";{let n=String.fromCodePoint(Jc(t));if(--e<100)for(;e--;)n+=String.fromCodePoint(Jc(t));else for(;e>0;){const i=e<1e4?e:1e4,r=t.arr.subarray(t.pos,t.pos+i);t.pos+=i,n+=String.fromCodePoint.apply(null,r),e-=i}return decodeURIComponent(escape(n))}},aV=t=>_c.decode(mi(t)),_0=_c?aV:lV,vy=(t,e)=>{const n=new DataView(t.arr.buffer,t.arr.byteOffset+t.pos,e);return t.pos+=e,n},cV=t=>vy(t,4).getFloat32(0,!1),uV=t=>vy(t,8).getFloat64(0,!1),fV=t=>vy(t,8).getBigInt64(0,!1),dV=[t=>{},t=>null,by,cV,uV,fV,t=>!1,t=>!0,_0,t=>{const e=pt(t),n={};for(let i=0;i<e;i++){const r=_0(t);n[r]=Ch(t)}return n},t=>{const e=pt(t),n=[];for(let i=0;i<e;i++)n.push(Ch(t));return n},mi],Ch=t=>dV[127-Jc(t)](t);class b5 extends ap{constructor(e,n){super(e),this.reader=n,this.s=null,this.count=0}read(){return this.count===0&&(this.s=this.reader(this),oV(this)?this.count=pt(this)+1:this.count=-1),this.count--,this.s}}class Cd extends ap{constructor(e){super(e),this.s=0,this.count=0}read(){if(this.count===0){this.s=by(this);const e=AS(this.s);this.count=1,e&&(this.s=-this.s,this.count=pt(this)+2)}return this.count--,this.s}}class kg extends ap{constructor(e){super(e),this.s=0,this.count=0,this.diff=0}read(){if(this.count===0){const e=by(this),n=e&1;this.diff=Vr(e/2),this.count=1,n&&(this.count=pt(this)+2)}return this.s+=this.diff,this.count--,this.s}}class hV{constructor(e){this.decoder=new Cd(e),this.str=_0(this.decoder),this.spos=0}read(){const e=this.spos+this.decoder.read(),n=this.str.slice(this.spos,e);return this.spos=e,n}}const pV=crypto.getRandomValues.bind(crypto),mV=Math.random,DS=()=>pV(new Uint32Array(1))[0],gV=t=>t[Vr(mV()*t.length)],yV="10000000-1000-4000-8000"+-1e11,bV=()=>yV.replace(/[018]/g,t=>(t^DS()&15>>t/4).toString(16)),vV=Date.now,v5=t=>new Promise(t);Promise.all.bind(Promise);const C5=t=>t===void 0?null:t;class CV{constructor(){this.map=new Map}setItem(e,n){this.map.set(e,n)}getItem(e){return this.map.get(e)}}let LS=new CV,wV=!0;try{typeof localStorage<"u"&&localStorage&&(LS=localStorage,wV=!1)}catch{}const xV=LS,SV=Object.assign,_S=Object.keys,TV=(t,e)=>{for(const n in t)e(t[n],n)},w5=t=>_S(t).length,EV=t=>{for(const e in t)return!1;return!0},HS=(t,e)=>{for(const n in t)if(!e(t[n],n))return!1;return!0},MV=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),kV=(t,e)=>t===e||w5(t)===w5(e)&&HS(t,(n,i)=>(n!==void 0||MV(e,i))&&e[i]===n),AV=Object.freeze,IS=t=>{for(const e in t){const n=t[e];(typeof n=="object"||typeof n=="function")&&IS(t[e])}return AV(t)},Cy=(t,e,n=0)=>{try{for(;n<t.length;n++)t[n](...e)}finally{n<t.length&&Cy(t,e,n+1)}},RV=(t,e)=>e.includes(t);var zS={};const la=typeof process<"u"&&process.release&&/node|io\.js/.test(process.release.name)&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]",BS=typeof window<"u"&&typeof document<"u"&&!la;let Zi;const OV=()=>{if(Zi===void 0)if(la){Zi=Di();const t=process.argv;let e=null;for(let n=0;n<t.length;n++){const i=t[n];i[0]==="-"?(e!==null&&Zi.set(e,""),e=i):e!==null&&(Zi.set(e,i),e=null)}e!==null&&Zi.set(e,"")}else typeof location=="object"?(Zi=Di(),(location.search||"?").slice(1).split("&").forEach(t=>{if(t.length!==0){const[e,n]=t.split("=");Zi.set(`--${h5(e,"-")}`,n),Zi.set(`-${h5(e,"-")}`,n)}})):Zi=Di();return Zi},H0=t=>OV().has(t),wh=t=>C5(la?zS[t.toUpperCase().replaceAll("-","_")]:xV.getItem(t)),VS=t=>H0("--"+t)||wh(t)!==null;VS("production");const NV=la&&RV(zS.FORCE_COLOR,["true","1","2"]),DV=NV||!H0("--no-colors")&&!VS("no-color")&&(!la||process.stdout.isTTY)&&(!la||H0("--color")||wh("COLORTERM")!==null||(wh("TERM")||"").includes("color")),LV=t=>{let e="";for(let n=0;n<t.byteLength;n++)e+=jB(t[n]);return btoa(e)},_V=t=>Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("base64"),HV=BS?LV:_V,IV=t=>YB(e=>sa(e,t));class zV{constructor(e,n){this.left=e,this.right=n}}const Mr=(t,e)=>new zV(t,e),BV=typeof document<"u"?document:{};typeof DOMParser<"u"&&new DOMParser;const VV=t=>LB(t,(e,n)=>`${n}:${e};`).join(""),jV=t=>class{constructor(n){this._=n}destroy(){t(this._)}},UV=jV(clearTimeout),jS=(t,e)=>new UV(setTimeout(e,t)),Fr=Symbol,US=Fr(),PS=Fr(),PV=Fr(),FV=Fr(),qV=Fr(),FS=Fr(),$V=Fr(),wy=Fr(),KV=Fr(),ZV=t=>{t.length===1&&t[0]?.constructor===Function&&(t=t[0]());const e=[],n=[];let i=0;for(;i<t.length;i++){const r=t[i];if(r===void 0)break;if(r.constructor===String||r.constructor===Number)e.push(r);else if(r.constructor===Object)break}for(i>0&&n.push(e.join(""));i<t.length;i++){const r=t[i];r instanceof Symbol||n.push(r)}return n},YV={[US]:Mr("font-weight","bold"),[PS]:Mr("font-weight","normal"),[PV]:Mr("color","blue"),[qV]:Mr("color","green"),[FV]:Mr("color","grey"),[FS]:Mr("color","red"),[$V]:Mr("color","purple"),[wy]:Mr("color","orange"),[KV]:Mr("color","black")},GV=t=>{t.length===1&&t[0]?.constructor===Function&&(t=t[0]());const e=[],n=[],i=Di();let r=[],o=0;for(;o<t.length;o++){const l=t[o],c=YV[l];if(c!==void 0)i.set(c.left,c.right);else{if(l===void 0)break;if(l.constructor===String||l.constructor===Number){const f=VV(i);o>0||f.length>0?(e.push("%c"+l),n.push(f)):e.push(l)}else break}}for(o>0&&(r=n,r.unshift(e.join("")));o<t.length;o++){const l=t[o];l instanceof Symbol||r.push(l)}return r},qS=DV?GV:ZV,XV=(...t)=>{console.log(...qS(t)),KS.forEach(e=>e.print(t))},$S=(...t)=>{console.warn(...qS(t)),t.unshift(wy),KS.forEach(e=>e.print(t))},KS=_s(),ZS=t=>({[Symbol.iterator](){return this},next:t}),WV=(t,e)=>ZS(()=>{let n;do n=t.next();while(!n.done&&!e(n.value));return n}),Ag=(t,e)=>ZS(()=>{const{done:n,value:i}=t.next();return{done:n,value:n?void 0:e(i)}});class xy{constructor(e,n){this.clock=e,this.len=n}}class da{constructor(){this.clients=new Map}}const zo=(t,e,n)=>e.clients.forEach((i,r)=>{const o=t.doc.store.clients.get(r);if(o!=null){const l=o[o.length-1],c=l.id.clock+l.length;for(let f=0,d=i[f];f<i.length&&d.clock<c;d=i[++f])t8(t,o,d.clock,d.len,n)}}),JV=(t,e)=>{let n=0,i=t.length-1;for(;n<=i;){const r=Vr((n+i)/2),o=t[r],l=o.clock;if(l<=e){if(e<l+o.len)return r;n=r+1}else i=r-1}return null},ha=(t,e)=>{const n=t.clients.get(e.client);return n!==void 0&&JV(n,e.clock)!==null},Sy=t=>{t.clients.forEach(e=>{e.sort((r,o)=>r.clock-o.clock);let n,i;for(n=1,i=1;n<e.length;n++){const r=e[i-1],o=e[n];r.clock+r.len>=o.clock?r.len=Ho(r.len,o.clock+o.len-r.clock):(i<n&&(e[i]=o),i++)}e.length=i})},I0=t=>{const e=new da;for(let n=0;n<t.length;n++)t[n].clients.forEach((i,r)=>{if(!e.clients.has(r)){const o=i.slice();for(let l=n+1;l<t.length;l++)HB(o,t[l].clients.get(r)||[]);e.clients.set(r,o)}});return Sy(e),e},Qc=(t,e,n,i)=>{Pr(t.clients,e,()=>[]).push(new xy(n,i))},YS=()=>new da,QV=t=>{const e=YS();return t.clients.forEach((n,i)=>{const r=[];for(let o=0;o<n.length;o++){const l=n[o];if(l.deleted){const c=l.id.clock;let f=l.length;if(o+1<n.length)for(let d=n[o+1];o+1<n.length&&d.deleted;d=n[++o+1])f+=d.length;r.push(new xy(c,f))}}r.length>0&&e.clients.set(i,r)}),e},Ty=(t,e)=>{Be(t.restEncoder,e.clients.size),Hs(e.clients.entries()).sort((n,i)=>i[0]-n[0]).forEach(([n,i])=>{t.resetDsCurVal(),Be(t.restEncoder,n);const r=i.length;Be(t.restEncoder,r);for(let o=0;o<r;o++){const l=i[o];t.writeDsClock(l.clock),t.writeDsLen(l.len)}})},ej=t=>{const e=new da,n=pt(t.restDecoder);for(let i=0;i<n;i++){t.resetDsCurVal();const r=pt(t.restDecoder),o=pt(t.restDecoder);if(o>0){const l=Pr(e.clients,r,()=>[]);for(let c=0;c<o;c++)l.push(new xy(t.readDsClock(),t.readDsLen()))}}return e},x5=(t,e,n)=>{const i=new da,r=pt(t.restDecoder);for(let o=0;o<r;o++){t.resetDsCurVal();const l=pt(t.restDecoder),c=pt(t.restDecoder),f=n.clients.get(l)||[],d=Dt(n,l);for(let p=0;p<c;p++){const m=t.readDsClock(),y=m+t.readDsLen();if(m<d){d<y&&Qc(i,l,d,y-d);let b=zi(f,m),C=f[b];for(!C.deleted&&C.id.clock<m&&(f.splice(b+1,0,Ah(e,C,m-C.id.clock)),b++);b<f.length&&(C=f[b++],C.id.clock<y);)C.deleted||(y<C.id.clock+C.length&&f.splice(b,0,Ah(e,C,y-C.id.clock)),C.delete(e))}else Qc(i,l,m,y-m)}}if(i.clients.size>0){const o=new cp;return Be(o.restEncoder,0),Ty(o,i),o.toUint8Array()}return null},GS=DS;class js extends kS{constructor({guid:e=bV(),collectionid:n=null,gc:i=!0,gcFilter:r=()=>!0,meta:o=null,autoLoad:l=!1,shouldLoad:c=!0}={}){super(),this.gc=i,this.gcFilter=r,this.clientID=GS(),this.guid=e,this.collectionid=n,this.share=new Map,this.store=new QS,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=c,this.autoLoad=l,this.meta=o,this.isLoaded=!1,this.isSynced=!1,this.isDestroyed=!1,this.whenLoaded=v5(d=>{this.on("load",()=>{this.isLoaded=!0,d(this)})});const f=()=>v5(d=>{const p=m=>{(m===void 0||m===!0)&&(this.off("sync",p),d())};this.on("sync",p)});this.on("sync",d=>{d===!1&&this.isSynced&&(this.whenSynced=f()),this.isSynced=d===void 0||d===!0,this.isSynced&&!this.isLoaded&&this.emit("load",[this])}),this.whenSynced=f()}load(){const e=this._item;e!==null&&!this.shouldLoad&&ot(e.parent.doc,n=>{n.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(Hs(this.subdocs).map(e=>e.guid))}transact(e,n=null){return ot(this,e,n)}get(e,n=Wt){const i=Pr(this.share,e,()=>{const o=new n;return o._integrate(this,null),o}),r=i.constructor;if(n!==Wt&&r!==n)if(r===Wt){const o=new n;o._map=i._map,i._map.forEach(l=>{for(;l!==null;l=l.left)l.parent=o}),o._start=i._start;for(let l=o._start;l!==null;l=l.right)l.parent=o;return o._length=i._length,this.share.set(e,o),o._integrate(this,null),o}else throw new Error(`Type with the name ${e} has already been defined with a different constructor`);return i}getArray(e=""){return this.get(e,Zl)}getText(e=""){return this.get(e,Bo)}getMap(e=""){return this.get(e,aa)}getXmlElement(e=""){return this.get(e,bn)}getXmlFragment(e=""){return this.get(e,Is)}toJSON(){const e={};return this.share.forEach((n,i)=>{e[i]=n.toJSON()}),e}destroy(){this.isDestroyed=!0,Hs(this.subdocs).forEach(n=>n.destroy());const e=this._item;if(e!==null){this._item=null;const n=e.content;n.doc=new js({guid:this.guid,...n.opts,shouldLoad:!1}),n.doc._item=e,ot(e.parent.doc,i=>{const r=n.doc;e.deleted||i.subdocsAdded.add(r),i.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}}class tj{constructor(e){this.dsCurrVal=0,this.restDecoder=e}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=pt(this.restDecoder),this.dsCurrVal}readDsLen(){const e=pt(this.restDecoder)+1;return this.dsCurrVal+=e,e}}class xh extends tj{constructor(e){super(e),this.keys=[],pt(e),this.keyClockDecoder=new kg(mi(e)),this.clientDecoder=new Cd(mi(e)),this.leftClockDecoder=new kg(mi(e)),this.rightClockDecoder=new kg(mi(e)),this.infoDecoder=new b5(mi(e),Jc),this.stringDecoder=new hV(mi(e)),this.parentInfoDecoder=new b5(mi(e),Jc),this.typeRefDecoder=new Cd(mi(e)),this.lenDecoder=new Cd(mi(e))}readLeftID(){return new $l(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new $l(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return this.parentInfoDecoder.read()===1}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return Ch(this.restDecoder)}readBuf(){return mi(this.restDecoder)}readJSON(){return Ch(this.restDecoder)}readKey(){const e=this.keyClockDecoder.read();if(e<this.keys.length)return this.keys[e];{const n=this.stringDecoder.read();return this.keys.push(n),n}}}class nj{constructor(){this.restEncoder=vu()}toUint8Array(){return Ri(this.restEncoder)}resetDsCurVal(){}writeDsClock(e){Be(this.restEncoder,e)}writeDsLen(e){Be(this.restEncoder,e)}}class ij extends nj{writeLeftID(e){Be(this.restEncoder,e.client),Be(this.restEncoder,e.clock)}writeRightID(e){Be(this.restEncoder,e.client),Be(this.restEncoder,e.clock)}writeClient(e){Be(this.restEncoder,e)}writeInfo(e){D0(this.restEncoder,e)}writeString(e){ql(this.restEncoder,e)}writeParentInfo(e){Be(this.restEncoder,e?1:0)}writeTypeRef(e){Be(this.restEncoder,e)}writeLen(e){Be(this.restEncoder,e)}writeAny(e){sa(this.restEncoder,e)}writeBuf(e){Qn(this.restEncoder,e)}writeJSON(e){ql(this.restEncoder,JSON.stringify(e))}writeKey(e){ql(this.restEncoder,e)}}class rj{constructor(){this.restEncoder=vu(),this.dsCurrVal=0}toUint8Array(){return Ri(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(e){const n=e-this.dsCurrVal;this.dsCurrVal=e,Be(this.restEncoder,n)}writeDsLen(e){e===0&&qn(),Be(this.restEncoder,e-1),this.dsCurrVal+=e}}class cp extends rj{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new Mg,this.clientEncoder=new vd,this.leftClockEncoder=new Mg,this.rightClockEncoder=new Mg,this.infoEncoder=new m5(D0),this.stringEncoder=new rV,this.parentInfoEncoder=new m5(D0),this.typeRefEncoder=new vd,this.lenEncoder=new vd}toUint8Array(){const e=vu();return Be(e,0),Qn(e,this.keyClockEncoder.toUint8Array()),Qn(e,this.clientEncoder.toUint8Array()),Qn(e,this.leftClockEncoder.toUint8Array()),Qn(e,this.rightClockEncoder.toUint8Array()),Qn(e,Ri(this.infoEncoder)),Qn(e,this.stringEncoder.toUint8Array()),Qn(e,Ri(this.parentInfoEncoder)),Qn(e,this.typeRefEncoder.toUint8Array()),Qn(e,this.lenEncoder.toUint8Array()),lp(e,Ri(this.restEncoder)),Ri(e)}writeLeftID(e){this.clientEncoder.write(e.client),this.leftClockEncoder.write(e.clock)}writeRightID(e){this.clientEncoder.write(e.client),this.rightClockEncoder.write(e.clock)}writeClient(e){this.clientEncoder.write(e)}writeInfo(e){this.infoEncoder.write(e)}writeString(e){this.stringEncoder.write(e)}writeParentInfo(e){this.parentInfoEncoder.write(e?1:0)}writeTypeRef(e){this.typeRefEncoder.write(e)}writeLen(e){this.lenEncoder.write(e)}writeAny(e){sa(this.restEncoder,e)}writeBuf(e){Qn(this.restEncoder,e)}writeJSON(e){sa(this.restEncoder,e)}writeKey(e){const n=this.keyMap.get(e);n===void 0?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(e)):this.keyClockEncoder.write(n)}}const oj=(t,e,n,i)=>{i=Ho(i,e[0].id.clock);const r=zi(e,i);Be(t.restEncoder,e.length-r),t.writeClient(n),Be(t.restEncoder,i);const o=e[r];o.write(t,i-o.id.clock);for(let l=r+1;l<e.length;l++)e[l].write(t,0)},XS=(t,e,n)=>{const i=new Map;n.forEach((r,o)=>{Dt(e,o)>r&&i.set(o,r)}),up(e).forEach((r,o)=>{n.has(o)||i.set(o,0)}),Be(t.restEncoder,i.size),Hs(i.entries()).sort((r,o)=>o[0]-r[0]).forEach(([r,o])=>{oj(t,e.clients.get(r),r,o)})},sj=(t,e)=>{const n=Di(),i=pt(t.restDecoder);for(let r=0;r<i;r++){const o=pt(t.restDecoder),l=new Array(o),c=t.readClient();let f=pt(t.restDecoder);n.set(c,{i:0,refs:l});for(let d=0;d<o;d++){const p=t.readInfo();switch(sp&p){case 0:{const m=t.readLen();l[d]=new bi(Oe(c,f),m),f+=m;break}case 10:{const m=pt(t.restDecoder);l[d]=new Mi(Oe(c,f),m),f+=m;break}default:{const m=(p&(Ir|Tn))===0,y=new Qe(Oe(c,f),null,(p&Tn)===Tn?t.readLeftID():null,null,(p&Ir)===Ir?t.readRightID():null,m?t.readParentInfo()?e.get(t.readString()):t.readLeftID():null,m&&(p&Xc)===Xc?t.readString():null,S8(t,p));l[d]=y,f+=y.length}}}}return n},lj=(t,e,n)=>{const i=[];let r=Hs(n.keys()).sort((b,C)=>b-C);if(r.length===0)return null;const o=()=>{if(r.length===0)return null;let b=n.get(r[r.length-1]);for(;b.refs.length===b.i;)if(r.pop(),r.length>0)b=n.get(r[r.length-1]);else return null;return b};let l=o();if(l===null)return null;const c=new QS,f=new Map,d=(b,C)=>{const w=f.get(b);(w==null||w>C)&&f.set(b,C)};let p=l.refs[l.i++];const m=new Map,y=()=>{for(const b of i){const C=b.id.client,w=n.get(C);w?(w.i--,c.clients.set(C,w.refs.slice(w.i)),n.delete(C),w.i=0,w.refs=[]):c.clients.set(C,[b]),r=r.filter(x=>x!==C)}i.length=0};for(;;){if(p.constructor!==Mi){const C=Pr(m,p.id.client,()=>Dt(e,p.id.client))-p.id.clock;if(C<0)i.push(p),d(p.id.client,p.id.clock-1),y();else{const w=p.getMissing(t,e);if(w!==null){i.push(p);const x=n.get(w)||{refs:[],i:0};if(x.refs.length===x.i)d(w,Dt(e,w)),y();else{p=x.refs[x.i++];continue}}else(C===0||C<p.length)&&(p.integrate(t,C),m.set(p.id.client,p.id.clock+p.length))}}if(i.length>0)p=i.pop();else if(l!==null&&l.i<l.refs.length)p=l.refs[l.i++];else{if(l=o(),l===null)break;p=l.refs[l.i++]}}if(c.clients.size>0){const b=new cp;return XS(b,c,new Map),Be(b.restEncoder,0),{missing:f,update:b.toUint8Array()}}return null},aj=(t,e)=>XS(t,e.doc.store,e.beforeState),cj=(t,e,n,i=new xh(t))=>ot(e,r=>{r.local=!1;let o=!1;const l=r.doc,c=l.store,f=sj(i,l),d=lj(r,c,f),p=c.pendingStructs;if(p){for(const[y,b]of p.missing)if(b<Dt(c,y)){o=!0;break}if(d){for(const[y,b]of d.missing){const C=p.missing.get(y);(C==null||C>b)&&p.missing.set(y,b)}p.update=N5([p.update,d.update])}}else c.pendingStructs=d;const m=x5(i,r,c);if(c.pendingDs){const y=new xh(yy(c.pendingDs));pt(y.restDecoder);const b=x5(y,r,c);m&&b?c.pendingDs=N5([m,b]):c.pendingDs=m||b}else c.pendingDs=m;if(o){const y=c.pendingStructs.update;c.pendingStructs=null,z0(r.doc,y)}},n,!1),z0=(t,e,n,i=xh)=>{const r=yy(e);cj(r,t,n,new i(r))};class uj{constructor(){this.l=[]}}const S5=()=>new uj,T5=(t,e)=>t.l.push(e),E5=(t,e)=>{const n=t.l,i=n.length;t.l=n.filter(r=>e!==r),i===t.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},WS=(t,e,n)=>Cy(t.l,[e,n]);class $l{constructor(e,n){this.client=e,this.clock=n}}const td=(t,e)=>t===e||t!==null&&e!==null&&t.client===e.client&&t.clock===e.clock,Oe=(t,e)=>new $l(t,e),eu=t=>{for(const[e,n]of t.doc.share.entries())if(n===t)return e;throw qn()},tu=(t,e)=>{for(;e!==null;){if(e.parent===t)return!0;e=e.parent._item}return!1};class Sh{constructor(e,n,i,r=0){this.type=e,this.tname=n,this.item=i,this.assoc=r}}class fj{constructor(e,n,i=0){this.type=e,this.index=n,this.assoc=i}}const dj=(t,e,n=0)=>new fj(t,e,n),nd=(t,e,n)=>{let i=null,r=null;return t._item===null?r=eu(t):i=Oe(t._item.id.client,t._item.id.clock),new Sh(i,r,e,n)},Rg=(t,e,n=0)=>{let i=t._start;if(n<0){if(e===0)return nd(t,null,n);e--}for(;i!==null;){if(!i.deleted&&i.countable){if(i.length>e)return nd(t,Oe(i.id.client,i.id.clock+e),n);e-=i.length}if(i.right===null&&n<0)return nd(t,i.lastId,n);i=i.right}return nd(t,null,n)},hj=(t,e)=>{const n=Kl(t,e),i=e.clock-n.id.clock;return{item:n,diff:i}},pj=(t,e,n=!0)=>{const i=e.store,r=t.item,o=t.type,l=t.tname,c=t.assoc;let f=null,d=0;if(r!==null){if(Dt(i,r.client)<=r.clock)return null;const p=n?U0(i,r):hj(i,r),m=p.item;if(!(m instanceof Qe))return null;if(f=m.parent,f._item===null||!f._item.deleted){d=m.deleted||!m.countable?0:p.diff+(c>=0?0:1);let y=m.left;for(;y!==null;)!y.deleted&&y.countable&&(d+=y.length),y=y.left}}else{if(l!==null)f=e.get(l);else if(o!==null){if(Dt(i,o.client)<=o.clock)return null;const{item:p}=n?U0(i,o):{item:Kl(i,o)};if(p instanceof Qe&&p.content instanceof ji)f=p.content.type;else return null}else throw qn();c>=0?d=f._length:d=0}return dj(f,d,t.assoc)};class Ey{constructor(e,n){this.ds=e,this.sv=n}}const JS=(t,e)=>new Ey(t,e),Og=t=>JS(QV(t.store),up(t.store)),ms=(t,e)=>e===void 0?!t.deleted:e.sv.has(t.id.client)&&(e.sv.get(t.id.client)||0)>t.id.clock&&!ha(e.ds,t.id),B0=(t,e)=>{const n=Pr(t.meta,B0,_s),i=t.doc.store;n.has(e)||(e.sv.forEach((r,o)=>{r<Dt(i,o)&&Bn(t,Oe(o,r))}),zo(t,e.ds,r=>{}),n.add(e))};class QS{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const up=t=>{const e=new Map;return t.clients.forEach((n,i)=>{const r=n[n.length-1];e.set(i,r.id.clock+r.length)}),e},Dt=(t,e)=>{const n=t.clients.get(e);if(n===void 0)return 0;const i=n[n.length-1];return i.id.clock+i.length},e8=(t,e)=>{let n=t.clients.get(e.id.client);if(n===void 0)n=[],t.clients.set(e.id.client,n);else{const i=n[n.length-1];if(i.id.clock+i.length!==e.id.clock)throw qn()}n.push(e)},zi=(t,e)=>{let n=0,i=t.length-1,r=t[i],o=r.id.clock;if(o===e)return i;let l=Vr(e/(o+r.length-1)*i);for(;n<=i;){if(r=t[l],o=r.id.clock,o<=e){if(e<o+r.length)return l;n=l+1}else i=l-1;l=Vr((n+i)/2)}throw qn()},mj=(t,e)=>{const n=t.clients.get(e.client);return n[zi(n,e.clock)]},Kl=mj,V0=(t,e,n)=>{const i=zi(e,n),r=e[i];return r.id.clock<n&&r instanceof Qe?(e.splice(i+1,0,Ah(t,r,n-r.id.clock)),i+1):i},Bn=(t,e)=>{const n=t.doc.store.clients.get(e.client);return n[V0(t,n,e.clock)]},M5=(t,e,n)=>{const i=e.clients.get(n.client),r=zi(i,n.clock),o=i[r];return n.clock!==o.id.clock+o.length-1&&o.constructor!==bi&&i.splice(r+1,0,Ah(t,o,n.clock-o.id.clock+1)),o},gj=(t,e,n)=>{const i=t.clients.get(e.id.client);i[zi(i,e.id.clock)]=n},t8=(t,e,n,i,r)=>{if(i===0)return;const o=n+i;let l=V0(t,e,n),c;do c=e[l++],o<c.id.clock+c.length&&V0(t,e,o),r(c);while(l<e.length&&e[l].id.clock<o)};class yj{constructor(e,n,i){this.doc=e,this.deleteSet=new da,this.beforeState=up(e.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=n,this.meta=new Map,this.local=i,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1}}const k5=(t,e)=>e.deleteSet.clients.size===0&&!_B(e.afterState,(n,i)=>e.beforeState.get(i)!==n)?!1:(Sy(e.deleteSet),aj(t,e),Ty(t,e.deleteSet),!0),A5=(t,e,n)=>{const i=e._item;(i===null||i.id.clock<(t.beforeState.get(i.id.client)||0)&&!i.deleted)&&Pr(t.changed,e,_s).add(n)},wd=(t,e)=>{let n=t[e],i=t[e-1],r=e;for(;r>0;n=i,i=t[--r-1]){if(i.deleted===n.deleted&&i.constructor===n.constructor&&i.mergeWith(n)){n instanceof Qe&&n.parentSub!==null&&n.parent._map.get(n.parentSub)===n&&n.parent._map.set(n.parentSub,i);continue}break}const o=e-r;return o&&t.splice(e+1-o,o),o},bj=(t,e,n)=>{for(const[i,r]of t.clients.entries()){const o=e.clients.get(i);for(let l=r.length-1;l>=0;l--){const c=r[l],f=c.clock+c.len;for(let d=zi(o,c.clock),p=o[d];d<o.length&&p.id.clock<f;p=o[++d]){const m=o[d];if(c.clock+c.len<=m.id.clock)break;m instanceof Qe&&m.deleted&&!m.keep&&n(m)&&m.gc(e,!1)}}}},vj=(t,e)=>{t.clients.forEach((n,i)=>{const r=e.clients.get(i);for(let o=n.length-1;o>=0;o--){const l=n[o],c=oa(r.length-1,1+zi(r,l.clock+l.len-1));for(let f=c,d=r[f];f>0&&d.id.clock>=l.clock;d=r[f])f-=1+wd(r,f)}})},n8=(t,e)=>{if(e<t.length){const n=t[e],i=n.doc,r=i.store,o=n.deleteSet,l=n._mergeStructs;try{Sy(o),n.afterState=up(n.doc.store),i.emit("beforeObserverCalls",[n,i]);const c=[];n.changed.forEach((f,d)=>c.push(()=>{(d._item===null||!d._item.deleted)&&d._callObserver(n,f)})),c.push(()=>{n.changedParentTypes.forEach((f,d)=>{d._dEH.l.length>0&&(d._item===null||!d._item.deleted)&&(f=f.filter(p=>p.target._item===null||!p.target._item.deleted),f.forEach(p=>{p.currentTarget=d,p._path=null}),f.sort((p,m)=>p.path.length-m.path.length),WS(d._dEH,f,n))})}),c.push(()=>i.emit("afterTransaction",[n,i])),Cy(c,[]),n._needFormattingCleanup&&Vj(n)}finally{i.gc&&bj(o,r,i.gcFilter),vj(o,r),n.afterState.forEach((p,m)=>{const y=n.beforeState.get(m)||0;if(y!==p){const b=r.clients.get(m),C=Ho(zi(b,y),1);for(let w=b.length-1;w>=C;)w-=1+wd(b,w)}});for(let p=l.length-1;p>=0;p--){const{client:m,clock:y}=l[p].id,b=r.clients.get(m),C=zi(b,y);C+1<b.length&&wd(b,C+1)>1||C>0&&wd(b,C)}if(!n.local&&n.afterState.get(i.clientID)!==n.beforeState.get(i.clientID)&&(XV(wy,US,"[yjs] ",PS,FS,"Changed the client-id because another client seems to be using it."),i.clientID=GS()),i.emit("afterTransactionCleanup",[n,i]),i._observers.has("update")){const p=new ij;k5(p,n)&&i.emit("update",[p.toUint8Array(),n.origin,i,n])}if(i._observers.has("updateV2")){const p=new cp;k5(p,n)&&i.emit("updateV2",[p.toUint8Array(),n.origin,i,n])}const{subdocsAdded:c,subdocsLoaded:f,subdocsRemoved:d}=n;(c.size>0||d.size>0||f.size>0)&&(c.forEach(p=>{p.clientID=i.clientID,p.collectionid==null&&(p.collectionid=i.collectionid),i.subdocs.add(p)}),d.forEach(p=>i.subdocs.delete(p)),i.emit("subdocs",[{loaded:f,added:c,removed:d},i,n]),d.forEach(p=>p.destroy())),t.length<=e+1?(i._transactionCleanups=[],i.emit("afterAllTransactions",[i,t])):n8(t,e+1)}}},ot=(t,e,n=null,i=!0)=>{const r=t._transactionCleanups;let o=!1,l=null;t._transaction===null&&(o=!0,t._transaction=new yj(t,n,i),r.push(t._transaction),r.length===1&&t.emit("beforeAllTransactions",[t]),t.emit("beforeTransaction",[t._transaction,t]));try{l=e(t._transaction)}finally{if(o){const c=t._transaction===r[0];t._transaction=null,c&&n8(r,0)}}return l};class Cj{constructor(e,n){this.insertions=n,this.deletions=e,this.meta=new Map}}const R5=(t,e,n)=>{zo(t,n.deletions,i=>{i instanceof Qe&&e.scope.some(r=>r===t.doc||tu(r,i))&&Oy(i,!1)})},O5=(t,e,n)=>{let i=null;const r=t.doc,o=t.scope;ot(r,c=>{for(;e.length>0&&t.currStackItem===null;){const f=r.store,d=e.pop(),p=new Set,m=[];let y=!1;zo(c,d.insertions,b=>{if(b instanceof Qe){if(b.redone!==null){let{item:C,diff:w}=U0(f,b.id);w>0&&(C=Bn(c,Oe(C.id.client,C.id.clock+w))),b=C}!b.deleted&&o.some(C=>C===c.doc||tu(C,b))&&m.push(b)}}),zo(c,d.deletions,b=>{b instanceof Qe&&o.some(C=>C===c.doc||tu(C,b))&&!ha(d.insertions,b.id)&&p.add(b)}),p.forEach(b=>{y=x8(c,b,p,d.insertions,t.ignoreRemoteMapChanges,t)!==null||y});for(let b=m.length-1;b>=0;b--){const C=m[b];t.deleteFilter(C)&&(C.delete(c),y=!0)}t.currStackItem=y?d:null}c.changed.forEach((f,d)=>{f.has(null)&&d._searchMarker&&(d._searchMarker.length=0)}),i=c},t);const l=t.currStackItem;if(l!=null){const c=i.changedParentTypes;t.emit("stack-item-popped",[{stackItem:l,type:n,changedParentTypes:c,origin:t},t]),t.currStackItem=null}return l};class i8 extends kS{constructor(e,{captureTimeout:n=500,captureTransaction:i=f=>!0,deleteFilter:r=()=>!0,trackedOrigins:o=new Set([null]),ignoreRemoteMapChanges:l=!1,doc:c=O0(e)?e[0].doc:e instanceof js?e:e.doc}={}){super(),this.scope=[],this.doc=c,this.addToScope(e),this.deleteFilter=r,o.add(this),this.trackedOrigins=o,this.captureTransaction=i,this.undoStack=[],this.redoStack=[],this.undoing=!1,this.redoing=!1,this.currStackItem=null,this.lastChange=0,this.ignoreRemoteMapChanges=l,this.captureTimeout=n,this.afterTransactionHandler=f=>{if(!this.captureTransaction(f)||!this.scope.some(x=>f.changedParentTypes.has(x)||x===this.doc)||!this.trackedOrigins.has(f.origin)&&(!f.origin||!this.trackedOrigins.has(f.origin.constructor)))return;const d=this.undoing,p=this.redoing,m=d?this.redoStack:this.undoStack;d?this.stopCapturing():p||this.clear(!1,!0);const y=new da;f.afterState.forEach((x,E)=>{const A=f.beforeState.get(E)||0,O=x-A;O>0&&Qc(y,E,A,O)});const b=vV();let C=!1;if(this.lastChange>0&&b-this.lastChange<this.captureTimeout&&m.length>0&&!d&&!p){const x=m[m.length-1];x.deletions=I0([x.deletions,f.deleteSet]),x.insertions=I0([x.insertions,y])}else m.push(new Cj(f.deleteSet,y)),C=!0;!d&&!p&&(this.lastChange=b),zo(f,f.deleteSet,x=>{x instanceof Qe&&this.scope.some(E=>E===f.doc||tu(E,x))&&Oy(x,!0)});const w=[{stackItem:m[m.length-1],origin:f.origin,type:d?"redo":"undo",changedParentTypes:f.changedParentTypes},this];C?this.emit("stack-item-added",w):this.emit("stack-item-updated",w)},this.doc.on("afterTransaction",this.afterTransactionHandler),this.doc.on("destroy",()=>{this.destroy()})}addToScope(e){const n=new Set(this.scope);e=O0(e)?e:[e],e.forEach(i=>{n.has(i)||(n.add(i),(i instanceof Wt?i.doc!==this.doc:i!==this.doc)&&$S("[yjs#509] Not same Y.Doc"),this.scope.push(i))})}addTrackedOrigin(e){this.trackedOrigins.add(e)}removeTrackedOrigin(e){this.trackedOrigins.delete(e)}clear(e=!0,n=!0){(e&&this.canUndo()||n&&this.canRedo())&&this.doc.transact(i=>{e&&(this.undoStack.forEach(r=>R5(i,this,r)),this.undoStack=[]),n&&(this.redoStack.forEach(r=>R5(i,this,r)),this.redoStack=[]),this.emit("stack-cleared",[{undoStackCleared:e,redoStackCleared:n}])})}stopCapturing(){this.lastChange=0}undo(){this.undoing=!0;let e;try{e=O5(this,this.undoStack,"undo")}finally{this.undoing=!1}return e}redo(){this.redoing=!0;let e;try{e=O5(this,this.redoStack,"redo")}finally{this.redoing=!1}return e}canUndo(){return this.undoStack.length>0}canRedo(){return this.redoStack.length>0}destroy(){this.trackedOrigins.delete(this),this.doc.off("afterTransaction",this.afterTransactionHandler),super.destroy()}}function*wj(t){const e=pt(t.restDecoder);for(let n=0;n<e;n++){const i=pt(t.restDecoder),r=t.readClient();let o=pt(t.restDecoder);for(let l=0;l<i;l++){const c=t.readInfo();if(c===10){const f=pt(t.restDecoder);yield new Mi(Oe(r,o),f),o+=f}else if((sp&c)!==0){const f=(c&(Ir|Tn))===0,d=new Qe(Oe(r,o),null,(c&Tn)===Tn?t.readLeftID():null,null,(c&Ir)===Ir?t.readRightID():null,f?t.readParentInfo()?t.readString():t.readLeftID():null,f&&(c&Xc)===Xc?t.readString():null,S8(t,c));yield d,o+=d.length}else{const f=t.readLen();yield new bi(Oe(r,o),f),o+=f}}}}class xj{constructor(e,n){this.gen=wj(e),this.curr=null,this.done=!1,this.filterSkips=n,this.next()}next(){do this.curr=this.gen.next().value||null;while(this.filterSkips&&this.curr!==null&&this.curr.constructor===Mi);return this.curr}}class Sj{constructor(e){this.currClient=0,this.startClock=0,this.written=0,this.encoder=e,this.clientStructs=[]}}const Tj=(t,e)=>{if(t.constructor===bi){const{client:n,clock:i}=t.id;return new bi(Oe(n,i+e),t.length-e)}else if(t.constructor===Mi){const{client:n,clock:i}=t.id;return new Mi(Oe(n,i+e),t.length-e)}else{const n=t,{client:i,clock:r}=n.id;return new Qe(Oe(i,r+e),null,Oe(i,r+e-1),null,n.rightOrigin,n.parent,n.parentSub,n.content.splice(e))}},N5=(t,e=xh,n=cp)=>{if(t.length===1)return t[0];const i=t.map(p=>new e(yy(p)));let r=i.map(p=>new xj(p,!0)),o=null;const l=new n,c=new Sj(l);for(;r=r.filter(y=>y.curr!==null),r.sort((y,b)=>{if(y.curr.id.client===b.curr.id.client){const C=y.curr.id.clock-b.curr.id.clock;return C===0?y.curr.constructor===b.curr.constructor?0:y.curr.constructor===Mi?1:-1:C}else return b.curr.id.client-y.curr.id.client}),r.length!==0;){const p=r[0],m=p.curr.id.client;if(o!==null){let y=p.curr,b=!1;for(;y!==null&&y.id.clock+y.length<=o.struct.id.clock+o.struct.length&&y.id.client>=o.struct.id.client;)y=p.next(),b=!0;if(y===null||y.id.client!==m||b&&y.id.clock>o.struct.id.clock+o.struct.length)continue;if(m!==o.struct.id.client)mc(c,o.struct,o.offset),o={struct:y,offset:0},p.next();else if(o.struct.id.clock+o.struct.length<y.id.clock)if(o.struct.constructor===Mi)o.struct.length=y.id.clock+y.length-o.struct.id.clock;else{mc(c,o.struct,o.offset);const C=y.id.clock-o.struct.id.clock-o.struct.length;o={struct:new Mi(Oe(m,o.struct.id.clock+o.struct.length),C),offset:0}}else{const C=o.struct.id.clock+o.struct.length-y.id.clock;C>0&&(o.struct.constructor===Mi?o.struct.length-=C:y=Tj(y,C)),o.struct.mergeWith(y)||(mc(c,o.struct,o.offset),o={struct:y,offset:0},p.next())}}else o={struct:p.curr,offset:0},p.next();for(let y=p.curr;y!==null&&y.id.client===m&&y.id.clock===o.struct.id.clock+o.struct.length&&y.constructor!==Mi;y=p.next())mc(c,o.struct,o.offset),o={struct:y,offset:0}}o!==null&&(mc(c,o.struct,o.offset),o=null),Ej(c);const f=i.map(p=>ej(p)),d=I0(f);return Ty(l,d),l.toUint8Array()},r8=t=>{t.written>0&&(t.clientStructs.push({written:t.written,restEncoder:Ri(t.encoder.restEncoder)}),t.encoder.restEncoder=vu(),t.written=0)},mc=(t,e,n)=>{t.written>0&&t.currClient!==e.id.client&&r8(t),t.written===0&&(t.currClient=e.id.client,t.encoder.writeClient(e.id.client),Be(t.encoder.restEncoder,e.id.clock+n)),e.write(t.encoder,n),t.written++},Ej=t=>{r8(t);const e=t.encoder.restEncoder;Be(e,t.clientStructs.length);for(let n=0;n<t.clientStructs.length;n++){const i=t.clientStructs[n];Be(e,i.written),lp(e,i.restEncoder)}},D5="You must not compute changes after the event-handler fired.";class fp{constructor(e,n){this.target=e,this.currentTarget=e,this.transaction=n,this._changes=null,this._keys=null,this._delta=null,this._path=null}get path(){return this._path||(this._path=Mj(this.currentTarget,this.target))}deletes(e){return ha(this.transaction.deleteSet,e.id)}get keys(){if(this._keys===null){if(this.transaction.doc._transactionCleanups.length===0)throw Io(D5);const e=new Map,n=this.target;this.transaction.changed.get(n).forEach(r=>{if(r!==null){const o=n._map.get(r);let l,c;if(this.adds(o)){let f=o.left;for(;f!==null&&this.adds(f);)f=f.left;if(this.deletes(o))if(f!==null&&this.deletes(f))l="delete",c=Sg(f.content.getContent());else return;else f!==null&&this.deletes(f)?(l="update",c=Sg(f.content.getContent())):(l="add",c=void 0)}else if(this.deletes(o))l="delete",c=Sg(o.content.getContent());else return;e.set(r,{action:l,oldValue:c})}}),this._keys=e}return this._keys}get delta(){return this.changes.delta}adds(e){return e.id.clock>=(this.transaction.beforeState.get(e.id.client)||0)}get changes(){let e=this._changes;if(e===null){if(this.transaction.doc._transactionCleanups.length===0)throw Io(D5);const n=this.target,i=_s(),r=_s(),o=[];if(e={added:i,deleted:r,delta:o,keys:this.keys},this.transaction.changed.get(n).has(null)){let c=null;const f=()=>{c&&o.push(c)};for(let d=n._start;d!==null;d=d.right)d.deleted?this.deletes(d)&&!this.adds(d)&&((c===null||c.delete===void 0)&&(f(),c={delete:0}),c.delete+=d.length,r.add(d)):this.adds(d)?((c===null||c.insert===void 0)&&(f(),c={insert:[]}),c.insert=c.insert.concat(d.content.getContent()),i.add(d)):((c===null||c.retain===void 0)&&(f(),c={retain:0}),c.retain+=d.length);c!==null&&c.retain===void 0&&f()}this._changes=e}return e}}const Mj=(t,e)=>{const n=[];for(;e._item!==null&&e!==t;){if(e._item.parentSub!==null)n.unshift(e._item.parentSub);else{let i=0,r=e._item.parent._start;for(;r!==e._item&&r!==null;)!r.deleted&&r.countable&&(i+=r.length),r=r.right;n.unshift(i)}e=e._item.parent}return n},vn=()=>{$S("Invalid access: Add Yjs type to a document before reading data.")},o8=80;let My=0;class kj{constructor(e,n){e.marker=!0,this.p=e,this.index=n,this.timestamp=My++}}const Aj=t=>{t.timestamp=My++},s8=(t,e,n)=>{t.p.marker=!1,t.p=e,e.marker=!0,t.index=n,t.timestamp=My++},Rj=(t,e,n)=>{if(t.length>=o8){const i=t.reduce((r,o)=>r.timestamp<o.timestamp?r:o);return s8(i,e,n),i}else{const i=new kj(e,n);return t.push(i),i}},dp=(t,e)=>{if(t._start===null||e===0||t._searchMarker===null)return null;const n=t._searchMarker.length===0?null:t._searchMarker.reduce((o,l)=>bd(e-o.index)<bd(e-l.index)?o:l);let i=t._start,r=0;for(n!==null&&(i=n.p,r=n.index,Aj(n));i.right!==null&&r<e;){if(!i.deleted&&i.countable){if(e<r+i.length)break;r+=i.length}i=i.right}for(;i.left!==null&&r>e;)i=i.left,!i.deleted&&i.countable&&(r-=i.length);for(;i.left!==null&&i.left.id.client===i.id.client&&i.left.id.clock+i.left.length===i.id.clock;)i=i.left,!i.deleted&&i.countable&&(r-=i.length);return n!==null&&bd(n.index-r)<i.parent.length/o8?(s8(n,i,r),n):Rj(t._searchMarker,i,r)},nu=(t,e,n)=>{for(let i=t.length-1;i>=0;i--){const r=t[i];if(n>0){let o=r.p;for(o.marker=!1;o&&(o.deleted||!o.countable);)o=o.left,o&&!o.deleted&&o.countable&&(r.index-=o.length);if(o===null||o.marker===!0){t.splice(i,1);continue}r.p=o,o.marker=!0}(e<r.index||n>0&&e===r.index)&&(r.index=Ho(e,r.index+n))}},hp=(t,e,n)=>{const i=t,r=e.changedParentTypes;for(;Pr(r,t,()=>[]).push(n),t._item!==null;)t=t._item.parent;WS(i._eH,n,e)};class Wt{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=S5(),this._dEH=S5(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(e,n){this.doc=e,this._item=n}_copy(){throw Li()}clone(){throw Li()}_write(e){}get _first(){let e=this._start;for(;e!==null&&e.deleted;)e=e.right;return e}_callObserver(e,n){!e.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(e){T5(this._eH,e)}observeDeep(e){T5(this._dEH,e)}unobserve(e){E5(this._eH,e)}unobserveDeep(e){E5(this._dEH,e)}toJSON(){}}const l8=(t,e,n)=>{t.doc??vn(),e<0&&(e=t._length+e),n<0&&(n=t._length+n);let i=n-e;const r=[];let o=t._start;for(;o!==null&&i>0;){if(o.countable&&!o.deleted){const l=o.content.getContent();if(l.length<=e)e-=l.length;else{for(let c=e;c<l.length&&i>0;c++)r.push(l[c]),i--;e=0}}o=o.right}return r},a8=t=>{t.doc??vn();const e=[];let n=t._start;for(;n!==null;){if(n.countable&&!n.deleted){const i=n.content.getContent();for(let r=0;r<i.length;r++)e.push(i[r])}n=n.right}return e},c8=(t,e)=>{const n=[];let i=t._start;for(;i!==null;){if(i.countable&&ms(i,e)){const r=i.content.getContent();for(let o=0;o<r.length;o++)n.push(r[o])}i=i.right}return n},iu=(t,e)=>{let n=0,i=t._start;for(t.doc??vn();i!==null;){if(i.countable&&!i.deleted){const r=i.content.getContent();for(let o=0;o<r.length;o++)e(r[o],n++,t)}i=i.right}},u8=(t,e)=>{const n=[];return iu(t,(i,r)=>{n.push(e(i,r,t))}),n},Oj=t=>{let e=t._start,n=null,i=0;return{[Symbol.iterator](){return this},next:()=>{if(n===null){for(;e!==null&&e.deleted;)e=e.right;if(e===null)return{done:!0,value:void 0};n=e.content.getContent(),i=0,e=e.right}const r=n[i++];return n.length<=i&&(n=null),{done:!1,value:r}}}},f8=(t,e)=>{t.doc??vn();const n=dp(t,e);let i=t._start;for(n!==null&&(i=n.p,e-=n.index);i!==null;i=i.right)if(!i.deleted&&i.countable){if(e<i.length)return i.content.getContent()[e];e-=i.length}},Th=(t,e,n,i)=>{let r=n;const o=t.doc,l=o.clientID,c=o.store,f=n===null?e._start:n.right;let d=[];const p=()=>{d.length>0&&(r=new Qe(Oe(l,Dt(c,l)),r,r&&r.lastId,f,f&&f.id,e,null,new zs(d)),r.integrate(t,0),d=[])};i.forEach(m=>{if(m===null)d.push(m);else switch(m.constructor){case Number:case Object:case Boolean:case Array:case String:d.push(m);break;default:switch(p(),m.constructor){case Uint8Array:case ArrayBuffer:r=new Qe(Oe(l,Dt(c,l)),r,r&&r.lastId,f,f&&f.id,e,null,new Cu(new Uint8Array(m))),r.integrate(t,0);break;case js:r=new Qe(Oe(l,Dt(c,l)),r,r&&r.lastId,f,f&&f.id,e,null,new wu(m)),r.integrate(t,0);break;default:if(m instanceof Wt)r=new Qe(Oe(l,Dt(c,l)),r,r&&r.lastId,f,f&&f.id,e,null,new ji(m)),r.integrate(t,0);else throw new Error("Unexpected content type in insert operation")}}}),p()},d8=()=>Io("Length exceeded!"),h8=(t,e,n,i)=>{if(n>e._length)throw d8();if(n===0)return e._searchMarker&&nu(e._searchMarker,n,i.length),Th(t,e,null,i);const r=n,o=dp(e,n);let l=e._start;for(o!==null&&(l=o.p,n-=o.index,n===0&&(l=l.prev,n+=l&&l.countable&&!l.deleted?l.length:0));l!==null;l=l.right)if(!l.deleted&&l.countable){if(n<=l.length){n<l.length&&Bn(t,Oe(l.id.client,l.id.clock+n));break}n-=l.length}return e._searchMarker&&nu(e._searchMarker,r,i.length),Th(t,e,l,i)},Nj=(t,e,n)=>{let r=(e._searchMarker||[]).reduce((o,l)=>l.index>o.index?l:o,{index:0,p:e._start}).p;if(r)for(;r.right;)r=r.right;return Th(t,e,r,n)},p8=(t,e,n,i)=>{if(i===0)return;const r=n,o=i,l=dp(e,n);let c=e._start;for(l!==null&&(c=l.p,n-=l.index);c!==null&&n>0;c=c.right)!c.deleted&&c.countable&&(n<c.length&&Bn(t,Oe(c.id.client,c.id.clock+n)),n-=c.length);for(;i>0&&c!==null;)c.deleted||(i<c.length&&Bn(t,Oe(c.id.client,c.id.clock+i)),c.delete(t),i-=c.length),c=c.right;if(i>0)throw d8();e._searchMarker&&nu(e._searchMarker,r,-o+i)},Eh=(t,e,n)=>{const i=e._map.get(n);i!==void 0&&i.delete(t)},ky=(t,e,n,i)=>{const r=e._map.get(n)||null,o=t.doc,l=o.clientID;let c;if(i==null)c=new zs([i]);else switch(i.constructor){case Number:case Object:case Boolean:case Array:case String:case Date:case BigInt:c=new zs([i]);break;case Uint8Array:c=new Cu(i);break;case js:c=new wu(i);break;default:if(i instanceof Wt)c=new ji(i);else throw new Error("Unexpected content type")}new Qe(Oe(l,Dt(o.store,l)),r,r&&r.lastId,null,null,e,n,c).integrate(t,0)},Ay=(t,e)=>{t.doc??vn();const n=t._map.get(e);return n!==void 0&&!n.deleted?n.content.getContent()[n.length-1]:void 0},m8=t=>{const e={};return t.doc??vn(),t._map.forEach((n,i)=>{n.deleted||(e[i]=n.content.getContent()[n.length-1])}),e},g8=(t,e)=>{t.doc??vn();const n=t._map.get(e);return n!==void 0&&!n.deleted},Dj=(t,e)=>{const n={};return t._map.forEach((i,r)=>{let o=i;for(;o!==null&&(!e.sv.has(o.id.client)||o.id.clock>=(e.sv.get(o.id.client)||0));)o=o.left;o!==null&&ms(o,e)&&(n[r]=o.content.getContent()[o.length-1])}),n},id=t=>(t.doc??vn(),WV(t._map.entries(),e=>!e[1].deleted));class Lj extends fp{}class Zl extends Wt{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(e){const n=new Zl;return n.push(e),n}_integrate(e,n){super._integrate(e,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new Zl}clone(){const e=new Zl;return e.insert(0,this.toArray().map(n=>n instanceof Wt?n.clone():n)),e}get length(){return this.doc??vn(),this._length}_callObserver(e,n){super._callObserver(e,n),hp(this,e,new Lj(this,e))}insert(e,n){this.doc!==null?ot(this.doc,i=>{h8(i,this,e,n)}):this._prelimContent.splice(e,0,...n)}push(e){this.doc!==null?ot(this.doc,n=>{Nj(n,this,e)}):this._prelimContent.push(...e)}unshift(e){this.insert(0,e)}delete(e,n=1){this.doc!==null?ot(this.doc,i=>{p8(i,this,e,n)}):this._prelimContent.splice(e,n)}get(e){return f8(this,e)}toArray(){return a8(this)}slice(e=0,n=this.length){return l8(this,e,n)}toJSON(){return this.map(e=>e instanceof Wt?e.toJSON():e)}map(e){return u8(this,e)}forEach(e){iu(this,e)}[Symbol.iterator](){return Oj(this)}_write(e){e.writeTypeRef(rU)}}const _j=t=>new Zl;class Hj extends fp{constructor(e,n,i){super(e,n),this.keysChanged=i}}class aa extends Wt{constructor(e){super(),this._prelimContent=null,e===void 0?this._prelimContent=new Map:this._prelimContent=new Map(e)}_integrate(e,n){super._integrate(e,n),this._prelimContent.forEach((i,r)=>{this.set(r,i)}),this._prelimContent=null}_copy(){return new aa}clone(){const e=new aa;return this.forEach((n,i)=>{e.set(i,n instanceof Wt?n.clone():n)}),e}_callObserver(e,n){hp(this,e,new Hj(this,e,n))}toJSON(){this.doc??vn();const e={};return this._map.forEach((n,i)=>{if(!n.deleted){const r=n.content.getContent()[n.length-1];e[i]=r instanceof Wt?r.toJSON():r}}),e}get size(){return[...id(this)].length}keys(){return Ag(id(this),e=>e[0])}values(){return Ag(id(this),e=>e[1].content.getContent()[e[1].length-1])}entries(){return Ag(id(this),e=>[e[0],e[1].content.getContent()[e[1].length-1]])}forEach(e){this.doc??vn(),this._map.forEach((n,i)=>{n.deleted||e(n.content.getContent()[n.length-1],i,this)})}[Symbol.iterator](){return this.entries()}delete(e){this.doc!==null?ot(this.doc,n=>{Eh(n,this,e)}):this._prelimContent.delete(e)}set(e,n){return this.doc!==null?ot(this.doc,i=>{ky(i,this,e,n)}):this._prelimContent.set(e,n),n}get(e){return Ay(this,e)}has(e){return g8(this,e)}clear(){this.doc!==null?ot(this.doc,e=>{this.forEach(function(n,i,r){Eh(e,r,i)})}):this._prelimContent.clear()}_write(e){e.writeTypeRef(oU)}}const Ij=t=>new aa,ko=(t,e)=>t===e||typeof t=="object"&&typeof e=="object"&&t&&e&&kV(t,e);class j0{constructor(e,n,i,r){this.left=e,this.right=n,this.index=i,this.currentAttributes=r}forward(){switch(this.right===null&&qn(),this.right.content.constructor){case Vt:this.right.deleted||pa(this.currentAttributes,this.right.content);break;default:this.right.deleted||(this.index+=this.right.length);break}this.left=this.right,this.right=this.right.right}}const L5=(t,e,n)=>{for(;e.right!==null&&n>0;){switch(e.right.content.constructor){case Vt:e.right.deleted||pa(e.currentAttributes,e.right.content);break;default:e.right.deleted||(n<e.right.length&&Bn(t,Oe(e.right.id.client,e.right.id.clock+n)),e.index+=e.right.length,n-=e.right.length);break}e.left=e.right,e.right=e.right.right}return e},rd=(t,e,n,i)=>{const r=new Map,o=i?dp(e,n):null;if(o){const l=new j0(o.p.left,o.p,o.index,r);return L5(t,l,n-o.index)}else{const l=new j0(null,e._start,0,r);return L5(t,l,n)}},y8=(t,e,n,i)=>{for(;n.right!==null&&(n.right.deleted===!0||n.right.content.constructor===Vt&&ko(i.get(n.right.content.key),n.right.content.value));)n.right.deleted||i.delete(n.right.content.key),n.forward();const r=t.doc,o=r.clientID;i.forEach((l,c)=>{const f=n.left,d=n.right,p=new Qe(Oe(o,Dt(r.store,o)),f,f&&f.lastId,d,d&&d.id,e,null,new Vt(c,l));p.integrate(t,0),n.right=p,n.forward()})},pa=(t,e)=>{const{key:n,value:i}=e;i===null?t.delete(n):t.set(n,i)},b8=(t,e)=>{for(;t.right!==null;){if(!(t.right.deleted||t.right.content.constructor===Vt&&ko(e[t.right.content.key]??null,t.right.content.value)))break;t.forward()}},v8=(t,e,n,i)=>{const r=t.doc,o=r.clientID,l=new Map;for(const c in i){const f=i[c],d=n.currentAttributes.get(c)??null;if(!ko(d,f)){l.set(c,d);const{left:p,right:m}=n;n.right=new Qe(Oe(o,Dt(r.store,o)),p,p&&p.lastId,m,m&&m.id,e,null,new Vt(c,f)),n.right.integrate(t,0),n.forward()}}return l},Ng=(t,e,n,i,r)=>{n.currentAttributes.forEach((y,b)=>{r[b]===void 0&&(r[b]=null)});const o=t.doc,l=o.clientID;b8(n,r);const c=v8(t,e,n,r),f=i.constructor===String?new Bi(i):i instanceof Wt?new ji(i):new Us(i);let{left:d,right:p,index:m}=n;e._searchMarker&&nu(e._searchMarker,n.index,f.getLength()),p=new Qe(Oe(l,Dt(o.store,l)),d,d&&d.lastId,p,p&&p.id,e,null,f),p.integrate(t,0),n.right=p,n.index=m,n.forward(),y8(t,e,n,c)},_5=(t,e,n,i,r)=>{const o=t.doc,l=o.clientID;b8(n,r);const c=v8(t,e,n,r);e:for(;n.right!==null&&(i>0||c.size>0&&(n.right.deleted||n.right.content.constructor===Vt));){if(!n.right.deleted)switch(n.right.content.constructor){case Vt:{const{key:f,value:d}=n.right.content,p=r[f];if(p!==void 0){if(ko(p,d))c.delete(f);else{if(i===0)break e;c.set(f,d)}n.right.delete(t)}else n.currentAttributes.set(f,d);break}default:i<n.right.length&&Bn(t,Oe(n.right.id.client,n.right.id.clock+i)),i-=n.right.length;break}n.forward()}if(i>0){let f="";for(;i>0;i--)f+=`
`;n.right=new Qe(Oe(l,Dt(o.store,l)),n.left,n.left&&n.left.lastId,n.right,n.right&&n.right.id,e,null,new Bi(f)),n.right.integrate(t,0),n.forward()}y8(t,e,n,c)},C8=(t,e,n,i,r)=>{let o=e;const l=Di();for(;o&&(!o.countable||o.deleted);){if(!o.deleted&&o.content.constructor===Vt){const d=o.content;l.set(d.key,d)}o=o.right}let c=0,f=!1;for(;e!==o;){if(n===e&&(f=!0),!e.deleted){const d=e.content;switch(d.constructor){case Vt:{const{key:p,value:m}=d,y=i.get(p)??null;(l.get(p)!==d||y===m)&&(e.delete(t),c++,!f&&(r.get(p)??null)===m&&y!==m&&(y===null?r.delete(p):r.set(p,y))),!f&&!e.deleted&&pa(r,d);break}}}e=e.right}return c},zj=(t,e)=>{for(;e&&e.right&&(e.right.deleted||!e.right.countable);)e=e.right;const n=new Set;for(;e&&(e.deleted||!e.countable);){if(!e.deleted&&e.content.constructor===Vt){const i=e.content.key;n.has(i)?e.delete(t):n.add(i)}e=e.left}},Bj=t=>{let e=0;return ot(t.doc,n=>{let i=t._start,r=t._start,o=Di();const l=R0(o);for(;r;){if(r.deleted===!1)switch(r.content.constructor){case Vt:pa(l,r.content);break;default:e+=C8(n,i,r,o,l),o=R0(l),i=r;break}r=r.right}}),e},Vj=t=>{const e=new Set,n=t.doc;for(const[i,r]of t.afterState.entries()){const o=t.beforeState.get(i)||0;r!==o&&t8(t,n.store.clients.get(i),o,r,l=>{!l.deleted&&l.content.constructor===Vt&&l.constructor!==bi&&e.add(l.parent)})}ot(n,i=>{zo(t,t.deleteSet,r=>{if(r instanceof bi||!r.parent._hasFormatting||e.has(r.parent))return;const o=r.parent;r.content.constructor===Vt?e.add(o):zj(i,r)});for(const r of e)Bj(r)})},H5=(t,e,n)=>{const i=n,r=R0(e.currentAttributes),o=e.right;for(;n>0&&e.right!==null;){if(e.right.deleted===!1)switch(e.right.content.constructor){case ji:case Us:case Bi:n<e.right.length&&Bn(t,Oe(e.right.id.client,e.right.id.clock+n)),n-=e.right.length,e.right.delete(t);break}e.forward()}o&&C8(t,o,e.right,r,e.currentAttributes);const l=(e.left||e.right).parent;return l._searchMarker&&nu(l._searchMarker,e.index,-i+n),e};class jj extends fp{constructor(e,n,i){super(e,n),this.childListChanged=!1,this.keysChanged=new Set,i.forEach(r=>{r===null?this.childListChanged=!0:this.keysChanged.add(r)})}get changes(){if(this._changes===null){const e={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=e}return this._changes}get delta(){if(this._delta===null){const e=this.target.doc,n=[];ot(e,i=>{const r=new Map,o=new Map;let l=this.target._start,c=null;const f={};let d="",p=0,m=0;const y=()=>{if(c!==null){let b=null;switch(c){case"delete":m>0&&(b={delete:m}),m=0;break;case"insert":(typeof d=="object"||d.length>0)&&(b={insert:d},r.size>0&&(b.attributes={},r.forEach((C,w)=>{C!==null&&(b.attributes[w]=C)}))),d="";break;case"retain":p>0&&(b={retain:p},EV(f)||(b.attributes=SV({},f))),p=0;break}b&&n.push(b),c=null}};for(;l!==null;){switch(l.content.constructor){case ji:case Us:this.adds(l)?this.deletes(l)||(y(),c="insert",d=l.content.getContent()[0],y()):this.deletes(l)?(c!=="delete"&&(y(),c="delete"),m+=1):l.deleted||(c!=="retain"&&(y(),c="retain"),p+=1);break;case Bi:this.adds(l)?this.deletes(l)||(c!=="insert"&&(y(),c="insert"),d+=l.content.str):this.deletes(l)?(c!=="delete"&&(y(),c="delete"),m+=l.length):l.deleted||(c!=="retain"&&(y(),c="retain"),p+=l.length);break;case Vt:{const{key:b,value:C}=l.content;if(this.adds(l)){if(!this.deletes(l)){const w=r.get(b)??null;ko(w,C)?C!==null&&l.delete(i):(c==="retain"&&y(),ko(C,o.get(b)??null)?delete f[b]:f[b]=C)}}else if(this.deletes(l)){o.set(b,C);const w=r.get(b)??null;ko(w,C)||(c==="retain"&&y(),f[b]=w)}else if(!l.deleted){o.set(b,C);const w=f[b];w!==void 0&&(ko(w,C)?w!==null&&l.delete(i):(c==="retain"&&y(),C===null?delete f[b]:f[b]=C))}l.deleted||(c==="insert"&&y(),pa(r,l.content));break}}l=l.right}for(y();n.length>0;){const b=n[n.length-1];if(b.retain!==void 0&&b.attributes===void 0)n.pop();else break}}),this._delta=n}return this._delta}}class Bo extends Wt{constructor(e){super(),this._pending=e!==void 0?[()=>this.insert(0,e)]:[],this._searchMarker=[],this._hasFormatting=!1}get length(){return this.doc??vn(),this._length}_integrate(e,n){super._integrate(e,n);try{this._pending.forEach(i=>i())}catch(i){console.error(i)}this._pending=null}_copy(){return new Bo}clone(){const e=new Bo;return e.applyDelta(this.toDelta()),e}_callObserver(e,n){super._callObserver(e,n);const i=new jj(this,e,n);hp(this,e,i),!e.local&&this._hasFormatting&&(e._needFormattingCleanup=!0)}toString(){this.doc??vn();let e="",n=this._start;for(;n!==null;)!n.deleted&&n.countable&&n.content.constructor===Bi&&(e+=n.content.str),n=n.right;return e}toJSON(){return this.toString()}applyDelta(e,{sanitize:n=!0}={}){this.doc!==null?ot(this.doc,i=>{const r=new j0(null,this._start,0,new Map);for(let o=0;o<e.length;o++){const l=e[o];if(l.insert!==void 0){const c=!n&&typeof l.insert=="string"&&o===e.length-1&&r.right===null&&l.insert.slice(-1)===`
`?l.insert.slice(0,-1):l.insert;(typeof c!="string"||c.length>0)&&Ng(i,this,r,c,l.attributes||{})}else l.retain!==void 0?_5(i,this,r,l.retain,l.attributes||{}):l.delete!==void 0&&H5(i,r,l.delete)}}):this._pending.push(()=>this.applyDelta(e))}toDelta(e,n,i){this.doc??vn();const r=[],o=new Map,l=this.doc;let c="",f=this._start;function d(){if(c.length>0){const m={};let y=!1;o.forEach((C,w)=>{y=!0,m[w]=C});const b={insert:c};y&&(b.attributes=m),r.push(b),c=""}}const p=()=>{for(;f!==null;){if(ms(f,e)||n!==void 0&&ms(f,n))switch(f.content.constructor){case Bi:{const m=o.get("ychange");e!==void 0&&!ms(f,e)?(m===void 0||m.user!==f.id.client||m.type!=="removed")&&(d(),o.set("ychange",i?i("removed",f.id):{type:"removed"})):n!==void 0&&!ms(f,n)?(m===void 0||m.user!==f.id.client||m.type!=="added")&&(d(),o.set("ychange",i?i("added",f.id):{type:"added"})):m!==void 0&&(d(),o.delete("ychange")),c+=f.content.str;break}case ji:case Us:{d();const m={insert:f.content.getContent()[0]};if(o.size>0){const y={};m.attributes=y,o.forEach((b,C)=>{y[C]=b})}r.push(m);break}case Vt:ms(f,e)&&(d(),pa(o,f.content));break}f=f.right}d()};return e||n?ot(l,m=>{e&&B0(m,e),n&&B0(m,n),p()},"cleanup"):p(),r}insert(e,n,i){if(n.length<=0)return;const r=this.doc;r!==null?ot(r,o=>{const l=rd(o,this,e,!i);i||(i={},l.currentAttributes.forEach((c,f)=>{i[f]=c})),Ng(o,this,l,n,i)}):this._pending.push(()=>this.insert(e,n,i))}insertEmbed(e,n,i){const r=this.doc;r!==null?ot(r,o=>{const l=rd(o,this,e,!i);Ng(o,this,l,n,i||{})}):this._pending.push(()=>this.insertEmbed(e,n,i||{}))}delete(e,n){if(n===0)return;const i=this.doc;i!==null?ot(i,r=>{H5(r,rd(r,this,e,!0),n)}):this._pending.push(()=>this.delete(e,n))}format(e,n,i){if(n===0)return;const r=this.doc;r!==null?ot(r,o=>{const l=rd(o,this,e,!1);l.right!==null&&_5(o,this,l,n,i)}):this._pending.push(()=>this.format(e,n,i))}removeAttribute(e){this.doc!==null?ot(this.doc,n=>{Eh(n,this,e)}):this._pending.push(()=>this.removeAttribute(e))}setAttribute(e,n){this.doc!==null?ot(this.doc,i=>{ky(i,this,e,n)}):this._pending.push(()=>this.setAttribute(e,n))}getAttribute(e){return Ay(this,e)}getAttributes(){return m8(this)}_write(e){e.writeTypeRef(sU)}}const Uj=t=>new Bo;class Dg{constructor(e,n=()=>!0){this._filter=n,this._root=e,this._currentNode=e._start,this._firstCall=!0,e.doc??vn()}[Symbol.iterator](){return this}next(){let e=this._currentNode,n=e&&e.content&&e.content.type;if(e!==null&&(!this._firstCall||e.deleted||!this._filter(n)))do if(n=e.content.type,!e.deleted&&(n.constructor===bn||n.constructor===Is)&&n._start!==null)e=n._start;else for(;e!==null;){const i=e.next;if(i!==null){e=i;break}else e.parent===this._root?e=null:e=e.parent._item}while(e!==null&&(e.deleted||!this._filter(e.content.type)));return this._firstCall=!1,e===null?{value:void 0,done:!0}:(this._currentNode=e,{value:e.content.type,done:!1})}}class Is extends Wt{constructor(){super(),this._prelimContent=[]}get firstChild(){const e=this._first;return e?e.content.getContent()[0]:null}_integrate(e,n){super._integrate(e,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new Is}clone(){const e=new Is;return e.insert(0,this.toArray().map(n=>n instanceof Wt?n.clone():n)),e}get length(){return this.doc??vn(),this._prelimContent===null?this._length:this._prelimContent.length}createTreeWalker(e){return new Dg(this,e)}querySelector(e){e=e.toUpperCase();const i=new Dg(this,r=>r.nodeName&&r.nodeName.toUpperCase()===e).next();return i.done?null:i.value}querySelectorAll(e){return e=e.toUpperCase(),Hs(new Dg(this,n=>n.nodeName&&n.nodeName.toUpperCase()===e))}_callObserver(e,n){hp(this,e,new qj(this,n,e))}toString(){return u8(this,e=>e.toString()).join("")}toJSON(){return this.toString()}toDOM(e=document,n={},i){const r=e.createDocumentFragment();return i!==void 0&&i._createAssociation(r,this),iu(this,o=>{r.insertBefore(o.toDOM(e,n,i),null)}),r}insert(e,n){this.doc!==null?ot(this.doc,i=>{h8(i,this,e,n)}):this._prelimContent.splice(e,0,...n)}insertAfter(e,n){if(this.doc!==null)ot(this.doc,i=>{const r=e&&e instanceof Wt?e._item:e;Th(i,this,r,n)});else{const i=this._prelimContent,r=e===null?0:i.findIndex(o=>o===e)+1;if(r===0&&e!==null)throw Io("Reference item not found");i.splice(r,0,...n)}}delete(e,n=1){this.doc!==null?ot(this.doc,i=>{p8(i,this,e,n)}):this._prelimContent.splice(e,n)}toArray(){return a8(this)}push(e){this.insert(this.length,e)}unshift(e){this.insert(0,e)}get(e){return f8(this,e)}slice(e=0,n=this.length){return l8(this,e,n)}forEach(e){iu(this,e)}_write(e){e.writeTypeRef(aU)}}const Pj=t=>new Is;class bn extends Is{constructor(e="UNDEFINED"){super(),this.nodeName=e,this._prelimAttrs=new Map}get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_integrate(e,n){super._integrate(e,n),this._prelimAttrs.forEach((i,r)=>{this.setAttribute(r,i)}),this._prelimAttrs=null}_copy(){return new bn(this.nodeName)}clone(){const e=new bn(this.nodeName),n=this.getAttributes();return TV(n,(i,r)=>{typeof i=="string"&&e.setAttribute(r,i)}),e.insert(0,this.toArray().map(i=>i instanceof Wt?i.clone():i)),e}toString(){const e=this.getAttributes(),n=[],i=[];for(const c in e)i.push(c);i.sort();const r=i.length;for(let c=0;c<r;c++){const f=i[c];n.push(f+'="'+e[f]+'"')}const o=this.nodeName.toLocaleLowerCase(),l=n.length>0?" "+n.join(" "):"";return`<${o}${l}>${super.toString()}</${o}>`}removeAttribute(e){this.doc!==null?ot(this.doc,n=>{Eh(n,this,e)}):this._prelimAttrs.delete(e)}setAttribute(e,n){this.doc!==null?ot(this.doc,i=>{ky(i,this,e,n)}):this._prelimAttrs.set(e,n)}getAttribute(e){return Ay(this,e)}hasAttribute(e){return g8(this,e)}getAttributes(e){return e?Dj(this,e):m8(this)}toDOM(e=document,n={},i){const r=e.createElement(this.nodeName),o=this.getAttributes();for(const l in o){const c=o[l];typeof c=="string"&&r.setAttribute(l,c)}return iu(this,l=>{r.appendChild(l.toDOM(e,n,i))}),i!==void 0&&i._createAssociation(r,this),r}_write(e){e.writeTypeRef(lU),e.writeKey(this.nodeName)}}const Fj=t=>new bn(t.readKey());class qj extends fp{constructor(e,n,i){super(e,i),this.childListChanged=!1,this.attributesChanged=new Set,n.forEach(r=>{r===null?this.childListChanged=!0:this.attributesChanged.add(r)})}}class Mh extends aa{constructor(e){super(),this.hookName=e}_copy(){return new Mh(this.hookName)}clone(){const e=new Mh(this.hookName);return this.forEach((n,i)=>{e.set(i,n)}),e}toDOM(e=document,n={},i){const r=n[this.hookName];let o;return r!==void 0?o=r.createDom(this):o=document.createElement(this.hookName),o.setAttribute("data-yjs-hook",this.hookName),i!==void 0&&i._createAssociation(o,this),o}_write(e){e.writeTypeRef(cU),e.writeKey(this.hookName)}}const $j=t=>new Mh(t.readKey());class Fn extends Bo{get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_copy(){return new Fn}clone(){const e=new Fn;return e.applyDelta(this.toDelta()),e}toDOM(e=document,n,i){const r=e.createTextNode(this.toString());return i!==void 0&&i._createAssociation(r,this),r}toString(){return this.toDelta().map(e=>{const n=[];for(const r in e.attributes){const o=[];for(const l in e.attributes[r])o.push({key:l,value:e.attributes[r][l]});o.sort((l,c)=>l.key<c.key?-1:1),n.push({nodeName:r,attrs:o})}n.sort((r,o)=>r.nodeName<o.nodeName?-1:1);let i="";for(let r=0;r<n.length;r++){const o=n[r];i+=`<${o.nodeName}`;for(let l=0;l<o.attrs.length;l++){const c=o.attrs[l];i+=` ${c.key}="${c.value}"`}i+=">"}i+=e.insert;for(let r=n.length-1;r>=0;r--)i+=`</${n[r].nodeName}>`;return i}).join("")}toJSON(){return this.toString()}_write(e){e.writeTypeRef(uU)}}const Kj=t=>new Fn;class Ry{constructor(e,n){this.id=e,this.length=n}get deleted(){throw Li()}mergeWith(e){return!1}write(e,n,i){throw Li()}integrate(e,n){throw Li()}}const Zj=0;class bi extends Ry{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,n){n>0&&(this.id.clock+=n,this.length-=n),e8(e.doc.store,this)}write(e,n){e.writeInfo(Zj),e.writeLen(this.length-n)}getMissing(e,n){return null}}class Cu{constructor(e){this.content=e}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new Cu(this.content)}splice(e){throw Li()}mergeWith(e){return!1}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeBuf(this.content)}getRef(){return 3}}const Yj=t=>new Cu(t.readBuf());class ru{constructor(e){this.len=e}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new ru(this.len)}splice(e){const n=new ru(this.len-e);return this.len=e,n}mergeWith(e){return this.len+=e.len,!0}integrate(e,n){Qc(e.deleteSet,n.id.client,n.id.clock,this.len),n.markDeleted()}delete(e){}gc(e){}write(e,n){e.writeLen(this.len-n)}getRef(){return 1}}const Gj=t=>new ru(t.readLen()),w8=(t,e)=>new js({guid:t,...e,shouldLoad:e.shouldLoad||e.autoLoad||!1});class wu{constructor(e){e._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=e;const n={};this.opts=n,e.gc||(n.gc=!1),e.autoLoad&&(n.autoLoad=!0),e.meta!==null&&(n.meta=e.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new wu(w8(this.doc.guid,this.opts))}splice(e){throw Li()}mergeWith(e){return!1}integrate(e,n){this.doc._item=n,e.subdocsAdded.add(this.doc),this.doc.shouldLoad&&e.subdocsLoaded.add(this.doc)}delete(e){e.subdocsAdded.has(this.doc)?e.subdocsAdded.delete(this.doc):e.subdocsRemoved.add(this.doc)}gc(e){}write(e,n){e.writeString(this.doc.guid),e.writeAny(this.opts)}getRef(){return 9}}const Xj=t=>new wu(w8(t.readString(),t.readAny()));class Us{constructor(e){this.embed=e}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new Us(this.embed)}splice(e){throw Li()}mergeWith(e){return!1}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeJSON(this.embed)}getRef(){return 5}}const Wj=t=>new Us(t.readJSON());class Vt{constructor(e,n){this.key=e,this.value=n}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new Vt(this.key,this.value)}splice(e){throw Li()}mergeWith(e){return!1}integrate(e,n){const i=n.parent;i._searchMarker=null,i._hasFormatting=!0}delete(e){}gc(e){}write(e,n){e.writeKey(this.key),e.writeJSON(this.value)}getRef(){return 6}}const Jj=t=>new Vt(t.readKey(),t.readJSON());class kh{constructor(e){this.arr=e}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new kh(this.arr)}splice(e){const n=new kh(this.arr.slice(e));return this.arr=this.arr.slice(0,e),n}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){const i=this.arr.length;e.writeLen(i-n);for(let r=n;r<i;r++){const o=this.arr[r];e.writeString(o===void 0?"undefined":JSON.stringify(o))}}getRef(){return 2}}const Qj=t=>{const e=t.readLen(),n=[];for(let i=0;i<e;i++){const r=t.readString();r==="undefined"?n.push(void 0):n.push(JSON.parse(r))}return new kh(n)},eU=wh("node_env")==="development";class zs{constructor(e){this.arr=e,eU&&IS(e)}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new zs(this.arr)}splice(e){const n=new zs(this.arr.slice(e));return this.arr=this.arr.slice(0,e),n}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){const i=this.arr.length;e.writeLen(i-n);for(let r=n;r<i;r++){const o=this.arr[r];e.writeAny(o)}}getRef(){return 8}}const tU=t=>{const e=t.readLen(),n=[];for(let i=0;i<e;i++)n.push(t.readAny());return new zs(n)};class Bi{constructor(e){this.str=e}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new Bi(this.str)}splice(e){const n=new Bi(this.str.slice(e));this.str=this.str.slice(0,e);const i=this.str.charCodeAt(e-1);return i>=55296&&i<=56319&&(this.str=this.str.slice(0,e-1)+"�",n.str="�"+n.str.slice(1)),n}mergeWith(e){return this.str+=e.str,!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeString(n===0?this.str:this.str.slice(n))}getRef(){return 4}}const nU=t=>new Bi(t.readString()),iU=[_j,Ij,Uj,Fj,Pj,$j,Kj],rU=0,oU=1,sU=2,lU=3,aU=4,cU=5,uU=6;class ji{constructor(e){this.type=e}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new ji(this.type._copy())}splice(e){throw Li()}mergeWith(e){return!1}integrate(e,n){this.type._integrate(e.doc,n)}delete(e){let n=this.type._start;for(;n!==null;)n.deleted?n.id.clock<(e.beforeState.get(n.id.client)||0)&&e._mergeStructs.push(n):n.delete(e),n=n.right;this.type._map.forEach(i=>{i.deleted?i.id.clock<(e.beforeState.get(i.id.client)||0)&&e._mergeStructs.push(i):i.delete(e)}),e.changed.delete(this.type)}gc(e){let n=this.type._start;for(;n!==null;)n.gc(e,!0),n=n.right;this.type._start=null,this.type._map.forEach(i=>{for(;i!==null;)i.gc(e,!0),i=i.left}),this.type._map=new Map}write(e,n){this.type._write(e)}getRef(){return 7}}const fU=t=>new ji(iU[t.readTypeRef()](t)),U0=(t,e)=>{let n=e,i=0,r;do i>0&&(n=Oe(n.client,n.clock+i)),r=Kl(t,n),i=n.clock-r.id.clock,n=r.redone;while(n!==null&&r instanceof Qe);return{item:r,diff:i}},Oy=(t,e)=>{for(;t!==null&&t.keep!==e;)t.keep=e,t=t.parent._item},Ah=(t,e,n)=>{const{client:i,clock:r}=e.id,o=new Qe(Oe(i,r+n),e,Oe(i,r+n-1),e.right,e.rightOrigin,e.parent,e.parentSub,e.content.splice(n));return e.deleted&&o.markDeleted(),e.keep&&(o.keep=!0),e.redone!==null&&(o.redone=Oe(e.redone.client,e.redone.clock+n)),e.right=o,o.right!==null&&(o.right.left=o),t._mergeStructs.push(o),o.parentSub!==null&&o.right===null&&o.parent._map.set(o.parentSub,o),e.length=n,o},I5=(t,e)=>IB(t,n=>ha(n.deletions,e)),x8=(t,e,n,i,r,o)=>{const l=t.doc,c=l.store,f=l.clientID,d=e.redone;if(d!==null)return Bn(t,d);let p=e.parent._item,m=null,y;if(p!==null&&p.deleted===!0){if(p.redone===null&&(!n.has(p)||x8(t,p,n,i,r,o)===null))return null;for(;p.redone!==null;)p=Bn(t,p.redone)}const b=p===null?e.parent:p.content.type;if(e.parentSub===null){for(m=e.left,y=e;m!==null;){let E=m;for(;E!==null&&E.parent._item!==p;)E=E.redone===null?null:Bn(t,E.redone);if(E!==null&&E.parent._item===p){m=E;break}m=m.left}for(;y!==null;){let E=y;for(;E!==null&&E.parent._item!==p;)E=E.redone===null?null:Bn(t,E.redone);if(E!==null&&E.parent._item===p){y=E;break}y=y.right}}else if(y=null,e.right&&!r){for(m=e;m!==null&&m.right!==null&&(m.right.redone||ha(i,m.right.id)||I5(o.undoStack,m.right.id)||I5(o.redoStack,m.right.id));)for(m=m.right;m.redone;)m=Bn(t,m.redone);if(m&&m.right!==null)return null}else m=b._map.get(e.parentSub)||null;const C=Dt(c,f),w=Oe(f,C),x=new Qe(w,m,m&&m.lastId,y,y&&y.id,b,e.parentSub,e.content.copy());return e.redone=w,Oy(x,!0),x.integrate(t,0),x};class Qe extends Ry{constructor(e,n,i,r,o,l,c,f){super(e,f.getLength()),this.origin=i,this.left=n,this.right=r,this.rightOrigin=o,this.parent=l,this.parentSub=c,this.redone=null,this.content=f,this.info=this.content.isCountable()?d5:0}set marker(e){(this.info&Eg)>0!==e&&(this.info^=Eg)}get marker(){return(this.info&Eg)>0}get keep(){return(this.info&f5)>0}set keep(e){this.keep!==e&&(this.info^=f5)}get countable(){return(this.info&d5)>0}get deleted(){return(this.info&Tg)>0}set deleted(e){this.deleted!==e&&(this.info^=Tg)}markDeleted(){this.info|=Tg}getMissing(e,n){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=Dt(n,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=Dt(n,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===$l&&this.id.client!==this.parent.client&&this.parent.clock>=Dt(n,this.parent.client))return this.parent.client;if(this.origin&&(this.left=M5(e,n,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=Bn(e,this.rightOrigin),this.rightOrigin=this.right.id),this.left&&this.left.constructor===bi||this.right&&this.right.constructor===bi)this.parent=null;else if(!this.parent)this.left&&this.left.constructor===Qe?(this.parent=this.left.parent,this.parentSub=this.left.parentSub):this.right&&this.right.constructor===Qe&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);else if(this.parent.constructor===$l){const i=Kl(n,this.parent);i.constructor===bi?this.parent=null:this.parent=i.content.type}return null}integrate(e,n){if(n>0&&(this.id.clock+=n,this.left=M5(e,e.doc.store,Oe(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(n),this.length-=n),this.parent){if(!this.left&&(!this.right||this.right.left!==null)||this.left&&this.left.right!==this.right){let i=this.left,r;if(i!==null)r=i.right;else if(this.parentSub!==null)for(r=this.parent._map.get(this.parentSub)||null;r!==null&&r.left!==null;)r=r.left;else r=this.parent._start;const o=new Set,l=new Set;for(;r!==null&&r!==this.right;){if(l.add(r),o.add(r),td(this.origin,r.origin)){if(r.id.client<this.id.client)i=r,o.clear();else if(td(this.rightOrigin,r.rightOrigin))break}else if(r.origin!==null&&l.has(Kl(e.doc.store,r.origin)))o.has(Kl(e.doc.store,r.origin))||(i=r,o.clear());else break;r=r.right}this.left=i}if(this.left!==null){const i=this.left.right;this.right=i,this.left.right=this}else{let i;if(this.parentSub!==null)for(i=this.parent._map.get(this.parentSub)||null;i!==null&&i.left!==null;)i=i.left;else i=this.parent._start,this.parent._start=this;this.right=i}this.right!==null?this.right.left=this:this.parentSub!==null&&(this.parent._map.set(this.parentSub,this),this.left!==null&&this.left.delete(e)),this.parentSub===null&&this.countable&&!this.deleted&&(this.parent._length+=this.length),e8(e.doc.store,this),this.content.integrate(e,this),A5(e,this.parent,this.parentSub),(this.parent._item!==null&&this.parent._item.deleted||this.parentSub!==null&&this.right!==null)&&this.delete(e)}else new bi(this.id,this.length).integrate(e,0)}get next(){let e=this.right;for(;e!==null&&e.deleted;)e=e.right;return e}get prev(){let e=this.left;for(;e!==null&&e.deleted;)e=e.left;return e}get lastId(){return this.length===1?this.id:Oe(this.id.client,this.id.clock+this.length-1)}mergeWith(e){if(this.constructor===e.constructor&&td(e.origin,this.lastId)&&this.right===e&&td(this.rightOrigin,e.rightOrigin)&&this.id.client===e.id.client&&this.id.clock+this.length===e.id.clock&&this.deleted===e.deleted&&this.redone===null&&e.redone===null&&this.content.constructor===e.content.constructor&&this.content.mergeWith(e.content)){const n=this.parent._searchMarker;return n&&n.forEach(i=>{i.p===e&&(i.p=this,!this.deleted&&this.countable&&(i.index-=this.length))}),e.keep&&(this.keep=!0),this.right=e.right,this.right!==null&&(this.right.left=this),this.length+=e.length,!0}return!1}delete(e){if(!this.deleted){const n=this.parent;this.countable&&this.parentSub===null&&(n._length-=this.length),this.markDeleted(),Qc(e.deleteSet,this.id.client,this.id.clock,this.length),A5(e,n,this.parentSub),this.content.delete(e)}}gc(e,n){if(!this.deleted)throw qn();this.content.gc(e),n?gj(e,this,new bi(this.id,this.length)):this.content=new ru(this.length)}write(e,n){const i=n>0?Oe(this.id.client,this.id.clock+n-1):this.origin,r=this.rightOrigin,o=this.parentSub,l=this.content.getRef()&sp|(i===null?0:Tn)|(r===null?0:Ir)|(o===null?0:Xc);if(e.writeInfo(l),i!==null&&e.writeLeftID(i),r!==null&&e.writeRightID(r),i===null&&r===null){const c=this.parent;if(c._item!==void 0){const f=c._item;if(f===null){const d=eu(c);e.writeParentInfo(!0),e.writeString(d)}else e.writeParentInfo(!1),e.writeLeftID(f.id)}else c.constructor===String?(e.writeParentInfo(!0),e.writeString(c)):c.constructor===$l?(e.writeParentInfo(!1),e.writeLeftID(c)):qn();o!==null&&e.writeString(o)}this.content.write(e,n)}}const S8=(t,e)=>dU[e&sp](t),dU=[()=>{qn()},Gj,Qj,Yj,nU,Wj,Jj,fU,tU,Xj,()=>{qn()}],hU=10;class Mi extends Ry{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,n){qn()}write(e,n){e.writeInfo(hU),Be(e.restEncoder,this.length-n)}getMissing(e,n){return null}}const T8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{},E8="__ $YJS$ __";T8[E8]===!0&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438");T8[E8]=!0;const pU=()=>{let t=!0;return(e,n)=>{if(t){t=!1;try{e()}finally{t=!0}}else n!==void 0&&n()}},mU=/[\uD800-\uDBFF]/,gU=/[\uDC00-\uDFFF]/,yU=(t,e)=>{let n=0,i=0;for(;n<t.length&&n<e.length&&t[n]===e[n];)n++;for(n>0&&mU.test(t[n-1])&&n--;i+n<t.length&&i+n<e.length&&t[t.length-i-1]===e[e.length-i-1];)i++;return i>0&&gU.test(t[t.length-i])&&i--,{index:n,remove:t.length-n-i,insert:e.slice(n,e.length-i)}},bU=yU,Qi=(t,e)=>t>>>e|t<<32-e,vU=t=>Qi(t,2)^Qi(t,13)^Qi(t,22),CU=t=>Qi(t,6)^Qi(t,11)^Qi(t,25),wU=t=>Qi(t,7)^Qi(t,18)^t>>>3,xU=t=>Qi(t,17)^Qi(t,19)^t>>>10,SU=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),TU=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]);class EU{constructor(){const e=new ArrayBuffer(320);this._H=new Uint32Array(e,0,8),this._H.set(TU),this._W=new Uint32Array(e,64,64)}_updateHash(){const e=this._H,n=this._W;for(let m=16;m<64;m++)n[m]=xU(n[m-2])+n[m-7]+wU(n[m-15])+n[m-16];let i=e[0],r=e[1],o=e[2],l=e[3],c=e[4],f=e[5],d=e[6],p=e[7];for(let m=0,y,b;m<64;m++)y=p+CU(c)+(c&f^~c&d)+SU[m]+n[m]>>>0,b=vU(i)+(i&r^i&o^r&o)>>>0,p=d,d=f,f=c,c=l+y>>>0,l=o,o=r,r=i,i=y+b>>>0;e[0]+=i,e[1]+=r,e[2]+=o,e[3]+=l,e[4]+=c,e[5]+=f,e[6]+=d,e[7]+=p}digest(e){let n=0;for(;n+56<=e.length;){let l=0;for(;l<16&&n+3<e.length;l++)this._W[l]=e[n++]<<24|e[n++]<<16|e[n++]<<8|e[n++];if(n%64!==0){for(this._W.fill(0,l,16);n<e.length;)this._W[l]|=e[n]<<(3-n%4)*8,n++;this._W[l]|=Tn<<(3-n%4)*8}this._updateHash()}const i=n%64!==0;this._W.fill(0,0,16);let r=0;for(;n<e.length;r++)for(let l=3;l>=0&&n<e.length;l--)this._W[r]|=e[n++]<<l*8;i||(this._W[r-(n%4===0?0:1)]|=Tn<<(3-n%4)*8),this._W[14]=e.byteLength/zB,this._W[15]=e.byteLength*8,this._updateHash();const o=new Uint8Array(32);for(let l=0;l<this._H.length;l++)for(let c=0;c<4;c++)o[l*4+c]=this._H[l]>>>(3-c)*8;return o}}const MU=t=>new EU().digest(t),Tt=new qe("y-sync"),zr=new qe("y-undo");new qe("yjs-cursor");const kU=t=>{for(let n=6;n<t.length;n++)t[n%6]=t[n%6]^t[n];return t.slice(0,6)},AU=t=>HV(kU(MU(IV(t)))),Rh=(t,e)=>e===void 0?!t.deleted:e.sv.has(t.id.client)&&e.sv.get(t.id.client)>t.id.clock&&!ha(e.ds,t.id),RU=[{light:"#ecd44433",dark:"#ecd444"}],OU=(t,e,n)=>{if(!t.has(n)){if(t.size<e.length){const i=_s();t.forEach(r=>i.add(r)),e=e.filter(r=>!i.has(r))}t.set(n,gV(e))}return t.get(n)},NU=(t,{colors:e=RU,colorMapping:n=new Map,permanentUserData:i=null,onFirstRender:r=()=>{},mapping:o}={})=>{let l=!1;const c=new LU(t,o),f=new je({props:{editable:d=>{const p=Tt.getState(d);return p.snapshot==null&&p.prevSnapshot==null}},key:Tt,state:{init:(d,p)=>({type:t,doc:t.doc,binding:c,snapshot:null,prevSnapshot:null,isChangeOrigin:!1,isUndoRedoOperation:!1,addToHistory:!0,colors:e,colorMapping:n,permanentUserData:i}),apply:(d,p)=>{const m=d.getMeta(Tt);if(m!==void 0){p=Object.assign({},p);for(const y in m)p[y]=m[y]}return p.addToHistory=d.getMeta("addToHistory")!==!1,p.isChangeOrigin=m!==void 0&&!!m.isChangeOrigin,p.isUndoRedoOperation=m!==void 0&&!!m.isChangeOrigin&&!!m.isUndoRedoOperation,c.prosemirrorView!==null&&m!==void 0&&(m.snapshot!=null||m.prevSnapshot!=null)&&jS(0,()=>{c.prosemirrorView!=null&&(m.restore==null?c._renderSnapshot(m.snapshot,m.prevSnapshot,p):(c._renderSnapshot(m.snapshot,m.snapshot,p),delete p.restore,delete p.snapshot,delete p.prevSnapshot,c.mux(()=>{c._prosemirrorChanged(c.prosemirrorView.state.doc)})))}),p}},view:d=>(c.initView(d),o==null&&c._forceRerender(),r(),{update:()=>{const p=f.getState(d.state);if(p.snapshot==null&&p.prevSnapshot==null&&(l||d.state.doc.content.findDiffStart(d.state.doc.type.createAndFill().content)!==null)){if(l=!0,p.addToHistory===!1&&!p.isChangeOrigin){const m=zr.getState(d.state),y=m&&m.undoManager;y&&y.stopCapturing()}c.mux(()=>{p.doc.transact(m=>{m.meta.set("addToHistory",p.addToHistory),c._prosemirrorChanged(d.state.doc)},Tt)})}},destroy:()=>{c.destroy()}})});return f},DU=(t,e,n)=>{if(e!==null&&e.anchor!==null&&e.head!==null)if(e.type==="all")t.setSelection(new Vn(t.doc));else if(e.type==="node"){const i=Sd(n.doc,n.type,e.anchor,n.mapping);t.setSelection(he.create(t.doc,i))}else{const i=Sd(n.doc,n.type,e.anchor,n.mapping),r=Sd(n.doc,n.type,e.head,n.mapping);i!==null&&r!==null&&t.setSelection(fe.between(t.doc.resolve(i),t.doc.resolve(r)))}},P0=(t,e)=>({type:e.selection.jsonID,anchor:K0(e.selection.anchor,t.type,t.mapping),head:K0(e.selection.head,t.type,t.mapping)});class LU{constructor(e,n=new Map){this.type=e,this.prosemirrorView=null,this.mux=pU(),this.mapping=n,this.isOMark=new Map,this._observeFunction=this._typeChanged.bind(this),this.doc=e.doc,this.beforeTransactionSelection=null,this.beforeAllTransactions=()=>{this.beforeTransactionSelection===null&&this.prosemirrorView!=null&&(this.beforeTransactionSelection=P0(this,this.prosemirrorView.state))},this.afterAllTransactions=()=>{this.beforeTransactionSelection=null},this._domSelectionInView=null}get _tr(){return this.prosemirrorView.state.tr.setMeta("addToHistory",!1)}_isLocalCursorInView(){return this.prosemirrorView.hasFocus()?(BS&&this._domSelectionInView===null&&(jS(0,()=>{this._domSelectionInView=null}),this._domSelectionInView=this._isDomSelectionInView()),this._domSelectionInView):!1}_isDomSelectionInView(){const e=this.prosemirrorView._root.getSelection();if(e==null||e.anchorNode==null)return!1;const n=this.prosemirrorView._root.createRange();n.setStart(e.anchorNode,e.anchorOffset),n.setEnd(e.focusNode,e.focusOffset),n.getClientRects().length===0&&n.startContainer&&n.collapsed&&n.selectNodeContents(n.startContainer);const r=n.getBoundingClientRect(),o=BV.documentElement;return r.bottom>=0&&r.right>=0&&r.left<=(window.innerWidth||o.clientWidth||0)&&r.top<=(window.innerHeight||o.clientHeight||0)}renderSnapshot(e,n){n||(n=JS(YS(),new Map)),this.prosemirrorView.dispatch(this._tr.setMeta(Tt,{snapshot:e,prevSnapshot:n}))}unrenderSnapshot(){this.mapping.clear(),this.mux(()=>{const e=this.type.toArray().map(i=>xd(i,this.prosemirrorView.state.schema,this)).filter(i=>i!==null),n=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new se(W.from(e),0,0));n.setMeta(Tt,{snapshot:null,prevSnapshot:null}),this.prosemirrorView.dispatch(n)})}_forceRerender(){this.mapping.clear(),this.mux(()=>{const e=this.beforeTransactionSelection!==null?null:this.prosemirrorView.state.selection,n=this.type.toArray().map(r=>xd(r,this.prosemirrorView.state.schema,this)).filter(r=>r!==null),i=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new se(W.from(n),0,0));if(e){const r=oa(Ho(e.anchor,0),i.doc.content.size),o=oa(Ho(e.head,0),i.doc.content.size);i.setSelection(fe.create(i.doc,r,o))}this.prosemirrorView.dispatch(i.setMeta(Tt,{isChangeOrigin:!0,binding:this}))})}_renderSnapshot(e,n,i){let r=this.doc,o=this.type;if(e||(e=Og(this.doc)),e instanceof Uint8Array||n instanceof Uint8Array)if((!(e instanceof Uint8Array)||!(n instanceof Uint8Array))&&qn(),r=new js({gc:!1}),z0(r,n),n=Og(r),z0(r,e),e=Og(r),o._item===null){const l=Array.from(this.doc.share.keys()).find(c=>this.doc.share.get(c)===this.type);o=r.getXmlFragment(l)}else{const l=r.store.clients.get(o._item.id.client)??[],c=zi(l,o._item.id.clock);o=l[c].content.type}this.mapping.clear(),this.mux(()=>{r.transact(l=>{const c=i.permanentUserData;c&&c.dss.forEach(m=>{zo(l,m,y=>{})});const f=(m,y)=>{const b=m==="added"?c.getUserByClientId(y.client):c.getUserByDeletedId(y);return{user:b,type:m,color:OU(i.colorMapping,i.colors,b)}},d=c8(o,new Ey(n.ds,e.sv)).map(m=>!m._item.deleted||Rh(m._item,e)||Rh(m._item,n)?xd(m,this.prosemirrorView.state.schema,{mapping:new Map,isOMark:new Map},e,n,f):null).filter(m=>m!==null),p=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new se(W.from(d),0,0));this.prosemirrorView.dispatch(p.setMeta(Tt,{isChangeOrigin:!0}))},Tt)})}_typeChanged(e,n){if(this.prosemirrorView==null)return;const i=Tt.getState(this.prosemirrorView.state);if(e.length===0||i.snapshot!=null||i.prevSnapshot!=null){this.renderSnapshot(i.snapshot,i.prevSnapshot);return}this.mux(()=>{const r=(c,f)=>this.mapping.delete(f);zo(n,n.deleteSet,c=>{if(c.constructor===Qe){const f=c.content.type;f&&this.mapping.delete(f)}}),n.changed.forEach(r),n.changedParentTypes.forEach(r);const o=this.type.toArray().map(c=>M8(c,this.prosemirrorView.state.schema,this)).filter(c=>c!==null);let l=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new se(W.from(o),0,0));DU(l,this.beforeTransactionSelection,this),l=l.setMeta(Tt,{isChangeOrigin:!0,isUndoRedoOperation:n.origin instanceof i8}),this.beforeTransactionSelection!==null&&this._isLocalCursorInView()&&l.scrollIntoView(),this.prosemirrorView.dispatch(l)})}_prosemirrorChanged(e){this.doc.transact(()=>{q0(this.doc,this.type,e,this),this.beforeTransactionSelection=P0(this,this.prosemirrorView.state)},Tt)}initView(e){this.prosemirrorView!=null&&this.destroy(),this.prosemirrorView=e,this.doc.on("beforeAllTransactions",this.beforeAllTransactions),this.doc.on("afterAllTransactions",this.afterAllTransactions),this.type.observeDeep(this._observeFunction)}destroy(){this.prosemirrorView!=null&&(this.prosemirrorView=null,this.type.unobserveDeep(this._observeFunction),this.doc.off("beforeAllTransactions",this.beforeAllTransactions),this.doc.off("afterAllTransactions",this.afterAllTransactions))}}const M8=(t,e,n,i,r,o)=>{const l=n.mapping.get(t);if(l===void 0){if(t instanceof bn)return xd(t,e,n,i,r,o);throw Li()}return l},xd=(t,e,n,i,r,o)=>{const l=[],c=f=>{if(f instanceof bn){const d=M8(f,e,n,i,r,o);d!==null&&l.push(d)}else{const d=f._item.right?.content?.type;d instanceof Bo&&!d._item.deleted&&d._item.id.client===d.doc.clientID&&(f.applyDelta([{retain:f.length},...d.toDelta()]),d.doc.transact(m=>{d._item.delete(m)}));const p=_U(f,e,n,i,r,o);p!==null&&p.forEach(m=>{m!==null&&l.push(m)})}};i===void 0||r===void 0?t.toArray().forEach(c):c8(t,new Ey(r.ds,i.sv)).forEach(c);try{const f=t.getAttributes(i);i!==void 0&&(Rh(t._item,i)?Rh(t._item,r)||(f.ychange=o?o("added",t._item.id):{type:"added"}):f.ychange=o?o("removed",t._item.id):{type:"removed"});const d=e.node(t.nodeName,f,l);return n.mapping.set(t,d),d}catch{return t.doc.transact(d=>{t._item.delete(d)},Tt),n.mapping.delete(t),null}},_U=(t,e,n,i,r,o)=>{const l=[],c=t.toDelta(i,r,o);try{for(let f=0;f<c.length;f++){const d=c[f];l.push(e.text(d.insert,jU(d.attributes,e)))}}catch{return t.doc.transact(d=>{t._item.delete(d)},Tt),null}return l},HU=(t,e)=>{const n=new Fn,i=t.map(r=>({insert:r.text,attributes:A8(r.marks,e)}));return n.applyDelta(i),e.mapping.set(n,t),n},IU=(t,e)=>{const n=new bn(t.type.name);for(const i in t.attrs){const r=t.attrs[i];r!==null&&i!=="ychange"&&n.setAttribute(i,r)}return n.insert(0,pp(t).map(i=>F0(i,e))),e.mapping.set(n,t),n},F0=(t,e)=>t instanceof Array?HU(t,e):IU(t,e),z5=t=>typeof t=="object"&&t!==null,Ny=(t,e)=>{const n=Object.keys(t).filter(r=>t[r]!==null);let i=n.length===Object.keys(e).filter(r=>e[r]!==null).length;for(let r=0;r<n.length&&i;r++){const o=n[r],l=t[o],c=e[o];i=o==="ychange"||l===c||z5(l)&&z5(c)&&Ny(l,c)}return i},pp=t=>{const e=t.content.content,n=[];for(let i=0;i<e.length;i++){const r=e[i];if(r.isText){const o=[];for(let l=e[i];i<e.length&&l.isText;l=e[++i])o.push(l);i--,n.push(o)}else n.push(r)}return n},k8=(t,e)=>{const n=t.toDelta();return n.length===e.length&&n.every((i,r)=>i.insert===e[r].text&&_S(i.attributes||{}).length===e[r].marks.length&&HS(i.attributes,(o,l)=>{const c=Dy(l),f=e[r].marks;return Ny(o,f.find(d=>d.type.name===c)?.attrs)}))},ou=(t,e)=>{if(t instanceof bn&&!(e instanceof Array)&&$0(t,e)){const n=pp(e);return t._length===n.length&&Ny(t.getAttributes(),e.attrs)&&t.toArray().every((i,r)=>ou(i,n[r]))}return t instanceof Fn&&e instanceof Array&&k8(t,e)},Oh=(t,e)=>t===e||t instanceof Array&&e instanceof Array&&t.length===e.length&&t.every((n,i)=>e[i]===n),B5=(t,e,n)=>{const i=t.toArray(),r=pp(e),o=r.length,l=i.length,c=oa(l,o);let f=0,d=0,p=!1;for(;f<c;f++){const m=i[f],y=r[f];if(Oh(n.mapping.get(m),y))p=!0;else if(!ou(m,y))break}for(;f+d<c;d++){const m=i[l-d-1],y=r[o-d-1];if(Oh(n.mapping.get(m),y))p=!0;else if(!ou(m,y))break}return{equalityFactor:f+d,foundMappedChild:p}},zU=t=>{let e="",n=t._start;const i={};for(;n!==null;)n.deleted||(n.countable&&n.content instanceof Bi?e+=n.content.str:n.content instanceof Vt&&(i[n.content.key]=null)),n=n.right;return{str:e,nAttrs:i}},BU=(t,e,n)=>{n.mapping.set(t,e);const{nAttrs:i,str:r}=zU(t),o=e.map(d=>({insert:d.text,attributes:Object.assign({},i,A8(d.marks,n))})),{insert:l,remove:c,index:f}=bU(r,o.map(d=>d.insert).join(""));t.delete(f,c),t.insert(f,l),t.applyDelta(o.map(d=>({retain:d.insert.length,attributes:d.attributes})))},VU=/(.*)(--[a-zA-Z0-9+/=]{8})$/,Dy=t=>VU.exec(t)?.[1]??t,jU=(t,e)=>{const n=[];for(const i in t)n.push(e.mark(Dy(i),t[i]));return n},A8=(t,e)=>{const n={};return t.forEach(i=>{if(i.type.name!=="ychange"){const r=Pr(e.isOMark,i.type,()=>!i.type.excludes(i.type));n[r?`${i.type.name}--${AU(i.toJSON())}`:i.type.name]=i.attrs}}),n},q0=(t,e,n,i)=>{if(e instanceof bn&&e.nodeName!==n.type.name)throw new Error("node name mismatch!");if(i.mapping.set(e,n),e instanceof bn){const m=e.getAttributes(),y=n.attrs;for(const b in y)y[b]!==null?m[b]!==y[b]&&b!=="ychange"&&e.setAttribute(b,y[b]):e.removeAttribute(b);for(const b in m)y[b]===void 0&&e.removeAttribute(b)}const r=pp(n),o=r.length,l=e.toArray(),c=l.length,f=oa(o,c);let d=0,p=0;for(;d<f;d++){const m=l[d],y=r[d];if(!Oh(i.mapping.get(m),y))if(ou(m,y))i.mapping.set(m,y);else break}for(;p+d+1<f;p++){const m=l[c-p-1],y=r[o-p-1];if(!Oh(i.mapping.get(m),y))if(ou(m,y))i.mapping.set(m,y);else break}t.transact(()=>{for(;c-d-p>0&&o-d-p>0;){const y=l[d],b=r[d],C=l[c-p-1],w=r[o-p-1];if(y instanceof Fn&&b instanceof Array)k8(y,b)||BU(y,b,i),d+=1;else{let x=y instanceof bn&&$0(y,b),E=C instanceof bn&&$0(C,w);if(x&&E){const A=B5(y,b,i),O=B5(C,w,i);A.foundMappedChild&&!O.foundMappedChild?E=!1:!A.foundMappedChild&&O.foundMappedChild||A.equalityFactor<O.equalityFactor?x=!1:E=!1}x?(q0(t,y,b,i),d+=1):E?(q0(t,C,w,i),p+=1):(i.mapping.delete(e.get(d)),e.delete(d,1),e.insert(d,[F0(b,i)]),d+=1)}}const m=c-d-p;if(c===1&&o===0&&l[0]instanceof Fn?(i.mapping.delete(l[0]),l[0].delete(0,l[0].length)):m>0&&(e.slice(d,d+m).forEach(y=>i.mapping.delete(y)),e.delete(d,m)),d+p<o){const y=[];for(let b=d;b<o-p;b++)y.push(F0(r[b],i));e.insert(d,y)}},Tt)},$0=(t,e)=>!(e instanceof Array)&&t.nodeName===e.type.name,K0=(t,e,n)=>{if(t===0)return Rg(e,0,-1);let i=e._first===null?null:e._first.content.type;for(;i!==null&&e!==i;){if(i instanceof Fn){if(i._length>=t)return Rg(i,t,-1);if(t-=i._length,i._item!==null&&i._item.next!==null)i=i._item.next.content.type;else{do i=i._item===null?null:i._item.parent,t--;while(i!==e&&i!==null&&i._item!==null&&i._item.next===null);i!==null&&i!==e&&(i=i._item===null?null:i._item.next.content.type)}}else{const r=(n.get(i)||{nodeSize:0}).nodeSize;if(i._first!==null&&t<r)i=i._first.content.type,t--;else{if(t===1&&i._length===0&&r>1)return new Sh(i._item===null?null:i._item.id,i._item===null?eu(i):null,null);if(t-=r,i._item!==null&&i._item.next!==null)i=i._item.next.content.type;else{if(t===0)return i=i._item===null?i:i._item.parent,new Sh(i._item===null?null:i._item.id,i._item===null?eu(i):null,null);do i=i._item.parent,t--;while(i!==e&&i._item.next===null);i!==e&&(i=i._item.next.content.type)}}}if(i===null)throw qn();if(t===0&&i.constructor!==Fn&&i!==e)return UU(i._item.parent,i._item)}return Rg(e,e._length,-1)},UU=(t,e)=>{let n=null,i=null;return t._item===null?i=eu(t):n=Oe(t._item.id.client,t._item.id.clock),new Sh(n,i,e.id)},Sd=(t,e,n,i)=>{const r=pj(n,t);if(r===null||r.type!==e&&!tu(e,r.type._item))return null;let o=r.type,l=0;if(o.constructor===Fn)l=r.index;else if(o._item===null||!o._item.deleted){let c=o._first,f=0;for(;f<o._length&&f<r.index&&c!==null;){if(!c.deleted){const d=c.content.type;f++,d instanceof Fn?l+=d._length:l+=i.get(d).nodeSize}c=c.right}l+=1}for(;o!==e&&o._item!==null;){const c=o._item.parent;if(c._item===null||!c._item.deleted){l+=1;let f=c._first;for(;f!==null;){const d=f.content.type;if(d===o)break;f.deleted||(d instanceof Fn?l+=d._length:l+=i.get(d).nodeSize),f=f.right}}o=c}return l-1};function PU(t){const e=t.toArray(),n=i=>{let r;if(i instanceof Fn)r=i.toDelta().map(l=>{const c={type:"text",text:l.insert};return l.attributes&&(c.marks=Object.keys(l.attributes).map(f=>{const d=l.attributes[f],m={type:Dy(f)};return Object.keys(d)&&(m.attrs=d),m})),c});else if(i instanceof bn){r={type:i.nodeName};const o=i.getAttributes();Object.keys(o).length&&(r.attrs=o);const l=i.toArray();l.length&&(r.content=l.map(n).flat())}else qn();return r};return{type:"doc",content:e.map(n)}}const FU=t=>{const e=zr.getState(t).undoManager;if(e!=null)return e.undo(),!0},qU=t=>{const e=zr.getState(t).undoManager;if(e!=null)return e.redo(),!0},$U=new Set(["paragraph"]),KU=(t,e)=>!(t instanceof Qe)||!(t.content instanceof ji)||!(t.content.type instanceof Bo||t.content.type instanceof bn&&e.has(t.content.type.nodeName))||t.content.type._length===0,ZU=({protectedNodes:t=$U,trackedOrigins:e=[],undoManager:n=null}={})=>new je({key:zr,state:{init:(i,r)=>{const o=Tt.getState(r),l=n||new i8(o.type,{trackedOrigins:new Set([Tt].concat(e)),deleteFilter:c=>KU(c,t),captureTransaction:c=>c.meta.get("addToHistory")!==!1});return{undoManager:l,prevSel:null,hasUndoOps:l.undoStack.length>0,hasRedoOps:l.redoStack.length>0}},apply:(i,r,o,l)=>{const c=Tt.getState(l).binding,f=r.undoManager,d=f.undoStack.length>0,p=f.redoStack.length>0;return c?{undoManager:f,prevSel:P0(c,o),hasUndoOps:d,hasRedoOps:p}:d!==r.hasUndoOps||p!==r.hasRedoOps?Object.assign({},r,{hasUndoOps:f.undoStack.length>0,hasRedoOps:f.redoStack.length>0}):r}},view:i=>{const r=Tt.getState(i.state),o=zr.getState(i.state).undoManager;return o.on("stack-item-added",({stackItem:l})=>{const c=r.binding;c&&l.meta.set(c,zr.getState(i.state).prevSel)}),o.on("stack-item-popped",({stackItem:l})=>{const c=r.binding;c&&(c.beforeTransactionSelection=l.meta.get(c)||c.beforeTransactionSelection)}),{destroy:()=>{o.destroy()}}}});Ye.create({name:"collaboration",priority:1e3,addOptions(){return{document:null,field:"default",fragment:null}},addStorage(){return{isDisabled:!1}},onCreate(){this.editor.extensionManager.extensions.find(t=>t.name==="undoRedo")&&console.warn('[tiptap warn]: "@tiptap/extension-collaboration" comes with its own history support and is not compatible with "@tiptap/extension-history".')},addCommands(){return{undo:()=>({tr:t,state:e,dispatch:n})=>(t.setMeta("preventDispatch",!0),zr.getState(e).undoManager.undoStack.length===0?!1:n?FU(e):!0),redo:()=>({tr:t,state:e,dispatch:n})=>(t.setMeta("preventDispatch",!0),zr.getState(e).undoManager.redoStack.length===0?!1:n?qU(e):!0)}},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo()}},addProseMirrorPlugins(){var t;const e=this.options.fragment?this.options.fragment:this.options.document.getXmlFragment(this.options.field),n=ZU(this.options.yUndoOptions),i=n.spec.view;n.spec.view=l=>{const{undoManager:c}=zr.getState(l.state);c.restore&&(c.restore(),c.restore=()=>{});const f=i?i(l):void 0;return{destroy:()=>{const d=c.trackedOrigins.has(c),p=c._observers;c.restore=()=>{d&&c.trackedOrigins.add(c),c.doc.on("afterTransaction",c.afterTransactionHandler),c._observers=p},f?.destroy&&f.destroy()}}};const r={...this.options.ySyncOptions,onFirstRender:this.options.onFirstRender},o=NU(e,r);return this.editor.options.enableContentCheck&&((t=e.doc)==null||t.on("beforeTransaction",()=>{try{const l=PU(e);if(l.content.length===0)return;this.editor.schema.nodeFromJSON(l).check()}catch(l){return this.editor.emit("contentError",{error:l,editor:this.editor,disableCollaboration:()=>{var c;(c=e.doc)==null||c.destroy(),this.storage.isDisabled=!0}}),!1}})),[o,n,this.editor.options.enableContentCheck&&new je({key:new qe("filterInvalidContent"),filterTransaction:()=>{var l;return this.storage.isDisabled!==!1&&((l=e.doc)==null||l.destroy()),!0}})].filter(Boolean)}});function YU(t){return!!t.getMeta(Tt)}function V5(t){if(!t.length)return Je.empty;const e=[],n=t[0].$from.node(0);return t.forEach(i=>{const r=i.$from.pos,o=i.$from.nodeAfter;o&&e.push(It.node(r,r+o.nodeSize,{class:"ProseMirror-selectednoderange"}))}),Je.create(n,e)}function mp(t,e,n){const i=[],r=t.node(0);typeof n=="number"&&n>=0||(t.sameParent(e)?n=Math.max(0,t.sharedDepth(e.pos)-1):n=t.sharedDepth(e.pos));const o=new Ic(t,e,n),l=o.depth===0?0:r.resolve(o.start).posAtIndex(0);return o.parent.forEach((c,f)=>{const d=l+f,p=d+c.nodeSize;if(d<o.start||d>=o.end)return;const m=new e2(r.resolve(d),r.resolve(p));i.push(m)}),i}var GU=class R8{constructor(e,n){this.anchor=e,this.head=n}map(e){return new R8(e.map(this.anchor),e.map(this.head))}resolve(e){const n=e.resolve(this.anchor),i=e.resolve(this.head);return new Ao(n,i)}},Ao=class yo extends be{constructor(e,n,i,r=1){const{doc:o}=e,l=e===n,c=e.pos===o.content.size&&n.pos===o.content.size,f=l&&!c?o.resolve(n.pos+(r>0?1:-1)):n,d=l&&c?o.resolve(e.pos-(r>0?1:-1)):e,p=mp(d.min(f),d.max(f),i),m=f.pos>=e.pos?p[0].$from:p[p.length-1].$to,y=f.pos>=e.pos?p[p.length-1].$to:p[0].$from;super(m,y,p),this.depth=i}get $to(){return this.ranges[this.ranges.length-1].$to}eq(e){return e instanceof yo&&e.$from.pos===this.$from.pos&&e.$to.pos===this.$to.pos}map(e,n){const i=e.resolve(n.map(this.anchor)),r=e.resolve(n.map(this.head));return new yo(i,r)}toJSON(){return{type:"nodeRange",anchor:this.anchor,head:this.head}}get isForwards(){return this.head>=this.anchor}get isBackwards(){return!this.isForwards}extendBackwards(){const{doc:e}=this.$from;if(this.isForwards&&this.ranges.length>1){const r=this.ranges.slice(0,-1),o=r[0].$from,l=r[r.length-1].$to;return new yo(o,l,this.depth)}const n=this.ranges[0],i=e.resolve(Math.max(0,n.$from.pos-1));return new yo(this.$anchor,i,this.depth)}extendForwards(){const{doc:e}=this.$from;if(this.isBackwards&&this.ranges.length>1){const r=this.ranges.slice(1),o=r[0].$from,l=r[r.length-1].$to;return new yo(l,o,this.depth)}const n=this.ranges[this.ranges.length-1],i=e.resolve(Math.min(e.content.size,n.$to.pos+1));return new yo(this.$anchor,i,this.depth)}static fromJSON(e,n){return new yo(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,i,r,o=1){return new this(e.resolve(n),e.resolve(i),r,o)}getBookmark(){return new GU(this.anchor,this.head)}};Ao.prototype.visible=!1;function od(t){return t instanceof Ao}Ye.create({name:"nodeRange",addOptions(){return{depth:void 0,key:"Mod"}},addKeyboardShortcuts(){return{"Shift-ArrowUp":({editor:t})=>{const{depth:e}=this.options,{view:n,state:i}=t,{doc:r,selection:o,tr:l}=i,{anchor:c,head:f}=o;if(!od(o)){const p=Ao.create(r,c,f,e,-1);return l.setSelection(p),n.dispatch(l),!0}const d=o.extendBackwards();return l.setSelection(d),n.dispatch(l),!0},"Shift-ArrowDown":({editor:t})=>{const{depth:e}=this.options,{view:n,state:i}=t,{doc:r,selection:o,tr:l}=i,{anchor:c,head:f}=o;if(!od(o)){const p=Ao.create(r,c,f,e);return l.setSelection(p),n.dispatch(l),!0}const d=o.extendForwards();return l.setSelection(d),n.dispatch(l),!0},"Mod-a":({editor:t})=>{const{depth:e}=this.options,{view:n,state:i}=t,{doc:r,tr:o}=i,l=Ao.create(r,0,r.content.size,e);return o.setSelection(l),n.dispatch(o),!0}}},onSelectionUpdate(){const{selection:t}=this.editor.state;od(t)&&this.editor.view.dom.classList.add("ProseMirror-noderangeselection")},addProseMirrorPlugins(){let t=!1,e=!1;return[new je({key:new qe("nodeRange"),props:{attributes:()=>t?{class:"ProseMirror-noderangeselection"}:{class:""},handleDOMEvents:{mousedown:(n,i)=>{const{key:r}=this.options,o=/Mac/.test(navigator.platform),l=!!i.shiftKey,c=!!i.ctrlKey,f=!!i.altKey,d=!!i.metaKey,p=o?d:c;return(r==null||r==="Shift"&&l||r==="Control"&&c||r==="Alt"&&f||r==="Meta"&&d||r==="Mod"&&p)&&(e=!0),e&&document.addEventListener("mouseup",()=>{e=!1;const{state:m}=n,{doc:y,selection:b,tr:C}=m,{$anchor:w,$head:x}=b;if(w.sameParent(x))return;const E=Ao.create(y,w.pos,x.pos,this.options.depth);C.setSelection(E),n.dispatch(C)},{once:!0}),!1}},decorations:n=>{const{selection:i}=n,r=od(i);if(t=!1,!e)return r?(t=!0,V5(i.ranges)):null;const{$from:o,$to:l}=i;if(!r&&o.sameParent(l))return null;const c=mp(o,l,this.options.depth);return c.length?(t=!0,V5(c)):null}}})]}});function XU(t){let e="";const n=getComputedStyle(t);for(let i=0;i<n.length;i+=1)e+=`${n[i]}:${n.getPropertyValue(n[i])};`;return e}function WU(t){const e=t.cloneNode(!0),n=[t,...Array.from(t.getElementsByTagName("*"))],i=[e,...Array.from(e.getElementsByTagName("*"))];return n.forEach((r,o)=>{i[o].style.cssText=XU(r)}),e}var O8=t=>{const{x:e,y:n,direction:i,editor:r}=t;let o=null,l=null,c=null,f=e;for(;l===null&&f<window.innerWidth&&f>0;){const d=document.elementsFromPoint(f,n),p=d.findIndex(y=>y.classList.contains("ProseMirror")),m=d.slice(0,p);if(m.length>0){const y=m[0];if(o=y,c=r.view.posAtDOM(y,0),c>=0){l=r.state.doc.nodeAt(Math.max(c-1,0)),l?.isText&&(l=r.state.doc.nodeAt(Math.max(c-1,0))),l||(l=r.state.doc.nodeAt(Math.max(c,0)));break}}i==="left"?f-=1:f+=1}return{resultElement:o,resultNode:l,pos:c??null}};function sd(t,e){return window.getComputedStyle(t)[e]}function JU(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function QU(t,e,n){const i=parseInt(sd(t.dom,"paddingLeft"),10),r=parseInt(sd(t.dom,"paddingRight"),10),o=parseInt(sd(t.dom,"borderLeftWidth"),10),l=parseInt(sd(t.dom,"borderLeftWidth"),10),c=t.dom.getBoundingClientRect();return{left:JU(e,c.left+i+o,c.right-r-l),top:n}}function N8(t){var e;(e=t.parentNode)==null||e.removeChild(t)}function eP(t,e){const{doc:n}=e.view.state,i=O8({editor:e,x:t.clientX,y:t.clientY,direction:"right"});if(!i.resultNode||i.pos===null)return[];const r=t.clientX,o=QU(e.view,r,t.clientY),l=e.view.posAtCoords(o);if(!l)return[];const{pos:c}=l;if(!n.resolve(c).parent)return[];const d=n.resolve(i.pos),p=n.resolve(i.pos+1);return mp(d,p,0)}function tP(t,e){const{view:n}=e;if(!t.dataTransfer)return;const{empty:i,$from:r,$to:o}=n.state.selection,l=eP(t,e),c=mp(r,o,0),f=c.some(x=>l.find(E=>E.$from===x.$from&&E.$to===x.$to)),d=i||!f?l:c;if(!d.length)return;const{tr:p}=n.state,m=document.createElement("div"),y=d[0].$from.pos,b=d[d.length-1].$to.pos,C=Ao.create(n.state.doc,y,b),w=C.content();d.forEach(x=>{const E=n.nodeDOM(x.$from.pos),A=WU(E);m.append(A)}),m.style.position="absolute",m.style.top="-10000px",document.body.append(m),t.dataTransfer.clearData(),t.dataTransfer.setDragImage(m,0,0),n.dragging={slice:w,move:!0},p.setSelection(C),n.dispatch(p),document.addEventListener("drop",()=>N8(m),{once:!0})}var j5=(t,e)=>{const n=t.resolve(e),{depth:i}=n;return i===0?e:n.pos-n.parentOffset-1},U5=(t,e)=>{const n=t.nodeAt(e),i=t.resolve(e);let{depth:r}=i,o=n;for(;r>0;){const l=i.node(r);r-=1,r===0&&(o=l)}return o},Lg=(t,e)=>{const n=Tt.getState(t);return n?K0(e,n.type,n.binding.mapping):null},nP=(t,e)=>{const n=Tt.getState(t);return n?Sd(n.doc,n.type,e,n.binding.mapping)||0:-1},P5=(t,e)=>{let n=e;for(;n?.parentNode&&n.parentNode!==t.dom;)n=n.parentNode;return n},D8=new qe("dragHandle"),L8=({pluginKey:t=D8,element:e,editor:n,computePositionConfig:i,onNodeChange:r})=>{const o=document.createElement("div");let l=!1,c=null,f=-1,d;function p(){e&&(e.style.visibility="hidden",e.style.pointerEvents="none")}function m(){if(e){if(!n.isEditable){p();return}e.style.visibility="",e.style.pointerEvents="auto"}}function y(w){pu({getBoundingClientRect:()=>w.getBoundingClientRect()},e,i).then(E=>{Object.assign(e.style,{position:E.strategy,left:`${E.x}px`,top:`${E.y}px`})})}function b(w){tP(w,n),setTimeout(()=>{e&&(e.style.pointerEvents="none")},0)}function C(){p(),e&&(e.style.pointerEvents="auto")}return e.addEventListener("dragstart",b),e.addEventListener("dragend",C),o.appendChild(e),{unbind(){e.removeEventListener("dragstart",b),e.removeEventListener("dragend",C)},plugin:new je({key:typeof t=="string"?new qe(t):t,state:{init(){return{locked:!1}},apply(w,x,E,A){const O=w.getMeta("lockDragHandle"),H=w.getMeta("hideDragHandle");if(O!==void 0&&(l=O),H)return p(),l=!1,c=null,f=-1,r?.({editor:n,node:null,pos:-1}),x;if(w.docChanged&&f!==-1&&e)if(YU(w)){const L=nP(A,d);L!==f&&(f=L)}else{const L=w.mapping.map(f);L!==f&&(f=L,d=Lg(A,f))}return x}},view:w=>{var x;return e.draggable=!0,e.style.pointerEvents="auto",(x=n.view.dom.parentElement)==null||x.appendChild(o),o.style.pointerEvents="none",o.style.position="absolute",o.style.top="0",o.style.left="0",{update(E,A){if(!e)return;if(!n.isEditable){p();return}if(l?e.draggable=!1:e.draggable=!0,w.state.doc.eq(A.doc)||f===-1)return;let O=w.nodeDOM(f);if(O=P5(w,O),O===w.dom||O?.nodeType!==1)return;const H=w.posAtDOM(O,0),L=U5(n.state.doc,H),K=j5(n.state.doc,H);c=L,f=K,d=Lg(w.state,f),r?.({editor:n,node:c,pos:f}),y(O)},destroy(){e&&N8(o)}}},props:{handleDOMEvents:{keydown(w){return!e||l||w.hasFocus()&&(p(),c=null,f=-1,r?.({editor:n,node:null,pos:-1})),!1},mouseleave(w,x){return l||x.target&&!o.contains(x.relatedTarget)&&(p(),c=null,f=-1,r?.({editor:n,node:null,pos:-1})),!1},mousemove(w,x){if(!e||l)return!1;const E=O8({x:x.clientX,y:x.clientY,direction:"right",editor:n});if(!E.resultElement)return!1;let A=E.resultElement;if(A=P5(w,A),A===w.dom||A?.nodeType!==1)return!1;const O=w.posAtDOM(A,0),H=U5(n.state.doc,O);if(H!==c){const L=j5(n.state.doc,O);c=H,f=L,d=Lg(w.state,f),r?.({editor:n,node:c,pos:f}),y(A),m()}return!1}}}})}},Z0={placement:"left-start",strategy:"absolute"};Ye.create({name:"dragHandle",addOptions(){return{render(){const t=document.createElement("div");return t.classList.add("drag-handle"),t},computePositionConfig:{},locked:!1,onNodeChange:()=>null}},addCommands(){return{lockDragHandle:()=>({editor:t})=>(this.options.locked=!0,t.commands.setMeta("lockDragHandle",this.options.locked)),unlockDragHandle:()=>({editor:t})=>(this.options.locked=!1,t.commands.setMeta("lockDragHandle",this.options.locked)),toggleDragHandle:()=>({editor:t})=>(this.options.locked=!this.options.locked,t.commands.setMeta("lockDragHandle",this.options.locked))}},addProseMirrorPlugins(){const t=this.options.render();return[L8({computePositionConfig:{...Z0,...this.options.computePositionConfig},element:t,editor:this.editor,onNodeChange:this.options.onNodeChange}).plugin]}});var iP=t=>{const{className:e="drag-handle",children:n,editor:i,pluginKey:r=D8,onNodeChange:o,computePositionConfig:l=Z0}=t,[c,f]=M.useState(null),d=M.useRef(null);return M.useEffect(()=>{let p=null;return c?i.isDestroyed?()=>{d.current=null}:(d.current||(p=L8({editor:i,element:c,pluginKey:r,computePositionConfig:{...Z0,...l},onNodeChange:o}),d.current=p.plugin,i.registerPlugin(d.current)),()=>{i.unregisterPlugin(r),d.current=null,p&&(p.unbind(),p=null)}):()=>{d.current=null}},[c,i,o,r,l]),T.jsx("div",{className:e,style:{visibility:"hidden",position:"absolute"},ref:f,children:n})},rP=iP;const xu=M.forwardRef(({decorative:t,orientation:e="vertical",className:n="",...i},r)=>{const l=t?{role:"none"}:{"aria-orientation":e==="vertical"?e:void 0,role:"separator"};return T.jsx("div",{className:`tiptap-separator ${n}`.trim(),"data-orientation":e,...l,...i,ref:r})});xu.displayName="Separator";const _8=M.createContext(null);function Ly(){const t=M.useContext(_8);if(!t)throw new Error("DropdownMenu components must be wrapped in <DropdownMenu />");return t}function oP({initialOpen:t=!1,open:e,onOpenChange:n,side:i="bottom",align:r="start"}){const[o,l]=M.useState(t),[c,f]=M.useState(`${i}-${r}`),[d,p]=M.useState(null),m=e??o,y=n??l,b=M.useRef([]),C=M.useRef([]),w=uy({open:m,onOpenChange:y,placement:c,middleware:[ry({mainAxis:4}),sy(),oy({padding:4})],whileElementsMounted:ty}),{context:x}=w,E=fy([bS(x,{event:"click",toggle:!0,ignoreMouse:!1}),dy(x,{role:"menu"}),cy(x,{outsidePress:!0,outsidePressEvent:"mousedown"}),qz(x,{listRef:b,activeIndex:d,onNavigate:p,loop:!0}),Kz(x,{listRef:C,onMatch:m?p:void 0,activeIndex:d})]),A=M.useCallback((O,H)=>{f(`${O}-${H}`)},[]);return M.useMemo(()=>({open:m,setOpen:y,activeIndex:d,setActiveIndex:p,elementsRef:b,labelsRef:C,updatePosition:A,...E,...w}),[m,y,d,E,w,A])}function H8({children:t,...e}){const n=oP(e);return T.jsx(_8.Provider,{value:n,children:T.jsx(gz,{elementsRef:n.elementsRef,labelsRef:n.labelsRef,children:t})})}const _y=M.forwardRef(({children:t,asChild:e=!1,...n},i)=>{const r=Ly(),o=M.isValidElement(t)?parseInt(M.version,10)>=19?t.props.ref:t.ref:void 0,l=Vs([r.refs.setReference,i,o]);if(e&&M.isValidElement(t)){const c={"data-state":r.open?"open":"closed"};return M.cloneElement(t,r.getReferenceProps({ref:l,...n,...typeof t.props=="object"?t.props:{},"aria-expanded":r.open,"aria-haspopup":"menu",...c}))}return T.jsx("button",{ref:l,"aria-expanded":r.open,"aria-haspopup":"menu","data-state":r.open?"open":"closed",...r.getReferenceProps(n),children:t})});_y.displayName="DropdownMenuTrigger";const Hy=M.forwardRef(({style:t,className:e,orientation:n="vertical",side:i="bottom",align:r="start",portal:o=!0,portalProps:l={},...c},f)=>{const d=Ly(),p=Vs([d.refs.setFloating,f]);if(M.useEffect(()=>{d.updatePosition(i,r)},[d,i,r]),!d.open)return null;const m=T.jsx(yS,{context:d.context,modal:!1,initialFocus:0,returnFocus:!0,children:T.jsx("div",{ref:p,className:`tiptap-dropdown-menu ${e||""}`,style:{position:d.strategy,top:d.y??0,left:d.x??0,outline:"none",...t},"aria-orientation":n,"data-orientation":n,"data-state":d.open?"open":"closed","data-side":i,"data-align":r,...d.getFloatingProps(c),children:c.children})});return o?T.jsx(ay,{...l,children:m}):m});Hy.displayName="DropdownMenuContent";const Iy=M.forwardRef(({children:t,disabled:e,asChild:n=!1,onSelect:i,className:r,...o},l)=>{const c=Ly(),f=yz({label:e?null:t?.toString()}),d=c.activeIndex===f.index,p=M.useCallback(y=>{e||(i?.(),o.onClick?.(y),c.setOpen(!1))},[c,e,i,o]),m={ref:Vs([f.ref,l]),role:"menuitem",className:r,tabIndex:d?0:-1,"data-highlighted":d,"aria-disabled":e,...c.getItemProps({...o,onClick:p})};if(n&&M.isValidElement(t)){const y=t.props,b={...m,...typeof t.props=="object"?t.props:{}},C={onClick:w=>{p(w),y.onClick?.(w)}};return M.cloneElement(t,{...b,...C})}return T.jsx("div",{...m,children:t})});Iy.displayName="DropdownMenuItem";const zy=M.forwardRef(({children:t,label:e,className:n,...i},r)=>T.jsx("div",{...i,ref:r,role:"group","aria-label":e,className:`tiptap-button-group ${n||""}`,children:t}));zy.displayName="DropdownMenuGroup";const sP=M.forwardRef(({className:t,...e},n)=>T.jsx(xu,{ref:n,className:`tiptap-dropdown-menu-separator ${t||""}`,...e}));sP.displayName=xu.displayName;function By(t){const{x:e,y:n,direction:i,editor:r}=t;let o=null,l=null,c=null,f=e;for(;l===null&&f<window.innerWidth&&f>0;){const d=document.elementsFromPoint(f,n),p=d.findIndex(y=>y.classList.contains("ProseMirror")),m=d.slice(0,p);if(m.length>0){let y=m[0],b=y,C=100;for(;C>0&&b.parentElement&&!b.parentElement.classList.contains("f-tiptap-editor__tiptap-editor");)b=b.parentElement,C--;if(b&&(y=b),o=y,c=r.view.posAtDOM(y,0),c>=0){const w=r.state.doc.resolve(c);w.depth>=1&&(l=w.node(1)),l||(l=r.state.doc.nodeAt(Math.max(c-1,0)),(l===null||l.isText)&&(l=r.state.doc.nodeAt(Math.max(c-1,0))),l||(l=r.state.doc.nodeAt(Math.max(c,0))));break}}i==="left"?f-=1:f+=1}return{resultElement:o,resultNode:l,pos:c!==null?c:null}}const lP=({event:t,editor:e})=>{const n=t.target.getBoundingClientRect(),i=By({x:n.left,y:n.top,direction:"right",editor:e});if(!i||i.pos===null){console.error("No node found at the clicked position");return}e.chain().focus().triggerFolioTiptapCommand(i.pos).run()},aP=()=>{},cP=(t,e)=>{try{const{state:n}=t;if(!e.resultNode||e.pos===null)return console.error("Invalid target node"),!1;const i=n.doc.resolve(e.pos),r=n.tr;let o,l;return e.resultNode.isLeaf||e.resultNode.content.size===0?(o=e.pos,l=e.pos+e.resultNode.nodeSize):(o=i.before(1),l=i.after(1)),r.delete(o,l),t.view.dispatch(r),!0}catch(n){return console.error("Error removing node:",n),!1}},uP=(t,e)=>{if(!e.resultNode||e.pos===null)return console.error("Invalid target node"),!1;if(e.resultElement){const n=new CustomEvent("f-tiptap-node:edit");return e.resultElement.dispatchEvent(n),!0}return!1},F5={cs:{removeNode:"Odstranit",editFolioTiptapNode:"Upravit"},en:{removeNode:"Remove",editFolioTiptapNode:"Edit"}},gc=[{type:"removeNode",icon:Zh,command:cP}],fP={type:"editFolioTiptapNode",icon:ix,command:uP},dP=(t,e,n)=>i=>{const r=document.querySelector(".f-tiptap-smart-drag-handle__button--drag").getBoundingClientRect(),o=By({x:r.left,y:r.top,direction:"right",editor:t});o&&o.resultNode&&o.pos!==null?e.command(t,o)&&n(null):n(null)};function hP({editor:t,selectedNodeData:e}){const[n,i]=M.useState(null);if(!t)return null;const r=bt.useRef(null),[o,l]=bt.useState(null);bt.useEffect(()=>{if(!r||!r.current||!t||!e||!e.y)return;n&&i(null);const f=By({x:e.x,y:e.y,direction:"right",editor:t});if(f&&f.resultElement){const d=f.resultElement.getBoundingClientRect().height;return l(`${d}px`)}return l(null)},[e&&e.y,l,t,r&&r.current]);const c=[...e&&e.type==="folioTiptapNode"?[...gc.slice(0,gc.length-1),fP,gc[gc.length-1]]:gc];return T.jsx("div",{className:"f-tiptap-smart-drag-handle-content",style:{minHeight:o||void 0},ref:r,children:T.jsxs("div",{className:"f-tiptap-smart-drag-handle-content__flex",children:[T.jsx(zt,{type:"button","data-style":"ghost",role:"button",tabIndex:-1,"aria-label":"Plus",onClick:f=>{lP({event:f,editor:t})},className:"f-tiptap-smart-drag-handle__button f-tiptap-smart-drag-handle__button--plus",children:T.jsx(Dx,{className:"tiptap-button-icon"})}),T.jsxs(H8,{open:n==="drag",onOpenChange:f=>{i(f?"drag":null)},children:[T.jsx(_y,{asChild:!0,children:T.jsx(zt,{spanTag:!0,type:"button","data-style":"ghost",role:"button",tabIndex:-1,"aria-label":"Drag",onClick:aP,className:"f-tiptap-smart-drag-handle__button f-tiptap-smart-drag-handle__button--drag",children:T.jsx(OH,{className:"tiptap-button-icon"})})}),T.jsx(Hy,{children:T.jsx(zy,{children:c.map(f=>T.jsx(Iy,{asChild:!0,children:T.jsxs(zt,{type:"button","data-style":"ghost",role:"button",tabIndex:-1,"aria-label":Me(F5,f.type),className:"f-tiptap-smart-drag-handle__dropdown-button",onClick:dP(t,f,i),children:[M.createElement(f.icon,{className:"tiptap-button-icon"}),Me(F5,f.type)]})},f.type))})})]})]})})}function pP({editor:t}){const[e,n]=bt.useState(null);return T.jsx(rP,{editor:t,onNodeChange:({node:i})=>{if(i){const r=document.querySelector(".drag-handle");if(r){const o=r.getBoundingClientRect(),l={type:i.type.name,x:o.x,y:o.y};if(e&&e.type===l.type&&e.x===l.x&&e.y===l.y)return;n(l);return}}n(null)},children:T.jsx(hP,{editor:t,selectedNodeData:e})})}function mP(){const[t,e]=M.useState({width:0,height:0,offsetTop:0});return M.useEffect(()=>{n();function n(){if(typeof window>"u")return;const r=window.visualViewport;if(!r)return;const{width:o=0,height:l=0,offsetTop:c=0}=r;e(f=>o===f.width&&l===f.height&&c===f.offsetTop?f:{width:o,height:l,offsetTop:c})}const i=window.visualViewport;return i&&(i.addEventListener("resize",n),i.addEventListener("scroll",n)),()=>{i&&(i.removeEventListener("resize",n),i.removeEventListener("scroll",n))}},[]),t}const gP=["table","folioTiptapNode","folioTiptapColumns","folioTiptapColumn","folioTiptapFloat","folioTiptapFloatAside","folioTiptapFloatMain"],yP=t=>!!t,I8=t=>{if(!t)return t;if(t.type&&gP.includes(t.type)){console.error(`Removed unsupported node type: ${t.type}`);return}if(Array.isArray(t.content)){const e=t.content.map(I8).filter(yP);return{...t,content:e}}return t},bP=({content:t,blockEditor:e})=>!t||e?t:I8(t),vP={commandPlaceholder:'Stiskněte "/" pro příkazy',h2Placeholder:'Napište H2 titulek, nebo "/" pro příkazy',h3Placeholder:'Napište H3 titulek, nebo "/" pro příkazy',h4Placeholder:'Napište H4 titulek, nebo "/" pro příkazy'},CP={commandPlaceholder:'Press "/" for commands',h2Placeholder:'Write H2 heading or "/" for commands',h3Placeholder:'Write H3 heading or "/" for commands',h4Placeholder:'Write H4 heading or "/" for commands'},wP={cs:vP,en:CP};function xP(t,e){const n=Math.min(t.top,e.top),i=Math.max(t.bottom,e.bottom),r=Math.min(t.left,e.left),l=Math.max(t.right,e.right)-r,c=i-n,f=r,d=n;return new DOMRect(f,d,l,c)}var SP=class{constructor({editor:t,element:e,view:n,updateDelay:i=250,resizeDelay:r=60,shouldShow:o,options:l}){this.preventHide=!1,this.isVisible=!1,this.floatingUIOptions={strategy:"absolute",placement:"top",offset:8,flip:{},shift:{},arrow:!1,size:!1,autoPlacement:!1,hide:!1,inline:!1,onShow:void 0,onHide:void 0,onUpdate:void 0,onDestroy:void 0},this.shouldShow=({view:c,state:f,from:d,to:p})=>{const{doc:m,selection:y}=f,{empty:b}=y,C=!m.textBetween(d,p).length&&E2(f.selection),w=this.element.contains(document.activeElement);return!(!(c.hasFocus()||w)||b||C||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.resizeHandler=()=>{this.resizeDebounceTimer&&clearTimeout(this.resizeDebounceTimer),this.resizeDebounceTimer=window.setTimeout(()=>{this.updatePosition()},this.resizeDelay)},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:c})=>{var f;if(this.preventHide){this.preventHide=!1;return}c?.relatedTarget&&((f=this.element.parentNode)!=null&&f.contains(c.relatedTarget))||c?.relatedTarget!==this.editor.view.dom&&this.hide()},this.handleDebouncedUpdate=(c,f)=>{const d=!f?.selection.eq(c.state.selection),p=!f?.doc.eq(c.state.doc);!d&&!p||(this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout(()=>{this.updateHandler(c,d,p,f)},this.updateDelay))},this.updateHandler=(c,f,d,p)=>{const{composing:m}=c;if(m||!f&&!d)return;if(!this.getShouldShow(p)){this.hide();return}this.updatePosition(),this.show()},this.editor=t,this.element=e,this.view=n,this.updateDelay=i,this.resizeDelay=r,this.floatingUIOptions={...this.floatingUIOptions,...l},this.element.tabIndex=0,o&&(this.shouldShow=o),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),window.addEventListener("resize",this.resizeHandler),this.update(n,n.state),this.getShouldShow()&&this.show()}get middlewares(){const t=[];return this.floatingUIOptions.flip&&t.push(tp(typeof this.floatingUIOptions.flip!="boolean"?this.floatingUIOptions.flip:void 0)),this.floatingUIOptions.shift&&t.push(ny(typeof this.floatingUIOptions.shift!="boolean"?this.floatingUIOptions.shift:void 0)),this.floatingUIOptions.offset&&t.push(ep(typeof this.floatingUIOptions.offset!="boolean"?this.floatingUIOptions.offset:void 0)),this.floatingUIOptions.arrow&&t.push(cS(this.floatingUIOptions.arrow)),this.floatingUIOptions.size&&t.push(iy(typeof this.floatingUIOptions.size!="boolean"?this.floatingUIOptions.size:void 0)),this.floatingUIOptions.autoPlacement&&t.push(lS(typeof this.floatingUIOptions.autoPlacement!="boolean"?this.floatingUIOptions.autoPlacement:void 0)),this.floatingUIOptions.hide&&t.push(aS(typeof this.floatingUIOptions.hide!="boolean"?this.floatingUIOptions.hide:void 0)),this.floatingUIOptions.inline&&t.push(uS(typeof this.floatingUIOptions.inline!="boolean"?this.floatingUIOptions.inline:void 0)),t}updatePosition(){const{selection:t}=this.editor.state;let e={getBoundingClientRect:()=>D6(this.view,t.from,t.to)};if(t instanceof lt){const{$anchorCell:n,$headCell:i}=t,r=n?n.pos:i.pos,o=i?i.pos:n.pos,l=this.view.nodeDOM(r),c=this.view.nodeDOM(o);if(!l||!c)return;const f=l===c?l.getBoundingClientRect():xP(l.getBoundingClientRect(),c.getBoundingClientRect());e={getBoundingClientRect:()=>f}}pu(e,this.element,{placement:this.floatingUIOptions.placement,strategy:this.floatingUIOptions.strategy,middleware:this.middlewares}).then(({x:n,y:i,strategy:r})=>{this.element.style.width="max-content",this.element.style.position=r,this.element.style.left=`${n}px`,this.element.style.top=`${i}px`,this.isVisible&&this.floatingUIOptions.onUpdate&&this.floatingUIOptions.onUpdate()})}update(t,e){const{state:n}=t,i=n.selection.from!==n.selection.to;if(this.updateDelay>0&&i){this.handleDebouncedUpdate(t,e);return}const r=!e?.selection.eq(t.state.selection),o=!e?.doc.eq(t.state.doc);this.updateHandler(t,r,o,e)}getShouldShow(t){var e;const{state:n}=this.view,{selection:i}=n,{ranges:r}=i,o=Math.min(...r.map(f=>f.$from.pos)),l=Math.max(...r.map(f=>f.$to.pos));return(e=this.shouldShow)==null?void 0:e.call(this,{editor:this.editor,element:this.element,view:this.view,state:n,oldState:t,from:o,to:l})}show(){var t;this.isVisible||(this.element.style.visibility="visible",this.element.style.opacity="1",(t=this.view.dom.parentElement)==null||t.appendChild(this.element),this.floatingUIOptions.onShow&&this.floatingUIOptions.onShow(),this.isVisible=!0)}hide(){this.isVisible&&(this.element.style.visibility="hidden",this.element.style.opacity="0",this.element.remove(),this.floatingUIOptions.onHide&&this.floatingUIOptions.onHide(),this.isVisible=!1)}destroy(){this.hide(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),window.removeEventListener("resize",this.resizeHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler),this.floatingUIOptions.onDestroy&&this.floatingUIOptions.onDestroy()}},z8=t=>new je({key:typeof t.pluginKey=="string"?new qe(t.pluginKey):t.pluginKey,view:e=>new SP({view:e,...t})});Ye.create({name:"bubbleMenu",addOptions(){return{element:null,pluginKey:"bubbleMenu",updateDelay:void 0,shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[z8({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,updateDelay:this.options.updateDelay,shouldShow:this.options.shouldShow})]:[]}});var TP=class{constructor({editor:t,element:e,view:n,options:i,shouldShow:r}){this.preventHide=!1,this.isVisible=!1,this.shouldShow=({view:o,state:l})=>{const{selection:c}=l,{$anchor:f,empty:d}=c,p=f.depth===1,m=f.parent.isTextblock&&!f.parent.type.spec.code&&!f.parent.textContent&&f.parent.childCount===0&&!this.getTextContent(f.parent);return!(!o.hasFocus()||!d||!p||!m||!this.editor.isEditable)},this.floatingUIOptions={strategy:"absolute",placement:"right",offset:8,flip:{},shift:{},arrow:!1,size:!1,autoPlacement:!1,hide:!1,inline:!1},this.updateHandler=(o,l,c,f)=>{const{composing:d}=o;if(d||!l&&!c)return;if(!this.getShouldShow(f)){this.hide();return}this.updatePosition(),this.show()},this.mousedownHandler=()=>{this.preventHide=!0},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:o})=>{var l;if(this.preventHide){this.preventHide=!1;return}o?.relatedTarget&&((l=this.element.parentNode)!=null&&l.contains(o.relatedTarget))||o?.relatedTarget!==this.editor.view.dom&&this.hide()},this.editor=t,this.element=e,this.view=n,this.floatingUIOptions={...this.floatingUIOptions,...i},this.element.tabIndex=0,r&&(this.shouldShow=r),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.update(n,n.state),this.getShouldShow()&&this.show()}getTextContent(t){return k6(t,{textSerializers:C2(this.editor.schema)})}get middlewares(){const t=[];return this.floatingUIOptions.flip&&t.push(tp(typeof this.floatingUIOptions.flip!="boolean"?this.floatingUIOptions.flip:void 0)),this.floatingUIOptions.shift&&t.push(ny(typeof this.floatingUIOptions.shift!="boolean"?this.floatingUIOptions.shift:void 0)),this.floatingUIOptions.offset&&t.push(ep(typeof this.floatingUIOptions.offset!="boolean"?this.floatingUIOptions.offset:void 0)),this.floatingUIOptions.arrow&&t.push(cS(this.floatingUIOptions.arrow)),this.floatingUIOptions.size&&t.push(iy(typeof this.floatingUIOptions.size!="boolean"?this.floatingUIOptions.size:void 0)),this.floatingUIOptions.autoPlacement&&t.push(lS(typeof this.floatingUIOptions.autoPlacement!="boolean"?this.floatingUIOptions.autoPlacement:void 0)),this.floatingUIOptions.hide&&t.push(aS(typeof this.floatingUIOptions.hide!="boolean"?this.floatingUIOptions.hide:void 0)),this.floatingUIOptions.inline&&t.push(uS(typeof this.floatingUIOptions.inline!="boolean"?this.floatingUIOptions.inline:void 0)),t}getShouldShow(t){var e;const{state:n}=this.view,{selection:i}=n,{ranges:r}=i,o=Math.min(...r.map(f=>f.$from.pos)),l=Math.max(...r.map(f=>f.$to.pos));return(e=this.shouldShow)==null?void 0:e.call(this,{editor:this.editor,view:this.view,state:n,oldState:t,from:o,to:l})}updatePosition(){const{selection:t}=this.editor.state;pu({getBoundingClientRect:()=>D6(this.view,t.from,t.to)},this.element,{placement:this.floatingUIOptions.placement,strategy:this.floatingUIOptions.strategy,middleware:this.middlewares}).then(({x:n,y:i,strategy:r})=>{this.element.style.width="max-content",this.element.style.position=r,this.element.style.left=`${n}px`,this.element.style.top=`${i}px`,this.isVisible&&this.floatingUIOptions.onUpdate&&this.floatingUIOptions.onUpdate()})}update(t,e){const n=!e?.selection.eq(t.state.selection),i=!e?.doc.eq(t.state.doc);this.updateHandler(t,n,i,e)}show(){var t;this.isVisible||(this.element.style.visibility="visible",this.element.style.opacity="1",(t=this.view.dom.parentElement)==null||t.appendChild(this.element),this.floatingUIOptions.onShow&&this.floatingUIOptions.onShow(),this.isVisible=!0)}hide(){this.isVisible&&(this.element.style.visibility="hidden",this.element.style.opacity="0",this.element.remove(),this.floatingUIOptions.onHide&&this.floatingUIOptions.onHide(),this.isVisible=!1)}destroy(){this.hide(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler),this.floatingUIOptions.onDestroy&&this.floatingUIOptions.onDestroy()}},B8=t=>new je({key:typeof t.pluginKey=="string"?new qe(t.pluginKey):t.pluginKey,view:e=>new TP({view:e,...t})});Ye.create({name:"floatingMenu",addOptions(){return{element:null,options:{},pluginKey:"floatingMenu",shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[B8({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,options:this.options.options,shouldShow:this.options.shouldShow})]:[]}});var EP=bt.forwardRef(({pluginKey:t="bubbleMenu",editor:e,updateDelay:n,resizeDelay:i,shouldShow:r=null,options:o,children:l,...c},f)=>{const d=M.useRef(document.createElement("div"));typeof f=="function"?f(d.current):f&&(f.current=d.current);const{editor:p}=A2();return M.useEffect(()=>{const m=d.current;if(m.style.visibility="hidden",m.style.position="absolute",e?.isDestroyed||p?.isDestroyed)return;const y=e||p;if(!y){console.warn("BubbleMenu component is not rendered inside of an editor component or does not have editor prop.");return}const b=z8({updateDelay:n,resizeDelay:i,editor:y,element:m,pluginKey:t,shouldShow:r,options:o});return y.registerPlugin(b),()=>{y.unregisterPlugin(t),window.requestAnimationFrame(()=>{m.parentNode&&m.parentNode.removeChild(m)})}},[e,p]),ca.createPortal(T.jsx("div",{...c,children:l}),d.current)});bt.forwardRef(({pluginKey:t="floatingMenu",editor:e,shouldShow:n=null,options:i,children:r,...o},l)=>{const c=M.useRef(document.createElement("div"));typeof l=="function"?l(c.current):l&&(l.current=c.current);const{editor:f}=A2();return M.useEffect(()=>{const d=c.current;if(d.style.visibility="hidden",d.style.position="absolute",e?.isDestroyed||f?.isDestroyed)return;const p=e||f;if(!p){console.warn("FloatingMenu component is not rendered inside of an editor component or does not have editor prop.");return}const m=B8({editor:p,element:d,pluginKey:t,shouldShow:n,options:i});return p.registerPlugin(m),()=>{p.unregisterPlugin(t),window.requestAnimationFrame(()=>{d.parentNode&&d.parentNode.removeChild(d)})}},[e,f]),ca.createPortal(T.jsx("div",{...o,children:r}),c.current)});const _g={cs:{addFolioTiptapColumnBefore:"Přidat sloupec před",addFolioTiptapColumnAfter:"Přidat sloupec za",deleteFolioTiptapColumn:"Odstranit sloupec"},en:{addFolioTiptapColumnBefore:"Add column before",addFolioTiptapColumnAfter:"Add column after",deleteFolioTiptapColumn:"Remove column"}},MP={pluginKey:"folioTiptapColumnsBubbleMenu",shouldShow:({editor:t,state:e})=>t.isActive(Yh.name),items:[[{key:"addFolioTiptapColumnBefore",title:Me(_g,"addFolioTiptapColumnBefore"),icon:Hw,command:({editor:t})=>{t.chain().focus().addFolioTiptapColumnBefore().run()}},{key:"deleteFolioTiptapColumn",title:Me(_g,"deleteFolioTiptapColumn"),icon:$2,command:({editor:t})=>{t.chain().focus().deleteFolioTiptapColumn().run()}},{key:"addFolioTiptapColumnAfter",title:Me(_g,"addFolioTiptapColumnAfter"),icon:_w,command:({editor:t})=>{t.chain().focus().addFolioTiptapColumnAfter().run()}}]]},hi={cs:{addColumnAfter:"Přidat sloupec za",addColumnBefore:"Přidat sloupec před",addRowAfter:"Přidat řádek pod",addRowBefore:"Přidat řádek nad",deleteColumn:"Odstranit sloupec",deleteRow:"Odstranit řádek",deleteTable:"Odstranit tabulku",mergeCells:"Sloučit buňky",splitCell:"Rozdělit buňku",toggleHeaderCell:"Přepnout buňku na záhlaví",toggleHeaderColumn:"Přepnout sloupec na záhlaví",toggleHeaderRow:"Přepnout řádek na záhlaví"},en:{addColumnAfter:"Add column after",addColumnBefore:"Add column before",addRowAfter:"Add row below",addRowBefore:"Add row above",deleteColumn:"Remove column",deleteRow:"Remove row",deleteTable:"Remove table",mergeCells:"Merge cells",splitCell:"Split cell",toggleHeaderCell:"Toggle cell header",toggleHeaderColumn:"Toggle column header",toggleHeaderRow:"Toggle row header"}},kP={pluginKey:"tableBubbleMenu",shouldShow:({editor:t,state:e})=>t.isActive("table"),disabledKeys:({editor:t})=>{const e=[];return t.can().splitCell()||e.push("splitCell"),t.can().mergeCells()||e.push("mergeCells"),e},items:[[{key:"addColumnBefore",title:Me(hi,"addColumnBefore"),icon:dx,command:({editor:t})=>{t.chain().focus().addColumnBefore().run()}},{key:"addColumnAfter",title:Me(hi,"addColumnAfter"),icon:fx,command:({editor:t})=>{t.chain().focus().addColumnAfter().run()}},{key:"deleteColumn",title:Me(hi,"deleteColumn"),icon:mx,command:({editor:t})=>{t.chain().focus().deleteColumn().run()}}],[{key:"addRowBefore",title:Me(hi,"addRowBefore"),icon:px,command:({editor:t})=>{t.chain().focus().addRowBefore().run()}},{key:"addRowAfter",title:Me(hi,"addRowAfter"),icon:hx,command:({editor:t})=>{t.chain().focus().addRowAfter().run()}},{key:"deleteRow",title:Me(hi,"deleteRow"),icon:gx,command:({editor:t})=>{t.chain().focus().deleteRow().run()}}],[{key:"toggleHeaderColumn",title:Me(hi,"toggleHeaderColumn"),icon:wx,command:({editor:t})=>{t.chain().focus().toggleHeaderColumn().run()}},{key:"toggleHeaderRow",title:Me(hi,"toggleHeaderRow"),icon:xx,command:({editor:t})=>{t.chain().focus().toggleHeaderRow().run()}},{key:"toggleHeaderCell",title:Me(hi,"toggleHeaderCell"),icon:Cx,command:({editor:t})=>{t.chain().focus().toggleHeaderCell().run()}}],[{key:"mergeCells",title:Me(hi,"mergeCells"),icon:bx,command:({editor:t})=>{t.chain().focus().mergeCells().run()}},{key:"splitCell",title:Me(hi,"splitCell"),icon:vx,command:({editor:t})=>{t.chain().focus().splitCell().run()}},{key:"deleteTable",title:Me(hi,"deleteTable"),icon:yx,command:({editor:t})=>{t.chain().focus().deleteTable().run()}}]]};function AP({editor:t,source:e}){const n={placement:e.placement||"bottom",offset:e.offset||12,flip:!0},[i,r]=bt.useState([]),[o,l]=bt.useState([]);return T.jsx(EP,{pluginKey:e.pluginKey,shouldShow:({editor:c,state:f})=>{const d=e.shouldShow({editor:c,state:f});if(d){if(e.activeKeys){const p=e.activeKeys({editor:c,state:f});JSON.stringify(p)!==JSON.stringify(i)&&r(p)}if(e.disabledKeys){const p=e.disabledKeys({editor:c,state:f});JSON.stringify(p)!==JSON.stringify(o)&&l(p)}}return d},options:n,className:"f-tiptap-editor-bubble-menu","data-bubble-menu-type":e.pluginKey,children:e.items.map((c,f)=>T.jsx("div",{className:"f-tiptap-editor-bubble-menu__row",children:c.map(d=>{const p=d.icon,m=i.indexOf(d.key)!==-1,y=o.indexOf(d.key)!==-1;return T.jsx(zt,{type:"button","data-style":"ghost","data-size":"large-icon",role:"button",tabIndex:-1,"aria-label":d.title,disabled:y,"data-active-state":m?"on":"off","aria-pressed":m,tooltip:d.title,onClick:y?void 0:()=>{d.command({editor:t})},children:T.jsx(p,{className:"tiptap-button-icon"})},d.title)})},f))})}const RP=[MP,kP,aB,hH];function OP({editor:t,blockEditor:e}){return!t||!e?null:T.jsx(T.Fragment,{children:RP.map(n=>T.jsx(AP,{editor:t,source:n},n.pluginKey))})}const V8=M.forwardRef(({orientation:t="horizontal",size:e,className:n="",style:i={},...r},o)=>{const l={...i,...t==="horizontal"&&!e&&{flex:1},...e&&{width:t==="vertical"?"1px":e,height:t==="horizontal"?"1px":e}};return T.jsx("div",{ref:o,...r,className:n,style:l})});V8.displayName="Spacer";const Vy=t=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})},jy=(t,e)=>{M.useEffect(()=>{const n=t.current;if(!n)return;let i=!0;i&&requestAnimationFrame(e);const r=new MutationObserver(()=>{i&&requestAnimationFrame(e)});return r.observe(n,{childList:!0,subtree:!0,attributes:!0}),()=>{i=!1,r.disconnect()}},[t,e])},NP=t=>{M.useEffect(()=>{const e=t.current;if(!e)return;const n=()=>Array.from(e.querySelectorAll('button:not([disabled]), [role="button"]:not([disabled]), [tabindex="0"]:not([disabled])')),i=(f,d,p)=>{f.preventDefault();let m=d;m>=p.length?m=0:m<0&&(m=p.length-1),p[m]?.focus()},r=f=>{const d=n();if(!d.length)return;const p=document.activeElement,m=d.indexOf(p);if(!e.contains(p))return;const b={ArrowRight:()=>i(f,m+1,d),ArrowDown:()=>i(f,m+1,d),ArrowLeft:()=>i(f,m-1,d),ArrowUp:()=>i(f,m-1,d),Home:()=>i(f,0,d),End:()=>i(f,d.length-1,d)}[f.key];b&&b()},o=f=>{const d=f.target;e.contains(d)&&d.setAttribute("data-focus-visible","true")},l=f=>{const d=f.target;e.contains(d)&&d.removeAttribute("data-focus-visible")};return e.addEventListener("keydown",r),e.addEventListener("focus",o,!0),e.addEventListener("blur",l,!0),n().forEach(f=>{f.addEventListener("focus",o),f.addEventListener("blur",l)}),()=>{e.removeEventListener("keydown",r),e.removeEventListener("focus",o,!0),e.removeEventListener("blur",l,!0),n().forEach(d=>{d.removeEventListener("focus",o),d.removeEventListener("blur",l)})}},[t])},DP=t=>{const[e,n]=M.useState(!0),i=M.useRef(!1);M.useEffect(()=>(i.current=!0,()=>{i.current=!1}),[]);const r=M.useCallback(()=>{if(!i.current)return;const o=t.current;if(!o)return;const l=Array.from(o.children).some(c=>c instanceof HTMLElement&&c.getAttribute("role")==="group"?c.children.length>0:!1);n(l)},[t]);return jy(t,r),e},LP=t=>{const[e,n]=M.useState(!0),i=M.useRef(!1);M.useEffect(()=>(i.current=!0,()=>{i.current=!1}),[]);const r=M.useCallback(()=>{if(!i.current)return;const o=t.current;if(!o)return;const l=Array.from(o.children).some(c=>c instanceof HTMLElement);n(l)},[t]);return jy(t,r),e},_P=t=>{const[e,n]=M.useState(!0),i=M.useRef(!1);M.useEffect(()=>(i.current=!0,()=>{i.current=!1}),[]);const r=M.useCallback(()=>{if(!i.current)return;const o=t.current;if(!o)return;const l=o.previousElementSibling,c=o.nextElementSibling;if(!l||!c){n(!1);return}const f=l.getAttribute("role")==="group"&&c.getAttribute("role")==="group",d=l.children.length>0&&c.children.length>0;n(f&&d)},[t]);return jy(t,r),e},j8=M.forwardRef(({children:t,className:e,variant:n="fixed",...i},r)=>{const o=M.useRef(null),l=DP(o);return NP(o),l?T.jsx("div",{ref:Vy([o,r]),role:"toolbar","aria-label":"toolbar","data-variant":n,className:`f-tiptap-editor-toolbar ${e||""}`,...i,children:t}):null});j8.displayName="Toolbar";const Ti=M.forwardRef(({children:t,className:e,...n},i)=>{const r=M.useRef(null);return LP(r)?T.jsx("div",{ref:Vy([r,i]),role:"group",className:`f-tiptap-editor-toolbar__group ${e||""}`,...n,children:t}):null});Ti.displayName="ToolbarGroup";const Yi=M.forwardRef(({...t},e)=>{const n=M.useRef(null);return _P(n)?T.jsx(xu,{ref:Vy([n,e]),orientation:"vertical",decorative:!0,...t}):null});Yi.displayName="ToolbarSeparator";function HP(t,e){if(!t)return console.log("No editor available for insertFolioTiptapNode"),!1;try{const n={...e,attrs:{...e.attrs,uniqueId:e.attrs.uniqueId||Kh()}};return t.commands.insertContent(n)}catch(n){return console.error("insertFolioTiptapNode error",n),!1}}const U8=M.forwardRef(({editor:t,disabled:e},n)=>{const i=M.useCallback(r=>{!r.defaultPrevented&&!e&&t&&t.chain().focus().triggerFolioTiptapCommand(null).run()},[e]);return M.useEffect(()=>{const r=o=>{o.origin===window.origin&&(!o.data||o.data.type!=="f-c-tiptap-overlay:saved"||o.data.uniqueId||HP(t,o.data.node))};return window.addEventListener("message",r),()=>{window.removeEventListener("message",r)}},[t]),!t||!t.isEditable?null:T.jsx(zt,{ref:n,type:"button","data-style":"ghost",role:"button",tabIndex:-1,"aria-label":"Add Folio Tiptap Node",tooltip:"Add Folio Tiptap Node",onClick:i,children:T.jsx(Dx,{className:"tiptap-button-icon"})})});U8.displayName="FolioTiptapNodeButton";const IP={cs:{insert:"Vložit obrázek"},en:{insert:"Insert image"}},P8=({editor:t,singleImageNodeForToolbar:e})=>{if(!e)return;if(!t||!t.isEditable)return null;const n=M.useCallback(r=>{window.top.postMessage({type:"f-tiptap-slash-command:selected",attrs:{type:e.type}},"*")},[e]),i=Me(IP,"insert");return T.jsx(zt,{type:"button","data-style":"ghost",role:"button",tabIndex:-1,"aria-label":i,tooltip:i,onClick:n,children:T.jsx(Qw,{className:"tiptap-button-icon"})})};P8.displayName="FolioTiptapNodeButtonForSingleImage";const zP=(t,e)=>e?.schema?e.schema.spec.marks.get(t)!==void 0:!1,BP=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g;function VP(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return!t||t.replace(BP,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}function jP(t,e,n){try{const i=new URL(t,e);if(VP(i.href,n))return i.href}catch{}return"#"}const F8=M.createContext(null);function q8(){const t=M.useContext(F8);if(!t)throw new Error("Popover components must be wrapped in <Popover />");return t}function UP({initialOpen:t=!1,modal:e,open:n,onOpenChange:i,side:r="bottom",align:o="center",sideOffset:l=4,alignOffset:c=0}={}){const[f,d]=M.useState(t),[p,m]=M.useState(),[y,b]=M.useState(),[C,w]=M.useState(`${r}-${o}`),[x,E]=M.useState({sideOffset:l,alignOffset:c}),A=n??f,O=i??d,H=M.useMemo(()=>[ry({mainAxis:x.sideOffset,crossAxis:x.alignOffset}),sy({fallbackAxisSideDirection:"end",crossAxis:!1}),oy({limiter:pz({offset:x.sideOffset})})],[x.sideOffset,x.alignOffset]),L=uy({placement:C,open:A,onOpenChange:O,whileElementsMounted:ty,middleware:H}),K=fy([bS(L.context),cy(L.context),dy(L.context)]),Y=M.useCallback((X,oe,Q,le)=>{w(`${X}-${oe}`),(Q!==void 0||le!==void 0)&&E({sideOffset:Q??x.sideOffset,alignOffset:le??x.alignOffset})},[x.sideOffset,x.alignOffset]);return M.useMemo(()=>({open:A,setOpen:O,...K,...L,modal:e,labelId:p,descriptionId:y,setLabelId:m,setDescriptionId:b,updatePosition:Y}),[A,O,K,L,e,p,y,Y])}function PP({children:t,modal:e=!1,...n}){const i=UP({modal:e,...n});return T.jsx(F8.Provider,{value:i,children:t})}const $8=M.forwardRef(function({children:e,asChild:n=!1,...i},r){const o=q8(),l=M.isValidElement(e)?parseInt(M.version,10)>=19?e.props.ref:e.ref:void 0,c=Vs([o.refs.setReference,r,l]);return n&&M.isValidElement(e)?M.cloneElement(e,o.getReferenceProps({ref:c,...i,...e.props,"data-state":o.open?"open":"closed"})):T.jsx("button",{ref:c,"data-state":o.open?"open":"closed",...o.getReferenceProps(i),children:e})}),K8=M.forwardRef(function({className:e,side:n="bottom",align:i="center",sideOffset:r,alignOffset:o,style:l,portal:c=!0,portalProps:f={},asChild:d=!1,children:p,...m},y){const b=q8(),C=M.isValidElement(p)?parseInt(M.version,10)>=19?p.props.ref:p.ref:void 0,w=Vs([b.refs.setFloating,y,C]);if(M.useEffect(()=>{b.updatePosition(n,i,r,o)},[b,n,i,r,o]),!b.context.open)return null;const x={ref:w,style:{position:b.strategy,top:b.y??0,left:b.x??0,...l},"aria-labelledby":b.labelId,"aria-describedby":b.descriptionId,className:`tiptap-popover ${e||""}`,"data-side":n,"data-align":i,"data-state":b.context.open?"open":"closed",...b.getFloatingProps(m)},E=d&&M.isValidElement(p)?M.cloneElement(p,{...x,...p.props}):T.jsx("div",{...x,children:p}),A=T.jsx(yS,{context:b.context,modal:b.modal,children:E});return c?T.jsx(ay,{...f,children:A}):A});$8.displayName="PopoverTrigger";K8.displayName="PopoverContent";const cs={cs:{apply:"Uložit",openTheLink:"Otevřít odkaz",openSettings:"Upravit odkaz",removeLink:"Odstranit odkaz",placeholder:"Vložit URL odkazu …",settings:"Nastavit odkaz",openInNew:"Otevřít v novém okně"},en:{apply:"Apply",openTheLink:"Open the link",openSettings:"Edit link",removeLink:"Remove link",placeholder:"Paste link URL …",settings:"Link settings",openInNew:"Open in new window"}},ld={href:null,rel:null,target:null},FP=t=>{const{editor:e,onSetLink:n,onLinkActive:i,editorState:r}=t,[o,l]=M.useState({...ld});M.useEffect(()=>{if(!r.active)return;const d=e.getAttributes("link");e.isActive("link")&&o.href===null&&(l({href:d.href||null,rel:d.rel||null,target:d.target||null}),i?.())},[r.active,i,o]),M.useEffect(()=>{if(!r.active)return;const d=()=>{const p=e.getAttributes("link");l({href:p.href||null,rel:p.rel||null,target:p.target||null}),e.isActive("link")&&p.href!==null&&i?.()};return e.on("selectionUpdate",d),()=>{e.off("selectionUpdate",d)}},[r.active,i,o]);const c=M.useCallback((d=ld)=>{!o.href&&!d.href||(e.chain().focus().extendMarkRange("link").setLink({href:d.href||o.href||"",rel:typeof d.rel>"u"?o.rel:d.rel,target:typeof d.target>"u"?o.target:d.target}).run(),l({...ld}),n?.())},[e,n,o.href]),f=M.useCallback(()=>{e&&(e.chain().focus().extendMarkRange("link").unsetLink().setMeta("preventAutolink",!0).run(),l({...ld}))},[e]);return{linkData:o,setLinkData:l,setLink:c,removeLink:f}},Z8=M.forwardRef(({className:t,children:e,...n},i)=>T.jsx(zt,{type:"button",className:t,"data-style":"ghost",role:"button",tabIndex:-1,"aria-label":"Link",tooltip:"Link",ref:i,...n,children:e||T.jsx(tx,{className:"tiptap-button-icon"})})),qP=({linkData:t,setLinkData:e,setLink:n,removeLink:i,active:r})=>{const o=f=>{f.key==="Enter"&&(f.preventDefault(),n())},l=()=>{window.top.postMessage({type:"f-tiptap-editor:open-link-popover",urlJson:t},"*")},c=()=>{if(!t.href)return;const f=jP(t.href,window.location.href);f!=="#"&&window.open(f,"_blank","noopener,noreferrer")};return T.jsx("div",{className:"f-tiptap-link-popover",children:T.jsxs("div",{className:"tiptap-popover__rows",children:[T.jsxs("div",{className:"tiptap-popover__row",children:[T.jsx("input",{type:"url",placeholder:Me(cs,"placeholder"),value:t.href||"",onChange:f=>e({...t,href:f.target.value||null}),onKeyDown:o,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",className:"f-tiptap-link-popover__input"}),T.jsx("div",{className:"tiptap-button-group","data-orientation":"horizontal",children:T.jsx(zt,{type:"button",onClick:()=>n(),title:Me(cs,"apply"),disabled:!t.href&&!r,"data-style":"ghost",children:T.jsx($w,{className:"tiptap-button-icon"})})}),T.jsx(xu,{}),T.jsxs("div",{className:"tiptap-button-group","data-orientation":"horizontal",children:[T.jsx(zt,{type:"button",onClick:c,title:Me(cs,"openTheLink"),disabled:!t.href&&!r,"data-style":"ghost",children:T.jsx(Zw,{className:"tiptap-button-icon"})}),T.jsx(zt,{type:"button",onClick:i,title:Me(cs,"removeLink"),disabled:!t.href&&!r,"data-style":"ghost",children:T.jsx(Sx,{className:"tiptap-button-icon"})})]})]}),T.jsxs("div",{className:"tiptap-popover__row",children:[T.jsxs(zt,{type:"button",onClick:l,"data-active-state":t.rel?"on":"off",title:Me(cs,"openSettings"),"data-style":"ghost",className:"f-tiptap-link-popover__settings-button",children:[T.jsx(HH,{className:"tiptap-button-icon"}),Me(cs,"settings")]}),T.jsxs("label",{className:"f-tiptap-link-popover__checkbox-label",children:[T.jsx("input",{type:"checkbox",className:"f-tiptap-link-popover__checkbox",checked:t.target==="_blank",onChange:f=>{n({...t,target:f.target.checked?"_blank":null})}}),T.jsx("span",{className:"f-tiptap-link-popover__checkbox-text",children:Me(cs,"openInNew")})]})]})]})})};function $P({editor:t,editorState:e}){const[n,i]=M.useState(!1),l=FP({editor:t,onSetLink:()=>{i(!1)},onLinkActive:()=>i(!0),editorState:e}),c=M.useCallback(f=>{i(f)},[]);return M.useEffect(()=>{if(!n)return;const f=d=>{if(d.origin===window.origin&&d.data?.type==="f-input-tiptap:save-url-json"&&d.data.urlJson){const p={href:d.data.urlJson.href||null,rel:d.data.urlJson.rel||null,target:d.data.urlJson.target||null};l.setLinkData(p),l.setLink(p)}};return window.addEventListener("message",f),()=>{window.removeEventListener("message",f)}},[n,l]),T.jsxs(PP,{open:n,onOpenChange:c,children:[T.jsx($8,{asChild:!0,children:T.jsx(Z8,{disabled:!e.enabled,"data-active-state":e.active?"on":"off","data-disabled":!e.enabled})}),T.jsx(K8,{children:T.jsx(qP,{active:e.active,...l})})]})}Z8.displayName="LinkButton";const KP={bold:Pw,italic:ex,underline:Tx,strike:ax,code:qw,superscript:ux,subscript:cx},ZP={bold:"Ctrl-b",italic:"Ctrl-i",underline:"Ctrl-u",strike:"Ctrl-Shift-s",code:"Ctrl-e",superscript:"Ctrl-.",subscript:"Ctrl-,"};function Y8(t,e){if(!t)return!1;try{return t.can().toggleMark(e)}catch{return!1}}function YP(t,e){return t?t.isActive(e):!1}function GP(t,e){t&&t.chain().focus().toggleMark(e).run()}function XP(t,e,n=!1){return!!(!t||n||t.isActive("codeBlock")||!Y8(t,e))}function WP(t){const{editor:e,type:n,hideWhenUnavailable:i,markInSchema:r}=t;return!(!r||!e||i&&(T2(e.state.selection)||!Y8(e,n)))}function JP(t){return t.charAt(0).toUpperCase()+t.slice(1)}function QP(t,e,n=!1){const i=zP(e,t),r=XP(t,e,n),o=YP(t,e),l=KP[e],c=ZP[e],f=JP(e);return{markInSchema:i,isDisabled:r,isActive:o,Icon:l,shortcutKey:c,formattedName:f}}const hs=M.forwardRef(({editor:t,type:e,text:n,hideWhenUnavailable:i=!1,className:r="",disabled:o,onClick:l,children:c,...f},d)=>{const p=K2(t),{markInSchema:m,isDisabled:y,isActive:b,Icon:C,shortcutKey:w,formattedName:x}=QP(p,e,o),E=M.useCallback(O=>{l?.(O),!O.defaultPrevented&&!y&&p&&GP(p,e)},[l,y,p,e]);return!M.useMemo(()=>WP({editor:p,type:e,hideWhenUnavailable:i,markInSchema:m}),[p,e,i,m])||!p||!p.isEditable?null:T.jsx(zt,{type:"button",className:r.trim(),disabled:y,"data-style":"ghost","data-active-state":b?"on":"off","data-disabled":y,role:"button",tabIndex:-1,"aria-label":e,"aria-pressed":b,tooltip:x,shortcutKeys:w,onClick:E,...f,ref:d,children:c||T.jsxs(T.Fragment,{children:[T.jsx(C,{className:"tiptap-button-icon"}),n&&T.jsx("span",{className:"tiptap-button-text",children:n})]})})});hs.displayName="MarkButton";const eF={undo:Ex,redo:rx},tF={undo:"Ctrl-z",redo:"Ctrl-Shift-z"},nF={undo:"Undo",redo:"Redo"};function iF(t,e){if(!t)return!1;const n=t.chain().focus();return e==="undo"?n.undo().run():n.redo().run()}const Y0=M.forwardRef(({editor:t,action:e,className:n="",active:i,enabled:r,children:o,...l},c)=>{const f=K2(t),d=M.useCallback(()=>{!f||!r||iF(f,e)},[f,e,r]),p=eF[e],m=nF[e],y=tF[e],b=M.useCallback(C=>{console.log("if","!e.defaultPrevented:",!C.defaultPrevented,"!enabled:",!r),!C.defaultPrevented&&r&&d()},[r,d]);return!f||!f.isEditable?null:T.jsx(zt,{ref:c,type:"button",className:n.trim(),disabled:!r,"data-style":"ghost","data-disabled":!r,role:"button",tabIndex:-1,"aria-label":m,tooltip:m,shortcutKeys:y,onClick:b,...l,children:o||T.jsx(T.Fragment,{children:T.jsx(p,{className:"tiptap-button-icon"})})})});Y0.displayName="UndoRedoButton";const rF={cs:{showHtml:"Zobrazit HTML kód"},en:{showHtml:"Show HTML code"}},G8=M.forwardRef(({editor:t},e)=>{const n=M.useCallback(r=>{if(!r.defaultPrevented){const o=t.getHTML();window.top.postMessage({type:"f-tiptap-editor:show-html",html:o},"*")}},[]),i=Me(rF,"showHtml");return T.jsx(zt,{ref:e,type:"button","data-style":"ghost",role:"button",tabIndex:-1,"aria-label":i,tooltip:i,onClick:n,children:T.jsx(MH,{className:"tiptap-button-icon"})})});G8.displayName="FolioTiptapShowHtmlButton";const oF={cs:{erase:"Smazat formátování"},en:{erase:"Erase formatting"}},X8=M.forwardRef(({editor:t,enabled:e},n)=>{const i=M.useCallback(o=>{if(!o.defaultPrevented){const l=t.view.state.selection;if(l.empty){const c=t.view.state.doc.nodeAt(l.from);if(c&&c.marks&&c.marks.length>0){const f=t.view.state.doc.resolve(l.from);let d=f.start(f.depth+1);isNaN(d)&&(d=l.from);const p={from:d-1,to:d+c.nodeSize+1};t.chain().focus().setTextSelection(p).unsetAllMarks().run()}}else t.chain().focus().unsetAllMarks().run()}},[]),r=Me(oF,"erase");return T.jsx(zt,{ref:n,type:"button","data-style":"ghost",role:"button",tabIndex:-1,"aria-label":r,tooltip:r,onClick:i,disabled:!e,"data-disabled":!e,children:T.jsx(Yw,{className:"tiptap-button-icon"})})});X8.displayName="FolioTiptapEraseMarksButton";function sF({children:t,enabled:e,active:n,onClick:i,tooltip:r}){return T.jsx(zt,{type:"button",disabled:!e,"data-style":"ghost","data-active-state":n?"on":"off","data-disabled":!e,role:"button",tabIndex:-1,"aria-label":r,"aria-pressed":n,tooltip:r,onClick:i,children:t})}const lF=({command:t,editor:e})=>()=>{const n=e.chain();n.focus(),t.command({chain:n}),n.run()};function ad({editorState:t,commandGroup:e,editor:n}){if(!n)return;const[i,r]=bt.useState(!1),o=bt.useCallback(p=>{r(p)},[]),c=bt.useCallback(()=>t.value&&e.commands.find(p=>!p.dontShowAsActiveInCollapsedToolbar&&p.key===t.value)||null,[t.value,e.commands])(),f=c?c.icon:e.icon,d=e.title[document.documentElement.lang]||e.title.en;return T.jsxs(H8,{open:i,onOpenChange:o,children:[T.jsx(_y,{asChild:!0,children:T.jsxs(zt,{type:"button",disabled:!t.enabled,"data-style":"ghost","data-active-state":t.active?"on":"off","data-disabled":!t.enabled,role:"button",tabIndex:-1,"aria-label":d,"aria-pressed":t.active,tooltip:d,children:[T.jsx(f,{className:"tiptap-button-icon"}),T.jsx(Fw,{className:"tiptap-button-dropdown-small"})]})}),T.jsx(Hy,{children:T.jsx(zy,{children:e.commands.map(p=>T.jsx(Iy,{asChild:!0,children:T.jsxs(sF,{active:t.value?p.key===t.value:!1,enabled:t.enabled,onClick:lF({editor:n,command:p}),children:[T.jsx(p.icon,{className:"tiptap-button-icon"}),p.title[document.documentElement.lang]||p.title.en]})},p.key))})})]})}const Dl=t=>({editor:e})=>e.isActive("codeBlock")&&e.can().toggleMark(t),us=t=>({editor:e})=>e.isActive(t),Ll={undo:{enabled:({editor:t})=>t.can().undo(),active:({editor:t})=>!1},redo:{enabled:({editor:t})=>t.can().redo(),active:({editor:t})=>!1},bold:{enabled:Dl("bold"),active:us("bold")},italic:{enabled:Dl("italic"),active:us("italic")},strike:{enabled:Dl("strike"),active:us("strike")},underline:{enabled:Dl("underline"),active:us("underline")},superscript:{enabled:Dl("superscript"),active:us("superscript")},subscript:{enabled:Dl("subscript"),active:us("subscript")},link:{enabled:({editor:t})=>t.can().setLink?.({href:""}),active:us("link")},textAlign:{enabled:({editor:t})=>t.can().setTextAlign("left")||t.can().setTextAlign("center"),active:({editor:t})=>t.isActive({textAlign:"center"})||t.isActive({textAlign:"right"}),value:({editor:t})=>{if(t.isActive({textAlign:"left"}))return"align-left";if(t.isActive({textAlign:"center"}))return"align-center";if(t.isActive({textAlign:"right"}))return"align-right"}},erase:{enabled:({editor:t})=>{let e=!1;const n=t.view.state.selection;if(n.empty){const i=t.view.state.doc.nodeAt(n.from);i&&i.marks&&i.marks.length>0&&(e=!0)}else t.view.state.doc.nodesBetween(n.from,n.to,i=>{if(i.marks&&i.marks.length>0)return e=!0,!1});return e},active:({editor:t})=>!1},textStyles:{enabled:({editor:t})=>t.can().toggleNode("heading","paragraph"),active:({editor:t})=>t.isActive("heading")||t.isActive("styledParagraph"),value:({editor:t})=>{if(t.isActive("heading")){const e=t.getAttributes("heading");if(e&&e.level)return`heading-${e.level}`}else if(t.isActive("styledParagraph")){const e=t.getAttributes("styledParagraph");if(e&&e.variant)return`styledParagraph-${e.variant}`}else if(t.isActive("paragraph"))return"paragraph"}},lists:{enabled:({editor:t})=>t.can().toggleBulletList()||t.can().toggleOrderedList(),active:({editor:t})=>t.isActive("bulletList")||t.isActive("orderedList"),value:({editor:t})=>{if(t.isActive("bulletList"))return"bulletList";if(t.isActive("orderedList"))return"orderedList"}},layouts:{onlyInBlockEditor:!0,enabled:({editor:t})=>t.can().insertFolioTiptapColumns()||t.can().insertTable(),active:({editor:t})=>!1,value:({editor:t})=>{if(t.isActive("folioTiptapColumns"))return"folioTiptapColumns";if(t.isActive("table"))return"table"}}},aF=({editor:t,blockEditor:e})=>{const n={};let i=Object.keys(Ll);return e||(i=i.filter(r=>!Ll[r].onlyInBlockEditor)),t&&t.isEditable?i.forEach(r=>{n[r]={enabled:Ll[r].enabled({editor:t}),active:Ll[r].active({editor:t}),value:Ll[r].value?Ll[r].value({editor:t}):void 0}}):i.forEach(r=>{n[r]={enabled:!1,active:!1}}),n},cF=({blockEditor:t,editor:e,folioTiptapConfig:n})=>{const i=W6({editor:e,selector:({editor:o})=>aF({editor:o,blockEditor:t})}),r=bt.useMemo(()=>t&&n?.nodes&&n.nodes.find(l=>l.config&&l.config.use_as_single_image_in_toolbar)||null,[t,n&&n.nodes]);return T.jsxs(T.Fragment,{children:[t?T.jsxs(T.Fragment,{children:[T.jsx(Ti,{children:T.jsx(U8,{editor:e})}),T.jsx(Yi,{})]}):null,T.jsxs(Ti,{children:[T.jsx(Y0,{action:"undo",active:i.undo.active,enabled:i.undo.enabled}),T.jsx(Y0,{action:"redo",active:i.redo.active,enabled:i.redo.enabled})]}),T.jsx(Yi,{}),T.jsxs(Ti,{children:[T.jsx(ad,{editorState:i.textStyles,commandGroup:py,editor:e}),T.jsx(ad,{editorState:i.lists,commandGroup:hy,editor:e})]}),T.jsx(Yi,{}),T.jsxs(Ti,{children:[T.jsx(hs,{editor:e,type:"bold"}),T.jsx(hs,{editor:e,type:"italic"}),T.jsx(hs,{editor:e,type:"underline"}),T.jsx(hs,{editor:e,type:"strike"}),T.jsx($P,{editor:e,editorState:i.link})]}),T.jsx(Yi,{}),t&&T.jsxs(T.Fragment,{children:[T.jsxs(Ti,{children:[T.jsx(hs,{editor:e,type:"superscript"}),T.jsx(hs,{editor:e,type:"subscript"})]}),T.jsx(Yi,{})]}),T.jsx(Ti,{children:T.jsx(X8,{editor:e,enabled:i.erase.enabled})}),T.jsx(Yi,{}),T.jsx(Ti,{children:T.jsx(ad,{editorState:i.textAlign,commandGroup:SB,editor:e})}),t?T.jsxs(T.Fragment,{children:[T.jsx(Yi,{}),T.jsx(Ti,{children:T.jsx(ad,{editorState:i.layouts,commandGroup:TS,editor:e})}),r?T.jsxs(T.Fragment,{children:[T.jsx(Yi,{}),T.jsx(Ti,{children:T.jsx(P8,{editor:e,singleImageNodeForToolbar:r})})]}):null]}):null,T.jsx(Yi,{}),T.jsx(Ti,{children:T.jsx(G8,{editor:e})}),T.jsx(V8,{})]})};function uF({editor:t,blockEditor:e,folioTiptapConfig:n}){return t?T.jsx(j8,{children:T.jsx(cF,{blockEditor:e,editor:t,folioTiptapConfig:n})}):null}function fF({onCreate:t,onUpdate:e,defaultContent:n,type:i,folioTiptapConfig:r,readonly:o}){mP();const l=M.useRef(null),c=i==="block",f=RN({onUpdate:e,onCreate:t,onDrop(){for(const p of document.querySelectorAll(".prosemirror-dropcursor-block"))p.hidden=!0},content:bP({content:n,blockEditor:c}),autofocus:c,immediatelyRender:!0,shouldRerenderOnTransaction:!1,editable:!o,editorProps:{attributes:{autocomplete:"off",autocorrect:"off",autocapitalize:"off","aria-label":"Main content area, start typing to enter text.",class:"f-tiptap-editor__tiptap-editor"}},extensions:[pL.configure({link:{openOnClick:!1,enableClickSelection:!0,HTMLAttributes:{rel:null,target:null}}}),mL.configure({alignments:["left","center","right"],types:["heading","paragraph"]}),BL,jL,VL,...c?[Lw,fL.configure({placeholder:({node:p})=>{let m="commandPlaceholder";return p.type.name==="heading"&&p.attrs.level&&[2,3,4].indexOf(p.attrs.level)!==-1&&(m=`h${p.attrs.level}Placeholder`),Me(wP,m)}}),pH,Yh,uh,ra,SS,oB,Z_.configure({table:{allowTableNodeSelection:!0,resizable:!1}}),RB.configure({suggestion:c&&r.nodes&&r.nodes.length?{...u5,items:MS([py,hy,TS,TB(r.nodes)])}:u5})]:[],tB]});M.useEffect(()=>{if(!l.current)return;const p=l.current,m=new ResizeObserver(y=>{for(const b of y)window.top.postMessage({type:"f-tiptap-editor:resized",height:b.contentRect.height},"*")});return m.observe(p),()=>{m.disconnect()}},[]);let d="f-tiptap-editor__content f-tiptap-styles";return o&&(d+=" f-tiptap-editor__content--readonly"),T.jsx(k2.Provider,{value:{editor:f},children:T.jsxs("div",{ref:l,className:`f-tiptap-editor f-tiptap-editor--${c?"block":"rich-text"}`,children:[o?null:T.jsx(uF,{editor:f,blockEditor:c,folioTiptapConfig:r}),T.jsxs("div",{className:"f-tiptap-editor__content-wrap",children:[c&&!o?T.jsx(pP,{editor:f}):null,T.jsx(SN,{editor:f,role:"presentation",className:d}),o?null:T.jsx(OP,{editor:f,blockEditor:c})]})]})})}function dF({onCreate:t,onUpdate:e,defaultContent:n,type:i,folioTiptapConfig:r,readonly:o}){switch(i){case"block":case"rich-text":return T.jsx(fF,{onCreate:t,onUpdate:e,defaultContent:n,type:i,folioTiptapConfig:r,readonly:o});default:throw new Error(`Unknown editor type: ${i}`)}}window.Folio=window.Folio||{};window.Folio.Tiptap=window.Folio.Tiptap||{};window.Folio.Tiptap.root=window.Folio.Tiptap.root||null;window.Folio.Tiptap.getHeight=()=>{const t=document.querySelector(".f-tiptap-editor");return t?t.clientHeight:0};window.Folio.Tiptap.init=t=>{if(window.Folio.Tiptap.root)throw new Error("Tiptap editor is already initialized");if(!t.node)throw new Error("Node is required");const e=({editor:l})=>{window.top.postMessage({type:"f-tiptap:created",height:window.Folio.Tiptap.getHeight()},"*"),t.onCreate&&t.onCreate({editor:l})},n=({editor:l})=>{window.top.postMessage({type:"f-tiptap:updated",content:kx(l.getJSON()),height:window.Folio.Tiptap.getHeight()},"*"),t.onUpdate&&t.onUpdate({editor:l})};let i;t.content&&(i=Mx(t.content));const r={nodes:[]},o=bM.createRoot(t.node);return o.render(T.jsx(M.StrictMode,{children:T.jsx(dF,{onCreate:e,onUpdate:n,defaultContent:i,type:t.type,folioTiptapConfig:t.folioTiptapConfig?{...r,...t.folioTiptapConfig}:r,readonly:t.readonly})})),window.Folio.Tiptap.root=o,o};window.Folio.Tiptap.destroy=()=>{window.Folio.Tiptap.root&&(window.Folio.Tiptap.root.unmount(),window.Folio.Tiptap.root=null)};window.addEventListener("message",t=>{if(t.origin===window.origin&&t.data){if(t.data.type==="f-input-tiptap:start"){if(!window.Folio.Tiptap.root){const e=document.querySelector(".f-tiptap-iframe-content");if(!e)throw new Error("Node not found for Tiptap editor");if(t.data.lang&&(document.documentElement.lang=t.data.lang),t.data.stylesheetPath){const n=document.createElement("link");n.rel="stylesheet",n.href=t.data.stylesheetPath,document.body.appendChild(n)}e.classList.toggle("f-tiptap-iframe-content--console-aside",!!t.data.windowWidth&&t.data.windowWidth>=1700),window.Folio.Tiptap.init({node:e,type:e.dataset.tiptapType==="block"?"block":"rich-text",folioTiptapConfig:t.data.folioTiptapConfig,content:t.data.content,readonly:!!t.data.readonly})}}else if(t.data.type==="f-input-tiptap:window-resize"){const e=document.querySelector(".f-tiptap-iframe-content");e&&e.classList.toggle("f-tiptap-iframe-content--console-aside",!!t.data.windowWidth&&t.data.windowWidth>=1700)}}});window.top.postMessage({type:"f-tiptap:javascript-evaluated"},"*");
//# sourceMappingURL=folio-tiptap.js.map
