function X6(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in n)){const l=Object.getOwnPropertyDescriptor(r,o);l&&Object.defineProperty(n,o,l.get?l:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function C3(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Cp={exports:{}},Zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u7;function W6(){if(u7)return Zl;u7=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,o,l){var a=null;if(l!==void 0&&(a=""+l),o.key!==void 0&&(a=""+o.key),"key"in o){l={};for(var c in o)c!=="key"&&(l[c]=o[c])}else l=o;return o=l.ref,{$$typeof:n,type:r,key:a,ref:o!==void 0?o:null,props:l}}return Zl.Fragment=e,Zl.jsx=t,Zl.jsxs=t,Zl}var c7;function e8(){return c7||(c7=1,Cp.exports=W6()),Cp.exports}var x=e8(),xp={exports:{}},Me={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f7;function t8(){if(f7)return Me;f7=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function b(A){return A===null||typeof A!="object"?null:(A=g&&A[g]||A["@@iterator"],typeof A=="function"?A:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,S={};function M(A,F,q){this.props=A,this.context=F,this.refs=S,this.updater=q||v}M.prototype.isReactComponent={},M.prototype.setState=function(A,F){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,F,"setState")},M.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function k(){}k.prototype=M.prototype;function O(A,F,q){this.props=A,this.context=F,this.refs=S,this.updater=q||v}var D=O.prototype=new k;D.constructor=O,C(D,M.prototype),D.isPureReactComponent=!0;var P=Array.isArray,I={H:null,A:null,T:null,S:null,V:null},Q=Object.prototype.hasOwnProperty;function te(A,F,q,J,ie,Ce){return q=Ce.ref,{$$typeof:n,type:A,key:F,ref:q!==void 0?q:null,props:Ce}}function X(A,F){return te(A.type,F,void 0,void 0,void 0,A.props)}function le(A){return typeof A=="object"&&A!==null&&A.$$typeof===n}function ne(A){var F={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(q){return F[q]})}var me=/\/+/g;function he(A,F){return typeof A=="object"&&A!==null&&A.key!=null?ne(""+A.key):F.toString(36)}function xe(){}function re(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(xe,xe):(A.status="pending",A.then(function(F){A.status==="pending"&&(A.status="fulfilled",A.value=F)},function(F){A.status==="pending"&&(A.status="rejected",A.reason=F)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function $(A,F,q,J,ie){var Ce=typeof A;(Ce==="undefined"||Ce==="boolean")&&(A=null);var oe=!1;if(A===null)oe=!0;else switch(Ce){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(A.$$typeof){case n:case e:oe=!0;break;case m:return oe=A._init,$(oe(A._payload),F,q,J,ie)}}if(oe)return ie=ie(A),oe=J===""?"."+he(A,0):J,P(ie)?(q="",oe!=null&&(q=oe.replace(me,"$&/")+"/"),$(ie,F,q,"",function(Gt){return Gt})):ie!=null&&(le(ie)&&(ie=X(ie,q+(ie.key==null||A&&A.key===ie.key?"":(""+ie.key).replace(me,"$&/")+"/")+oe)),F.push(ie)),1;oe=0;var qe=J===""?".":J+":";if(P(A))for(var He=0;He<A.length;He++)J=A[He],Ce=qe+he(J,He),oe+=$(J,F,q,Ce,ie);else if(He=b(A),typeof He=="function")for(A=He.call(A),He=0;!(J=A.next()).done;)J=J.value,Ce=qe+he(J,He++),oe+=$(J,F,q,Ce,ie);else if(Ce==="object"){if(typeof A.then=="function")return $(re(A),F,q,J,ie);throw F=String(A),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return oe}function H(A,F,q){if(A==null)return A;var J=[],ie=0;return $(A,J,"","",function(Ce){return F.call(q,Ce,ie++)}),J}function U(A){if(A._status===-1){var F=A._result;F=F(),F.then(function(q){(A._status===0||A._status===-1)&&(A._status=1,A._result=q)},function(q){(A._status===0||A._status===-1)&&(A._status=2,A._result=q)}),A._status===-1&&(A._status=0,A._result=F)}if(A._status===1)return A._result.default;throw A._result}var z=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)};function Y(){}return Me.Children={map:H,forEach:function(A,F,q){H(A,function(){F.apply(this,arguments)},q)},count:function(A){var F=0;return H(A,function(){F++}),F},toArray:function(A){return H(A,function(F){return F})||[]},only:function(A){if(!le(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},Me.Component=M,Me.Fragment=t,Me.Profiler=o,Me.PureComponent=O,Me.StrictMode=r,Me.Suspense=d,Me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Me.__COMPILER_RUNTIME={__proto__:null,c:function(A){return I.H.useMemoCache(A)}},Me.cache=function(A){return function(){return A.apply(null,arguments)}},Me.cloneElement=function(A,F,q){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var J=C({},A.props),ie=A.key,Ce=void 0;if(F!=null)for(oe in F.ref!==void 0&&(Ce=void 0),F.key!==void 0&&(ie=""+F.key),F)!Q.call(F,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&F.ref===void 0||(J[oe]=F[oe]);var oe=arguments.length-2;if(oe===1)J.children=q;else if(1<oe){for(var qe=Array(oe),He=0;He<oe;He++)qe[He]=arguments[He+2];J.children=qe}return te(A.type,ie,void 0,void 0,Ce,J)},Me.createContext=function(A){return A={$$typeof:a,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:l,_context:A},A},Me.createElement=function(A,F,q){var J,ie={},Ce=null;if(F!=null)for(J in F.key!==void 0&&(Ce=""+F.key),F)Q.call(F,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ie[J]=F[J]);var oe=arguments.length-2;if(oe===1)ie.children=q;else if(1<oe){for(var qe=Array(oe),He=0;He<oe;He++)qe[He]=arguments[He+2];ie.children=qe}if(A&&A.defaultProps)for(J in oe=A.defaultProps,oe)ie[J]===void 0&&(ie[J]=oe[J]);return te(A,Ce,void 0,void 0,null,ie)},Me.createRef=function(){return{current:null}},Me.forwardRef=function(A){return{$$typeof:c,render:A}},Me.isValidElement=le,Me.lazy=function(A){return{$$typeof:m,_payload:{_status:-1,_result:A},_init:U}},Me.memo=function(A,F){return{$$typeof:h,type:A,compare:F===void 0?null:F}},Me.startTransition=function(A){var F=I.T,q={};I.T=q;try{var J=A(),ie=I.S;ie!==null&&ie(q,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(Y,z)}catch(Ce){z(Ce)}finally{I.T=F}},Me.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Me.use=function(A){return I.H.use(A)},Me.useActionState=function(A,F,q){return I.H.useActionState(A,F,q)},Me.useCallback=function(A,F){return I.H.useCallback(A,F)},Me.useContext=function(A){return I.H.useContext(A)},Me.useDebugValue=function(){},Me.useDeferredValue=function(A,F){return I.H.useDeferredValue(A,F)},Me.useEffect=function(A,F,q){var J=I.H;if(typeof q=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(A,F)},Me.useId=function(){return I.H.useId()},Me.useImperativeHandle=function(A,F,q){return I.H.useImperativeHandle(A,F,q)},Me.useInsertionEffect=function(A,F){return I.H.useInsertionEffect(A,F)},Me.useLayoutEffect=function(A,F){return I.H.useLayoutEffect(A,F)},Me.useMemo=function(A,F){return I.H.useMemo(A,F)},Me.useOptimistic=function(A,F){return I.H.useOptimistic(A,F)},Me.useReducer=function(A,F,q){return I.H.useReducer(A,F,q)},Me.useRef=function(A){return I.H.useRef(A)},Me.useState=function(A){return I.H.useState(A)},Me.useSyncExternalStore=function(A,F,q){return I.H.useSyncExternalStore(A,F,q)},Me.useTransition=function(){return I.H.useTransition()},Me.version="19.1.0",Me}var d7;function rm(){return d7||(d7=1,xp.exports=t8()),xp.exports}var w=rm();const Ht=C3(w),x3=X6({__proto__:null,default:Ht},[w]);var Sp={exports:{}},Yl={},Ep={exports:{}},wp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h7;function n8(){return h7||(h7=1,function(n){function e(H,U){var z=H.length;H.push(U);e:for(;0<z;){var Y=z-1>>>1,A=H[Y];if(0<o(A,U))H[Y]=U,H[z]=A,z=Y;else break e}}function t(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var U=H[0],z=H.pop();if(z!==U){H[0]=z;e:for(var Y=0,A=H.length,F=A>>>1;Y<F;){var q=2*(Y+1)-1,J=H[q],ie=q+1,Ce=H[ie];if(0>o(J,z))ie<A&&0>o(Ce,J)?(H[Y]=Ce,H[ie]=z,Y=ie):(H[Y]=J,H[q]=z,Y=q);else if(ie<A&&0>o(Ce,z))H[Y]=Ce,H[ie]=z,Y=ie;else break e}}return U}function o(H,U){var z=H.sortIndex-U.sortIndex;return z!==0?z:H.id-U.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var a=Date,c=a.now();n.unstable_now=function(){return a.now()-c}}var d=[],h=[],m=1,g=null,b=3,v=!1,C=!1,S=!1,M=!1,k=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function P(H){for(var U=t(h);U!==null;){if(U.callback===null)r(h);else if(U.startTime<=H)r(h),U.sortIndex=U.expirationTime,e(d,U);else break;U=t(h)}}function I(H){if(S=!1,P(H),!C)if(t(d)!==null)C=!0,Q||(Q=!0,he());else{var U=t(h);U!==null&&$(I,U.startTime-H)}}var Q=!1,te=-1,X=5,le=-1;function ne(){return M?!0:!(n.unstable_now()-le<X)}function me(){if(M=!1,Q){var H=n.unstable_now();le=H;var U=!0;try{e:{C=!1,S&&(S=!1,O(te),te=-1),v=!0;var z=b;try{t:{for(P(H),g=t(d);g!==null&&!(g.expirationTime>H&&ne());){var Y=g.callback;if(typeof Y=="function"){g.callback=null,b=g.priorityLevel;var A=Y(g.expirationTime<=H);if(H=n.unstable_now(),typeof A=="function"){g.callback=A,P(H),U=!0;break t}g===t(d)&&r(d),P(H)}else r(d);g=t(d)}if(g!==null)U=!0;else{var F=t(h);F!==null&&$(I,F.startTime-H),U=!1}}break e}finally{g=null,b=z,v=!1}U=void 0}}finally{U?he():Q=!1}}}var he;if(typeof D=="function")he=function(){D(me)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,re=xe.port2;xe.port1.onmessage=me,he=function(){re.postMessage(null)}}else he=function(){k(me,0)};function $(H,U){te=k(function(){H(n.unstable_now())},U)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(H){switch(b){case 1:case 2:case 3:var U=3;break;default:U=b}var z=b;b=U;try{return H()}finally{b=z}},n.unstable_requestPaint=function(){M=!0},n.unstable_runWithPriority=function(H,U){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var z=b;b=H;try{return U()}finally{b=z}},n.unstable_scheduleCallback=function(H,U,z){var Y=n.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?Y+z:Y):z=Y,H){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=z+A,H={id:m++,callback:U,priorityLevel:H,startTime:z,expirationTime:A,sortIndex:-1},z>Y?(H.sortIndex=z,e(h,H),t(d)===null&&H===t(h)&&(S?(O(te),te=-1):S=!0,$(I,z-Y))):(H.sortIndex=A,e(d,H),C||v||(C=!0,Q||(Q=!0,he()))),H},n.unstable_shouldYield=ne,n.unstable_wrapCallback=function(H){var U=b;return function(){var z=b;b=U;try{return H.apply(this,arguments)}finally{b=z}}}}(wp)),wp}var p7;function r8(){return p7||(p7=1,Ep.exports=n8()),Ep.exports}var Mp={exports:{}},Qt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m7;function i8(){if(m7)return Qt;m7=1;var n=rm();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(d,h,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:g==null?null:""+g,children:d,containerInfo:h,implementation:m}}var a=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Qt.createPortal=function(d,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return l(d,h,null,m)},Qt.flushSync=function(d){var h=a.T,m=r.p;try{if(a.T=null,r.p=2,d)return d()}finally{a.T=h,r.p=m,r.d.f()}},Qt.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(d,h))},Qt.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Qt.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var m=h.as,g=c(m,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,v=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?r.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:b,fetchPriority:v}):m==="script"&&r.d.X(d,{crossOrigin:g,integrity:b,fetchPriority:v,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Qt.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=c(h.as,h.crossOrigin);r.d.M(d,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(d)},Qt.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,g=c(m,h.crossOrigin);r.d.L(d,m,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Qt.preloadModule=function(d,h){if(typeof d=="string")if(h){var m=c(h.as,h.crossOrigin);r.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(d)},Qt.requestFormReset=function(d){r.d.r(d)},Qt.unstable_batchedUpdates=function(d,h){return d(h)},Qt.useFormState=function(d,h,m){return a.H.useFormState(d,h,m)},Qt.useFormStatus=function(){return a.H.useHostTransitionStatus()},Qt.version="19.1.0",Qt}var g7;function S3(){if(g7)return Mp.exports;g7=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Mp.exports=i8(),Mp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y7;function o8(){if(y7)return Yl;y7=1;var n=r8(),e=rm(),t=S3();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,u=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(u=s.return),i=s.return;while(i)}return s.tag===3?u:null}function a(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function c(i){if(l(i)!==i)throw Error(r(188))}function d(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(r(188));return s!==i?null:i}for(var u=i,f=s;;){var p=u.return;if(p===null)break;var y=p.alternate;if(y===null){if(f=p.return,f!==null){u=f;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===u)return c(p),i;if(y===f)return c(p),s;y=y.sibling}throw Error(r(188))}if(u.return!==f.return)u=p,f=y;else{for(var E=!1,T=p.child;T;){if(T===u){E=!0,u=p,f=y;break}if(T===f){E=!0,f=p,u=y;break}T=T.sibling}if(!E){for(T=y.child;T;){if(T===u){E=!0,u=y,f=p;break}if(T===f){E=!0,f=y,u=p;break}T=T.sibling}if(!E)throw Error(r(189))}}if(u.alternate!==f)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?i:s}function h(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=h(i),s!==null)return s;i=i.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),O=Symbol.for("react.consumer"),D=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),le=Symbol.for("react.activity"),ne=Symbol.for("react.memo_cache_sentinel"),me=Symbol.iterator;function he(i){return i===null||typeof i!="object"?null:(i=me&&i[me]||i["@@iterator"],typeof i=="function"?i:null)}var xe=Symbol.for("react.client.reference");function re(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===xe?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case C:return"Fragment";case M:return"Profiler";case S:return"StrictMode";case I:return"Suspense";case Q:return"SuspenseList";case le:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case v:return"Portal";case D:return(i.displayName||"Context")+".Provider";case O:return(i._context.displayName||"Context")+".Consumer";case P:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case te:return s=i.displayName||null,s!==null?s:re(i.type)||"Memo";case X:s=i._payload,i=i._init;try{return re(i(s))}catch{}}return null}var $=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z={pending:!1,data:null,method:null,action:null},Y=[],A=-1;function F(i){return{current:i}}function q(i){0>A||(i.current=Y[A],Y[A]=null,A--)}function J(i,s){A++,Y[A]=i.current,i.current=s}var ie=F(null),Ce=F(null),oe=F(null),qe=F(null);function He(i,s){switch(J(oe,s),J(Ce,i),J(ie,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?jy(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=jy(s),i=Iy(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}q(ie),J(ie,i)}function Gt(){q(ie),q(Ce),q(oe)}function On(i){i.memoizedState!==null&&J(qe,i);var s=ie.current,u=Iy(s,i.type);s!==u&&(J(Ce,i),J(ie,u))}function Se(i){Ce.current===i&&(q(ie),q(Ce)),qe.current===i&&(q(qe),Pl._currentValue=z)}var Ne=Object.prototype.hasOwnProperty,Ee=n.unstable_scheduleCallback,we=n.unstable_cancelCallback,ut=n.unstable_shouldYield,st=n.unstable_requestPaint,Xe=n.unstable_now,Bt=n.unstable_getCurrentPriorityLevel,_e=n.unstable_ImmediatePriority,Ye=n.unstable_UserBlockingPriority,Zt=n.unstable_NormalPriority,de=n.unstable_LowPriority,Ie=n.unstable_IdlePriority,ge=n.log,We=n.unstable_setDisableYieldValue,Ue=null,ze=null;function pn(i){if(typeof ge=="function"&&We(i),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(Ue,i)}catch{}}var Rt=Math.clz32?Math.clz32:Er,Ki=Math.log,mn=Math.LN2;function Er(i){return i>>>=0,i===0?32:31-(Ki(i)/mn|0)|0}var wr=256,$i=4194304;function ur(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Mr(i,s,u){var f=i.pendingLanes;if(f===0)return 0;var p=0,y=i.suspendedLanes,E=i.pingedLanes;i=i.warmLanes;var T=f&134217727;return T!==0?(f=T&~y,f!==0?p=ur(f):(E&=T,E!==0?p=ur(E):u||(u=T&~i,u!==0&&(p=ur(u))))):(T=f&~y,T!==0?p=ur(T):E!==0?p=ur(E):u||(u=f&~i,u!==0&&(p=ur(u)))),p===0?0:s!==0&&s!==p&&(s&y)===0&&(y=p&-p,u=s&-s,y>=u||y===32&&(u&4194048)!==0)?s:p}function gn(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function _o(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ga(){var i=wr;return wr<<=1,(wr&4194048)===0&&(wr=256),i}function Xs(){var i=$i;return $i<<=1,($i&62914560)===0&&($i=4194304),i}function Uo(i){for(var s=[],u=0;31>u;u++)s.push(i);return s}function Ws(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function _9(i,s,u,f,p,y){var E=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var T=i.entanglements,R=i.expirationTimes,j=i.hiddenUpdates;for(u=E&~u;0<u;){var K=31-Rt(u),Z=1<<K;T[K]=0,R[K]=-1;var V=j[K];if(V!==null)for(j[K]=null,K=0;K<V.length;K++){var _=V[K];_!==null&&(_.lane&=-536870913)}u&=~Z}f!==0&&S0(i,f,0),y!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=y&~(E&~s))}function S0(i,s,u){i.pendingLanes|=s,i.suspendedLanes&=~s;var f=31-Rt(s);i.entangledLanes|=s,i.entanglements[f]=i.entanglements[f]|1073741824|u&4194090}function E0(i,s){var u=i.entangledLanes|=s;for(i=i.entanglements;u;){var f=31-Rt(u),p=1<<f;p&s|i[f]&s&&(i[f]|=s),u&=~p}}function cd(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function fd(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function w0(){var i=U.p;return i!==0?i:(i=window.event,i===void 0?32:r7(i.type))}function U9(i,s){var u=U.p;try{return U.p=i,s()}finally{U.p=u}}var ei=Math.random().toString(36).slice(2),Yt="__reactFiber$"+ei,yn="__reactProps$"+ei,qo="__reactContainer$"+ei,dd="__reactEvents$"+ei,q9="__reactListeners$"+ei,P9="__reactHandles$"+ei,M0="__reactResources$"+ei,el="__reactMarker$"+ei;function hd(i){delete i[Yt],delete i[yn],delete i[dd],delete i[q9],delete i[P9]}function Po(i){var s=i[Yt];if(s)return s;for(var u=i.parentNode;u;){if(s=u[qo]||u[Yt]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(i=qy(i);i!==null;){if(u=i[Yt])return u;i=qy(i)}return s}i=u,u=i.parentNode}return null}function Fo(i){if(i=i[Yt]||i[qo]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function tl(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Ko(i){var s=i[M0];return s||(s=i[M0]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ot(i){i[el]=!0}var T0=new Set,k0={};function Gi(i,s){$o(i,s),$o(i+"Capture",s)}function $o(i,s){for(k0[i]=s,i=0;i<s.length;i++)T0.add(s[i])}var F9=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),A0={},R0={};function K9(i){return Ne.call(R0,i)?!0:Ne.call(A0,i)?!1:F9.test(i)?R0[i]=!0:(A0[i]=!0,!1)}function Za(i,s,u){if(K9(s))if(u===null)i.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var f=s.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+u)}}function Ya(i,s,u){if(u===null)i.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+u)}}function Tr(i,s,u,f){if(f===null)i.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(s,u,""+f)}}var pd,O0;function Go(i){if(pd===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);pd=s&&s[1]||"",O0=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pd+i+O0}var md=!1;function gd(i,s){if(!i||md)return"";md=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(s){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(_){var V=_}Reflect.construct(i,[],Z)}else{try{Z.call()}catch(_){V=_}i.call(Z.prototype)}}else{try{throw Error()}catch(_){V=_}(Z=i())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(_){if(_&&V&&typeof _.stack=="string")return[_.stack,V.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=f.DetermineComponentFrameRoot(),E=y[0],T=y[1];if(E&&T){var R=E.split(`
`),j=T.split(`
`);for(p=f=0;f<R.length&&!R[f].includes("DetermineComponentFrameRoot");)f++;for(;p<j.length&&!j[p].includes("DetermineComponentFrameRoot");)p++;if(f===R.length||p===j.length)for(f=R.length-1,p=j.length-1;1<=f&&0<=p&&R[f]!==j[p];)p--;for(;1<=f&&0<=p;f--,p--)if(R[f]!==j[p]){if(f!==1||p!==1)do if(f--,p--,0>p||R[f]!==j[p]){var K=`
`+R[f].replace(" at new "," at ");return i.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",i.displayName)),K}while(1<=f&&0<=p);break}}}finally{md=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?Go(u):""}function $9(i){switch(i.tag){case 26:case 27:case 5:return Go(i.type);case 16:return Go("Lazy");case 13:return Go("Suspense");case 19:return Go("SuspenseList");case 0:case 15:return gd(i.type,!1);case 11:return gd(i.type.render,!1);case 1:return gd(i.type,!0);case 31:return Go("Activity");default:return""}}function N0(i){try{var s="";do s+=$9(i),i=i.return;while(i);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function Un(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function D0(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function G9(i){var s=D0(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),f=""+i[s];if(!i.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,y=u.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return p.call(this)},set:function(E){f=""+E,y.call(this,E)}}),Object.defineProperty(i,s,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(E){f=""+E},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Ja(i){i._valueTracker||(i._valueTracker=G9(i))}function L0(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var u=s.getValue(),f="";return i&&(f=D0(i)?i.checked?"true":"false":i.value),i=f,i!==u?(s.setValue(i),!0):!1}function Qa(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Z9=/[\n"\\]/g;function qn(i){return i.replace(Z9,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function yd(i,s,u,f,p,y,E,T){i.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.type=E:i.removeAttribute("type"),s!=null?E==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+Un(s)):i.value!==""+Un(s)&&(i.value=""+Un(s)):E!=="submit"&&E!=="reset"||i.removeAttribute("value"),s!=null?bd(i,E,Un(s)):u!=null?bd(i,E,Un(u)):f!=null&&i.removeAttribute("value"),p==null&&y!=null&&(i.defaultChecked=!!y),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.name=""+Un(T):i.removeAttribute("name")}function H0(i,s,u,f,p,y,E,T){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),s!=null||u!=null){if(!(y!=="submit"&&y!=="reset"||s!=null))return;u=u!=null?""+Un(u):"",s=s!=null?""+Un(s):u,T||s===i.value||(i.value=s),i.defaultValue=s}f=f??p,f=typeof f!="function"&&typeof f!="symbol"&&!!f,i.checked=T?i.checked:!!f,i.defaultChecked=!!f,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(i.name=E)}function bd(i,s,u){s==="number"&&Qa(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function Zo(i,s,u,f){if(i=i.options,s){s={};for(var p=0;p<u.length;p++)s["$"+u[p]]=!0;for(u=0;u<i.length;u++)p=s.hasOwnProperty("$"+i[u].value),i[u].selected!==p&&(i[u].selected=p),p&&f&&(i[u].defaultSelected=!0)}else{for(u=""+Un(u),s=null,p=0;p<i.length;p++){if(i[p].value===u){i[p].selected=!0,f&&(i[p].defaultSelected=!0);return}s!==null||i[p].disabled||(s=i[p])}s!==null&&(s.selected=!0)}}function z0(i,s,u){if(s!=null&&(s=""+Un(s),s!==i.value&&(i.value=s),u==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=u!=null?""+Un(u):""}function B0(i,s,u,f){if(s==null){if(f!=null){if(u!=null)throw Error(r(92));if($(f)){if(1<f.length)throw Error(r(93));f=f[0]}u=f}u==null&&(u=""),s=u}u=Un(s),i.defaultValue=u,f=i.textContent,f===u&&f!==""&&f!==null&&(i.value=f)}function Yo(i,s){if(s){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=s;return}}i.textContent=s}var Y9=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function j0(i,s,u){var f=s.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":f?i.setProperty(s,u):typeof u!="number"||u===0||Y9.has(s)?s==="float"?i.cssFloat=u:i[s]=(""+u).trim():i[s]=u+"px"}function I0(i,s,u){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||s!=null&&s.hasOwnProperty(f)||(f.indexOf("--")===0?i.setProperty(f,""):f==="float"?i.cssFloat="":i[f]="");for(var p in s)f=s[p],s.hasOwnProperty(p)&&u[p]!==f&&j0(i,p,f)}else for(var y in s)s.hasOwnProperty(y)&&j0(i,y,s[y])}function vd(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var J9=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Q9=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xa(i){return Q9.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Cd=null;function xd(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Jo=null,Qo=null;function V0(i){var s=Fo(i);if(s&&(i=s.stateNode)){var u=i[yn]||null;e:switch(i=s.stateNode,s.type){case"input":if(yd(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),s=u.name,u.type==="radio"&&s!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+qn(""+s)+'"][type="radio"]'),s=0;s<u.length;s++){var f=u[s];if(f!==i&&f.form===i.form){var p=f[yn]||null;if(!p)throw Error(r(90));yd(f,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<u.length;s++)f=u[s],f.form===i.form&&L0(f)}break e;case"textarea":z0(i,u.value,u.defaultValue);break e;case"select":s=u.value,s!=null&&Zo(i,!!u.multiple,s,!1)}}}var Sd=!1;function _0(i,s,u){if(Sd)return i(s,u);Sd=!0;try{var f=i(s);return f}finally{if(Sd=!1,(Jo!==null||Qo!==null)&&(ju(),Jo&&(s=Jo,i=Qo,Qo=Jo=null,V0(s),i)))for(s=0;s<i.length;s++)V0(i[s])}}function nl(i,s){var u=i.stateNode;if(u===null)return null;var f=u[yn]||null;if(f===null)return null;u=f[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(r(231,s,typeof u));return u}var kr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ed=!1;if(kr)try{var rl={};Object.defineProperty(rl,"passive",{get:function(){Ed=!0}}),window.addEventListener("test",rl,rl),window.removeEventListener("test",rl,rl)}catch{Ed=!1}var ti=null,wd=null,Wa=null;function U0(){if(Wa)return Wa;var i,s=wd,u=s.length,f,p="value"in ti?ti.value:ti.textContent,y=p.length;for(i=0;i<u&&s[i]===p[i];i++);var E=u-i;for(f=1;f<=E&&s[u-f]===p[y-f];f++);return Wa=p.slice(i,1<f?1-f:void 0)}function eu(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function tu(){return!0}function q0(){return!1}function bn(i){function s(u,f,p,y,E){this._reactName=u,this._targetInst=p,this.type=f,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var T in i)i.hasOwnProperty(T)&&(u=i[T],this[T]=u?u(y):y[T]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?tu:q0,this.isPropagationStopped=q0,this}return m(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=tu)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=tu)},persist:function(){},isPersistent:tu}),s}var Zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nu=bn(Zi),il=m({},Zi,{view:0,detail:0}),X9=bn(il),Md,Td,ol,ru=m({},il,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ad,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ol&&(ol&&i.type==="mousemove"?(Md=i.screenX-ol.screenX,Td=i.screenY-ol.screenY):Td=Md=0,ol=i),Md)},movementY:function(i){return"movementY"in i?i.movementY:Td}}),P0=bn(ru),W9=m({},ru,{dataTransfer:0}),eC=bn(W9),tC=m({},il,{relatedTarget:0}),kd=bn(tC),nC=m({},Zi,{animationName:0,elapsedTime:0,pseudoElement:0}),rC=bn(nC),iC=m({},Zi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),oC=bn(iC),sC=m({},Zi,{data:0}),F0=bn(sC),lC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cC(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=uC[i])?!!s[i]:!1}function Ad(){return cC}var fC=m({},il,{key:function(i){if(i.key){var s=lC[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=eu(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?aC[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ad,charCode:function(i){return i.type==="keypress"?eu(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?eu(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),dC=bn(fC),hC=m({},ru,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),K0=bn(hC),pC=m({},il,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ad}),mC=bn(pC),gC=m({},Zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),yC=bn(gC),bC=m({},ru,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),vC=bn(bC),CC=m({},Zi,{newState:0,oldState:0}),xC=bn(CC),SC=[9,13,27,32],Rd=kr&&"CompositionEvent"in window,sl=null;kr&&"documentMode"in document&&(sl=document.documentMode);var EC=kr&&"TextEvent"in window&&!sl,$0=kr&&(!Rd||sl&&8<sl&&11>=sl),G0=" ",Z0=!1;function Y0(i,s){switch(i){case"keyup":return SC.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function J0(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Xo=!1;function wC(i,s){switch(i){case"compositionend":return J0(s);case"keypress":return s.which!==32?null:(Z0=!0,G0);case"textInput":return i=s.data,i===G0&&Z0?null:i;default:return null}}function MC(i,s){if(Xo)return i==="compositionend"||!Rd&&Y0(i,s)?(i=U0(),Wa=wd=ti=null,Xo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return $0&&s.locale!=="ko"?null:s.data;default:return null}}var TC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Q0(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!TC[i.type]:s==="textarea"}function X0(i,s,u,f){Jo?Qo?Qo.push(f):Qo=[f]:Jo=f,s=Pu(s,"onChange"),0<s.length&&(u=new nu("onChange","change",null,u,f),i.push({event:u,listeners:s}))}var ll=null,al=null;function kC(i){Dy(i,0)}function iu(i){var s=tl(i);if(L0(s))return i}function W0(i,s){if(i==="change")return s}var eg=!1;if(kr){var Od;if(kr){var Nd="oninput"in document;if(!Nd){var tg=document.createElement("div");tg.setAttribute("oninput","return;"),Nd=typeof tg.oninput=="function"}Od=Nd}else Od=!1;eg=Od&&(!document.documentMode||9<document.documentMode)}function ng(){ll&&(ll.detachEvent("onpropertychange",rg),al=ll=null)}function rg(i){if(i.propertyName==="value"&&iu(al)){var s=[];X0(s,al,i,xd(i)),_0(kC,s)}}function AC(i,s,u){i==="focusin"?(ng(),ll=s,al=u,ll.attachEvent("onpropertychange",rg)):i==="focusout"&&ng()}function RC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return iu(al)}function OC(i,s){if(i==="click")return iu(s)}function NC(i,s){if(i==="input"||i==="change")return iu(s)}function DC(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Nn=typeof Object.is=="function"?Object.is:DC;function ul(i,s){if(Nn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var u=Object.keys(i),f=Object.keys(s);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var p=u[f];if(!Ne.call(s,p)||!Nn(i[p],s[p]))return!1}return!0}function ig(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function og(i,s){var u=ig(i);i=0;for(var f;u;){if(u.nodeType===3){if(f=i+u.textContent.length,i<=s&&f>=s)return{node:u,offset:s-i};i=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=ig(u)}}function sg(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?sg(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function lg(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Qa(i.document);s instanceof i.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)i=s.contentWindow;else break;s=Qa(i.document)}return s}function Dd(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var LC=kr&&"documentMode"in document&&11>=document.documentMode,Wo=null,Ld=null,cl=null,Hd=!1;function ag(i,s,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Hd||Wo==null||Wo!==Qa(f)||(f=Wo,"selectionStart"in f&&Dd(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),cl&&ul(cl,f)||(cl=f,f=Pu(Ld,"onSelect"),0<f.length&&(s=new nu("onSelect","select",null,s,u),i.push({event:s,listeners:f}),s.target=Wo)))}function Yi(i,s){var u={};return u[i.toLowerCase()]=s.toLowerCase(),u["Webkit"+i]="webkit"+s,u["Moz"+i]="moz"+s,u}var es={animationend:Yi("Animation","AnimationEnd"),animationiteration:Yi("Animation","AnimationIteration"),animationstart:Yi("Animation","AnimationStart"),transitionrun:Yi("Transition","TransitionRun"),transitionstart:Yi("Transition","TransitionStart"),transitioncancel:Yi("Transition","TransitionCancel"),transitionend:Yi("Transition","TransitionEnd")},zd={},ug={};kr&&(ug=document.createElement("div").style,"AnimationEvent"in window||(delete es.animationend.animation,delete es.animationiteration.animation,delete es.animationstart.animation),"TransitionEvent"in window||delete es.transitionend.transition);function Ji(i){if(zd[i])return zd[i];if(!es[i])return i;var s=es[i],u;for(u in s)if(s.hasOwnProperty(u)&&u in ug)return zd[i]=s[u];return i}var cg=Ji("animationend"),fg=Ji("animationiteration"),dg=Ji("animationstart"),HC=Ji("transitionrun"),zC=Ji("transitionstart"),BC=Ji("transitioncancel"),hg=Ji("transitionend"),pg=new Map,Bd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bd.push("scrollEnd");function rr(i,s){pg.set(i,s),Gi(s,[i])}var mg=new WeakMap;function Pn(i,s){if(typeof i=="object"&&i!==null){var u=mg.get(i);return u!==void 0?u:(s={value:i,source:s,stack:N0(s)},mg.set(i,s),s)}return{value:i,source:s,stack:N0(s)}}var Fn=[],ts=0,jd=0;function ou(){for(var i=ts,s=jd=ts=0;s<i;){var u=Fn[s];Fn[s++]=null;var f=Fn[s];Fn[s++]=null;var p=Fn[s];Fn[s++]=null;var y=Fn[s];if(Fn[s++]=null,f!==null&&p!==null){var E=f.pending;E===null?p.next=p:(p.next=E.next,E.next=p),f.pending=p}y!==0&&gg(u,p,y)}}function su(i,s,u,f){Fn[ts++]=i,Fn[ts++]=s,Fn[ts++]=u,Fn[ts++]=f,jd|=f,i.lanes|=f,i=i.alternate,i!==null&&(i.lanes|=f)}function Id(i,s,u,f){return su(i,s,u,f),lu(i)}function ns(i,s){return su(i,null,null,s),lu(i)}function gg(i,s,u){i.lanes|=u;var f=i.alternate;f!==null&&(f.lanes|=u);for(var p=!1,y=i.return;y!==null;)y.childLanes|=u,f=y.alternate,f!==null&&(f.childLanes|=u),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(p=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,p&&s!==null&&(p=31-Rt(u),i=y.hiddenUpdates,f=i[p],f===null?i[p]=[s]:f.push(s),s.lane=u|536870912),y):null}function lu(i){if(50<zl)throw zl=0,Fh=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var rs={};function jC(i,s,u,f){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(i,s,u,f){return new jC(i,s,u,f)}function Vd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ar(i,s){var u=i.alternate;return u===null?(u=Dn(i.tag,s,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=s,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,s=i.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function yg(i,s){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,s=u.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function au(i,s,u,f,p,y){var E=0;if(f=i,typeof i=="function")Vd(i)&&(E=1);else if(typeof i=="string")E=V6(i,u,ie.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case le:return i=Dn(31,u,s,p),i.elementType=le,i.lanes=y,i;case C:return Qi(u.children,p,y,s);case S:E=8,p|=24;break;case M:return i=Dn(12,u,s,p|2),i.elementType=M,i.lanes=y,i;case I:return i=Dn(13,u,s,p),i.elementType=I,i.lanes=y,i;case Q:return i=Dn(19,u,s,p),i.elementType=Q,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case k:case D:E=10;break e;case O:E=9;break e;case P:E=11;break e;case te:E=14;break e;case X:E=16,f=null;break e}E=29,u=Error(r(130,i===null?"null":typeof i,"")),f=null}return s=Dn(E,u,s,p),s.elementType=i,s.type=f,s.lanes=y,s}function Qi(i,s,u,f){return i=Dn(7,i,f,s),i.lanes=u,i}function _d(i,s,u){return i=Dn(6,i,null,s),i.lanes=u,i}function Ud(i,s,u){return s=Dn(4,i.children!==null?i.children:[],i.key,s),s.lanes=u,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var is=[],ss=0,uu=null,cu=0,Kn=[],$n=0,Xi=null,Rr=1,Or="";function Wi(i,s){is[ss++]=cu,is[ss++]=uu,uu=i,cu=s}function bg(i,s,u){Kn[$n++]=Rr,Kn[$n++]=Or,Kn[$n++]=Xi,Xi=i;var f=Rr;i=Or;var p=32-Rt(f)-1;f&=~(1<<p),u+=1;var y=32-Rt(s)+p;if(30<y){var E=p-p%5;y=(f&(1<<E)-1).toString(32),f>>=E,p-=E,Rr=1<<32-Rt(s)+p|u<<p|f,Or=y+i}else Rr=1<<y|u<<p|f,Or=i}function qd(i){i.return!==null&&(Wi(i,1),bg(i,1,0))}function Pd(i){for(;i===uu;)uu=is[--ss],is[ss]=null,cu=is[--ss],is[ss]=null;for(;i===Xi;)Xi=Kn[--$n],Kn[$n]=null,Or=Kn[--$n],Kn[$n]=null,Rr=Kn[--$n],Kn[$n]=null}var sn=null,ct=null,Ve=!1,eo=null,cr=!1,Fd=Error(r(519));function to(i){var s=Error(r(418,""));throw hl(Pn(s,i)),Fd}function vg(i){var s=i.stateNode,u=i.type,f=i.memoizedProps;switch(s[Yt]=i,s[yn]=f,u){case"dialog":Le("cancel",s),Le("close",s);break;case"iframe":case"object":case"embed":Le("load",s);break;case"video":case"audio":for(u=0;u<jl.length;u++)Le(jl[u],s);break;case"source":Le("error",s);break;case"img":case"image":case"link":Le("error",s),Le("load",s);break;case"details":Le("toggle",s);break;case"input":Le("invalid",s),H0(s,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),Ja(s);break;case"select":Le("invalid",s);break;case"textarea":Le("invalid",s),B0(s,f.value,f.defaultValue,f.children),Ja(s)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||s.textContent===""+u||f.suppressHydrationWarning===!0||By(s.textContent,u)?(f.popover!=null&&(Le("beforetoggle",s),Le("toggle",s)),f.onScroll!=null&&Le("scroll",s),f.onScrollEnd!=null&&Le("scrollend",s),f.onClick!=null&&(s.onclick=Fu),s=!0):s=!1,s||to(i)}function Cg(i){for(sn=i.return;sn;)switch(sn.tag){case 5:case 13:cr=!1;return;case 27:case 3:cr=!0;return;default:sn=sn.return}}function fl(i){if(i!==sn)return!1;if(!Ve)return Cg(i),Ve=!0,!1;var s=i.tag,u;if((u=s!==3&&s!==27)&&((u=s===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||sp(i.type,i.memoizedProps)),u=!u),u&&ct&&to(i),Cg(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(u=i.data,u==="/$"){if(s===0){ct=or(i.nextSibling);break e}s--}else u!=="$"&&u!=="$!"&&u!=="$?"||s++;i=i.nextSibling}ct=null}}else s===27?(s=ct,yi(i.type)?(i=cp,cp=null,ct=i):ct=s):ct=sn?or(i.stateNode.nextSibling):null;return!0}function dl(){ct=sn=null,Ve=!1}function xg(){var i=eo;return i!==null&&(xn===null?xn=i:xn.push.apply(xn,i),eo=null),i}function hl(i){eo===null?eo=[i]:eo.push(i)}var Kd=F(null),no=null,Nr=null;function ni(i,s,u){J(Kd,s._currentValue),s._currentValue=u}function Dr(i){i._currentValue=Kd.current,q(Kd)}function $d(i,s,u){for(;i!==null;){var f=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),i===u)break;i=i.return}}function Gd(i,s,u,f){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var y=p.dependencies;if(y!==null){var E=p.child;y=y.firstContext;e:for(;y!==null;){var T=y;y=p;for(var R=0;R<s.length;R++)if(T.context===s[R]){y.lanes|=u,T=y.alternate,T!==null&&(T.lanes|=u),$d(y.return,u,i),f||(E=null);break e}y=T.next}}else if(p.tag===18){if(E=p.return,E===null)throw Error(r(341));E.lanes|=u,y=E.alternate,y!==null&&(y.lanes|=u),$d(E,u,i),E=null}else E=p.child;if(E!==null)E.return=p;else for(E=p;E!==null;){if(E===i){E=null;break}if(p=E.sibling,p!==null){p.return=E.return,E=p;break}E=E.return}p=E}}function pl(i,s,u,f){i=null;for(var p=s,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var E=p.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var T=p.type;Nn(p.pendingProps.value,E.value)||(i!==null?i.push(T):i=[T])}}else if(p===qe.current){if(E=p.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(Pl):i=[Pl])}p=p.return}i!==null&&Gd(s,i,u,f),s.flags|=262144}function fu(i){for(i=i.firstContext;i!==null;){if(!Nn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ro(i){no=i,Nr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Jt(i){return Sg(no,i)}function du(i,s){return no===null&&ro(i),Sg(i,s)}function Sg(i,s){var u=s._currentValue;if(s={context:s,memoizedValue:u,next:null},Nr===null){if(i===null)throw Error(r(308));Nr=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Nr=Nr.next=s;return u}var IC=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(u,f){i.push(f)}};this.abort=function(){s.aborted=!0,i.forEach(function(u){return u()})}},VC=n.unstable_scheduleCallback,_C=n.unstable_NormalPriority,Mt={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zd(){return{controller:new IC,data:new Map,refCount:0}}function ml(i){i.refCount--,i.refCount===0&&VC(_C,function(){i.controller.abort()})}var gl=null,Yd=0,ls=0,as=null;function UC(i,s){if(gl===null){var u=gl=[];Yd=0,ls=Qh(),as={status:"pending",value:void 0,then:function(f){u.push(f)}}}return Yd++,s.then(Eg,Eg),s}function Eg(){if(--Yd===0&&gl!==null){as!==null&&(as.status="fulfilled");var i=gl;gl=null,ls=0,as=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function qC(i,s){var u=[],f={status:"pending",value:null,reason:null,then:function(p){u.push(p)}};return i.then(function(){f.status="fulfilled",f.value=s;for(var p=0;p<u.length;p++)(0,u[p])(s)},function(p){for(f.status="rejected",f.reason=p,p=0;p<u.length;p++)(0,u[p])(void 0)}),f}var wg=H.S;H.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&UC(i,s),wg!==null&&wg(i,s)};var io=F(null);function Jd(){var i=io.current;return i!==null?i:et.pooledCache}function hu(i,s){s===null?J(io,io.current):J(io,s.pool)}function Mg(){var i=Jd();return i===null?null:{parent:Mt._currentValue,pool:i}}var yl=Error(r(460)),Tg=Error(r(474)),pu=Error(r(542)),Qd={then:function(){}};function kg(i){return i=i.status,i==="fulfilled"||i==="rejected"}function mu(){}function Ag(i,s,u){switch(u=i[u],u===void 0?i.push(s):u!==s&&(s.then(mu,mu),s=u),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Og(i),i;default:if(typeof s.status=="string")s.then(mu,mu);else{if(i=et,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(f){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=f}},function(f){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=f}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Og(i),i}throw bl=s,yl}}var bl=null;function Rg(){if(bl===null)throw Error(r(459));var i=bl;return bl=null,i}function Og(i){if(i===yl||i===pu)throw Error(r(483))}var ri=!1;function Xd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wd(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ii(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function oi(i,s,u){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(Pe&2)!==0){var p=f.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),f.pending=s,s=lu(i),gg(i,null,u),s}return su(i,f,s,u),lu(i)}function vl(i,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194048)!==0)){var f=s.lanes;f&=i.pendingLanes,u|=f,s.lanes=u,E0(i,u)}}function eh(i,s){var u=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var p=null,y=null;if(u=u.firstBaseUpdate,u!==null){do{var E={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};y===null?p=y=E:y=y.next=E,u=u.next}while(u!==null);y===null?p=y=s:y=y.next=s}else p=y=s;u={baseState:f.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:f.shared,callbacks:f.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=s:i.next=s,u.lastBaseUpdate=s}var th=!1;function Cl(){if(th){var i=as;if(i!==null)throw i}}function xl(i,s,u,f){th=!1;var p=i.updateQueue;ri=!1;var y=p.firstBaseUpdate,E=p.lastBaseUpdate,T=p.shared.pending;if(T!==null){p.shared.pending=null;var R=T,j=R.next;R.next=null,E===null?y=j:E.next=j,E=R;var K=i.alternate;K!==null&&(K=K.updateQueue,T=K.lastBaseUpdate,T!==E&&(T===null?K.firstBaseUpdate=j:T.next=j,K.lastBaseUpdate=R))}if(y!==null){var Z=p.baseState;E=0,K=j=R=null,T=y;do{var V=T.lane&-536870913,_=V!==T.lane;if(_?(Be&V)===V:(f&V)===V){V!==0&&V===ls&&(th=!0),K!==null&&(K=K.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var be=i,pe=T;V=s;var Ge=u;switch(pe.tag){case 1:if(be=pe.payload,typeof be=="function"){Z=be.call(Ge,Z,V);break e}Z=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=pe.payload,V=typeof be=="function"?be.call(Ge,Z,V):be,V==null)break e;Z=m({},Z,V);break e;case 2:ri=!0}}V=T.callback,V!==null&&(i.flags|=64,_&&(i.flags|=8192),_=p.callbacks,_===null?p.callbacks=[V]:_.push(V))}else _={lane:V,tag:T.tag,payload:T.payload,callback:T.callback,next:null},K===null?(j=K=_,R=Z):K=K.next=_,E|=V;if(T=T.next,T===null){if(T=p.shared.pending,T===null)break;_=T,T=_.next,_.next=null,p.lastBaseUpdate=_,p.shared.pending=null}}while(!0);K===null&&(R=Z),p.baseState=R,p.firstBaseUpdate=j,p.lastBaseUpdate=K,y===null&&(p.shared.lanes=0),hi|=E,i.lanes=E,i.memoizedState=Z}}function Ng(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function Dg(i,s){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)Ng(u[i],s)}var us=F(null),gu=F(0);function Lg(i,s){i=Vr,J(gu,i),J(us,s),Vr=i|s.baseLanes}function nh(){J(gu,Vr),J(us,us.current)}function rh(){Vr=gu.current,q(us),q(gu)}var si=0,Ae=null,Ke=null,St=null,yu=!1,cs=!1,oo=!1,bu=0,Sl=0,fs=null,PC=0;function gt(){throw Error(r(321))}function ih(i,s){if(s===null)return!1;for(var u=0;u<s.length&&u<i.length;u++)if(!Nn(i[u],s[u]))return!1;return!0}function oh(i,s,u,f,p,y){return si=y,Ae=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,H.H=i===null||i.memoizedState===null?g2:y2,oo=!1,y=u(f,p),oo=!1,cs&&(y=zg(s,u,f,p)),Hg(i),y}function Hg(i){H.H=wu;var s=Ke!==null&&Ke.next!==null;if(si=0,St=Ke=Ae=null,yu=!1,Sl=0,fs=null,s)throw Error(r(300));i===null||Nt||(i=i.dependencies,i!==null&&fu(i)&&(Nt=!0))}function zg(i,s,u,f){Ae=i;var p=0;do{if(cs&&(fs=null),Sl=0,cs=!1,25<=p)throw Error(r(301));if(p+=1,St=Ke=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}H.H=JC,y=s(u,f)}while(cs);return y}function FC(){var i=H.H,s=i.useState()[0];return s=typeof s.then=="function"?El(s):s,i=i.useState()[0],(Ke!==null?Ke.memoizedState:null)!==i&&(Ae.flags|=1024),s}function sh(){var i=bu!==0;return bu=0,i}function lh(i,s,u){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~u}function ah(i){if(yu){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}yu=!1}si=0,St=Ke=Ae=null,cs=!1,Sl=bu=0,fs=null}function vn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Ae.memoizedState=St=i:St=St.next=i,St}function Et(){if(Ke===null){var i=Ae.alternate;i=i!==null?i.memoizedState:null}else i=Ke.next;var s=St===null?Ae.memoizedState:St.next;if(s!==null)St=s,Ke=i;else{if(i===null)throw Ae.alternate===null?Error(r(467)):Error(r(310));Ke=i,i={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},St===null?Ae.memoizedState=St=i:St=St.next=i}return St}function uh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function El(i){var s=Sl;return Sl+=1,fs===null&&(fs=[]),i=Ag(fs,i,s),s=Ae,(St===null?s.memoizedState:St.next)===null&&(s=s.alternate,H.H=s===null||s.memoizedState===null?g2:y2),i}function vu(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return El(i);if(i.$$typeof===D)return Jt(i)}throw Error(r(438,String(i)))}function ch(i){var s=null,u=Ae.updateQueue;if(u!==null&&(s=u.memoCache),s==null){var f=Ae.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(s={data:f.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),u===null&&(u=uh(),Ae.updateQueue=u),u.memoCache=s,u=s.data[s.index],u===void 0)for(u=s.data[s.index]=Array(i),f=0;f<i;f++)u[f]=ne;return s.index++,u}function Lr(i,s){return typeof s=="function"?s(i):s}function Cu(i){var s=Et();return fh(s,Ke,i)}function fh(i,s,u){var f=i.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=u;var p=i.baseQueue,y=f.pending;if(y!==null){if(p!==null){var E=p.next;p.next=y.next,y.next=E}s.baseQueue=p=y,f.pending=null}if(y=i.baseState,p===null)i.memoizedState=y;else{s=p.next;var T=E=null,R=null,j=s,K=!1;do{var Z=j.lane&-536870913;if(Z!==j.lane?(Be&Z)===Z:(si&Z)===Z){var V=j.revertLane;if(V===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),Z===ls&&(K=!0);else if((si&V)===V){j=j.next,V===ls&&(K=!0);continue}else Z={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},R===null?(T=R=Z,E=y):R=R.next=Z,Ae.lanes|=V,hi|=V;Z=j.action,oo&&u(y,Z),y=j.hasEagerState?j.eagerState:u(y,Z)}else V={lane:Z,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},R===null?(T=R=V,E=y):R=R.next=V,Ae.lanes|=Z,hi|=Z;j=j.next}while(j!==null&&j!==s);if(R===null?E=y:R.next=T,!Nn(y,i.memoizedState)&&(Nt=!0,K&&(u=as,u!==null)))throw u;i.memoizedState=y,i.baseState=E,i.baseQueue=R,f.lastRenderedState=y}return p===null&&(f.lanes=0),[i.memoizedState,f.dispatch]}function dh(i){var s=Et(),u=s.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=i;var f=u.dispatch,p=u.pending,y=s.memoizedState;if(p!==null){u.pending=null;var E=p=p.next;do y=i(y,E.action),E=E.next;while(E!==p);Nn(y,s.memoizedState)||(Nt=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),u.lastRenderedState=y}return[y,f]}function Bg(i,s,u){var f=Ae,p=Et(),y=Ve;if(y){if(u===void 0)throw Error(r(407));u=u()}else u=s();var E=!Nn((Ke||p).memoizedState,u);E&&(p.memoizedState=u,Nt=!0),p=p.queue;var T=Vg.bind(null,f,p,i);if(wl(2048,8,T,[i]),p.getSnapshot!==s||E||St!==null&&St.memoizedState.tag&1){if(f.flags|=2048,ds(9,xu(),Ig.bind(null,f,p,u,s),null),et===null)throw Error(r(349));y||(si&124)!==0||jg(f,s,u)}return u}function jg(i,s,u){i.flags|=16384,i={getSnapshot:s,value:u},s=Ae.updateQueue,s===null?(s=uh(),Ae.updateQueue=s,s.stores=[i]):(u=s.stores,u===null?s.stores=[i]:u.push(i))}function Ig(i,s,u,f){s.value=u,s.getSnapshot=f,_g(s)&&Ug(i)}function Vg(i,s,u){return u(function(){_g(s)&&Ug(i)})}function _g(i){var s=i.getSnapshot;i=i.value;try{var u=s();return!Nn(i,u)}catch{return!0}}function Ug(i){var s=ns(i,2);s!==null&&jn(s,i,2)}function hh(i){var s=vn();if(typeof i=="function"){var u=i;if(i=u(),oo){pn(!0);try{u()}finally{pn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lr,lastRenderedState:i},s}function qg(i,s,u,f){return i.baseState=u,fh(i,Ke,typeof f=="function"?f:Lr)}function KC(i,s,u,f,p){if(Eu(i))throw Error(r(485));if(i=s.action,i!==null){var y={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){y.listeners.push(E)}};H.T!==null?u(!0):y.isTransition=!1,f(y),u=s.pending,u===null?(y.next=s.pending=y,Pg(s,y)):(y.next=u.next,s.pending=u.next=y)}}function Pg(i,s){var u=s.action,f=s.payload,p=i.state;if(s.isTransition){var y=H.T,E={};H.T=E;try{var T=u(p,f),R=H.S;R!==null&&R(E,T),Fg(i,s,T)}catch(j){ph(i,s,j)}finally{H.T=y}}else try{y=u(p,f),Fg(i,s,y)}catch(j){ph(i,s,j)}}function Fg(i,s,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){Kg(i,s,f)},function(f){return ph(i,s,f)}):Kg(i,s,u)}function Kg(i,s,u){s.status="fulfilled",s.value=u,$g(s),i.state=u,s=i.pending,s!==null&&(u=s.next,u===s?i.pending=null:(u=u.next,s.next=u,Pg(i,u)))}function ph(i,s,u){var f=i.pending;if(i.pending=null,f!==null){f=f.next;do s.status="rejected",s.reason=u,$g(s),s=s.next;while(s!==f)}i.action=null}function $g(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function Gg(i,s){return s}function Zg(i,s){if(Ve){var u=et.formState;if(u!==null){e:{var f=Ae;if(Ve){if(ct){t:{for(var p=ct,y=cr;p.nodeType!==8;){if(!y){p=null;break t}if(p=or(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){ct=or(p.nextSibling),f=p.data==="F!";break e}}to(f)}f=!1}f&&(s=u[0])}}return u=vn(),u.memoizedState=u.baseState=s,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gg,lastRenderedState:s},u.queue=f,u=h2.bind(null,Ae,f),f.dispatch=u,f=hh(!1),y=vh.bind(null,Ae,!1,f.queue),f=vn(),p={state:s,dispatch:null,action:i,pending:null},f.queue=p,u=KC.bind(null,Ae,p,y,u),p.dispatch=u,f.memoizedState=i,[s,u,!1]}function Yg(i){var s=Et();return Jg(s,Ke,i)}function Jg(i,s,u){if(s=fh(i,s,Gg)[0],i=Cu(Lr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var f=El(s)}catch(E){throw E===yl?pu:E}else f=s;s=Et();var p=s.queue,y=p.dispatch;return u!==s.memoizedState&&(Ae.flags|=2048,ds(9,xu(),$C.bind(null,p,u),null)),[f,y,i]}function $C(i,s){i.action=s}function Qg(i){var s=Et(),u=Ke;if(u!==null)return Jg(s,u,i);Et(),s=s.memoizedState,u=Et();var f=u.queue.dispatch;return u.memoizedState=i,[s,f,!1]}function ds(i,s,u,f){return i={tag:i,create:u,deps:f,inst:s,next:null},s=Ae.updateQueue,s===null&&(s=uh(),Ae.updateQueue=s),u=s.lastEffect,u===null?s.lastEffect=i.next=i:(f=u.next,u.next=i,i.next=f,s.lastEffect=i),i}function xu(){return{destroy:void 0,resource:void 0}}function Xg(){return Et().memoizedState}function Su(i,s,u,f){var p=vn();f=f===void 0?null:f,Ae.flags|=i,p.memoizedState=ds(1|s,xu(),u,f)}function wl(i,s,u,f){var p=Et();f=f===void 0?null:f;var y=p.memoizedState.inst;Ke!==null&&f!==null&&ih(f,Ke.memoizedState.deps)?p.memoizedState=ds(s,y,u,f):(Ae.flags|=i,p.memoizedState=ds(1|s,y,u,f))}function Wg(i,s){Su(8390656,8,i,s)}function e2(i,s){wl(2048,8,i,s)}function t2(i,s){return wl(4,2,i,s)}function n2(i,s){return wl(4,4,i,s)}function r2(i,s){if(typeof s=="function"){i=i();var u=s(i);return function(){typeof u=="function"?u():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function i2(i,s,u){u=u!=null?u.concat([i]):null,wl(4,4,r2.bind(null,s,i),u)}function mh(){}function o2(i,s){var u=Et();s=s===void 0?null:s;var f=u.memoizedState;return s!==null&&ih(s,f[1])?f[0]:(u.memoizedState=[i,s],i)}function s2(i,s){var u=Et();s=s===void 0?null:s;var f=u.memoizedState;if(s!==null&&ih(s,f[1]))return f[0];if(f=i(),oo){pn(!0);try{i()}finally{pn(!1)}}return u.memoizedState=[f,s],f}function gh(i,s,u){return u===void 0||(si&1073741824)!==0?i.memoizedState=s:(i.memoizedState=u,i=uy(),Ae.lanes|=i,hi|=i,u)}function l2(i,s,u,f){return Nn(u,s)?u:us.current!==null?(i=gh(i,u,f),Nn(i,s)||(Nt=!0),i):(si&42)===0?(Nt=!0,i.memoizedState=u):(i=uy(),Ae.lanes|=i,hi|=i,s)}function a2(i,s,u,f,p){var y=U.p;U.p=y!==0&&8>y?y:8;var E=H.T,T={};H.T=T,vh(i,!1,s,u);try{var R=p(),j=H.S;if(j!==null&&j(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var K=qC(R,f);Ml(i,s,K,Bn(i))}else Ml(i,s,f,Bn(i))}catch(Z){Ml(i,s,{then:function(){},status:"rejected",reason:Z},Bn())}finally{U.p=y,H.T=E}}function GC(){}function yh(i,s,u,f){if(i.tag!==5)throw Error(r(476));var p=u2(i).queue;a2(i,p,s,z,u===null?GC:function(){return c2(i),u(f)})}function u2(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:z,baseState:z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lr,lastRenderedState:z},next:null};var u={};return s.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lr,lastRenderedState:u},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function c2(i){var s=u2(i).next.queue;Ml(i,s,{},Bn())}function bh(){return Jt(Pl)}function f2(){return Et().memoizedState}function d2(){return Et().memoizedState}function ZC(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var u=Bn();i=ii(u);var f=oi(s,i,u);f!==null&&(jn(f,s,u),vl(f,s,u)),s={cache:Zd()},i.payload=s;return}s=s.return}}function YC(i,s,u){var f=Bn();u={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Eu(i)?p2(s,u):(u=Id(i,s,u,f),u!==null&&(jn(u,i,f),m2(u,s,f)))}function h2(i,s,u){var f=Bn();Ml(i,s,u,f)}function Ml(i,s,u,f){var p={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Eu(i))p2(s,p);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var E=s.lastRenderedState,T=y(E,u);if(p.hasEagerState=!0,p.eagerState=T,Nn(T,E))return su(i,s,p,0),et===null&&ou(),!1}catch{}finally{}if(u=Id(i,s,p,f),u!==null)return jn(u,i,f),m2(u,s,f),!0}return!1}function vh(i,s,u,f){if(f={lane:2,revertLane:Qh(),action:f,hasEagerState:!1,eagerState:null,next:null},Eu(i)){if(s)throw Error(r(479))}else s=Id(i,u,f,2),s!==null&&jn(s,i,2)}function Eu(i){var s=i.alternate;return i===Ae||s!==null&&s===Ae}function p2(i,s){cs=yu=!0;var u=i.pending;u===null?s.next=s:(s.next=u.next,u.next=s),i.pending=s}function m2(i,s,u){if((u&4194048)!==0){var f=s.lanes;f&=i.pendingLanes,u|=f,s.lanes=u,E0(i,u)}}var wu={readContext:Jt,use:vu,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt},g2={readContext:Jt,use:vu,useCallback:function(i,s){return vn().memoizedState=[i,s===void 0?null:s],i},useContext:Jt,useEffect:Wg,useImperativeHandle:function(i,s,u){u=u!=null?u.concat([i]):null,Su(4194308,4,r2.bind(null,s,i),u)},useLayoutEffect:function(i,s){return Su(4194308,4,i,s)},useInsertionEffect:function(i,s){Su(4,2,i,s)},useMemo:function(i,s){var u=vn();s=s===void 0?null:s;var f=i();if(oo){pn(!0);try{i()}finally{pn(!1)}}return u.memoizedState=[f,s],f},useReducer:function(i,s,u){var f=vn();if(u!==void 0){var p=u(s);if(oo){pn(!0);try{u(s)}finally{pn(!1)}}}else p=s;return f.memoizedState=f.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},f.queue=i,i=i.dispatch=YC.bind(null,Ae,i),[f.memoizedState,i]},useRef:function(i){var s=vn();return i={current:i},s.memoizedState=i},useState:function(i){i=hh(i);var s=i.queue,u=h2.bind(null,Ae,s);return s.dispatch=u,[i.memoizedState,u]},useDebugValue:mh,useDeferredValue:function(i,s){var u=vn();return gh(u,i,s)},useTransition:function(){var i=hh(!1);return i=a2.bind(null,Ae,i.queue,!0,!1),vn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,u){var f=Ae,p=vn();if(Ve){if(u===void 0)throw Error(r(407));u=u()}else{if(u=s(),et===null)throw Error(r(349));(Be&124)!==0||jg(f,s,u)}p.memoizedState=u;var y={value:u,getSnapshot:s};return p.queue=y,Wg(Vg.bind(null,f,y,i),[i]),f.flags|=2048,ds(9,xu(),Ig.bind(null,f,y,u,s),null),u},useId:function(){var i=vn(),s=et.identifierPrefix;if(Ve){var u=Or,f=Rr;u=(f&~(1<<32-Rt(f)-1)).toString(32)+u,s="«"+s+"R"+u,u=bu++,0<u&&(s+="H"+u.toString(32)),s+="»"}else u=PC++,s="«"+s+"r"+u.toString(32)+"»";return i.memoizedState=s},useHostTransitionStatus:bh,useFormState:Zg,useActionState:Zg,useOptimistic:function(i){var s=vn();s.memoizedState=s.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=u,s=vh.bind(null,Ae,!0,u),u.dispatch=s,[i,s]},useMemoCache:ch,useCacheRefresh:function(){return vn().memoizedState=ZC.bind(null,Ae)}},y2={readContext:Jt,use:vu,useCallback:o2,useContext:Jt,useEffect:e2,useImperativeHandle:i2,useInsertionEffect:t2,useLayoutEffect:n2,useMemo:s2,useReducer:Cu,useRef:Xg,useState:function(){return Cu(Lr)},useDebugValue:mh,useDeferredValue:function(i,s){var u=Et();return l2(u,Ke.memoizedState,i,s)},useTransition:function(){var i=Cu(Lr)[0],s=Et().memoizedState;return[typeof i=="boolean"?i:El(i),s]},useSyncExternalStore:Bg,useId:f2,useHostTransitionStatus:bh,useFormState:Yg,useActionState:Yg,useOptimistic:function(i,s){var u=Et();return qg(u,Ke,i,s)},useMemoCache:ch,useCacheRefresh:d2},JC={readContext:Jt,use:vu,useCallback:o2,useContext:Jt,useEffect:e2,useImperativeHandle:i2,useInsertionEffect:t2,useLayoutEffect:n2,useMemo:s2,useReducer:dh,useRef:Xg,useState:function(){return dh(Lr)},useDebugValue:mh,useDeferredValue:function(i,s){var u=Et();return Ke===null?gh(u,i,s):l2(u,Ke.memoizedState,i,s)},useTransition:function(){var i=dh(Lr)[0],s=Et().memoizedState;return[typeof i=="boolean"?i:El(i),s]},useSyncExternalStore:Bg,useId:f2,useHostTransitionStatus:bh,useFormState:Qg,useActionState:Qg,useOptimistic:function(i,s){var u=Et();return Ke!==null?qg(u,Ke,i,s):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:ch,useCacheRefresh:d2},hs=null,Tl=0;function Mu(i){var s=Tl;return Tl+=1,hs===null&&(hs=[]),Ag(hs,i,s)}function kl(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Tu(i,s){throw s.$$typeof===g?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function b2(i){var s=i._init;return s(i._payload)}function v2(i){function s(L,N){if(i){var B=L.deletions;B===null?(L.deletions=[N],L.flags|=16):B.push(N)}}function u(L,N){if(!i)return null;for(;N!==null;)s(L,N),N=N.sibling;return null}function f(L){for(var N=new Map;L!==null;)L.key!==null?N.set(L.key,L):N.set(L.index,L),L=L.sibling;return N}function p(L,N){return L=Ar(L,N),L.index=0,L.sibling=null,L}function y(L,N,B){return L.index=B,i?(B=L.alternate,B!==null?(B=B.index,B<N?(L.flags|=67108866,N):B):(L.flags|=67108866,N)):(L.flags|=1048576,N)}function E(L){return i&&L.alternate===null&&(L.flags|=67108866),L}function T(L,N,B,G){return N===null||N.tag!==6?(N=_d(B,L.mode,G),N.return=L,N):(N=p(N,B),N.return=L,N)}function R(L,N,B,G){var ae=B.type;return ae===C?K(L,N,B.props.children,G,B.key):N!==null&&(N.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===X&&b2(ae)===N.type)?(N=p(N,B.props),kl(N,B),N.return=L,N):(N=au(B.type,B.key,B.props,null,L.mode,G),kl(N,B),N.return=L,N)}function j(L,N,B,G){return N===null||N.tag!==4||N.stateNode.containerInfo!==B.containerInfo||N.stateNode.implementation!==B.implementation?(N=Ud(B,L.mode,G),N.return=L,N):(N=p(N,B.children||[]),N.return=L,N)}function K(L,N,B,G,ae){return N===null||N.tag!==7?(N=Qi(B,L.mode,G,ae),N.return=L,N):(N=p(N,B),N.return=L,N)}function Z(L,N,B){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=_d(""+N,L.mode,B),N.return=L,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case b:return B=au(N.type,N.key,N.props,null,L.mode,B),kl(B,N),B.return=L,B;case v:return N=Ud(N,L.mode,B),N.return=L,N;case X:var G=N._init;return N=G(N._payload),Z(L,N,B)}if($(N)||he(N))return N=Qi(N,L.mode,B,null),N.return=L,N;if(typeof N.then=="function")return Z(L,Mu(N),B);if(N.$$typeof===D)return Z(L,du(L,N),B);Tu(L,N)}return null}function V(L,N,B,G){var ae=N!==null?N.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ae!==null?null:T(L,N,""+B,G);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case b:return B.key===ae?R(L,N,B,G):null;case v:return B.key===ae?j(L,N,B,G):null;case X:return ae=B._init,B=ae(B._payload),V(L,N,B,G)}if($(B)||he(B))return ae!==null?null:K(L,N,B,G,null);if(typeof B.then=="function")return V(L,N,Mu(B),G);if(B.$$typeof===D)return V(L,N,du(L,B),G);Tu(L,B)}return null}function _(L,N,B,G,ae){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return L=L.get(B)||null,T(N,L,""+G,ae);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case b:return L=L.get(G.key===null?B:G.key)||null,R(N,L,G,ae);case v:return L=L.get(G.key===null?B:G.key)||null,j(N,L,G,ae);case X:var Oe=G._init;return G=Oe(G._payload),_(L,N,B,G,ae)}if($(G)||he(G))return L=L.get(B)||null,K(N,L,G,ae,null);if(typeof G.then=="function")return _(L,N,B,Mu(G),ae);if(G.$$typeof===D)return _(L,N,B,du(N,G),ae);Tu(N,G)}return null}function be(L,N,B,G){for(var ae=null,Oe=null,fe=N,ye=N=0,Lt=null;fe!==null&&ye<B.length;ye++){fe.index>ye?(Lt=fe,fe=null):Lt=fe.sibling;var je=V(L,fe,B[ye],G);if(je===null){fe===null&&(fe=Lt);break}i&&fe&&je.alternate===null&&s(L,fe),N=y(je,N,ye),Oe===null?ae=je:Oe.sibling=je,Oe=je,fe=Lt}if(ye===B.length)return u(L,fe),Ve&&Wi(L,ye),ae;if(fe===null){for(;ye<B.length;ye++)fe=Z(L,B[ye],G),fe!==null&&(N=y(fe,N,ye),Oe===null?ae=fe:Oe.sibling=fe,Oe=fe);return Ve&&Wi(L,ye),ae}for(fe=f(fe);ye<B.length;ye++)Lt=_(fe,L,ye,B[ye],G),Lt!==null&&(i&&Lt.alternate!==null&&fe.delete(Lt.key===null?ye:Lt.key),N=y(Lt,N,ye),Oe===null?ae=Lt:Oe.sibling=Lt,Oe=Lt);return i&&fe.forEach(function(Si){return s(L,Si)}),Ve&&Wi(L,ye),ae}function pe(L,N,B,G){if(B==null)throw Error(r(151));for(var ae=null,Oe=null,fe=N,ye=N=0,Lt=null,je=B.next();fe!==null&&!je.done;ye++,je=B.next()){fe.index>ye?(Lt=fe,fe=null):Lt=fe.sibling;var Si=V(L,fe,je.value,G);if(Si===null){fe===null&&(fe=Lt);break}i&&fe&&Si.alternate===null&&s(L,fe),N=y(Si,N,ye),Oe===null?ae=Si:Oe.sibling=Si,Oe=Si,fe=Lt}if(je.done)return u(L,fe),Ve&&Wi(L,ye),ae;if(fe===null){for(;!je.done;ye++,je=B.next())je=Z(L,je.value,G),je!==null&&(N=y(je,N,ye),Oe===null?ae=je:Oe.sibling=je,Oe=je);return Ve&&Wi(L,ye),ae}for(fe=f(fe);!je.done;ye++,je=B.next())je=_(fe,L,ye,je.value,G),je!==null&&(i&&je.alternate!==null&&fe.delete(je.key===null?ye:je.key),N=y(je,N,ye),Oe===null?ae=je:Oe.sibling=je,Oe=je);return i&&fe.forEach(function(Q6){return s(L,Q6)}),Ve&&Wi(L,ye),ae}function Ge(L,N,B,G){if(typeof B=="object"&&B!==null&&B.type===C&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case b:e:{for(var ae=B.key;N!==null;){if(N.key===ae){if(ae=B.type,ae===C){if(N.tag===7){u(L,N.sibling),G=p(N,B.props.children),G.return=L,L=G;break e}}else if(N.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===X&&b2(ae)===N.type){u(L,N.sibling),G=p(N,B.props),kl(G,B),G.return=L,L=G;break e}u(L,N);break}else s(L,N);N=N.sibling}B.type===C?(G=Qi(B.props.children,L.mode,G,B.key),G.return=L,L=G):(G=au(B.type,B.key,B.props,null,L.mode,G),kl(G,B),G.return=L,L=G)}return E(L);case v:e:{for(ae=B.key;N!==null;){if(N.key===ae)if(N.tag===4&&N.stateNode.containerInfo===B.containerInfo&&N.stateNode.implementation===B.implementation){u(L,N.sibling),G=p(N,B.children||[]),G.return=L,L=G;break e}else{u(L,N);break}else s(L,N);N=N.sibling}G=Ud(B,L.mode,G),G.return=L,L=G}return E(L);case X:return ae=B._init,B=ae(B._payload),Ge(L,N,B,G)}if($(B))return be(L,N,B,G);if(he(B)){if(ae=he(B),typeof ae!="function")throw Error(r(150));return B=ae.call(B),pe(L,N,B,G)}if(typeof B.then=="function")return Ge(L,N,Mu(B),G);if(B.$$typeof===D)return Ge(L,N,du(L,B),G);Tu(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,N!==null&&N.tag===6?(u(L,N.sibling),G=p(N,B),G.return=L,L=G):(u(L,N),G=_d(B,L.mode,G),G.return=L,L=G),E(L)):u(L,N)}return function(L,N,B,G){try{Tl=0;var ae=Ge(L,N,B,G);return hs=null,ae}catch(fe){if(fe===yl||fe===pu)throw fe;var Oe=Dn(29,fe,null,L.mode);return Oe.lanes=G,Oe.return=L,Oe}finally{}}}var ps=v2(!0),C2=v2(!1),Gn=F(null),fr=null;function li(i){var s=i.alternate;J(Tt,Tt.current&1),J(Gn,i),fr===null&&(s===null||us.current!==null||s.memoizedState!==null)&&(fr=i)}function x2(i){if(i.tag===22){if(J(Tt,Tt.current),J(Gn,i),fr===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(fr=i)}}else ai()}function ai(){J(Tt,Tt.current),J(Gn,Gn.current)}function Hr(i){q(Gn),fr===i&&(fr=null),q(Tt)}var Tt=F(0);function ku(i){for(var s=i;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||up(u)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Ch(i,s,u,f){s=i.memoizedState,u=u(f,s),u=u==null?s:m({},s,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var xh={enqueueSetState:function(i,s,u){i=i._reactInternals;var f=Bn(),p=ii(f);p.payload=s,u!=null&&(p.callback=u),s=oi(i,p,f),s!==null&&(jn(s,i,f),vl(s,i,f))},enqueueReplaceState:function(i,s,u){i=i._reactInternals;var f=Bn(),p=ii(f);p.tag=1,p.payload=s,u!=null&&(p.callback=u),s=oi(i,p,f),s!==null&&(jn(s,i,f),vl(s,i,f))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var u=Bn(),f=ii(u);f.tag=2,s!=null&&(f.callback=s),s=oi(i,f,u),s!==null&&(jn(s,i,u),vl(s,i,u))}};function S2(i,s,u,f,p,y,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,y,E):s.prototype&&s.prototype.isPureReactComponent?!ul(u,f)||!ul(p,y):!0}function E2(i,s,u,f){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,f),s.state!==i&&xh.enqueueReplaceState(s,s.state,null)}function so(i,s){var u=s;if("ref"in s){u={};for(var f in s)f!=="ref"&&(u[f]=s[f])}if(i=i.defaultProps){u===s&&(u=m({},u));for(var p in i)u[p]===void 0&&(u[p]=i[p])}return u}var Au=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function w2(i){Au(i)}function M2(i){console.error(i)}function T2(i){Au(i)}function Ru(i,s){try{var u=i.onUncaughtError;u(s.value,{componentStack:s.stack})}catch(f){setTimeout(function(){throw f})}}function k2(i,s,u){try{var f=i.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Sh(i,s,u){return u=ii(u),u.tag=3,u.payload={element:null},u.callback=function(){Ru(i,s)},u}function A2(i){return i=ii(i),i.tag=3,i}function R2(i,s,u,f){var p=u.type.getDerivedStateFromError;if(typeof p=="function"){var y=f.value;i.payload=function(){return p(y)},i.callback=function(){k2(s,u,f)}}var E=u.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(i.callback=function(){k2(s,u,f),typeof p!="function"&&(pi===null?pi=new Set([this]):pi.add(this));var T=f.stack;this.componentDidCatch(f.value,{componentStack:T!==null?T:""})})}function QC(i,s,u,f,p){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(s=u.alternate,s!==null&&pl(s,u,p,!0),u=Gn.current,u!==null){switch(u.tag){case 13:return fr===null?$h():u.alternate===null&&ft===0&&(ft=3),u.flags&=-257,u.flags|=65536,u.lanes=p,f===Qd?u.flags|=16384:(s=u.updateQueue,s===null?u.updateQueue=new Set([f]):s.add(f),Zh(i,f,p)),!1;case 22:return u.flags|=65536,f===Qd?u.flags|=16384:(s=u.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=s):(u=s.retryQueue,u===null?s.retryQueue=new Set([f]):u.add(f)),Zh(i,f,p)),!1}throw Error(r(435,u.tag))}return Zh(i,f,p),$h(),!1}if(Ve)return s=Gn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,f!==Fd&&(i=Error(r(422),{cause:f}),hl(Pn(i,u)))):(f!==Fd&&(s=Error(r(423),{cause:f}),hl(Pn(s,u))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,f=Pn(f,u),p=Sh(i.stateNode,f,p),eh(i,p),ft!==4&&(ft=2)),!1;var y=Error(r(520),{cause:f});if(y=Pn(y,u),Hl===null?Hl=[y]:Hl.push(y),ft!==4&&(ft=2),s===null)return!0;f=Pn(f,u),u=s;do{switch(u.tag){case 3:return u.flags|=65536,i=p&-p,u.lanes|=i,i=Sh(u.stateNode,f,i),eh(u,i),!1;case 1:if(s=u.type,y=u.stateNode,(u.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(pi===null||!pi.has(y))))return u.flags|=65536,p&=-p,u.lanes|=p,p=A2(p),R2(p,i,u,f),eh(u,p),!1}u=u.return}while(u!==null);return!1}var O2=Error(r(461)),Nt=!1;function jt(i,s,u,f){s.child=i===null?C2(s,null,u,f):ps(s,i.child,u,f)}function N2(i,s,u,f,p){u=u.render;var y=s.ref;if("ref"in f){var E={};for(var T in f)T!=="ref"&&(E[T]=f[T])}else E=f;return ro(s),f=oh(i,s,u,E,y,p),T=sh(),i!==null&&!Nt?(lh(i,s,p),zr(i,s,p)):(Ve&&T&&qd(s),s.flags|=1,jt(i,s,f,p),s.child)}function D2(i,s,u,f,p){if(i===null){var y=u.type;return typeof y=="function"&&!Vd(y)&&y.defaultProps===void 0&&u.compare===null?(s.tag=15,s.type=y,L2(i,s,y,f,p)):(i=au(u.type,null,f,s,s.mode,p),i.ref=s.ref,i.return=s,s.child=i)}if(y=i.child,!Oh(i,p)){var E=y.memoizedProps;if(u=u.compare,u=u!==null?u:ul,u(E,f)&&i.ref===s.ref)return zr(i,s,p)}return s.flags|=1,i=Ar(y,f),i.ref=s.ref,i.return=s,s.child=i}function L2(i,s,u,f,p){if(i!==null){var y=i.memoizedProps;if(ul(y,f)&&i.ref===s.ref)if(Nt=!1,s.pendingProps=f=y,Oh(i,p))(i.flags&131072)!==0&&(Nt=!0);else return s.lanes=i.lanes,zr(i,s,p)}return Eh(i,s,u,f,p)}function H2(i,s,u){var f=s.pendingProps,p=f.children,y=i!==null?i.memoizedState:null;if(f.mode==="hidden"){if((s.flags&128)!==0){if(f=y!==null?y.baseLanes|u:u,i!==null){for(p=s.child=i.child,y=0;p!==null;)y=y|p.lanes|p.childLanes,p=p.sibling;s.childLanes=y&~f}else s.childLanes=0,s.child=null;return z2(i,s,f,u)}if((u&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&hu(s,y!==null?y.cachePool:null),y!==null?Lg(s,y):nh(),x2(s);else return s.lanes=s.childLanes=536870912,z2(i,s,y!==null?y.baseLanes|u:u,u)}else y!==null?(hu(s,y.cachePool),Lg(s,y),ai(),s.memoizedState=null):(i!==null&&hu(s,null),nh(),ai());return jt(i,s,p,u),s.child}function z2(i,s,u,f){var p=Jd();return p=p===null?null:{parent:Mt._currentValue,pool:p},s.memoizedState={baseLanes:u,cachePool:p},i!==null&&hu(s,null),nh(),x2(s),i!==null&&pl(i,s,f,!0),null}function Ou(i,s){var u=s.ref;if(u===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(i===null||i.ref!==u)&&(s.flags|=4194816)}}function Eh(i,s,u,f,p){return ro(s),u=oh(i,s,u,f,void 0,p),f=sh(),i!==null&&!Nt?(lh(i,s,p),zr(i,s,p)):(Ve&&f&&qd(s),s.flags|=1,jt(i,s,u,p),s.child)}function B2(i,s,u,f,p,y){return ro(s),s.updateQueue=null,u=zg(s,f,u,p),Hg(i),f=sh(),i!==null&&!Nt?(lh(i,s,y),zr(i,s,y)):(Ve&&f&&qd(s),s.flags|=1,jt(i,s,u,y),s.child)}function j2(i,s,u,f,p){if(ro(s),s.stateNode===null){var y=rs,E=u.contextType;typeof E=="object"&&E!==null&&(y=Jt(E)),y=new u(f,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=xh,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=f,y.state=s.memoizedState,y.refs={},Xd(s),E=u.contextType,y.context=typeof E=="object"&&E!==null?Jt(E):rs,y.state=s.memoizedState,E=u.getDerivedStateFromProps,typeof E=="function"&&(Ch(s,u,E,f),y.state=s.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(E=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),E!==y.state&&xh.enqueueReplaceState(y,y.state,null),xl(s,f,y,p),Cl(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),f=!0}else if(i===null){y=s.stateNode;var T=s.memoizedProps,R=so(u,T);y.props=R;var j=y.context,K=u.contextType;E=rs,typeof K=="object"&&K!==null&&(E=Jt(K));var Z=u.getDerivedStateFromProps;K=typeof Z=="function"||typeof y.getSnapshotBeforeUpdate=="function",T=s.pendingProps!==T,K||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T||j!==E)&&E2(s,y,f,E),ri=!1;var V=s.memoizedState;y.state=V,xl(s,f,y,p),Cl(),j=s.memoizedState,T||V!==j||ri?(typeof Z=="function"&&(Ch(s,u,Z,f),j=s.memoizedState),(R=ri||S2(s,u,R,f,V,j,E))?(K||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=j),y.props=f,y.state=j,y.context=E,f=R):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{y=s.stateNode,Wd(i,s),E=s.memoizedProps,K=so(u,E),y.props=K,Z=s.pendingProps,V=y.context,j=u.contextType,R=rs,typeof j=="object"&&j!==null&&(R=Jt(j)),T=u.getDerivedStateFromProps,(j=typeof T=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E!==Z||V!==R)&&E2(s,y,f,R),ri=!1,V=s.memoizedState,y.state=V,xl(s,f,y,p),Cl();var _=s.memoizedState;E!==Z||V!==_||ri||i!==null&&i.dependencies!==null&&fu(i.dependencies)?(typeof T=="function"&&(Ch(s,u,T,f),_=s.memoizedState),(K=ri||S2(s,u,K,f,V,_,R)||i!==null&&i.dependencies!==null&&fu(i.dependencies))?(j||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(f,_,R),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(f,_,R)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||E===i.memoizedProps&&V===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&V===i.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=_),y.props=f,y.state=_,y.context=R,f=K):(typeof y.componentDidUpdate!="function"||E===i.memoizedProps&&V===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&V===i.memoizedState||(s.flags|=1024),f=!1)}return y=f,Ou(i,s),f=(s.flags&128)!==0,y||f?(y=s.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,i!==null&&f?(s.child=ps(s,i.child,null,p),s.child=ps(s,null,u,p)):jt(i,s,u,p),s.memoizedState=y.state,i=s.child):i=zr(i,s,p),i}function I2(i,s,u,f){return dl(),s.flags|=256,jt(i,s,u,f),s.child}var wh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mh(i){return{baseLanes:i,cachePool:Mg()}}function Th(i,s,u){return i=i!==null?i.childLanes&~u:0,s&&(i|=Zn),i}function V2(i,s,u){var f=s.pendingProps,p=!1,y=(s.flags&128)!==0,E;if((E=y)||(E=i!==null&&i.memoizedState===null?!1:(Tt.current&2)!==0),E&&(p=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,i===null){if(Ve){if(p?li(s):ai(),Ve){var T=ct,R;if(R=T){e:{for(R=T,T=cr;R.nodeType!==8;){if(!T){T=null;break e}if(R=or(R.nextSibling),R===null){T=null;break e}}T=R}T!==null?(s.memoizedState={dehydrated:T,treeContext:Xi!==null?{id:Rr,overflow:Or}:null,retryLane:536870912,hydrationErrors:null},R=Dn(18,null,null,0),R.stateNode=T,R.return=s,s.child=R,sn=s,ct=null,R=!0):R=!1}R||to(s)}if(T=s.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return up(T)?s.lanes=32:s.lanes=536870912,null;Hr(s)}return T=f.children,f=f.fallback,p?(ai(),p=s.mode,T=Nu({mode:"hidden",children:T},p),f=Qi(f,p,u,null),T.return=s,f.return=s,T.sibling=f,s.child=T,p=s.child,p.memoizedState=Mh(u),p.childLanes=Th(i,E,u),s.memoizedState=wh,f):(li(s),kh(s,T))}if(R=i.memoizedState,R!==null&&(T=R.dehydrated,T!==null)){if(y)s.flags&256?(li(s),s.flags&=-257,s=Ah(i,s,u)):s.memoizedState!==null?(ai(),s.child=i.child,s.flags|=128,s=null):(ai(),p=f.fallback,T=s.mode,f=Nu({mode:"visible",children:f.children},T),p=Qi(p,T,u,null),p.flags|=2,f.return=s,p.return=s,f.sibling=p,s.child=f,ps(s,i.child,null,u),f=s.child,f.memoizedState=Mh(u),f.childLanes=Th(i,E,u),s.memoizedState=wh,s=p);else if(li(s),up(T)){if(E=T.nextSibling&&T.nextSibling.dataset,E)var j=E.dgst;E=j,f=Error(r(419)),f.stack="",f.digest=E,hl({value:f,source:null,stack:null}),s=Ah(i,s,u)}else if(Nt||pl(i,s,u,!1),E=(u&i.childLanes)!==0,Nt||E){if(E=et,E!==null&&(f=u&-u,f=(f&42)!==0?1:cd(f),f=(f&(E.suspendedLanes|u))!==0?0:f,f!==0&&f!==R.retryLane))throw R.retryLane=f,ns(i,f),jn(E,i,f),O2;T.data==="$?"||$h(),s=Ah(i,s,u)}else T.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=R.treeContext,ct=or(T.nextSibling),sn=s,Ve=!0,eo=null,cr=!1,i!==null&&(Kn[$n++]=Rr,Kn[$n++]=Or,Kn[$n++]=Xi,Rr=i.id,Or=i.overflow,Xi=s),s=kh(s,f.children),s.flags|=4096);return s}return p?(ai(),p=f.fallback,T=s.mode,R=i.child,j=R.sibling,f=Ar(R,{mode:"hidden",children:f.children}),f.subtreeFlags=R.subtreeFlags&65011712,j!==null?p=Ar(j,p):(p=Qi(p,T,u,null),p.flags|=2),p.return=s,f.return=s,f.sibling=p,s.child=f,f=p,p=s.child,T=i.child.memoizedState,T===null?T=Mh(u):(R=T.cachePool,R!==null?(j=Mt._currentValue,R=R.parent!==j?{parent:j,pool:j}:R):R=Mg(),T={baseLanes:T.baseLanes|u,cachePool:R}),p.memoizedState=T,p.childLanes=Th(i,E,u),s.memoizedState=wh,f):(li(s),u=i.child,i=u.sibling,u=Ar(u,{mode:"visible",children:f.children}),u.return=s,u.sibling=null,i!==null&&(E=s.deletions,E===null?(s.deletions=[i],s.flags|=16):E.push(i)),s.child=u,s.memoizedState=null,u)}function kh(i,s){return s=Nu({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Nu(i,s){return i=Dn(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Ah(i,s,u){return ps(s,i.child,null,u),i=kh(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function _2(i,s,u){i.lanes|=s;var f=i.alternate;f!==null&&(f.lanes|=s),$d(i.return,s,u)}function Rh(i,s,u,f,p){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:p}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=f,y.tail=u,y.tailMode=p)}function U2(i,s,u){var f=s.pendingProps,p=f.revealOrder,y=f.tail;if(jt(i,s,f.children,u),f=Tt.current,(f&2)!==0)f=f&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&_2(i,u,s);else if(i.tag===19)_2(i,u,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}switch(J(Tt,f),p){case"forwards":for(u=s.child,p=null;u!==null;)i=u.alternate,i!==null&&ku(i)===null&&(p=u),u=u.sibling;u=p,u===null?(p=s.child,s.child=null):(p=u.sibling,u.sibling=null),Rh(s,!1,p,u,y);break;case"backwards":for(u=null,p=s.child,s.child=null;p!==null;){if(i=p.alternate,i!==null&&ku(i)===null){s.child=p;break}i=p.sibling,p.sibling=u,u=p,p=i}Rh(s,!0,u,null,y);break;case"together":Rh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function zr(i,s,u){if(i!==null&&(s.dependencies=i.dependencies),hi|=s.lanes,(u&s.childLanes)===0)if(i!==null){if(pl(i,s,u,!1),(u&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,u=Ar(i,i.pendingProps),s.child=u,u.return=s;i.sibling!==null;)i=i.sibling,u=u.sibling=Ar(i,i.pendingProps),u.return=s;u.sibling=null}return s.child}function Oh(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&fu(i)))}function XC(i,s,u){switch(s.tag){case 3:He(s,s.stateNode.containerInfo),ni(s,Mt,i.memoizedState.cache),dl();break;case 27:case 5:On(s);break;case 4:He(s,s.stateNode.containerInfo);break;case 10:ni(s,s.type,s.memoizedProps.value);break;case 13:var f=s.memoizedState;if(f!==null)return f.dehydrated!==null?(li(s),s.flags|=128,null):(u&s.child.childLanes)!==0?V2(i,s,u):(li(s),i=zr(i,s,u),i!==null?i.sibling:null);li(s);break;case 19:var p=(i.flags&128)!==0;if(f=(u&s.childLanes)!==0,f||(pl(i,s,u,!1),f=(u&s.childLanes)!==0),p){if(f)return U2(i,s,u);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),J(Tt,Tt.current),f)break;return null;case 22:case 23:return s.lanes=0,H2(i,s,u);case 24:ni(s,Mt,i.memoizedState.cache)}return zr(i,s,u)}function q2(i,s,u){if(i!==null)if(i.memoizedProps!==s.pendingProps)Nt=!0;else{if(!Oh(i,u)&&(s.flags&128)===0)return Nt=!1,XC(i,s,u);Nt=(i.flags&131072)!==0}else Nt=!1,Ve&&(s.flags&1048576)!==0&&bg(s,cu,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var f=s.elementType,p=f._init;if(f=p(f._payload),s.type=f,typeof f=="function")Vd(f)?(i=so(f,i),s.tag=1,s=j2(null,s,f,i,u)):(s.tag=0,s=Eh(null,s,f,i,u));else{if(f!=null){if(p=f.$$typeof,p===P){s.tag=11,s=N2(null,s,f,i,u);break e}else if(p===te){s.tag=14,s=D2(null,s,f,i,u);break e}}throw s=re(f)||f,Error(r(306,s,""))}}return s;case 0:return Eh(i,s,s.type,s.pendingProps,u);case 1:return f=s.type,p=so(f,s.pendingProps),j2(i,s,f,p,u);case 3:e:{if(He(s,s.stateNode.containerInfo),i===null)throw Error(r(387));f=s.pendingProps;var y=s.memoizedState;p=y.element,Wd(i,s),xl(s,f,null,u);var E=s.memoizedState;if(f=E.cache,ni(s,Mt,f),f!==y.cache&&Gd(s,[Mt],u,!0),Cl(),f=E.element,y.isDehydrated)if(y={element:f,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=I2(i,s,f,u);break e}else if(f!==p){p=Pn(Error(r(424)),s),hl(p),s=I2(i,s,f,u);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ct=or(i.firstChild),sn=s,Ve=!0,eo=null,cr=!0,u=C2(s,null,f,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(dl(),f===p){s=zr(i,s,u);break e}jt(i,s,f,u)}s=s.child}return s;case 26:return Ou(i,s),i===null?(u=$y(s.type,null,s.pendingProps,null))?s.memoizedState=u:Ve||(u=s.type,i=s.pendingProps,f=Ku(oe.current).createElement(u),f[Yt]=s,f[yn]=i,Vt(f,u,i),Ot(f),s.stateNode=f):s.memoizedState=$y(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return On(s),i===null&&Ve&&(f=s.stateNode=Py(s.type,s.pendingProps,oe.current),sn=s,cr=!0,p=ct,yi(s.type)?(cp=p,ct=or(f.firstChild)):ct=p),jt(i,s,s.pendingProps.children,u),Ou(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Ve&&((p=f=ct)&&(f=T6(f,s.type,s.pendingProps,cr),f!==null?(s.stateNode=f,sn=s,ct=or(f.firstChild),cr=!1,p=!0):p=!1),p||to(s)),On(s),p=s.type,y=s.pendingProps,E=i!==null?i.memoizedProps:null,f=y.children,sp(p,y)?f=null:E!==null&&sp(p,E)&&(s.flags|=32),s.memoizedState!==null&&(p=oh(i,s,FC,null,null,u),Pl._currentValue=p),Ou(i,s),jt(i,s,f,u),s.child;case 6:return i===null&&Ve&&((i=u=ct)&&(u=k6(u,s.pendingProps,cr),u!==null?(s.stateNode=u,sn=s,ct=null,i=!0):i=!1),i||to(s)),null;case 13:return V2(i,s,u);case 4:return He(s,s.stateNode.containerInfo),f=s.pendingProps,i===null?s.child=ps(s,null,f,u):jt(i,s,f,u),s.child;case 11:return N2(i,s,s.type,s.pendingProps,u);case 7:return jt(i,s,s.pendingProps,u),s.child;case 8:return jt(i,s,s.pendingProps.children,u),s.child;case 12:return jt(i,s,s.pendingProps.children,u),s.child;case 10:return f=s.pendingProps,ni(s,s.type,f.value),jt(i,s,f.children,u),s.child;case 9:return p=s.type._context,f=s.pendingProps.children,ro(s),p=Jt(p),f=f(p),s.flags|=1,jt(i,s,f,u),s.child;case 14:return D2(i,s,s.type,s.pendingProps,u);case 15:return L2(i,s,s.type,s.pendingProps,u);case 19:return U2(i,s,u);case 31:return f=s.pendingProps,u=s.mode,f={mode:f.mode,children:f.children},i===null?(u=Nu(f,u),u.ref=s.ref,s.child=u,u.return=s,s=u):(u=Ar(i.child,f),u.ref=s.ref,s.child=u,u.return=s,s=u),s;case 22:return H2(i,s,u);case 24:return ro(s),f=Jt(Mt),i===null?(p=Jd(),p===null&&(p=et,y=Zd(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=u),p=y),s.memoizedState={parent:f,cache:p},Xd(s),ni(s,Mt,p)):((i.lanes&u)!==0&&(Wd(i,s),xl(s,null,null,u),Cl()),p=i.memoizedState,y=s.memoizedState,p.parent!==f?(p={parent:f,cache:f},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),ni(s,Mt,f)):(f=y.cache,ni(s,Mt,f),f!==p.cache&&Gd(s,[Mt],u,!0))),jt(i,s,s.pendingProps.children,u),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Br(i){i.flags|=4}function P2(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Qy(s)){if(s=Gn.current,s!==null&&((Be&4194048)===Be?fr!==null:(Be&62914560)!==Be&&(Be&536870912)===0||s!==fr))throw bl=Qd,Tg;i.flags|=8192}}function Du(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Xs():536870912,i.lanes|=s,bs|=s)}function Al(i,s){if(!Ve)switch(i.tailMode){case"hidden":s=i.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function lt(i){var s=i.alternate!==null&&i.alternate.child===i.child,u=0,f=0;if(s)for(var p=i.child;p!==null;)u|=p.lanes|p.childLanes,f|=p.subtreeFlags&65011712,f|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)u|=p.lanes|p.childLanes,f|=p.subtreeFlags,f|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=f,i.childLanes=u,s}function WC(i,s,u){var f=s.pendingProps;switch(Pd(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(s),null;case 1:return lt(s),null;case 3:return u=s.stateNode,f=null,i!==null&&(f=i.memoizedState.cache),s.memoizedState.cache!==f&&(s.flags|=2048),Dr(Mt),Gt(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(fl(s)?Br(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,xg())),lt(s),null;case 26:return u=s.memoizedState,i===null?(Br(s),u!==null?(lt(s),P2(s,u)):(lt(s),s.flags&=-16777217)):u?u!==i.memoizedState?(Br(s),lt(s),P2(s,u)):(lt(s),s.flags&=-16777217):(i.memoizedProps!==f&&Br(s),lt(s),s.flags&=-16777217),null;case 27:Se(s),u=oe.current;var p=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==f&&Br(s);else{if(!f){if(s.stateNode===null)throw Error(r(166));return lt(s),null}i=ie.current,fl(s)?vg(s):(i=Py(p,f,u),s.stateNode=i,Br(s))}return lt(s),null;case 5:if(Se(s),u=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==f&&Br(s);else{if(!f){if(s.stateNode===null)throw Error(r(166));return lt(s),null}if(i=ie.current,fl(s))vg(s);else{switch(p=Ku(oe.current),i){case 1:i=p.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:i=p.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":i=p.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":i=p.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":i=p.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof f.is=="string"?p.createElement("select",{is:f.is}):p.createElement("select"),f.multiple?i.multiple=!0:f.size&&(i.size=f.size);break;default:i=typeof f.is=="string"?p.createElement(u,{is:f.is}):p.createElement(u)}}i[Yt]=s,i[yn]=f;e:for(p=s.child;p!==null;){if(p.tag===5||p.tag===6)i.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===s)break e;for(;p.sibling===null;){if(p.return===null||p.return===s)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}s.stateNode=i;e:switch(Vt(i,u,f),u){case"button":case"input":case"select":case"textarea":i=!!f.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Br(s)}}return lt(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==f&&Br(s);else{if(typeof f!="string"&&s.stateNode===null)throw Error(r(166));if(i=oe.current,fl(s)){if(i=s.stateNode,u=s.memoizedProps,f=null,p=sn,p!==null)switch(p.tag){case 27:case 5:f=p.memoizedProps}i[Yt]=s,i=!!(i.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||By(i.nodeValue,u)),i||to(s)}else i=Ku(i).createTextNode(f),i[Yt]=s,s.stateNode=i}return lt(s),null;case 13:if(f=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=fl(s),f!==null&&f.dehydrated!==null){if(i===null){if(!p)throw Error(r(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[Yt]=s}else dl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;lt(s),p=!1}else p=xg(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(Hr(s),s):(Hr(s),null)}if(Hr(s),(s.flags&128)!==0)return s.lanes=u,s;if(u=f!==null,i=i!==null&&i.memoizedState!==null,u){f=s.child,p=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(p=f.alternate.memoizedState.cachePool.pool);var y=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(y=f.memoizedState.cachePool.pool),y!==p&&(f.flags|=2048)}return u!==i&&u&&(s.child.flags|=8192),Du(s,s.updateQueue),lt(s),null;case 4:return Gt(),i===null&&tp(s.stateNode.containerInfo),lt(s),null;case 10:return Dr(s.type),lt(s),null;case 19:if(q(Tt),p=s.memoizedState,p===null)return lt(s),null;if(f=(s.flags&128)!==0,y=p.rendering,y===null)if(f)Al(p,!1);else{if(ft!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(y=ku(i),y!==null){for(s.flags|=128,Al(p,!1),i=y.updateQueue,s.updateQueue=i,Du(s,i),s.subtreeFlags=0,i=u,u=s.child;u!==null;)yg(u,i),u=u.sibling;return J(Tt,Tt.current&1|2),s.child}i=i.sibling}p.tail!==null&&Xe()>zu&&(s.flags|=128,f=!0,Al(p,!1),s.lanes=4194304)}else{if(!f)if(i=ku(y),i!==null){if(s.flags|=128,f=!0,i=i.updateQueue,s.updateQueue=i,Du(s,i),Al(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!Ve)return lt(s),null}else 2*Xe()-p.renderingStartTime>zu&&u!==536870912&&(s.flags|=128,f=!0,Al(p,!1),s.lanes=4194304);p.isBackwards?(y.sibling=s.child,s.child=y):(i=p.last,i!==null?i.sibling=y:s.child=y,p.last=y)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=Xe(),s.sibling=null,i=Tt.current,J(Tt,f?i&1|2:i&1),s):(lt(s),null);case 22:case 23:return Hr(s),rh(),f=s.memoizedState!==null,i!==null?i.memoizedState!==null!==f&&(s.flags|=8192):f&&(s.flags|=8192),f?(u&536870912)!==0&&(s.flags&128)===0&&(lt(s),s.subtreeFlags&6&&(s.flags|=8192)):lt(s),u=s.updateQueue,u!==null&&Du(s,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),f=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),f!==u&&(s.flags|=2048),i!==null&&q(io),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Dr(Mt),lt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function e6(i,s){switch(Pd(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Dr(Mt),Gt(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Se(s),null;case 13:if(Hr(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));dl()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return q(Tt),null;case 4:return Gt(),null;case 10:return Dr(s.type),null;case 22:case 23:return Hr(s),rh(),i!==null&&q(io),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Dr(Mt),null;case 25:return null;default:return null}}function F2(i,s){switch(Pd(s),s.tag){case 3:Dr(Mt),Gt();break;case 26:case 27:case 5:Se(s);break;case 4:Gt();break;case 13:Hr(s);break;case 19:q(Tt);break;case 10:Dr(s.type);break;case 22:case 23:Hr(s),rh(),i!==null&&q(io);break;case 24:Dr(Mt)}}function Rl(i,s){try{var u=s.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var p=f.next;u=p;do{if((u.tag&i)===i){f=void 0;var y=u.create,E=u.inst;f=y(),E.destroy=f}u=u.next}while(u!==p)}}catch(T){Je(s,s.return,T)}}function ui(i,s,u){try{var f=s.updateQueue,p=f!==null?f.lastEffect:null;if(p!==null){var y=p.next;f=y;do{if((f.tag&i)===i){var E=f.inst,T=E.destroy;if(T!==void 0){E.destroy=void 0,p=s;var R=u,j=T;try{j()}catch(K){Je(p,R,K)}}}f=f.next}while(f!==y)}}catch(K){Je(s,s.return,K)}}function K2(i){var s=i.updateQueue;if(s!==null){var u=i.stateNode;try{Dg(s,u)}catch(f){Je(i,i.return,f)}}}function $2(i,s,u){u.props=so(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(f){Je(i,s,f)}}function Ol(i,s){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var f=i.stateNode;break;case 30:f=i.stateNode;break;default:f=i.stateNode}typeof u=="function"?i.refCleanup=u(f):u.current=f}}catch(p){Je(i,s,p)}}function dr(i,s){var u=i.ref,f=i.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(p){Je(i,s,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(p){Je(i,s,p)}else u.current=null}function G2(i){var s=i.type,u=i.memoizedProps,f=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break e;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(p){Je(i,i.return,p)}}function Nh(i,s,u){try{var f=i.stateNode;x6(f,i.type,u,s),f[yn]=s}catch(p){Je(i,i.return,p)}}function Z2(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&yi(i.type)||i.tag===4}function Dh(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Z2(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&yi(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Lh(i,s,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,s?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,s):(s=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,s.appendChild(i),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=Fu));else if(f!==4&&(f===27&&yi(i.type)&&(u=i.stateNode,s=null),i=i.child,i!==null))for(Lh(i,s,u),i=i.sibling;i!==null;)Lh(i,s,u),i=i.sibling}function Lu(i,s,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,s?u.insertBefore(i,s):u.appendChild(i);else if(f!==4&&(f===27&&yi(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(Lu(i,s,u),i=i.sibling;i!==null;)Lu(i,s,u),i=i.sibling}function Y2(i){var s=i.stateNode,u=i.memoizedProps;try{for(var f=i.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);Vt(s,f,u),s[Yt]=i,s[yn]=u}catch(y){Je(i,i.return,y)}}var jr=!1,yt=!1,Hh=!1,J2=typeof WeakSet=="function"?WeakSet:Set,Dt=null;function t6(i,s){if(i=i.containerInfo,ip=Qu,i=lg(i),Dd(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var p=f.anchorOffset,y=f.focusNode;f=f.focusOffset;try{u.nodeType,y.nodeType}catch{u=null;break e}var E=0,T=-1,R=-1,j=0,K=0,Z=i,V=null;t:for(;;){for(var _;Z!==u||p!==0&&Z.nodeType!==3||(T=E+p),Z!==y||f!==0&&Z.nodeType!==3||(R=E+f),Z.nodeType===3&&(E+=Z.nodeValue.length),(_=Z.firstChild)!==null;)V=Z,Z=_;for(;;){if(Z===i)break t;if(V===u&&++j===p&&(T=E),V===y&&++K===f&&(R=E),(_=Z.nextSibling)!==null)break;Z=V,V=Z.parentNode}Z=_}u=T===-1||R===-1?null:{start:T,end:R}}else u=null}u=u||{start:0,end:0}}else u=null;for(op={focusedElem:i,selectionRange:u},Qu=!1,Dt=s;Dt!==null;)if(s=Dt,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,Dt=i;else for(;Dt!==null;){switch(s=Dt,y=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,u=s,p=y.memoizedProps,y=y.memoizedState,f=u.stateNode;try{var be=so(u.type,p,u.elementType===u.type);i=f.getSnapshotBeforeUpdate(be,y),f.__reactInternalSnapshotBeforeUpdate=i}catch(pe){Je(u,u.return,pe)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,u=i.nodeType,u===9)ap(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":ap(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Dt=i;break}Dt=s.return}}function Q2(i,s,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:ci(i,u),f&4&&Rl(5,u);break;case 1:if(ci(i,u),f&4)if(i=u.stateNode,s===null)try{i.componentDidMount()}catch(E){Je(u,u.return,E)}else{var p=so(u.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(p,s,i.__reactInternalSnapshotBeforeUpdate)}catch(E){Je(u,u.return,E)}}f&64&&K2(u),f&512&&Ol(u,u.return);break;case 3:if(ci(i,u),f&64&&(i=u.updateQueue,i!==null)){if(s=null,u.child!==null)switch(u.child.tag){case 27:case 5:s=u.child.stateNode;break;case 1:s=u.child.stateNode}try{Dg(i,s)}catch(E){Je(u,u.return,E)}}break;case 27:s===null&&f&4&&Y2(u);case 26:case 5:ci(i,u),s===null&&f&4&&G2(u),f&512&&Ol(u,u.return);break;case 12:ci(i,u);break;case 13:ci(i,u),f&4&&ey(i,u),f&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=c6.bind(null,u),A6(i,u))));break;case 22:if(f=u.memoizedState!==null||jr,!f){s=s!==null&&s.memoizedState!==null||yt,p=jr;var y=yt;jr=f,(yt=s)&&!y?fi(i,u,(u.subtreeFlags&8772)!==0):ci(i,u),jr=p,yt=y}break;case 30:break;default:ci(i,u)}}function X2(i){var s=i.alternate;s!==null&&(i.alternate=null,X2(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&hd(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ot=null,Cn=!1;function Ir(i,s,u){for(u=u.child;u!==null;)W2(i,s,u),u=u.sibling}function W2(i,s,u){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(Ue,u)}catch{}switch(u.tag){case 26:yt||dr(u,s),Ir(i,s,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:yt||dr(u,s);var f=ot,p=Cn;yi(u.type)&&(ot=u.stateNode,Cn=!1),Ir(i,s,u),Vl(u.stateNode),ot=f,Cn=p;break;case 5:yt||dr(u,s);case 6:if(f=ot,p=Cn,ot=null,Ir(i,s,u),ot=f,Cn=p,ot!==null)if(Cn)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(u.stateNode)}catch(y){Je(u,s,y)}else try{ot.removeChild(u.stateNode)}catch(y){Je(u,s,y)}break;case 18:ot!==null&&(Cn?(i=ot,Uy(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),Gl(i)):Uy(ot,u.stateNode));break;case 4:f=ot,p=Cn,ot=u.stateNode.containerInfo,Cn=!0,Ir(i,s,u),ot=f,Cn=p;break;case 0:case 11:case 14:case 15:yt||ui(2,u,s),yt||ui(4,u,s),Ir(i,s,u);break;case 1:yt||(dr(u,s),f=u.stateNode,typeof f.componentWillUnmount=="function"&&$2(u,s,f)),Ir(i,s,u);break;case 21:Ir(i,s,u);break;case 22:yt=(f=yt)||u.memoizedState!==null,Ir(i,s,u),yt=f;break;default:Ir(i,s,u)}}function ey(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Gl(i)}catch(u){Je(s,s.return,u)}}function n6(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new J2),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new J2),s;default:throw Error(r(435,i.tag))}}function zh(i,s){var u=n6(i);s.forEach(function(f){var p=f6.bind(null,i,f);u.has(f)||(u.add(f),f.then(p,p))})}function Ln(i,s){var u=s.deletions;if(u!==null)for(var f=0;f<u.length;f++){var p=u[f],y=i,E=s,T=E;e:for(;T!==null;){switch(T.tag){case 27:if(yi(T.type)){ot=T.stateNode,Cn=!1;break e}break;case 5:ot=T.stateNode,Cn=!1;break e;case 3:case 4:ot=T.stateNode.containerInfo,Cn=!0;break e}T=T.return}if(ot===null)throw Error(r(160));W2(y,E,p),ot=null,Cn=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)ty(s,i),s=s.sibling}var ir=null;function ty(i,s){var u=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Ln(s,i),Hn(i),f&4&&(ui(3,i,i.return),Rl(3,i),ui(5,i,i.return));break;case 1:Ln(s,i),Hn(i),f&512&&(yt||u===null||dr(u,u.return)),f&64&&jr&&(i=i.updateQueue,i!==null&&(f=i.callbacks,f!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var p=ir;if(Ln(s,i),Hn(i),f&512&&(yt||u===null||dr(u,u.return)),f&4){var y=u!==null?u.memoizedState:null;if(f=i.memoizedState,u===null)if(f===null)if(i.stateNode===null){e:{f=i.type,u=i.memoizedProps,p=p.ownerDocument||p;t:switch(f){case"title":y=p.getElementsByTagName("title")[0],(!y||y[el]||y[Yt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(f),p.head.insertBefore(y,p.querySelector("head > title"))),Vt(y,f,u),y[Yt]=i,Ot(y),f=y;break e;case"link":var E=Yy("link","href",p).get(f+(u.href||""));if(E){for(var T=0;T<E.length;T++)if(y=E[T],y.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&y.getAttribute("rel")===(u.rel==null?null:u.rel)&&y.getAttribute("title")===(u.title==null?null:u.title)&&y.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){E.splice(T,1);break t}}y=p.createElement(f),Vt(y,f,u),p.head.appendChild(y);break;case"meta":if(E=Yy("meta","content",p).get(f+(u.content||""))){for(T=0;T<E.length;T++)if(y=E[T],y.getAttribute("content")===(u.content==null?null:""+u.content)&&y.getAttribute("name")===(u.name==null?null:u.name)&&y.getAttribute("property")===(u.property==null?null:u.property)&&y.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&y.getAttribute("charset")===(u.charSet==null?null:u.charSet)){E.splice(T,1);break t}}y=p.createElement(f),Vt(y,f,u),p.head.appendChild(y);break;default:throw Error(r(468,f))}y[Yt]=i,Ot(y),f=y}i.stateNode=f}else Jy(p,i.type,i.stateNode);else i.stateNode=Zy(p,f,i.memoizedProps);else y!==f?(y===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):y.count--,f===null?Jy(p,i.type,i.stateNode):Zy(p,f,i.memoizedProps)):f===null&&i.stateNode!==null&&Nh(i,i.memoizedProps,u.memoizedProps)}break;case 27:Ln(s,i),Hn(i),f&512&&(yt||u===null||dr(u,u.return)),u!==null&&f&4&&Nh(i,i.memoizedProps,u.memoizedProps);break;case 5:if(Ln(s,i),Hn(i),f&512&&(yt||u===null||dr(u,u.return)),i.flags&32){p=i.stateNode;try{Yo(p,"")}catch(_){Je(i,i.return,_)}}f&4&&i.stateNode!=null&&(p=i.memoizedProps,Nh(i,p,u!==null?u.memoizedProps:p)),f&1024&&(Hh=!0);break;case 6:if(Ln(s,i),Hn(i),f&4){if(i.stateNode===null)throw Error(r(162));f=i.memoizedProps,u=i.stateNode;try{u.nodeValue=f}catch(_){Je(i,i.return,_)}}break;case 3:if(Zu=null,p=ir,ir=$u(s.containerInfo),Ln(s,i),ir=p,Hn(i),f&4&&u!==null&&u.memoizedState.isDehydrated)try{Gl(s.containerInfo)}catch(_){Je(i,i.return,_)}Hh&&(Hh=!1,ny(i));break;case 4:f=ir,ir=$u(i.stateNode.containerInfo),Ln(s,i),Hn(i),ir=f;break;case 12:Ln(s,i),Hn(i);break;case 13:Ln(s,i),Hn(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Uh=Xe()),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,zh(i,f)));break;case 22:p=i.memoizedState!==null;var R=u!==null&&u.memoizedState!==null,j=jr,K=yt;if(jr=j||p,yt=K||R,Ln(s,i),yt=K,jr=j,Hn(i),f&8192)e:for(s=i.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(u===null||R||jr||yt||lo(i)),u=null,s=i;;){if(s.tag===5||s.tag===26){if(u===null){R=u=s;try{if(y=R.stateNode,p)E=y.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{T=R.stateNode;var Z=R.memoizedProps.style,V=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;T.style.display=V==null||typeof V=="boolean"?"":(""+V).trim()}}catch(_){Je(R,R.return,_)}}}else if(s.tag===6){if(u===null){R=s;try{R.stateNode.nodeValue=p?"":R.memoizedProps}catch(_){Je(R,R.return,_)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;u===s&&(u=null),s=s.return}u===s&&(u=null),s.sibling.return=s.return,s=s.sibling}f&4&&(f=i.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,zh(i,u))));break;case 19:Ln(s,i),Hn(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,zh(i,f)));break;case 30:break;case 21:break;default:Ln(s,i),Hn(i)}}function Hn(i){var s=i.flags;if(s&2){try{for(var u,f=i.return;f!==null;){if(Z2(f)){u=f;break}f=f.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var p=u.stateNode,y=Dh(i);Lu(i,y,p);break;case 5:var E=u.stateNode;u.flags&32&&(Yo(E,""),u.flags&=-33);var T=Dh(i);Lu(i,T,E);break;case 3:case 4:var R=u.stateNode.containerInfo,j=Dh(i);Lh(i,j,R);break;default:throw Error(r(161))}}catch(K){Je(i,i.return,K)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function ny(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;ny(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function ci(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Q2(i,s.alternate,s),s=s.sibling}function lo(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:ui(4,s,s.return),lo(s);break;case 1:dr(s,s.return);var u=s.stateNode;typeof u.componentWillUnmount=="function"&&$2(s,s.return,u),lo(s);break;case 27:Vl(s.stateNode);case 26:case 5:dr(s,s.return),lo(s);break;case 22:s.memoizedState===null&&lo(s);break;case 30:lo(s);break;default:lo(s)}i=i.sibling}}function fi(i,s,u){for(u=u&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var f=s.alternate,p=i,y=s,E=y.flags;switch(y.tag){case 0:case 11:case 15:fi(p,y,u),Rl(4,y);break;case 1:if(fi(p,y,u),f=y,p=f.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(j){Je(f,f.return,j)}if(f=y,p=f.updateQueue,p!==null){var T=f.stateNode;try{var R=p.shared.hiddenCallbacks;if(R!==null)for(p.shared.hiddenCallbacks=null,p=0;p<R.length;p++)Ng(R[p],T)}catch(j){Je(f,f.return,j)}}u&&E&64&&K2(y),Ol(y,y.return);break;case 27:Y2(y);case 26:case 5:fi(p,y,u),u&&f===null&&E&4&&G2(y),Ol(y,y.return);break;case 12:fi(p,y,u);break;case 13:fi(p,y,u),u&&E&4&&ey(p,y);break;case 22:y.memoizedState===null&&fi(p,y,u),Ol(y,y.return);break;case 30:break;default:fi(p,y,u)}s=s.sibling}}function Bh(i,s){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&ml(u))}function jh(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&ml(i))}function hr(i,s,u,f){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)ry(i,s,u,f),s=s.sibling}function ry(i,s,u,f){var p=s.flags;switch(s.tag){case 0:case 11:case 15:hr(i,s,u,f),p&2048&&Rl(9,s);break;case 1:hr(i,s,u,f);break;case 3:hr(i,s,u,f),p&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&ml(i)));break;case 12:if(p&2048){hr(i,s,u,f),i=s.stateNode;try{var y=s.memoizedProps,E=y.id,T=y.onPostCommit;typeof T=="function"&&T(E,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(R){Je(s,s.return,R)}}else hr(i,s,u,f);break;case 13:hr(i,s,u,f);break;case 23:break;case 22:y=s.stateNode,E=s.alternate,s.memoizedState!==null?y._visibility&2?hr(i,s,u,f):Nl(i,s):y._visibility&2?hr(i,s,u,f):(y._visibility|=2,ms(i,s,u,f,(s.subtreeFlags&10256)!==0)),p&2048&&Bh(E,s);break;case 24:hr(i,s,u,f),p&2048&&jh(s.alternate,s);break;default:hr(i,s,u,f)}}function ms(i,s,u,f,p){for(p=p&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var y=i,E=s,T=u,R=f,j=E.flags;switch(E.tag){case 0:case 11:case 15:ms(y,E,T,R,p),Rl(8,E);break;case 23:break;case 22:var K=E.stateNode;E.memoizedState!==null?K._visibility&2?ms(y,E,T,R,p):Nl(y,E):(K._visibility|=2,ms(y,E,T,R,p)),p&&j&2048&&Bh(E.alternate,E);break;case 24:ms(y,E,T,R,p),p&&j&2048&&jh(E.alternate,E);break;default:ms(y,E,T,R,p)}s=s.sibling}}function Nl(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var u=i,f=s,p=f.flags;switch(f.tag){case 22:Nl(u,f),p&2048&&Bh(f.alternate,f);break;case 24:Nl(u,f),p&2048&&jh(f.alternate,f);break;default:Nl(u,f)}s=s.sibling}}var Dl=8192;function gs(i){if(i.subtreeFlags&Dl)for(i=i.child;i!==null;)iy(i),i=i.sibling}function iy(i){switch(i.tag){case 26:gs(i),i.flags&Dl&&i.memoizedState!==null&&U6(ir,i.memoizedState,i.memoizedProps);break;case 5:gs(i);break;case 3:case 4:var s=ir;ir=$u(i.stateNode.containerInfo),gs(i),ir=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=Dl,Dl=16777216,gs(i),Dl=s):gs(i));break;default:gs(i)}}function oy(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Ll(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var f=s[u];Dt=f,ly(f,i)}oy(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)sy(i),i=i.sibling}function sy(i){switch(i.tag){case 0:case 11:case 15:Ll(i),i.flags&2048&&ui(9,i,i.return);break;case 3:Ll(i);break;case 12:Ll(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Hu(i)):Ll(i);break;default:Ll(i)}}function Hu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var f=s[u];Dt=f,ly(f,i)}oy(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:ui(8,s,s.return),Hu(s);break;case 22:u=s.stateNode,u._visibility&2&&(u._visibility&=-3,Hu(s));break;default:Hu(s)}i=i.sibling}}function ly(i,s){for(;Dt!==null;){var u=Dt;switch(u.tag){case 0:case 11:case 15:ui(8,u,s);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:ml(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,Dt=f;else e:for(u=i;Dt!==null;){f=Dt;var p=f.sibling,y=f.return;if(X2(f),f===u){Dt=null;break e}if(p!==null){p.return=y,Dt=p;break e}Dt=y}}}var r6={getCacheForType:function(i){var s=Jt(Mt),u=s.data.get(i);return u===void 0&&(u=i(),s.data.set(i,u)),u}},i6=typeof WeakMap=="function"?WeakMap:Map,Pe=0,et=null,De=null,Be=0,Fe=0,zn=null,di=!1,ys=!1,Ih=!1,Vr=0,ft=0,hi=0,ao=0,Vh=0,Zn=0,bs=0,Hl=null,xn=null,_h=!1,Uh=0,zu=1/0,Bu=null,pi=null,It=0,mi=null,vs=null,Cs=0,qh=0,Ph=null,ay=null,zl=0,Fh=null;function Bn(){if((Pe&2)!==0&&Be!==0)return Be&-Be;if(H.T!==null){var i=ls;return i!==0?i:Qh()}return w0()}function uy(){Zn===0&&(Zn=(Be&536870912)===0||Ve?Ga():536870912);var i=Gn.current;return i!==null&&(i.flags|=32),Zn}function jn(i,s,u){(i===et&&(Fe===2||Fe===9)||i.cancelPendingCommit!==null)&&(xs(i,0),gi(i,Be,Zn,!1)),Ws(i,u),((Pe&2)===0||i!==et)&&(i===et&&((Pe&2)===0&&(ao|=u),ft===4&&gi(i,Be,Zn,!1)),pr(i))}function cy(i,s,u){if((Pe&6)!==0)throw Error(r(327));var f=!u&&(s&124)===0&&(s&i.expiredLanes)===0||gn(i,s),p=f?l6(i,s):Gh(i,s,!0),y=f;do{if(p===0){ys&&!f&&gi(i,s,0,!1);break}else{if(u=i.current.alternate,y&&!o6(u)){p=Gh(i,s,!1),y=!1;continue}if(p===2){if(y=s,i.errorRecoveryDisabledLanes&y)var E=0;else E=i.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var T=i;p=Hl;var R=T.current.memoizedState.isDehydrated;if(R&&(xs(T,E).flags|=256),E=Gh(T,E,!1),E!==2){if(Ih&&!R){T.errorRecoveryDisabledLanes|=y,ao|=y,p=4;break e}y=xn,xn=p,y!==null&&(xn===null?xn=y:xn.push.apply(xn,y))}p=E}if(y=!1,p!==2)continue}}if(p===1){xs(i,0),gi(i,s,0,!0);break}e:{switch(f=i,y=p,y){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:gi(f,s,Zn,!di);break e;case 2:xn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(p=Uh+300-Xe(),10<p)){if(gi(f,s,Zn,!di),Mr(f,0,!0)!==0)break e;f.timeoutHandle=Vy(fy.bind(null,f,u,xn,Bu,_h,s,Zn,ao,bs,di,y,2,-0,0),p);break e}fy(f,u,xn,Bu,_h,s,Zn,ao,bs,di,y,0,-0,0)}}break}while(!0);pr(i)}function fy(i,s,u,f,p,y,E,T,R,j,K,Z,V,_){if(i.timeoutHandle=-1,Z=s.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(ql={stylesheets:null,count:0,unsuspend:_6},iy(s),Z=q6(),Z!==null)){i.cancelPendingCommit=Z(by.bind(null,i,s,y,u,f,p,E,T,R,K,1,V,_)),gi(i,y,E,!j);return}by(i,s,y,u,f,p,E,T,R)}function o6(i){for(var s=i;;){var u=s.tag;if((u===0||u===11||u===15)&&s.flags&16384&&(u=s.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var p=u[f],y=p.getSnapshot;p=p.value;try{if(!Nn(y(),p))return!1}catch{return!1}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function gi(i,s,u,f){s&=~Vh,s&=~ao,i.suspendedLanes|=s,i.pingedLanes&=~s,f&&(i.warmLanes|=s),f=i.expirationTimes;for(var p=s;0<p;){var y=31-Rt(p),E=1<<y;f[y]=-1,p&=~E}u!==0&&S0(i,u,s)}function ju(){return(Pe&6)===0?(Bl(0),!1):!0}function Kh(){if(De!==null){if(Fe===0)var i=De.return;else i=De,Nr=no=null,ah(i),hs=null,Tl=0,i=De;for(;i!==null;)F2(i.alternate,i),i=i.return;De=null}}function xs(i,s){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,E6(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),Kh(),et=i,De=u=Ar(i.current,null),Be=s,Fe=0,zn=null,di=!1,ys=gn(i,s),Ih=!1,bs=Zn=Vh=ao=hi=ft=0,xn=Hl=null,_h=!1,(s&8)!==0&&(s|=s&32);var f=i.entangledLanes;if(f!==0)for(i=i.entanglements,f&=s;0<f;){var p=31-Rt(f),y=1<<p;s|=i[p],f&=~y}return Vr=s,ou(),u}function dy(i,s){Ae=null,H.H=wu,s===yl||s===pu?(s=Rg(),Fe=3):s===Tg?(s=Rg(),Fe=4):Fe=s===O2?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,zn=s,De===null&&(ft=1,Ru(i,Pn(s,i.current)))}function hy(){var i=H.H;return H.H=wu,i===null?wu:i}function py(){var i=H.A;return H.A=r6,i}function $h(){ft=4,di||(Be&4194048)!==Be&&Gn.current!==null||(ys=!0),(hi&134217727)===0&&(ao&134217727)===0||et===null||gi(et,Be,Zn,!1)}function Gh(i,s,u){var f=Pe;Pe|=2;var p=hy(),y=py();(et!==i||Be!==s)&&(Bu=null,xs(i,s)),s=!1;var E=ft;e:do try{if(Fe!==0&&De!==null){var T=De,R=zn;switch(Fe){case 8:Kh(),E=6;break e;case 3:case 2:case 9:case 6:Gn.current===null&&(s=!0);var j=Fe;if(Fe=0,zn=null,Ss(i,T,R,j),u&&ys){E=0;break e}break;default:j=Fe,Fe=0,zn=null,Ss(i,T,R,j)}}s6(),E=ft;break}catch(K){dy(i,K)}while(!0);return s&&i.shellSuspendCounter++,Nr=no=null,Pe=f,H.H=p,H.A=y,De===null&&(et=null,Be=0,ou()),E}function s6(){for(;De!==null;)my(De)}function l6(i,s){var u=Pe;Pe|=2;var f=hy(),p=py();et!==i||Be!==s?(Bu=null,zu=Xe()+500,xs(i,s)):ys=gn(i,s);e:do try{if(Fe!==0&&De!==null){s=De;var y=zn;t:switch(Fe){case 1:Fe=0,zn=null,Ss(i,s,y,1);break;case 2:case 9:if(kg(y)){Fe=0,zn=null,gy(s);break}s=function(){Fe!==2&&Fe!==9||et!==i||(Fe=7),pr(i)},y.then(s,s);break e;case 3:Fe=7;break e;case 4:Fe=5;break e;case 7:kg(y)?(Fe=0,zn=null,gy(s)):(Fe=0,zn=null,Ss(i,s,y,7));break;case 5:var E=null;switch(De.tag){case 26:E=De.memoizedState;case 5:case 27:var T=De;if(!E||Qy(E)){Fe=0,zn=null;var R=T.sibling;if(R!==null)De=R;else{var j=T.return;j!==null?(De=j,Iu(j)):De=null}break t}}Fe=0,zn=null,Ss(i,s,y,5);break;case 6:Fe=0,zn=null,Ss(i,s,y,6);break;case 8:Kh(),ft=6;break e;default:throw Error(r(462))}}a6();break}catch(K){dy(i,K)}while(!0);return Nr=no=null,H.H=f,H.A=p,Pe=u,De!==null?0:(et=null,Be=0,ou(),ft)}function a6(){for(;De!==null&&!ut();)my(De)}function my(i){var s=q2(i.alternate,i,Vr);i.memoizedProps=i.pendingProps,s===null?Iu(i):De=s}function gy(i){var s=i,u=s.alternate;switch(s.tag){case 15:case 0:s=B2(u,s,s.pendingProps,s.type,void 0,Be);break;case 11:s=B2(u,s,s.pendingProps,s.type.render,s.ref,Be);break;case 5:ah(s);default:F2(u,s),s=De=yg(s,Vr),s=q2(u,s,Vr)}i.memoizedProps=i.pendingProps,s===null?Iu(i):De=s}function Ss(i,s,u,f){Nr=no=null,ah(s),hs=null,Tl=0;var p=s.return;try{if(QC(i,p,s,u,Be)){ft=1,Ru(i,Pn(u,i.current)),De=null;return}}catch(y){if(p!==null)throw De=p,y;ft=1,Ru(i,Pn(u,i.current)),De=null;return}s.flags&32768?(Ve||f===1?i=!0:ys||(Be&536870912)!==0?i=!1:(di=i=!0,(f===2||f===9||f===3||f===6)&&(f=Gn.current,f!==null&&f.tag===13&&(f.flags|=16384))),yy(s,i)):Iu(s)}function Iu(i){var s=i;do{if((s.flags&32768)!==0){yy(s,di);return}i=s.return;var u=WC(s.alternate,s,Vr);if(u!==null){De=u;return}if(s=s.sibling,s!==null){De=s;return}De=s=i}while(s!==null);ft===0&&(ft=5)}function yy(i,s){do{var u=e6(i.alternate,i);if(u!==null){u.flags&=32767,De=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!s&&(i=i.sibling,i!==null)){De=i;return}De=i=u}while(i!==null);ft=6,De=null}function by(i,s,u,f,p,y,E,T,R){i.cancelPendingCommit=null;do Vu();while(It!==0);if((Pe&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(y=s.lanes|s.childLanes,y|=jd,_9(i,u,y,E,T,R),i===et&&(De=et=null,Be=0),vs=s,mi=i,Cs=u,qh=y,Ph=p,ay=f,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,d6(Zt,function(){return Ey(),null})):(i.callbackNode=null,i.callbackPriority=0),f=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||f){f=H.T,H.T=null,p=U.p,U.p=2,E=Pe,Pe|=4;try{t6(i,s,u)}finally{Pe=E,U.p=p,H.T=f}}It=1,vy(),Cy(),xy()}}function vy(){if(It===1){It=0;var i=mi,s=vs,u=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||u){u=H.T,H.T=null;var f=U.p;U.p=2;var p=Pe;Pe|=4;try{ty(s,i);var y=op,E=lg(i.containerInfo),T=y.focusedElem,R=y.selectionRange;if(E!==T&&T&&T.ownerDocument&&sg(T.ownerDocument.documentElement,T)){if(R!==null&&Dd(T)){var j=R.start,K=R.end;if(K===void 0&&(K=j),"selectionStart"in T)T.selectionStart=j,T.selectionEnd=Math.min(K,T.value.length);else{var Z=T.ownerDocument||document,V=Z&&Z.defaultView||window;if(V.getSelection){var _=V.getSelection(),be=T.textContent.length,pe=Math.min(R.start,be),Ge=R.end===void 0?pe:Math.min(R.end,be);!_.extend&&pe>Ge&&(E=Ge,Ge=pe,pe=E);var L=og(T,pe),N=og(T,Ge);if(L&&N&&(_.rangeCount!==1||_.anchorNode!==L.node||_.anchorOffset!==L.offset||_.focusNode!==N.node||_.focusOffset!==N.offset)){var B=Z.createRange();B.setStart(L.node,L.offset),_.removeAllRanges(),pe>Ge?(_.addRange(B),_.extend(N.node,N.offset)):(B.setEnd(N.node,N.offset),_.addRange(B))}}}}for(Z=[],_=T;_=_.parentNode;)_.nodeType===1&&Z.push({element:_,left:_.scrollLeft,top:_.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Z.length;T++){var G=Z[T];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}Qu=!!ip,op=ip=null}finally{Pe=p,U.p=f,H.T=u}}i.current=s,It=2}}function Cy(){if(It===2){It=0;var i=mi,s=vs,u=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||u){u=H.T,H.T=null;var f=U.p;U.p=2;var p=Pe;Pe|=4;try{Q2(i,s.alternate,s)}finally{Pe=p,U.p=f,H.T=u}}It=3}}function xy(){if(It===4||It===3){It=0,st();var i=mi,s=vs,u=Cs,f=ay;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?It=5:(It=0,vs=mi=null,Sy(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(pi=null),fd(u),s=s.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(Ue,s,void 0,(s.current.flags&128)===128)}catch{}if(f!==null){s=H.T,p=U.p,U.p=2,H.T=null;try{for(var y=i.onRecoverableError,E=0;E<f.length;E++){var T=f[E];y(T.value,{componentStack:T.stack})}}finally{H.T=s,U.p=p}}(Cs&3)!==0&&Vu(),pr(i),p=i.pendingLanes,(u&4194090)!==0&&(p&42)!==0?i===Fh?zl++:(zl=0,Fh=i):zl=0,Bl(0)}}function Sy(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,ml(s)))}function Vu(i){return vy(),Cy(),xy(),Ey()}function Ey(){if(It!==5)return!1;var i=mi,s=qh;qh=0;var u=fd(Cs),f=H.T,p=U.p;try{U.p=32>u?32:u,H.T=null,u=Ph,Ph=null;var y=mi,E=Cs;if(It=0,vs=mi=null,Cs=0,(Pe&6)!==0)throw Error(r(331));var T=Pe;if(Pe|=4,sy(y.current),ry(y,y.current,E,u),Pe=T,Bl(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(Ue,y)}catch{}return!0}finally{U.p=p,H.T=f,Sy(i,s)}}function wy(i,s,u){s=Pn(u,s),s=Sh(i.stateNode,s,2),i=oi(i,s,2),i!==null&&(Ws(i,2),pr(i))}function Je(i,s,u){if(i.tag===3)wy(i,i,u);else for(;s!==null;){if(s.tag===3){wy(s,i,u);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(pi===null||!pi.has(f))){i=Pn(u,i),u=A2(2),f=oi(s,u,2),f!==null&&(R2(u,f,s,i),Ws(f,2),pr(f));break}}s=s.return}}function Zh(i,s,u){var f=i.pingCache;if(f===null){f=i.pingCache=new i6;var p=new Set;f.set(s,p)}else p=f.get(s),p===void 0&&(p=new Set,f.set(s,p));p.has(u)||(Ih=!0,p.add(u),i=u6.bind(null,i,s,u),s.then(i,i))}function u6(i,s,u){var f=i.pingCache;f!==null&&f.delete(s),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,et===i&&(Be&u)===u&&(ft===4||ft===3&&(Be&62914560)===Be&&300>Xe()-Uh?(Pe&2)===0&&xs(i,0):Vh|=u,bs===Be&&(bs=0)),pr(i)}function My(i,s){s===0&&(s=Xs()),i=ns(i,s),i!==null&&(Ws(i,s),pr(i))}function c6(i){var s=i.memoizedState,u=0;s!==null&&(u=s.retryLane),My(i,u)}function f6(i,s){var u=0;switch(i.tag){case 13:var f=i.stateNode,p=i.memoizedState;p!==null&&(u=p.retryLane);break;case 19:f=i.stateNode;break;case 22:f=i.stateNode._retryCache;break;default:throw Error(r(314))}f!==null&&f.delete(s),My(i,u)}function d6(i,s){return Ee(i,s)}var _u=null,Es=null,Yh=!1,Uu=!1,Jh=!1,uo=0;function pr(i){i!==Es&&i.next===null&&(Es===null?_u=Es=i:Es=Es.next=i),Uu=!0,Yh||(Yh=!0,p6())}function Bl(i,s){if(!Jh&&Uu){Jh=!0;do for(var u=!1,f=_u;f!==null;){if(i!==0){var p=f.pendingLanes;if(p===0)var y=0;else{var E=f.suspendedLanes,T=f.pingedLanes;y=(1<<31-Rt(42|i)+1)-1,y&=p&~(E&~T),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(u=!0,Ry(f,y))}else y=Be,y=Mr(f,f===et?y:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(y&3)===0||gn(f,y)||(u=!0,Ry(f,y));f=f.next}while(u);Jh=!1}}function h6(){Ty()}function Ty(){Uu=Yh=!1;var i=0;uo!==0&&(S6()&&(i=uo),uo=0);for(var s=Xe(),u=null,f=_u;f!==null;){var p=f.next,y=ky(f,s);y===0?(f.next=null,u===null?_u=p:u.next=p,p===null&&(Es=u)):(u=f,(i!==0||(y&3)!==0)&&(Uu=!0)),f=p}Bl(i)}function ky(i,s){for(var u=i.suspendedLanes,f=i.pingedLanes,p=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var E=31-Rt(y),T=1<<E,R=p[E];R===-1?((T&u)===0||(T&f)!==0)&&(p[E]=_o(T,s)):R<=s&&(i.expiredLanes|=T),y&=~T}if(s=et,u=Be,u=Mr(i,i===s?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f=i.callbackNode,u===0||i===s&&(Fe===2||Fe===9)||i.cancelPendingCommit!==null)return f!==null&&f!==null&&we(f),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||gn(i,u)){if(s=u&-u,s===i.callbackPriority)return s;switch(f!==null&&we(f),fd(u)){case 2:case 8:u=Ye;break;case 32:u=Zt;break;case 268435456:u=Ie;break;default:u=Zt}return f=Ay.bind(null,i),u=Ee(u,f),i.callbackPriority=s,i.callbackNode=u,s}return f!==null&&f!==null&&we(f),i.callbackPriority=2,i.callbackNode=null,2}function Ay(i,s){if(It!==0&&It!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(Vu()&&i.callbackNode!==u)return null;var f=Be;return f=Mr(i,i===et?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f===0?null:(cy(i,f,s),ky(i,Xe()),i.callbackNode!=null&&i.callbackNode===u?Ay.bind(null,i):null)}function Ry(i,s){if(Vu())return null;cy(i,s,!0)}function p6(){w6(function(){(Pe&6)!==0?Ee(_e,h6):Ty()})}function Qh(){return uo===0&&(uo=Ga()),uo}function Oy(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Xa(""+i)}function Ny(i,s){var u=s.ownerDocument.createElement("input");return u.name=s.name,u.value=s.value,i.id&&u.setAttribute("form",i.id),s.parentNode.insertBefore(u,s),i=new FormData(i),u.parentNode.removeChild(u),i}function m6(i,s,u,f,p){if(s==="submit"&&u&&u.stateNode===p){var y=Oy((p[yn]||null).action),E=f.submitter;E&&(s=(s=E[yn]||null)?Oy(s.formAction):E.getAttribute("formAction"),s!==null&&(y=s,E=null));var T=new nu("action","action",null,f,p);i.push({event:T,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(uo!==0){var R=E?Ny(p,E):new FormData(p);yh(u,{pending:!0,data:R,method:p.method,action:y},null,R)}}else typeof y=="function"&&(T.preventDefault(),R=E?Ny(p,E):new FormData(p),yh(u,{pending:!0,data:R,method:p.method,action:y},y,R))},currentTarget:p}]})}}for(var Xh=0;Xh<Bd.length;Xh++){var Wh=Bd[Xh],g6=Wh.toLowerCase(),y6=Wh[0].toUpperCase()+Wh.slice(1);rr(g6,"on"+y6)}rr(cg,"onAnimationEnd"),rr(fg,"onAnimationIteration"),rr(dg,"onAnimationStart"),rr("dblclick","onDoubleClick"),rr("focusin","onFocus"),rr("focusout","onBlur"),rr(HC,"onTransitionRun"),rr(zC,"onTransitionStart"),rr(BC,"onTransitionCancel"),rr(hg,"onTransitionEnd"),$o("onMouseEnter",["mouseout","mouseover"]),$o("onMouseLeave",["mouseout","mouseover"]),$o("onPointerEnter",["pointerout","pointerover"]),$o("onPointerLeave",["pointerout","pointerover"]),Gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),b6=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jl));function Dy(i,s){s=(s&4)!==0;for(var u=0;u<i.length;u++){var f=i[u],p=f.event;f=f.listeners;e:{var y=void 0;if(s)for(var E=f.length-1;0<=E;E--){var T=f[E],R=T.instance,j=T.currentTarget;if(T=T.listener,R!==y&&p.isPropagationStopped())break e;y=T,p.currentTarget=j;try{y(p)}catch(K){Au(K)}p.currentTarget=null,y=R}else for(E=0;E<f.length;E++){if(T=f[E],R=T.instance,j=T.currentTarget,T=T.listener,R!==y&&p.isPropagationStopped())break e;y=T,p.currentTarget=j;try{y(p)}catch(K){Au(K)}p.currentTarget=null,y=R}}}}function Le(i,s){var u=s[dd];u===void 0&&(u=s[dd]=new Set);var f=i+"__bubble";u.has(f)||(Ly(s,i,2,!1),u.add(f))}function ep(i,s,u){var f=0;s&&(f|=4),Ly(u,i,f,s)}var qu="_reactListening"+Math.random().toString(36).slice(2);function tp(i){if(!i[qu]){i[qu]=!0,T0.forEach(function(u){u!=="selectionchange"&&(b6.has(u)||ep(u,!1,i),ep(u,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[qu]||(s[qu]=!0,ep("selectionchange",!1,s))}}function Ly(i,s,u,f){switch(r7(s)){case 2:var p=K6;break;case 8:p=$6;break;default:p=mp}u=p.bind(null,s,u,i),p=void 0,!Ed||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),f?p!==void 0?i.addEventListener(s,u,{capture:!0,passive:p}):i.addEventListener(s,u,!0):p!==void 0?i.addEventListener(s,u,{passive:p}):i.addEventListener(s,u,!1)}function np(i,s,u,f,p){var y=f;if((s&1)===0&&(s&2)===0&&f!==null)e:for(;;){if(f===null)return;var E=f.tag;if(E===3||E===4){var T=f.stateNode.containerInfo;if(T===p)break;if(E===4)for(E=f.return;E!==null;){var R=E.tag;if((R===3||R===4)&&E.stateNode.containerInfo===p)return;E=E.return}for(;T!==null;){if(E=Po(T),E===null)return;if(R=E.tag,R===5||R===6||R===26||R===27){f=y=E;continue e}T=T.parentNode}}f=f.return}_0(function(){var j=y,K=xd(u),Z=[];e:{var V=pg.get(i);if(V!==void 0){var _=nu,be=i;switch(i){case"keypress":if(eu(u)===0)break e;case"keydown":case"keyup":_=dC;break;case"focusin":be="focus",_=kd;break;case"focusout":be="blur",_=kd;break;case"beforeblur":case"afterblur":_=kd;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=P0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=eC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=mC;break;case cg:case fg:case dg:_=rC;break;case hg:_=yC;break;case"scroll":case"scrollend":_=X9;break;case"wheel":_=vC;break;case"copy":case"cut":case"paste":_=oC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=K0;break;case"toggle":case"beforetoggle":_=xC}var pe=(s&4)!==0,Ge=!pe&&(i==="scroll"||i==="scrollend"),L=pe?V!==null?V+"Capture":null:V;pe=[];for(var N=j,B;N!==null;){var G=N;if(B=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||B===null||L===null||(G=nl(N,L),G!=null&&pe.push(Il(N,G,B))),Ge)break;N=N.return}0<pe.length&&(V=new _(V,be,null,u,K),Z.push({event:V,listeners:pe}))}}if((s&7)===0){e:{if(V=i==="mouseover"||i==="pointerover",_=i==="mouseout"||i==="pointerout",V&&u!==Cd&&(be=u.relatedTarget||u.fromElement)&&(Po(be)||be[qo]))break e;if((_||V)&&(V=K.window===K?K:(V=K.ownerDocument)?V.defaultView||V.parentWindow:window,_?(be=u.relatedTarget||u.toElement,_=j,be=be?Po(be):null,be!==null&&(Ge=l(be),pe=be.tag,be!==Ge||pe!==5&&pe!==27&&pe!==6)&&(be=null)):(_=null,be=j),_!==be)){if(pe=P0,G="onMouseLeave",L="onMouseEnter",N="mouse",(i==="pointerout"||i==="pointerover")&&(pe=K0,G="onPointerLeave",L="onPointerEnter",N="pointer"),Ge=_==null?V:tl(_),B=be==null?V:tl(be),V=new pe(G,N+"leave",_,u,K),V.target=Ge,V.relatedTarget=B,G=null,Po(K)===j&&(pe=new pe(L,N+"enter",be,u,K),pe.target=B,pe.relatedTarget=Ge,G=pe),Ge=G,_&&be)t:{for(pe=_,L=be,N=0,B=pe;B;B=ws(B))N++;for(B=0,G=L;G;G=ws(G))B++;for(;0<N-B;)pe=ws(pe),N--;for(;0<B-N;)L=ws(L),B--;for(;N--;){if(pe===L||L!==null&&pe===L.alternate)break t;pe=ws(pe),L=ws(L)}pe=null}else pe=null;_!==null&&Hy(Z,V,_,pe,!1),be!==null&&Ge!==null&&Hy(Z,Ge,be,pe,!0)}}e:{if(V=j?tl(j):window,_=V.nodeName&&V.nodeName.toLowerCase(),_==="select"||_==="input"&&V.type==="file")var ae=W0;else if(Q0(V))if(eg)ae=NC;else{ae=RC;var Oe=AC}else _=V.nodeName,!_||_.toLowerCase()!=="input"||V.type!=="checkbox"&&V.type!=="radio"?j&&vd(j.elementType)&&(ae=W0):ae=OC;if(ae&&(ae=ae(i,j))){X0(Z,ae,u,K);break e}Oe&&Oe(i,V,j),i==="focusout"&&j&&V.type==="number"&&j.memoizedProps.value!=null&&bd(V,"number",V.value)}switch(Oe=j?tl(j):window,i){case"focusin":(Q0(Oe)||Oe.contentEditable==="true")&&(Wo=Oe,Ld=j,cl=null);break;case"focusout":cl=Ld=Wo=null;break;case"mousedown":Hd=!0;break;case"contextmenu":case"mouseup":case"dragend":Hd=!1,ag(Z,u,K);break;case"selectionchange":if(LC)break;case"keydown":case"keyup":ag(Z,u,K)}var fe;if(Rd)e:{switch(i){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else Xo?Y0(i,u)&&(ye="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(ye="onCompositionStart");ye&&($0&&u.locale!=="ko"&&(Xo||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&Xo&&(fe=U0()):(ti=K,wd="value"in ti?ti.value:ti.textContent,Xo=!0)),Oe=Pu(j,ye),0<Oe.length&&(ye=new F0(ye,i,null,u,K),Z.push({event:ye,listeners:Oe}),fe?ye.data=fe:(fe=J0(u),fe!==null&&(ye.data=fe)))),(fe=EC?wC(i,u):MC(i,u))&&(ye=Pu(j,"onBeforeInput"),0<ye.length&&(Oe=new F0("onBeforeInput","beforeinput",null,u,K),Z.push({event:Oe,listeners:ye}),Oe.data=fe)),m6(Z,i,j,u,K)}Dy(Z,s)})}function Il(i,s,u){return{instance:i,listener:s,currentTarget:u}}function Pu(i,s){for(var u=s+"Capture",f=[];i!==null;){var p=i,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=nl(i,u),p!=null&&f.unshift(Il(i,p,y)),p=nl(i,s),p!=null&&f.push(Il(i,p,y))),i.tag===3)return f;i=i.return}return[]}function ws(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Hy(i,s,u,f,p){for(var y=s._reactName,E=[];u!==null&&u!==f;){var T=u,R=T.alternate,j=T.stateNode;if(T=T.tag,R!==null&&R===f)break;T!==5&&T!==26&&T!==27||j===null||(R=j,p?(j=nl(u,y),j!=null&&E.unshift(Il(u,j,R))):p||(j=nl(u,y),j!=null&&E.push(Il(u,j,R)))),u=u.return}E.length!==0&&i.push({event:s,listeners:E})}var v6=/\r\n?/g,C6=/\u0000|\uFFFD/g;function zy(i){return(typeof i=="string"?i:""+i).replace(v6,`
`).replace(C6,"")}function By(i,s){return s=zy(s),zy(i)===s}function Fu(){}function $e(i,s,u,f,p,y){switch(u){case"children":typeof f=="string"?s==="body"||s==="textarea"&&f===""||Yo(i,f):(typeof f=="number"||typeof f=="bigint")&&s!=="body"&&Yo(i,""+f);break;case"className":Ya(i,"class",f);break;case"tabIndex":Ya(i,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Ya(i,u,f);break;case"style":I0(i,f,y);break;case"data":if(s!=="object"){Ya(i,"data",f);break}case"src":case"href":if(f===""&&(s!=="a"||u!=="href")){i.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(u);break}f=Xa(""+f),i.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(u==="formAction"?(s!=="input"&&$e(i,s,"name",p.name,p,null),$e(i,s,"formEncType",p.formEncType,p,null),$e(i,s,"formMethod",p.formMethod,p,null),$e(i,s,"formTarget",p.formTarget,p,null)):($e(i,s,"encType",p.encType,p,null),$e(i,s,"method",p.method,p,null),$e(i,s,"target",p.target,p,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(u);break}f=Xa(""+f),i.setAttribute(u,f);break;case"onClick":f!=null&&(i.onclick=Fu);break;case"onScroll":f!=null&&Le("scroll",i);break;case"onScrollEnd":f!=null&&Le("scrollend",i);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(u=f.__html,u!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"multiple":i.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":i.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){i.removeAttribute("xlink:href");break}u=Xa(""+f),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(u,""+f):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":f===!0?i.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(u,f):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?i.setAttribute(u,f):i.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?i.removeAttribute(u):i.setAttribute(u,f);break;case"popover":Le("beforetoggle",i),Le("toggle",i),Za(i,"popover",f);break;case"xlinkActuate":Tr(i,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Tr(i,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Tr(i,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Tr(i,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Tr(i,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Tr(i,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Tr(i,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Tr(i,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Tr(i,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Za(i,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=J9.get(u)||u,Za(i,u,f))}}function rp(i,s,u,f,p,y){switch(u){case"style":I0(i,f,y);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(u=f.__html,u!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"children":typeof f=="string"?Yo(i,f):(typeof f=="number"||typeof f=="bigint")&&Yo(i,""+f);break;case"onScroll":f!=null&&Le("scroll",i);break;case"onScrollEnd":f!=null&&Le("scrollend",i);break;case"onClick":f!=null&&(i.onclick=Fu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!k0.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(p=u.endsWith("Capture"),s=u.slice(2,p?u.length-7:void 0),y=i[yn]||null,y=y!=null?y[u]:null,typeof y=="function"&&i.removeEventListener(s,y,p),typeof f=="function")){typeof y!="function"&&y!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(s,f,p);break e}u in i?i[u]=f:f===!0?i.setAttribute(u,""):Za(i,u,f)}}}function Vt(i,s,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",i),Le("load",i);var f=!1,p=!1,y;for(y in u)if(u.hasOwnProperty(y)){var E=u[y];if(E!=null)switch(y){case"src":f=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:$e(i,s,y,E,u,null)}}p&&$e(i,s,"srcSet",u.srcSet,u,null),f&&$e(i,s,"src",u.src,u,null);return;case"input":Le("invalid",i);var T=y=E=p=null,R=null,j=null;for(f in u)if(u.hasOwnProperty(f)){var K=u[f];if(K!=null)switch(f){case"name":p=K;break;case"type":E=K;break;case"checked":R=K;break;case"defaultChecked":j=K;break;case"value":y=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,s));break;default:$e(i,s,f,K,u,null)}}H0(i,y,T,R,j,E,p,!1),Ja(i);return;case"select":Le("invalid",i),f=E=y=null;for(p in u)if(u.hasOwnProperty(p)&&(T=u[p],T!=null))switch(p){case"value":y=T;break;case"defaultValue":E=T;break;case"multiple":f=T;default:$e(i,s,p,T,u,null)}s=y,u=E,i.multiple=!!f,s!=null?Zo(i,!!f,s,!1):u!=null&&Zo(i,!!f,u,!0);return;case"textarea":Le("invalid",i),y=p=f=null;for(E in u)if(u.hasOwnProperty(E)&&(T=u[E],T!=null))switch(E){case"value":f=T;break;case"defaultValue":p=T;break;case"children":y=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:$e(i,s,E,T,u,null)}B0(i,f,p,y),Ja(i);return;case"option":for(R in u)if(u.hasOwnProperty(R)&&(f=u[R],f!=null))switch(R){case"selected":i.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:$e(i,s,R,f,u,null)}return;case"dialog":Le("beforetoggle",i),Le("toggle",i),Le("cancel",i),Le("close",i);break;case"iframe":case"object":Le("load",i);break;case"video":case"audio":for(f=0;f<jl.length;f++)Le(jl[f],i);break;case"image":Le("error",i),Le("load",i);break;case"details":Le("toggle",i);break;case"embed":case"source":case"link":Le("error",i),Le("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in u)if(u.hasOwnProperty(j)&&(f=u[j],f!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:$e(i,s,j,f,u,null)}return;default:if(vd(s)){for(K in u)u.hasOwnProperty(K)&&(f=u[K],f!==void 0&&rp(i,s,K,f,u,void 0));return}}for(T in u)u.hasOwnProperty(T)&&(f=u[T],f!=null&&$e(i,s,T,f,u,null))}function x6(i,s,u,f){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,E=null,T=null,R=null,j=null,K=null;for(_ in u){var Z=u[_];if(u.hasOwnProperty(_)&&Z!=null)switch(_){case"checked":break;case"value":break;case"defaultValue":R=Z;default:f.hasOwnProperty(_)||$e(i,s,_,null,f,Z)}}for(var V in f){var _=f[V];if(Z=u[V],f.hasOwnProperty(V)&&(_!=null||Z!=null))switch(V){case"type":y=_;break;case"name":p=_;break;case"checked":j=_;break;case"defaultChecked":K=_;break;case"value":E=_;break;case"defaultValue":T=_;break;case"children":case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(137,s));break;default:_!==Z&&$e(i,s,V,_,f,Z)}}yd(i,E,T,R,j,K,y,p);return;case"select":_=E=T=V=null;for(y in u)if(R=u[y],u.hasOwnProperty(y)&&R!=null)switch(y){case"value":break;case"multiple":_=R;default:f.hasOwnProperty(y)||$e(i,s,y,null,f,R)}for(p in f)if(y=f[p],R=u[p],f.hasOwnProperty(p)&&(y!=null||R!=null))switch(p){case"value":V=y;break;case"defaultValue":T=y;break;case"multiple":E=y;default:y!==R&&$e(i,s,p,y,f,R)}s=T,u=E,f=_,V!=null?Zo(i,!!u,V,!1):!!f!=!!u&&(s!=null?Zo(i,!!u,s,!0):Zo(i,!!u,u?[]:"",!1));return;case"textarea":_=V=null;for(T in u)if(p=u[T],u.hasOwnProperty(T)&&p!=null&&!f.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:$e(i,s,T,null,f,p)}for(E in f)if(p=f[E],y=u[E],f.hasOwnProperty(E)&&(p!=null||y!=null))switch(E){case"value":V=p;break;case"defaultValue":_=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==y&&$e(i,s,E,p,f,y)}z0(i,V,_);return;case"option":for(var be in u)if(V=u[be],u.hasOwnProperty(be)&&V!=null&&!f.hasOwnProperty(be))switch(be){case"selected":i.selected=!1;break;default:$e(i,s,be,null,f,V)}for(R in f)if(V=f[R],_=u[R],f.hasOwnProperty(R)&&V!==_&&(V!=null||_!=null))switch(R){case"selected":i.selected=V&&typeof V!="function"&&typeof V!="symbol";break;default:$e(i,s,R,V,f,_)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in u)V=u[pe],u.hasOwnProperty(pe)&&V!=null&&!f.hasOwnProperty(pe)&&$e(i,s,pe,null,f,V);for(j in f)if(V=f[j],_=u[j],f.hasOwnProperty(j)&&V!==_&&(V!=null||_!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(r(137,s));break;default:$e(i,s,j,V,f,_)}return;default:if(vd(s)){for(var Ge in u)V=u[Ge],u.hasOwnProperty(Ge)&&V!==void 0&&!f.hasOwnProperty(Ge)&&rp(i,s,Ge,void 0,f,V);for(K in f)V=f[K],_=u[K],!f.hasOwnProperty(K)||V===_||V===void 0&&_===void 0||rp(i,s,K,V,f,_);return}}for(var L in u)V=u[L],u.hasOwnProperty(L)&&V!=null&&!f.hasOwnProperty(L)&&$e(i,s,L,null,f,V);for(Z in f)V=f[Z],_=u[Z],!f.hasOwnProperty(Z)||V===_||V==null&&_==null||$e(i,s,Z,V,f,_)}var ip=null,op=null;function Ku(i){return i.nodeType===9?i:i.ownerDocument}function jy(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Iy(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function sp(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var lp=null;function S6(){var i=window.event;return i&&i.type==="popstate"?i===lp?!1:(lp=i,!0):(lp=null,!1)}var Vy=typeof setTimeout=="function"?setTimeout:void 0,E6=typeof clearTimeout=="function"?clearTimeout:void 0,_y=typeof Promise=="function"?Promise:void 0,w6=typeof queueMicrotask=="function"?queueMicrotask:typeof _y<"u"?function(i){return _y.resolve(null).then(i).catch(M6)}:Vy;function M6(i){setTimeout(function(){throw i})}function yi(i){return i==="head"}function Uy(i,s){var u=s,f=0,p=0;do{var y=u.nextSibling;if(i.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"){if(0<f&&8>f){u=f;var E=i.ownerDocument;if(u&1&&Vl(E.documentElement),u&2&&Vl(E.body),u&4)for(u=E.head,Vl(u),E=u.firstChild;E;){var T=E.nextSibling,R=E.nodeName;E[el]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&E.rel.toLowerCase()==="stylesheet"||u.removeChild(E),E=T}}if(p===0){i.removeChild(y),Gl(s);return}p--}else u==="$"||u==="$?"||u==="$!"?p++:f=u.charCodeAt(0)-48;else f=0;u=y}while(u);Gl(s)}function ap(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var u=s;switch(s=s.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":ap(u),hd(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function T6(i,s,u,f){for(;i.nodeType===1;){var p=u;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!f&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(f){if(!i[el])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=or(i.nextSibling),i===null)break}return null}function k6(i,s,u){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=or(i.nextSibling),i===null))return null;return i}function up(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function A6(i,s){var u=i.ownerDocument;if(i.data!=="$?"||u.readyState==="complete")s();else{var f=function(){s(),u.removeEventListener("DOMContentLoaded",f)};u.addEventListener("DOMContentLoaded",f),i._reactRetry=f}}function or(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var cp=null;function qy(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(s===0)return i;s--}else u==="/$"&&s++}i=i.previousSibling}return null}function Py(i,s,u){switch(s=Ku(u),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Vl(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);hd(i)}var Yn=new Map,Fy=new Set;function $u(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var _r=U.d;U.d={f:R6,r:O6,D:N6,C:D6,L:L6,m:H6,X:B6,S:z6,M:j6};function R6(){var i=_r.f(),s=ju();return i||s}function O6(i){var s=Fo(i);s!==null&&s.tag===5&&s.type==="form"?c2(s):_r.r(i)}var Ms=typeof document>"u"?null:document;function Ky(i,s,u){var f=Ms;if(f&&typeof s=="string"&&s){var p=qn(s);p='link[rel="'+i+'"][href="'+p+'"]',typeof u=="string"&&(p+='[crossorigin="'+u+'"]'),Fy.has(p)||(Fy.add(p),i={rel:i,crossOrigin:u,href:s},f.querySelector(p)===null&&(s=f.createElement("link"),Vt(s,"link",i),Ot(s),f.head.appendChild(s)))}}function N6(i){_r.D(i),Ky("dns-prefetch",i,null)}function D6(i,s){_r.C(i,s),Ky("preconnect",i,s)}function L6(i,s,u){_r.L(i,s,u);var f=Ms;if(f&&i&&s){var p='link[rel="preload"][as="'+qn(s)+'"]';s==="image"&&u&&u.imageSrcSet?(p+='[imagesrcset="'+qn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(p+='[imagesizes="'+qn(u.imageSizes)+'"]')):p+='[href="'+qn(i)+'"]';var y=p;switch(s){case"style":y=Ts(i);break;case"script":y=ks(i)}Yn.has(y)||(i=m({rel:"preload",href:s==="image"&&u&&u.imageSrcSet?void 0:i,as:s},u),Yn.set(y,i),f.querySelector(p)!==null||s==="style"&&f.querySelector(_l(y))||s==="script"&&f.querySelector(Ul(y))||(s=f.createElement("link"),Vt(s,"link",i),Ot(s),f.head.appendChild(s)))}}function H6(i,s){_r.m(i,s);var u=Ms;if(u&&i){var f=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+qn(f)+'"][href="'+qn(i)+'"]',y=p;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=ks(i)}if(!Yn.has(y)&&(i=m({rel:"modulepreload",href:i},s),Yn.set(y,i),u.querySelector(p)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Ul(y)))return}f=u.createElement("link"),Vt(f,"link",i),Ot(f),u.head.appendChild(f)}}}function z6(i,s,u){_r.S(i,s,u);var f=Ms;if(f&&i){var p=Ko(f).hoistableStyles,y=Ts(i);s=s||"default";var E=p.get(y);if(!E){var T={loading:0,preload:null};if(E=f.querySelector(_l(y)))T.loading=5;else{i=m({rel:"stylesheet",href:i,"data-precedence":s},u),(u=Yn.get(y))&&fp(i,u);var R=E=f.createElement("link");Ot(R),Vt(R,"link",i),R._p=new Promise(function(j,K){R.onload=j,R.onerror=K}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Gu(E,s,f)}E={type:"stylesheet",instance:E,count:1,state:T},p.set(y,E)}}}function B6(i,s){_r.X(i,s);var u=Ms;if(u&&i){var f=Ko(u).hoistableScripts,p=ks(i),y=f.get(p);y||(y=u.querySelector(Ul(p)),y||(i=m({src:i,async:!0},s),(s=Yn.get(p))&&dp(i,s),y=u.createElement("script"),Ot(y),Vt(y,"link",i),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},f.set(p,y))}}function j6(i,s){_r.M(i,s);var u=Ms;if(u&&i){var f=Ko(u).hoistableScripts,p=ks(i),y=f.get(p);y||(y=u.querySelector(Ul(p)),y||(i=m({src:i,async:!0,type:"module"},s),(s=Yn.get(p))&&dp(i,s),y=u.createElement("script"),Ot(y),Vt(y,"link",i),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},f.set(p,y))}}function $y(i,s,u,f){var p=(p=oe.current)?$u(p):null;if(!p)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(s=Ts(u.href),u=Ko(p).hoistableStyles,f=u.get(s),f||(f={type:"style",instance:null,count:0,state:null},u.set(s,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=Ts(u.href);var y=Ko(p).hoistableStyles,E=y.get(i);if(E||(p=p.ownerDocument||p,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,E),(y=p.querySelector(_l(i)))&&!y._p&&(E.instance=y,E.state.loading=5),Yn.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Yn.set(i,u),y||I6(p,i,u,E.state))),s&&f===null)throw Error(r(528,""));return E}if(s&&f!==null)throw Error(r(529,""));return null;case"script":return s=u.async,u=u.src,typeof u=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=ks(u),u=Ko(p).hoistableScripts,f=u.get(s),f||(f={type:"script",instance:null,count:0,state:null},u.set(s,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Ts(i){return'href="'+qn(i)+'"'}function _l(i){return'link[rel="stylesheet"]['+i+"]"}function Gy(i){return m({},i,{"data-precedence":i.precedence,precedence:null})}function I6(i,s,u,f){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?f.loading=1:(s=i.createElement("link"),f.preload=s,s.addEventListener("load",function(){return f.loading|=1}),s.addEventListener("error",function(){return f.loading|=2}),Vt(s,"link",u),Ot(s),i.head.appendChild(s))}function ks(i){return'[src="'+qn(i)+'"]'}function Ul(i){return"script[async]"+i}function Zy(i,s,u){if(s.count++,s.instance===null)switch(s.type){case"style":var f=i.querySelector('style[data-href~="'+qn(u.href)+'"]');if(f)return s.instance=f,Ot(f),f;var p=m({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(i.ownerDocument||i).createElement("style"),Ot(f),Vt(f,"style",p),Gu(f,u.precedence,i),s.instance=f;case"stylesheet":p=Ts(u.href);var y=i.querySelector(_l(p));if(y)return s.state.loading|=4,s.instance=y,Ot(y),y;f=Gy(u),(p=Yn.get(p))&&fp(f,p),y=(i.ownerDocument||i).createElement("link"),Ot(y);var E=y;return E._p=new Promise(function(T,R){E.onload=T,E.onerror=R}),Vt(y,"link",f),s.state.loading|=4,Gu(y,u.precedence,i),s.instance=y;case"script":return y=ks(u.src),(p=i.querySelector(Ul(y)))?(s.instance=p,Ot(p),p):(f=u,(p=Yn.get(y))&&(f=m({},u),dp(f,p)),i=i.ownerDocument||i,p=i.createElement("script"),Ot(p),Vt(p,"link",f),i.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(f=s.instance,s.state.loading|=4,Gu(f,u.precedence,i));return s.instance}function Gu(i,s,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=f.length?f[f.length-1]:null,y=p,E=0;E<f.length;E++){var T=f[E];if(T.dataset.precedence===s)y=T;else if(y!==p)break}y?y.parentNode.insertBefore(i,y.nextSibling):(s=u.nodeType===9?u.head:u,s.insertBefore(i,s.firstChild))}function fp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function dp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Zu=null;function Yy(i,s,u){if(Zu===null){var f=new Map,p=Zu=new Map;p.set(u,f)}else p=Zu,f=p.get(u),f||(f=new Map,p.set(u,f));if(f.has(i))return f;for(f.set(i,null),u=u.getElementsByTagName(i),p=0;p<u.length;p++){var y=u[p];if(!(y[el]||y[Yt]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var E=y.getAttribute(s)||"";E=i+E;var T=f.get(E);T?T.push(y):f.set(E,[y])}}return f}function Jy(i,s,u){i=i.ownerDocument||i,i.head.insertBefore(u,s==="title"?i.querySelector("head > title"):null)}function V6(i,s,u){if(u===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Qy(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var ql=null;function _6(){}function U6(i,s,u){if(ql===null)throw Error(r(475));var f=ql;if(s.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var p=Ts(u.href),y=i.querySelector(_l(p));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(f.count++,f=Yu.bind(f),i.then(f,f)),s.state.loading|=4,s.instance=y,Ot(y);return}y=i.ownerDocument||i,u=Gy(u),(p=Yn.get(p))&&fp(u,p),y=y.createElement("link"),Ot(y);var E=y;E._p=new Promise(function(T,R){E.onload=T,E.onerror=R}),Vt(y,"link",u),s.instance=y}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(f.count++,s=Yu.bind(f),i.addEventListener("load",s),i.addEventListener("error",s))}}function q6(){if(ql===null)throw Error(r(475));var i=ql;return i.stylesheets&&i.count===0&&hp(i,i.stylesheets),0<i.count?function(s){var u=setTimeout(function(){if(i.stylesheets&&hp(i,i.stylesheets),i.unsuspend){var f=i.unsuspend;i.unsuspend=null,f()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(u)}}:null}function Yu(){if(this.count--,this.count===0){if(this.stylesheets)hp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Ju=null;function hp(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Ju=new Map,s.forEach(P6,i),Ju=null,Yu.call(i))}function P6(i,s){if(!(s.state.loading&4)){var u=Ju.get(i);if(u)var f=u.get(null);else{u=new Map,Ju.set(i,u);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var E=p[y];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(u.set(E.dataset.precedence,E),f=E)}f&&u.set(null,f)}p=s.instance,E=p.getAttribute("data-precedence"),y=u.get(E)||f,y===f&&u.set(null,p),u.set(E,p),this.count++,f=Yu.bind(this),p.addEventListener("load",f),p.addEventListener("error",f),y?y.parentNode.insertBefore(p,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),s.state.loading|=4}}var Pl={$$typeof:D,Provider:null,Consumer:null,_currentValue:z,_currentValue2:z,_threadCount:0};function F6(i,s,u,f,p,y,E,T){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Uo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Uo(0),this.hiddenUpdates=Uo(null),this.identifierPrefix=f,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Xy(i,s,u,f,p,y,E,T,R,j,K,Z){return i=new F6(i,s,u,E,T,R,j,Z),s=1,y===!0&&(s|=24),y=Dn(3,null,null,s),i.current=y,y.stateNode=i,s=Zd(),s.refCount++,i.pooledCache=s,s.refCount++,y.memoizedState={element:f,isDehydrated:u,cache:s},Xd(y),i}function Wy(i){return i?(i=rs,i):rs}function e7(i,s,u,f,p,y){p=Wy(p),f.context===null?f.context=p:f.pendingContext=p,f=ii(s),f.payload={element:u},y=y===void 0?null:y,y!==null&&(f.callback=y),u=oi(i,f,s),u!==null&&(jn(u,i,s),vl(u,i,s))}function t7(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<s?u:s}}function pp(i,s){t7(i,s),(i=i.alternate)&&t7(i,s)}function n7(i){if(i.tag===13){var s=ns(i,67108864);s!==null&&jn(s,i,67108864),pp(i,67108864)}}var Qu=!0;function K6(i,s,u,f){var p=H.T;H.T=null;var y=U.p;try{U.p=2,mp(i,s,u,f)}finally{U.p=y,H.T=p}}function $6(i,s,u,f){var p=H.T;H.T=null;var y=U.p;try{U.p=8,mp(i,s,u,f)}finally{U.p=y,H.T=p}}function mp(i,s,u,f){if(Qu){var p=gp(f);if(p===null)np(i,s,f,Xu,u),i7(i,f);else if(Z6(p,i,s,u,f))f.stopPropagation();else if(i7(i,f),s&4&&-1<G6.indexOf(i)){for(;p!==null;){var y=Fo(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var E=ur(y.pendingLanes);if(E!==0){var T=y;for(T.pendingLanes|=2,T.entangledLanes|=2;E;){var R=1<<31-Rt(E);T.entanglements[1]|=R,E&=~R}pr(y),(Pe&6)===0&&(zu=Xe()+500,Bl(0))}}break;case 13:T=ns(y,2),T!==null&&jn(T,y,2),ju(),pp(y,2)}if(y=gp(f),y===null&&np(i,s,f,Xu,u),y===p)break;p=y}p!==null&&f.stopPropagation()}else np(i,s,f,null,u)}}function gp(i){return i=xd(i),yp(i)}var Xu=null;function yp(i){if(Xu=null,i=Po(i),i!==null){var s=l(i);if(s===null)i=null;else{var u=s.tag;if(u===13){if(i=a(s),i!==null)return i;i=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Xu=i,null}function r7(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Bt()){case _e:return 2;case Ye:return 8;case Zt:case de:return 32;case Ie:return 268435456;default:return 32}default:return 32}}var bp=!1,bi=null,vi=null,Ci=null,Fl=new Map,Kl=new Map,xi=[],G6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function i7(i,s){switch(i){case"focusin":case"focusout":bi=null;break;case"dragenter":case"dragleave":vi=null;break;case"mouseover":case"mouseout":Ci=null;break;case"pointerover":case"pointerout":Fl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kl.delete(s.pointerId)}}function $l(i,s,u,f,p,y){return i===null||i.nativeEvent!==y?(i={blockedOn:s,domEventName:u,eventSystemFlags:f,nativeEvent:y,targetContainers:[p]},s!==null&&(s=Fo(s),s!==null&&n7(s)),i):(i.eventSystemFlags|=f,s=i.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),i)}function Z6(i,s,u,f,p){switch(s){case"focusin":return bi=$l(bi,i,s,u,f,p),!0;case"dragenter":return vi=$l(vi,i,s,u,f,p),!0;case"mouseover":return Ci=$l(Ci,i,s,u,f,p),!0;case"pointerover":var y=p.pointerId;return Fl.set(y,$l(Fl.get(y)||null,i,s,u,f,p)),!0;case"gotpointercapture":return y=p.pointerId,Kl.set(y,$l(Kl.get(y)||null,i,s,u,f,p)),!0}return!1}function o7(i){var s=Po(i.target);if(s!==null){var u=l(s);if(u!==null){if(s=u.tag,s===13){if(s=a(u),s!==null){i.blockedOn=s,U9(i.priority,function(){if(u.tag===13){var f=Bn();f=cd(f);var p=ns(u,f);p!==null&&jn(p,u,f),pp(u,f)}});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Wu(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var u=gp(i.nativeEvent);if(u===null){u=i.nativeEvent;var f=new u.constructor(u.type,u);Cd=f,u.target.dispatchEvent(f),Cd=null}else return s=Fo(u),s!==null&&n7(s),i.blockedOn=u,!1;s.shift()}return!0}function s7(i,s,u){Wu(i)&&u.delete(s)}function Y6(){bp=!1,bi!==null&&Wu(bi)&&(bi=null),vi!==null&&Wu(vi)&&(vi=null),Ci!==null&&Wu(Ci)&&(Ci=null),Fl.forEach(s7),Kl.forEach(s7)}function ec(i,s){i.blockedOn===s&&(i.blockedOn=null,bp||(bp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Y6)))}var tc=null;function l7(i){tc!==i&&(tc=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){tc===i&&(tc=null);for(var s=0;s<i.length;s+=3){var u=i[s],f=i[s+1],p=i[s+2];if(typeof f!="function"){if(yp(f||u)===null)continue;break}var y=Fo(u);y!==null&&(i.splice(s,3),s-=3,yh(y,{pending:!0,data:p,method:u.method,action:f},f,p))}}))}function Gl(i){function s(R){return ec(R,i)}bi!==null&&ec(bi,i),vi!==null&&ec(vi,i),Ci!==null&&ec(Ci,i),Fl.forEach(s),Kl.forEach(s);for(var u=0;u<xi.length;u++){var f=xi[u];f.blockedOn===i&&(f.blockedOn=null)}for(;0<xi.length&&(u=xi[0],u.blockedOn===null);)o7(u),u.blockedOn===null&&xi.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var p=u[f],y=u[f+1],E=p[yn]||null;if(typeof y=="function")E||l7(u);else if(E){var T=null;if(y&&y.hasAttribute("formAction")){if(p=y,E=y[yn]||null)T=E.formAction;else if(yp(p)!==null)continue}else T=E.action;typeof T=="function"?u[f+1]=T:(u.splice(f,3),f-=3),l7(u)}}}function vp(i){this._internalRoot=i}nc.prototype.render=vp.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var u=s.current,f=Bn();e7(u,f,i,s,null,null)},nc.prototype.unmount=vp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;e7(i.current,2,null,i,null,null),ju(),s[qo]=null}};function nc(i){this._internalRoot=i}nc.prototype.unstable_scheduleHydration=function(i){if(i){var s=w0();i={blockedOn:null,target:i,priority:s};for(var u=0;u<xi.length&&s!==0&&s<xi[u].priority;u++);xi.splice(u,0,i),u===0&&o7(i)}};var a7=e.version;if(a7!=="19.1.0")throw Error(r(527,a7,"19.1.0"));U.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(s),i=i!==null?h(i):null,i=i===null?null:i.stateNode,i};var J6={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{Ue=rc.inject(J6),ze=rc}catch{}}return Yl.createRoot=function(i,s){if(!o(i))throw Error(r(299));var u=!1,f="",p=w2,y=M2,E=T2,T=null;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(T=s.unstable_transitionCallbacks)),s=Xy(i,1,!1,null,null,u,f,p,y,E,T,null),i[qo]=s.current,tp(i),new vp(s)},Yl.hydrateRoot=function(i,s,u){if(!o(i))throw Error(r(299));var f=!1,p="",y=w2,E=M2,T=T2,R=null,j=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(p=u.identifierPrefix),u.onUncaughtError!==void 0&&(y=u.onUncaughtError),u.onCaughtError!==void 0&&(E=u.onCaughtError),u.onRecoverableError!==void 0&&(T=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(R=u.unstable_transitionCallbacks),u.formState!==void 0&&(j=u.formState)),s=Xy(i,1,!0,s,u??null,f,p,y,E,T,R,j),s.context=Wy(null),u=s.current,f=Bn(),f=cd(f),p=ii(f),p.callback=null,oi(u,p,f),u=f,s.current.lanes=u,Ws(s,u),pr(s),i[qo]=s.current,tp(i),new nc(s)},Yl.version="19.1.0",Yl}var b7;function s8(){if(b7)return Sp.exports;b7=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Sp.exports=o8(),Sp.exports}var l8=s8();function _t(n){this.content=n}_t.prototype={constructor:_t,find:function(n){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===n)return e;return-1},get:function(n){var e=this.find(n);return e==-1?void 0:this.content[e+1]},update:function(n,e,t){var r=t&&t!=n?this.remove(t):this,o=r.find(n),l=r.content.slice();return o==-1?l.push(t||n,e):(l[o+1]=e,t&&(l[o]=t)),new _t(l)},remove:function(n){var e=this.find(n);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new _t(t)},addToStart:function(n,e){return new _t([n,e].concat(this.remove(n).content))},addToEnd:function(n,e){var t=this.remove(n).content.slice();return t.push(n,e),new _t(t)},addBefore:function(n,e,t){var r=this.remove(e),o=r.content.slice(),l=r.find(n);return o.splice(l==-1?o.length:l,0,e,t),new _t(o)},forEach:function(n){for(var e=0;e<this.content.length;e+=2)n(this.content[e],this.content[e+1])},prepend:function(n){return n=_t.from(n),n.size?new _t(n.content.concat(this.subtract(n).content)):this},append:function(n){return n=_t.from(n),n.size?new _t(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var e=this;n=_t.from(n);for(var t=0;t<n.content.length;t+=2)e=e.remove(n.content[t]);return e},toObject:function(){var n={};return this.forEach(function(e,t){n[e]=t}),n},get size(){return this.content.length>>1}};_t.from=function(n){if(n instanceof _t)return n;var e=[];if(n)for(var t in n)e.push(t,n[t]);return new _t(e)};function E3(n,e,t){for(let r=0;;r++){if(r==n.childCount||r==e.childCount)return n.childCount==e.childCount?null:t;let o=n.child(r),l=e.child(r);if(o==l){t+=o.nodeSize;continue}if(!o.sameMarkup(l))return t;if(o.isText&&o.text!=l.text){for(let a=0;o.text[a]==l.text[a];a++)t++;return t}if(o.content.size||l.content.size){let a=E3(o.content,l.content,t+1);if(a!=null)return a}t+=o.nodeSize}}function w3(n,e,t,r){for(let o=n.childCount,l=e.childCount;;){if(o==0||l==0)return o==l?null:{a:t,b:r};let a=n.child(--o),c=e.child(--l),d=a.nodeSize;if(a==c){t-=d,r-=d;continue}if(!a.sameMarkup(c))return{a:t,b:r};if(a.isText&&a.text!=c.text){let h=0,m=Math.min(a.text.length,c.text.length);for(;h<m&&a.text[a.text.length-h-1]==c.text[c.text.length-h-1];)h++,t--,r--;return{a:t,b:r}}if(a.content.size||c.content.size){let h=w3(a.content,c.content,t-1,r-1);if(h)return h}t-=d,r-=d}}let ee=class ln{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,t,r,o=0,l){for(let a=0,c=0;c<t;a++){let d=this.content[a],h=c+d.nodeSize;if(h>e&&r(d,o+c,l||null,a)!==!1&&d.content.size){let m=c+1;d.nodesBetween(Math.max(0,e-m),Math.min(d.content.size,t-m),r,o+m)}c=h}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,r,o){let l="",a=!0;return this.nodesBetween(e,t,(c,d)=>{let h=c.isText?c.text.slice(Math.max(e,d)-d,t-d):c.isLeaf?o?typeof o=="function"?o(c):o:c.type.spec.leafText?c.type.spec.leafText(c):"":"";c.isBlock&&(c.isLeaf&&h||c.isTextblock)&&r&&(a?a=!1:l+=r),l+=h},0),l}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,r=e.firstChild,o=this.content.slice(),l=0;for(t.isText&&t.sameMarkup(r)&&(o[o.length-1]=t.withText(t.text+r.text),l=1);l<e.content.length;l++)o.push(e.content[l]);return new ln(o,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let r=[],o=0;if(t>e)for(let l=0,a=0;a<t;l++){let c=this.content[l],d=a+c.nodeSize;d>e&&((a<e||d>t)&&(c.isText?c=c.cut(Math.max(0,e-a),Math.min(c.text.length,t-a)):c=c.cut(Math.max(0,e-a-1),Math.min(c.content.size,t-a-1))),r.push(c),o+=c.nodeSize),a=d}return new ln(r,o)}cutByIndex(e,t){return e==t?ln.empty:e==0&&t==this.content.length?this:new ln(this.content.slice(e,t))}replaceChild(e,t){let r=this.content[e];if(r==t)return this;let o=this.content.slice(),l=this.size+t.nodeSize-r.nodeSize;return o[e]=t,new ln(o,l)}addToStart(e){return new ln([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new ln(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,r=0;t<this.content.length;t++){let o=this.content[t];e(o,r,t),r+=o.nodeSize}}findDiffStart(e,t=0){return E3(this,e,t)}findDiffEnd(e,t=this.size,r=e.size){return w3(this,e,t,r)}findIndex(e,t=-1){if(e==0)return ic(0,e);if(e==this.size)return ic(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,o=0;;r++){let l=this.child(r),a=o+l.nodeSize;if(a>=e)return a==e||t>0?ic(r+1,a):ic(r,o);o=a}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return ln.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new ln(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return ln.empty;let t,r=0;for(let o=0;o<e.length;o++){let l=e[o];r+=l.nodeSize,o&&l.isText&&e[o-1].sameMarkup(l)?(t||(t=e.slice(0,o)),t[t.length-1]=l.withText(t[t.length-1].text+l.text)):t&&t.push(l)}return new ln(t||e,r)}static from(e){if(!e)return ln.empty;if(e instanceof ln)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new ln([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}};ee.empty=new ee([],0);const Tp={index:0,offset:0};function ic(n,e){return Tp.index=n,Tp.offset=e,Tp}function Oc(n,e){if(n===e)return!0;if(!(n&&typeof n=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(n);if(Array.isArray(e)!=t)return!1;if(t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!Oc(n[r],e[r]))return!1}else{for(let r in n)if(!(r in e)||!Oc(n[r],e[r]))return!1;for(let r in e)if(!(r in n))return!1}return!0}let Qe=class m1{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,r=!1;for(let o=0;o<e.length;o++){let l=e[o];if(this.eq(l))return e;if(this.type.excludes(l.type))t||(t=e.slice(0,o));else{if(l.type.excludes(this.type))return e;!r&&l.type.rank>this.type.rank&&(t||(t=e.slice(0,o)),t.push(this),r=!0),t&&t.push(l)}}return t||(t=e.slice()),r||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Oc(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[t.type];if(!r)throw new RangeError(`There is no mark type ${t.type} in this schema`);let o=r.create(t.attrs);return r.checkAttrs(o.attrs),o}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(t[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return m1.none;if(e instanceof m1)return[e];let t=e.slice();return t.sort((r,o)=>r.type.rank-o.type.rank),t}};Qe.none=[];let Nc=class extends Error{},se=class Os{constructor(e,t,r){this.content=e,this.openStart=t,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let r=T3(this.content,e+this.openStart,t);return r&&new Os(r,this.openStart,this.openEnd)}removeBetween(e,t){return new Os(M3(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return Os.empty;let r=t.openStart||0,o=t.openEnd||0;if(typeof r!="number"||typeof o!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Os(ee.fromJSON(e,t.content),r,o)}static maxOpen(e,t=!0){let r=0,o=0;for(let l=e.firstChild;l&&!l.isLeaf&&(t||!l.type.spec.isolating);l=l.firstChild)r++;for(let l=e.lastChild;l&&!l.isLeaf&&(t||!l.type.spec.isolating);l=l.lastChild)o++;return new Os(e,r,o)}};se.empty=new se(ee.empty,0,0);function M3(n,e,t){let{index:r,offset:o}=n.findIndex(e),l=n.maybeChild(r),{index:a,offset:c}=n.findIndex(t);if(o==e||l.isText){if(c!=t&&!n.child(a).isText)throw new RangeError("Removing non-flat range");return n.cut(0,e).append(n.cut(t))}if(r!=a)throw new RangeError("Removing non-flat range");return n.replaceChild(r,l.copy(M3(l.content,e-o-1,t-o-1)))}function T3(n,e,t,r){let{index:o,offset:l}=n.findIndex(e),a=n.maybeChild(o);if(l==e||a.isText)return n.cut(0,e).append(t).append(n.cut(e));let c=T3(a.content,e-l-1,t);return c&&n.replaceChild(o,a.copy(c))}function a8(n,e,t){if(t.openStart>n.depth)throw new Nc("Inserted content deeper than insertion position");if(n.depth-t.openStart!=e.depth-t.openEnd)throw new Nc("Inconsistent open depths");return k3(n,e,t,0)}function k3(n,e,t,r){let o=n.index(r),l=n.node(r);if(o==e.index(r)&&r<n.depth-t.openStart){let a=k3(n,e,t,r+1);return l.copy(l.content.replaceChild(o,a))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&n.depth==r&&e.depth==r){let a=n.parent,c=a.content;return Mo(a,c.cut(0,n.parentOffset).append(t.content).append(c.cut(e.parentOffset)))}else{let{start:a,end:c}=u8(t,n);return Mo(l,R3(n,a,c,e,r))}else return Mo(l,Dc(n,e,r))}function A3(n,e){if(!e.type.compatibleContent(n.type))throw new Nc("Cannot join "+e.type.name+" onto "+n.type.name)}function g1(n,e,t){let r=n.node(t);return A3(r,e.node(t)),r}function wo(n,e){let t=e.length-1;t>=0&&n.isText&&n.sameMarkup(e[t])?e[t]=n.withText(e[t].text+n.text):e.push(n)}function sa(n,e,t,r){let o=(e||n).node(t),l=0,a=e?e.index(t):o.childCount;n&&(l=n.index(t),n.depth>t?l++:n.textOffset&&(wo(n.nodeAfter,r),l++));for(let c=l;c<a;c++)wo(o.child(c),r);e&&e.depth==t&&e.textOffset&&wo(e.nodeBefore,r)}function Mo(n,e){return n.type.checkContent(e),n.copy(e)}function R3(n,e,t,r,o){let l=n.depth>o&&g1(n,e,o+1),a=r.depth>o&&g1(t,r,o+1),c=[];return sa(null,n,o,c),l&&a&&e.index(o)==t.index(o)?(A3(l,a),wo(Mo(l,R3(n,e,t,r,o+1)),c)):(l&&wo(Mo(l,Dc(n,e,o+1)),c),sa(e,t,o,c),a&&wo(Mo(a,Dc(t,r,o+1)),c)),sa(r,null,o,c),new ee(c)}function Dc(n,e,t){let r=[];if(sa(null,n,t,r),n.depth>t){let o=g1(n,e,t+1);wo(Mo(o,Dc(n,e,t+1)),r)}return sa(e,null,t,r),new ee(r)}function u8(n,e){let t=e.depth-n.openStart,o=e.node(t).copy(n.content);for(let l=t-1;l>=0;l--)o=e.node(l).copy(ee.from(o));return{start:o.resolveNoCache(n.openStart+t),end:o.resolveNoCache(o.content.size-n.openEnd-t)}}class Ca{constructor(e,t,r){this.pos=e,this.path=t,this.parentOffset=r,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],o=e.child(t);return r?e.child(t).cut(r):o}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let r=this.path[t*3],o=t==0?0:this.path[t*3-1]+1;for(let l=0;l<e;l++)o+=r.child(l).nodeSize;return o}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return Qe.none;if(this.textOffset)return e.child(t).marks;let r=e.maybeChild(t-1),o=e.maybeChild(t);if(!r){let c=r;r=o,o=c}let l=r.marks;for(var a=0;a<l.length;a++)l[a].type.spec.inclusive===!1&&(!o||!l[a].isInSet(o.marks))&&(l=l[a--].removeFromSet(l));return l}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let r=t.marks,o=e.parent.maybeChild(e.index());for(var l=0;l<r.length;l++)r[l].type.spec.inclusive===!1&&(!o||!r[l].isInSet(o.marks))&&(r=r[l--].removeFromSet(r));return r}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!t||t(this.node(r))))return new Lc(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let r=[],o=0,l=t;for(let a=e;;){let{index:c,offset:d}=a.content.findIndex(l),h=l-d;if(r.push(a,c,o+d),!h||(a=a.child(c),a.isText))break;l=h-1,o+=d+1}return new Ca(t,r,l)}static resolveCached(e,t){let r=v7.get(e);if(r)for(let l=0;l<r.elts.length;l++){let a=r.elts[l];if(a.pos==t)return a}else v7.set(e,r=new c8);let o=r.elts[r.i]=Ca.resolve(e,t);return r.i=(r.i+1)%f8,o}}class c8{constructor(){this.elts=[],this.i=0}}const f8=12,v7=new WeakMap;class Lc{constructor(e,t,r){this.$from=e,this.$to=t,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const d8=Object.create(null);let Di=class y1{constructor(e,t,r,o=Qe.none){this.type=e,this.attrs=t,this.marks=o,this.content=r||ee.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,r,o=0){this.content.nodesBetween(e,t,r,o,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,r,o){return this.content.textBetween(e,t,r,o)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,r){return this.type==e&&Oc(this.attrs,t||e.defaultAttrs||d8)&&Qe.sameSet(this.marks,r||Qe.none)}copy(e=null){return e==this.content?this:new y1(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new y1(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,r=!1){if(e==t)return se.empty;let o=this.resolve(e),l=this.resolve(t),a=r?0:o.sharedDepth(t),c=o.start(a),h=o.node(a).content.cut(o.pos-c,l.pos-c);return new se(h,o.depth-a,l.depth-a)}replace(e,t,r){return a8(this.resolve(e),this.resolve(t),r)}nodeAt(e){for(let t=this;;){let{index:r,offset:o}=t.content.findIndex(e);if(t=t.maybeChild(r),!t)return null;if(o==e||t.isText)return t;e-=o+1}}childAfter(e){let{index:t,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(t),index:t,offset:r};let o=this.content.child(t-1);return{node:o,index:t-1,offset:r-o.nodeSize}}resolve(e){return Ca.resolveCached(this,e)}resolveNoCache(e){return Ca.resolve(this,e)}rangeHasMark(e,t,r){let o=!1;return t>e&&this.nodesBetween(e,t,l=>(r.isInSet(l.marks)&&(o=!0),!o)),o}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),O3(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,r=ee.empty,o=0,l=r.childCount){let a=this.contentMatchAt(e).matchFragment(r,o,l),c=a&&a.matchFragment(this.content,t);if(!c||!c.validEnd)return!1;for(let d=o;d<l;d++)if(!this.type.allowsMarks(r.child(d).marks))return!1;return!0}canReplaceWith(e,t,r,o){if(o&&!this.type.allowsMarks(o))return!1;let l=this.contentMatchAt(e).matchType(r),a=l&&l.matchFragment(this.content,t);return a?a.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Qe.none;for(let t=0;t<this.marks.length;t++){let r=this.marks[t];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!Qe.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let r;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,r)}let o=ee.fromJSON(e,t.content),l=e.nodeType(t.type).create(t.attrs,o,r);return l.type.checkAttrs(l.attrs),l}};Di.prototype.text=void 0;class Hc extends Di{constructor(e,t,r,o){if(super(e,t,null,o),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):O3(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Hc(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Hc(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function O3(n,e){for(let t=n.length-1;t>=0;t--)e=n[t].type.name+"("+e+")";return e}class Oo{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let r=new h8(e,t);if(r.next==null)return Oo.empty;let o=N3(r);r.next&&r.err("Unexpected trailing text");let l=C8(v8(o));return x8(l,r),l}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,r=e.childCount){let o=this;for(let l=t;o&&l<r;l++)o=o.matchType(e.child(l).type);return o}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let r=0;r<e.next.length;r++)if(this.next[t].type==e.next[r].type)return!0;return!1}fillBefore(e,t=!1,r=0){let o=[this];function l(a,c){let d=a.matchFragment(e,r);if(d&&(!t||d.validEnd))return ee.from(c.map(h=>h.createAndFill()));for(let h=0;h<a.next.length;h++){let{type:m,next:g}=a.next[h];if(!(m.isText||m.hasRequiredAttrs())&&o.indexOf(g)==-1){o.push(g);let b=l(g,c.concat(m));if(b)return b}}return null}return l(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let o=r.shift(),l=o.match;if(l.matchType(e)){let a=[];for(let c=o;c.type;c=c.via)a.push(c.type);return a.reverse()}for(let a=0;a<l.next.length;a++){let{type:c,next:d}=l.next[a];!c.isLeaf&&!c.hasRequiredAttrs()&&!(c.name in t)&&(!o.type||d.validEnd)&&(r.push({match:c.contentMatch,type:c,via:o}),t[c.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(r){e.push(r);for(let o=0;o<r.next.length;o++)e.indexOf(r.next[o].next)==-1&&t(r.next[o].next)}return t(this),e.map((r,o)=>{let l=o+(r.validEnd?"*":" ")+" ";for(let a=0;a<r.next.length;a++)l+=(a?", ":"")+r.next[a].type.name+"->"+e.indexOf(r.next[a].next);return l}).join(`
`)}}Oo.empty=new Oo(!0);class h8{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function N3(n){let e=[];do e.push(p8(n));while(n.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function p8(n){let e=[];do e.push(m8(n));while(n.next&&n.next!=")"&&n.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function m8(n){let e=b8(n);for(;;)if(n.eat("+"))e={type:"plus",expr:e};else if(n.eat("*"))e={type:"star",expr:e};else if(n.eat("?"))e={type:"opt",expr:e};else if(n.eat("{"))e=g8(n,e);else break;return e}function C7(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let e=Number(n.next);return n.pos++,e}function g8(n,e){let t=C7(n),r=t;return n.eat(",")&&(n.next!="}"?r=C7(n):r=-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:t,max:r,expr:e}}function y8(n,e){let t=n.nodeTypes,r=t[e];if(r)return[r];let o=[];for(let l in t){let a=t[l];a.isInGroup(e)&&o.push(a)}return o.length==0&&n.err("No node type or group '"+e+"' found"),o}function b8(n){if(n.eat("(")){let e=N3(n);return n.eat(")")||n.err("Missing closing paren"),e}else if(/\W/.test(n.next))n.err("Unexpected token '"+n.next+"'");else{let e=y8(n,n.next).map(t=>(n.inline==null?n.inline=t.isInline:n.inline!=t.isInline&&n.err("Mixing inline and block content"),{type:"name",value:t}));return n.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function v8(n){let e=[[]];return o(l(n,0),t()),e;function t(){return e.push([])-1}function r(a,c,d){let h={term:d,to:c};return e[a].push(h),h}function o(a,c){a.forEach(d=>d.to=c)}function l(a,c){if(a.type=="choice")return a.exprs.reduce((d,h)=>d.concat(l(h,c)),[]);if(a.type=="seq")for(let d=0;;d++){let h=l(a.exprs[d],c);if(d==a.exprs.length-1)return h;o(h,c=t())}else if(a.type=="star"){let d=t();return r(c,d),o(l(a.expr,d),d),[r(d)]}else if(a.type=="plus"){let d=t();return o(l(a.expr,c),d),o(l(a.expr,d),d),[r(d)]}else{if(a.type=="opt")return[r(c)].concat(l(a.expr,c));if(a.type=="range"){let d=c;for(let h=0;h<a.min;h++){let m=t();o(l(a.expr,d),m),d=m}if(a.max==-1)o(l(a.expr,d),d);else for(let h=a.min;h<a.max;h++){let m=t();r(d,m),o(l(a.expr,d),m),d=m}return[r(d)]}else{if(a.type=="name")return[r(c,void 0,a.value)];throw new Error("Unknown expr type")}}}}function D3(n,e){return e-n}function x7(n,e){let t=[];return r(e),t.sort(D3);function r(o){let l=n[o];if(l.length==1&&!l[0].term)return r(l[0].to);t.push(o);for(let a=0;a<l.length;a++){let{term:c,to:d}=l[a];!c&&t.indexOf(d)==-1&&r(d)}}}function C8(n){let e=Object.create(null);return t(x7(n,0));function t(r){let o=[];r.forEach(a=>{n[a].forEach(({term:c,to:d})=>{if(!c)return;let h;for(let m=0;m<o.length;m++)o[m][0]==c&&(h=o[m][1]);x7(n,d).forEach(m=>{h||o.push([c,h=[]]),h.indexOf(m)==-1&&h.push(m)})})});let l=e[r.join(",")]=new Oo(r.indexOf(n.length-1)>-1);for(let a=0;a<o.length;a++){let c=o[a][1].sort(D3);l.next.push({type:o[a][0],next:e[c.join(",")]||t(c)})}return l}}function x8(n,e){for(let t=0,r=[n];t<r.length;t++){let o=r[t],l=!o.validEnd,a=[];for(let c=0;c<o.next.length;c++){let{type:d,next:h}=o.next[c];a.push(d.name),l&&!(d.isText||d.hasRequiredAttrs())&&(l=!1),r.indexOf(h)==-1&&r.push(h)}l&&e.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function L3(n){let e=Object.create(null);for(let t in n){let r=n[t];if(!r.hasDefault)return null;e[t]=r.default}return e}function H3(n,e){let t=Object.create(null);for(let r in n){let o=e&&e[r];if(o===void 0){let l=n[r];if(l.hasDefault)o=l.default;else throw new RangeError("No value supplied for attribute "+r)}t[r]=o}return t}function z3(n,e,t,r){for(let o in e)if(!(o in n))throw new RangeError(`Unsupported attribute ${o} for ${t} of type ${o}`);for(let o in n){let l=n[o];l.validate&&l.validate(e[o])}}function B3(n,e){let t=Object.create(null);if(e)for(let r in e)t[r]=new E8(n,r,e[r]);return t}let S7=class j3{constructor(e,t,r){this.name=e,this.schema=t,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=B3(e,r.attrs),this.defaultAttrs=L3(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Oo.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:H3(this.attrs,e)}create(e=null,t,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Di(this,this.computeAttrs(e),ee.from(t),Qe.setFrom(r))}createChecked(e=null,t,r){return t=ee.from(t),this.checkContent(t),new Di(this,this.computeAttrs(e),t,Qe.setFrom(r))}createAndFill(e=null,t,r){if(e=this.computeAttrs(e),t=ee.from(t),t.size){let a=this.contentMatch.fillBefore(t);if(!a)return null;t=a.append(t)}let o=this.contentMatch.matchFragment(t),l=o&&o.fillBefore(ee.empty,!0);return l?new Di(this,e,t.append(l),Qe.setFrom(r)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){z3(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?t&&t.push(e[r]):t||(t=e.slice(0,r));return t?t.length?t:Qe.none:e}static compile(e,t){let r=Object.create(null);e.forEach((l,a)=>r[l]=new j3(l,t,a));let o=t.spec.topNode||"doc";if(!r[o])throw new RangeError("Schema is missing its top node type ('"+o+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let l in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function S8(n,e,t){let r=t.split("|");return o=>{let l=o===null?"null":typeof o;if(r.indexOf(l)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${n}, got ${l}`)}}class E8{constructor(e,t,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?S8(e,t,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Rf{constructor(e,t,r,o){this.name=e,this.rank=t,this.schema=r,this.spec=o,this.attrs=B3(e,o.attrs),this.excluded=null;let l=L3(this.attrs);this.instance=l?new Qe(this,l):null}create(e=null){return!e&&this.instance?this.instance:new Qe(this,H3(this.attrs,e))}static compile(e,t){let r=Object.create(null),o=0;return e.forEach((l,a)=>r[l]=new Rf(l,o++,t,a)),r}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){z3(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class I3{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let o in e)t[o]=e[o];t.nodes=_t.from(e.nodes),t.marks=_t.from(e.marks||{}),this.nodes=S7.compile(this.spec.nodes,this),this.marks=Rf.compile(this.spec.marks,this);let r=Object.create(null);for(let o in this.nodes){if(o in this.marks)throw new RangeError(o+" can not be both a node and a mark");let l=this.nodes[o],a=l.spec.content||"",c=l.spec.marks;if(l.contentMatch=r[a]||(r[a]=Oo.parse(a,this.nodes)),l.inlineContent=l.contentMatch.inlineContent,l.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!l.isInline||!l.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=l}l.markSet=c=="_"?null:c?E7(this,c.split(" ")):c==""||!l.inlineContent?[]:null}for(let o in this.marks){let l=this.marks[o],a=l.spec.excludes;l.excluded=a==null?[l]:a==""?[]:E7(this,a.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,r,o){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof S7){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,r,o)}text(e,t){let r=this.nodes.text;return new Hc(r,r.defaultAttrs,e,Qe.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return Di.fromJSON(this,e)}markFromJSON(e){return Qe.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function E7(n,e){let t=[];for(let r=0;r<e.length;r++){let o=e[r],l=n.marks[o],a=l;if(l)t.push(l);else for(let c in n.marks){let d=n.marks[c];(o=="_"||d.spec.group&&d.spec.group.split(" ").indexOf(o)>-1)&&t.push(a=d)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return t}function w8(n){return n.tag!=null}function M8(n){return n.style!=null}class Li{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let r=this.matchedStyles=[];t.forEach(o=>{if(w8(o))this.tags.push(o);else if(M8(o)){let l=/[^=]*/.exec(o.style)[0];r.indexOf(l)<0&&r.push(l),this.styles.push(o)}}),this.normalizeLists=!this.tags.some(o=>{if(!/^(ul|ol)\b/.test(o.tag)||!o.node)return!1;let l=e.nodes[o.node];return l.contentMatch.matchType(l)})}parse(e,t={}){let r=new M7(this,t,!1);return r.addAll(e,Qe.none,t.from,t.to),r.finish()}parseSlice(e,t={}){let r=new M7(this,t,!0);return r.addAll(e,Qe.none,t.from,t.to),se.maxOpen(r.finish())}matchTag(e,t,r){for(let o=r?this.tags.indexOf(r)+1:0;o<this.tags.length;o++){let l=this.tags[o];if(A8(e,l.tag)&&(l.namespace===void 0||e.namespaceURI==l.namespace)&&(!l.context||t.matchesContext(l.context))){if(l.getAttrs){let a=l.getAttrs(e);if(a===!1)continue;l.attrs=a||void 0}return l}}}matchStyle(e,t,r,o){for(let l=o?this.styles.indexOf(o)+1:0;l<this.styles.length;l++){let a=this.styles[l],c=a.style;if(!(c.indexOf(e)!=0||a.context&&!r.matchesContext(a.context)||c.length>e.length&&(c.charCodeAt(e.length)!=61||c.slice(e.length+1)!=t))){if(a.getAttrs){let d=a.getAttrs(t);if(d===!1)continue;a.attrs=d||void 0}return a}}}static schemaRules(e){let t=[];function r(o){let l=o.priority==null?50:o.priority,a=0;for(;a<t.length;a++){let c=t[a];if((c.priority==null?50:c.priority)<l)break}t.splice(a,0,o)}for(let o in e.marks){let l=e.marks[o].spec.parseDOM;l&&l.forEach(a=>{r(a=T7(a)),a.mark||a.ignore||a.clearMark||(a.mark=o)})}for(let o in e.nodes){let l=e.nodes[o].spec.parseDOM;l&&l.forEach(a=>{r(a=T7(a)),a.node||a.ignore||a.mark||(a.node=o)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Li(e,Li.schemaRules(e)))}}const V3={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},T8={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},_3={ol:!0,ul:!0},xa=1,b1=2,la=4;function w7(n,e,t){return e!=null?(e?xa:0)|(e==="full"?b1:0):n&&n.whitespace=="pre"?xa|b1:t&~la}class oc{constructor(e,t,r,o,l,a){this.type=e,this.attrs=t,this.marks=r,this.solid=o,this.options=a,this.content=[],this.activeMarks=Qe.none,this.match=l||(a&la?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(ee.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let r=this.type.contentMatch,o;return(o=r.findWrapping(e.type))?(this.match=r,o):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&xa)){let r=this.content[this.content.length-1],o;if(r&&r.isText&&(o=/[ \t\r\n\u000c]+$/.exec(r.text))){let l=r;r.text.length==o[0].length?this.content.pop():this.content[this.content.length-1]=l.withText(l.text.slice(0,l.text.length-o[0].length))}}let t=ee.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(ee.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!V3.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class M7{constructor(e,t,r){this.parser=e,this.options=t,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let o=t.topNode,l,a=w7(null,t.preserveWhitespace,0)|(r?la:0);o?l=new oc(o.type,o.attrs,Qe.none,!0,t.topMatch||o.type.contentMatch,a):r?l=new oc(null,null,Qe.none,!0,null,a):l=new oc(e.schema.topNodeType,null,Qe.none,!0,null,a),this.nodes=[l],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let r=e.nodeValue,o=this.top,l=o.options&b1?"full":this.localPreserveWS||(o.options&xa)>0;if(l==="full"||o.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(l)l!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let a=o.content[o.content.length-1],c=e.previousSibling;(!a||c&&c.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),t,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,t,r){let o=this.localPreserveWS,l=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let a=e.nodeName.toLowerCase(),c;_3.hasOwnProperty(a)&&this.parser.normalizeLists&&k8(e);let d=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(c=this.parser.matchTag(e,this,r));e:if(d?d.ignore:T8.hasOwnProperty(a))this.findInside(e),this.ignoreFallback(e,t);else if(!d||d.skip||d.closeParent){d&&d.closeParent?this.open=Math.max(0,this.open-1):d&&d.skip.nodeType&&(e=d.skip);let h,m=this.needsBlock;if(V3.hasOwnProperty(a))l.content.length&&l.content[0].isInline&&this.open&&(this.open--,l=this.top),h=!0,l.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let g=d&&d.skip?t:this.readStyles(e,t);g&&this.addAll(e,g),h&&this.sync(l),this.needsBlock=m}else{let h=this.readStyles(e,t);h&&this.addElementByRule(e,d,h,d.consuming===!1?c:void 0)}this.localPreserveWS=o}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t,!0)}readStyles(e,t){let r=e.style;if(r&&r.length)for(let o=0;o<this.parser.matchedStyles.length;o++){let l=this.parser.matchedStyles[o],a=r.getPropertyValue(l);if(a)for(let c=void 0;;){let d=this.parser.matchStyle(l,a,this,c);if(!d)break;if(d.ignore)return null;if(d.clearMark?t=t.filter(h=>!d.clearMark(h)):t=t.concat(this.parser.schema.marks[d.mark].create(d.attrs)),d.consuming===!1)c=d;else break}}return t}addElementByRule(e,t,r,o){let l,a;if(t.node)if(a=this.parser.schema.nodes[t.node],a.isLeaf)this.insertNode(a.create(t.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let d=this.enter(a,t.attrs||null,r,t.preserveWhitespace);d&&(l=!0,r=d)}else{let d=this.parser.schema.marks[t.mark];r=r.concat(d.create(t.attrs))}let c=this.top;if(a&&a.isLeaf)this.findInside(e);else if(o)this.addElement(e,r,o);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(d=>this.insertNode(d,r,!1));else{let d=e;typeof t.contentElement=="string"?d=e.querySelector(t.contentElement):typeof t.contentElement=="function"?d=t.contentElement(e):t.contentElement&&(d=t.contentElement),this.findAround(e,d,!0),this.addAll(d,r),this.findAround(e,d,!1)}l&&this.sync(c)&&this.open--}addAll(e,t,r,o){let l=r||0;for(let a=r?e.childNodes[r]:e.firstChild,c=o==null?null:e.childNodes[o];a!=c;a=a.nextSibling,++l)this.findAtPoint(e,l),this.addDOM(a,t);this.findAtPoint(e,l)}findPlace(e,t,r){let o,l;for(let a=this.open,c=0;a>=0;a--){let d=this.nodes[a],h=d.findWrapping(e);if(h&&(!o||o.length>h.length+c)&&(o=h,l=d,!h.length))break;if(d.solid){if(r)break;c+=2}}if(!o)return null;this.sync(l);for(let a=0;a<o.length;a++)t=this.enterInner(o[a],null,t,!1);return t}insertNode(e,t,r){if(e.isInline&&this.needsBlock&&!this.top.type){let l=this.textblockFromContext();l&&(t=this.enterInner(l,null,t))}let o=this.findPlace(e,t,r);if(o){this.closeExtra();let l=this.top;l.match&&(l.match=l.match.matchType(e.type));let a=Qe.none;for(let c of o.concat(e.marks))(l.type?l.type.allowsMarkType(c.type):k7(c.type,e.type))&&(a=c.addToSet(a));return l.content.push(e.mark(a)),!0}return!1}enter(e,t,r,o){let l=this.findPlace(e.create(t),r,!1);return l&&(l=this.enterInner(e,t,r,!0,o)),l}enterInner(e,t,r,o=!1,l){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(e);let c=w7(e,l,a.options);a.options&la&&a.content.length==0&&(c|=la);let d=Qe.none;return r=r.filter(h=>(a.type?a.type.allowsMarkType(h.type):k7(h.type,e))?(d=h.addToSet(d),!1):!0),this.nodes.push(new oc(e,t,d,o,null,c)),this.open++,r}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=xa)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let r=this.nodes[t].content;for(let o=r.length-1;o>=0;o--)e+=r[o].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==t&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,r){if(e!=t&&this.find)for(let o=0;o<this.find.length;o++)this.find[o].pos==null&&e.nodeType==1&&e.contains(this.find[o].node)&&t.compareDocumentPosition(this.find[o].node)&(r?2:4)&&(this.find[o].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),r=this.options.context,o=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),l=-(r?r.depth+1:0)+(o?0:1),a=(c,d)=>{for(;c>=0;c--){let h=t[c];if(h==""){if(c==t.length-1||c==0)continue;for(;d>=l;d--)if(a(c-1,d))return!0;return!1}else{let m=d>0||d==0&&o?this.nodes[d].type:r&&d>=l?r.node(d-l).type:null;if(!m||m.name!=h&&!m.isInGroup(h))return!1;d--}}return!0};return a(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let r=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let t in this.parser.schema.nodes){let r=this.parser.schema.nodes[t];if(r.isTextblock&&r.defaultAttrs)return r}}}function k8(n){for(let e=n.firstChild,t=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&_3.hasOwnProperty(r)&&t?(t.appendChild(e),e=t):r=="li"?t=e:r&&(t=null)}}function A8(n,e){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,e)}function T7(n){let e={};for(let t in n)e[t]=n[t];return e}function k7(n,e){let t=e.schema.nodes;for(let r in t){let o=t[r];if(!o.allowsMarkType(n))continue;let l=[],a=c=>{l.push(c);for(let d=0;d<c.edgeCount;d++){let{type:h,next:m}=c.edge(d);if(h==e||l.indexOf(m)<0&&a(m))return!0}};if(a(o.contentMatch))return!0}}class jo{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},r){r||(r=kp(t).createDocumentFragment());let o=r,l=[];return e.forEach(a=>{if(l.length||a.marks.length){let c=0,d=0;for(;c<l.length&&d<a.marks.length;){let h=a.marks[d];if(!this.marks[h.type.name]){d++;continue}if(!h.eq(l[c][0])||h.type.spec.spanning===!1)break;c++,d++}for(;c<l.length;)o=l.pop()[1];for(;d<a.marks.length;){let h=a.marks[d++],m=this.serializeMark(h,a.isInline,t);m&&(l.push([h,o]),o.appendChild(m.dom),o=m.contentDOM||m.dom)}}o.appendChild(this.serializeNodeInner(a,t))}),r}serializeNodeInner(e,t){let{dom:r,contentDOM:o}=Cc(kp(t),this.nodes[e.type.name](e),null,e.attrs);if(o){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,o)}return r}serializeNode(e,t={}){let r=this.serializeNodeInner(e,t);for(let o=e.marks.length-1;o>=0;o--){let l=this.serializeMark(e.marks[o],e.isInline,t);l&&((l.contentDOM||l.dom).appendChild(r),r=l.dom)}return r}serializeMark(e,t,r={}){let o=this.marks[e.type.name];return o&&Cc(kp(r),o(e,t),null,e.attrs)}static renderSpec(e,t,r=null,o){return Cc(e,t,r,o)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new jo(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=A7(e.nodes);return t.text||(t.text=r=>r.text),t}static marksFromSchema(e){return A7(e.marks)}}function A7(n){let e={};for(let t in n){let r=n[t].spec.toDOM;r&&(e[t]=r)}return e}function kp(n){return n.document||window.document}const R7=new WeakMap;function R8(n){let e=R7.get(n);return e===void 0&&R7.set(n,e=O8(n)),e}function O8(n){let e=null;function t(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let o=0;o<r.length;o++)t(r[o]);else for(let o in r)t(r[o])}return t(n),e}function Cc(n,e,t,r){if(typeof e=="string")return{dom:n.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let o=e[0],l;if(typeof o!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(l=R8(r))&&l.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=o.indexOf(" ");a>0&&(t=o.slice(0,a),o=o.slice(a+1));let c,d=t?n.createElementNS(t,o):n.createElement(o),h=e[1],m=1;if(h&&typeof h=="object"&&h.nodeType==null&&!Array.isArray(h)){m=2;for(let g in h)if(h[g]!=null){let b=g.indexOf(" ");b>0?d.setAttributeNS(g.slice(0,b),g.slice(b+1),h[g]):d.setAttribute(g,h[g])}}for(let g=m;g<e.length;g++){let b=e[g];if(b===0){if(g<e.length-1||g>m)throw new RangeError("Content hole must be the only child of its parent node");return{dom:d,contentDOM:d}}else{let{dom:v,contentDOM:C}=Cc(n,b,t,r);if(d.appendChild(v),C){if(c)throw new RangeError("Multiple content holes");c=C}}}return{dom:d,contentDOM:c}}const U3=65535,q3=Math.pow(2,16);function N8(n,e){return n+e*q3}function O7(n){return n&U3}function D8(n){return(n-(n&U3))/q3}const P3=1,F3=2,xc=4,K3=8;let v1=class{constructor(e,t,r){this.pos=e,this.delInfo=t,this.recover=r}get deleted(){return(this.delInfo&K3)>0}get deletedBefore(){return(this.delInfo&(P3|xc))>0}get deletedAfter(){return(this.delInfo&(F3|xc))>0}get deletedAcross(){return(this.delInfo&xc)>0}},No=class Ns{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&Ns.empty)return Ns.empty}recover(e){let t=0,r=O7(e);if(!this.inverted)for(let o=0;o<r;o++)t+=this.ranges[o*3+2]-this.ranges[o*3+1];return this.ranges[r*3]+t+D8(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,r){let o=0,l=this.inverted?2:1,a=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let d=this.ranges[c]-(this.inverted?o:0);if(d>e)break;let h=this.ranges[c+l],m=this.ranges[c+a],g=d+h;if(e<=g){let b=h?e==d?-1:e==g?1:t:t,v=d+o+(b<0?0:m);if(r)return v;let C=e==(t<0?d:g)?null:N8(c/3,e-d),S=e==d?F3:e==g?P3:xc;return(t<0?e!=d:e!=g)&&(S|=K3),new v1(v,S,C)}o+=m-h}return r?e+o:new v1(e+o,0,null)}touches(e,t){let r=0,o=O7(t),l=this.inverted?2:1,a=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let d=this.ranges[c]-(this.inverted?r:0);if(d>e)break;let h=this.ranges[c+l],m=d+h;if(e<=m&&c==o*3)return!0;r+=this.ranges[c+a]-h}return!1}forEach(e){let t=this.inverted?2:1,r=this.inverted?1:2;for(let o=0,l=0;o<this.ranges.length;o+=3){let a=this.ranges[o],c=a-(this.inverted?l:0),d=a+(this.inverted?0:l),h=this.ranges[o+t],m=this.ranges[o+r];e(c,c+h,d,d+m),l+=m-h}}invert(){return new Ns(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Ns.empty:new Ns(e<0?[0,-e,0]:[0,0,e])}};No.empty=new No([]);class Sa{constructor(e,t,r=0,o=e?e.length:0){this.mirror=t,this.from=r,this.to=o,this._maps=e||[],this.ownData=!(e||t)}get maps(){return this._maps}slice(e=0,t=this.maps.length){return new Sa(this._maps,this.mirror,e,t)}appendMap(e,t){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),t!=null&&this.setMirror(this._maps.length-1,t)}appendMapping(e){for(let t=0,r=this._maps.length;t<e._maps.length;t++){let o=e.getMirror(t);this.appendMap(e._maps[t],o!=null&&o<t?r+o:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,r=this._maps.length+e._maps.length;t>=0;t--){let o=e.getMirror(t);this.appendMap(e._maps[t].invert(),o!=null&&o>t?r-o-1:void 0)}}invert(){let e=new Sa;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,r){let o=0;for(let l=this.from;l<this.to;l++){let a=this._maps[l],c=a.mapResult(e,t);if(c.recover!=null){let d=this.getMirror(l);if(d!=null&&d>l&&d<this.to){l=d,e=this._maps[d].recover(c.recover);continue}}o|=c.delInfo,e=c.pos}return r?e:new v1(e,o,null)}}const Ap=Object.create(null);let tn=class{getMap(){return No.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Ap[t.stepType];if(!r)throw new RangeError(`No step type ${t.stepType} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in Ap)throw new RangeError("Duplicate use of step JSON ID "+e);return Ap[e]=t,t.prototype.jsonID=e,t}},cn=class Xl{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new Xl(e,null)}static fail(e){return new Xl(null,e)}static fromReplace(e,t,r,o){try{return Xl.ok(e.replace(t,r,o))}catch(l){if(l instanceof Nc)return Xl.fail(l.message);throw l}}};function im(n,e,t){let r=[];for(let o=0;o<n.childCount;o++){let l=n.child(o);l.content.size&&(l=l.copy(im(l.content,e,l))),l.isInline&&(l=e(l,t,o)),r.push(l)}return ee.fromArray(r)}let om=class Wl extends tn{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=e.resolve(this.from),o=r.node(r.sharedDepth(this.to)),l=new se(im(t.content,(a,c)=>!a.isAtom||!c.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),o),t.openStart,t.openEnd);return cn.fromReplace(e,this.from,this.to,l)}invert(){return new Ba(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new Wl(t.pos,r.pos,this.mark)}merge(e){return e instanceof Wl&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Wl(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Wl(t.from,t.to,e.markFromJSON(t.mark))}};tn.jsonID("addMark",om);let Ba=class ea extends tn{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=new se(im(t.content,o=>o.mark(this.mark.removeFromSet(o.marks)),e),t.openStart,t.openEnd);return cn.fromReplace(e,this.from,this.to,r)}invert(){return new om(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new ea(t.pos,r.pos,this.mark)}merge(e){return e instanceof ea&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new ea(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new ea(t.from,t.to,e.markFromJSON(t.mark))}};tn.jsonID("removeMark",Ba);let sm=class ta extends tn{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return cn.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return cn.fromReplace(e,this.pos,this.pos+1,new se(ee.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let r=this.mark.addToSet(t.marks);if(r.length==t.marks.length){for(let o=0;o<t.marks.length;o++)if(!t.marks[o].isInSet(r))return new ta(this.pos,t.marks[o]);return new ta(this.pos,this.mark)}}return new zc(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new ta(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new ta(t.pos,e.markFromJSON(t.mark))}};tn.jsonID("addNodeMark",sm);let zc=class C1 extends tn{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return cn.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return cn.fromReplace(e,this.pos,this.pos+1,new se(ee.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new sm(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new C1(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new C1(t.pos,e.markFromJSON(t.mark))}};tn.jsonID("removeNodeMark",zc);let lr=class fo extends tn{constructor(e,t,r,o=!1){super(),this.from=e,this.to=t,this.slice=r,this.structure=o}apply(e){return this.structure&&x1(e,this.from,this.to)?cn.fail("Structure replace would overwrite content"):cn.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new No([this.from,this.to-this.from,this.slice.size])}invert(e){return new fo(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deletedAcross&&r.deletedAcross?null:new fo(t.pos,Math.max(t.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof fo)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?se.empty:new se(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new fo(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?se.empty:new se(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new fo(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new fo(t.from,t.to,se.fromJSON(e,t.slice),!!t.structure)}};tn.jsonID("replace",lr);let Rn=class Sc extends tn{constructor(e,t,r,o,l,a,c=!1){super(),this.from=e,this.to=t,this.gapFrom=r,this.gapTo=o,this.slice=l,this.insert=a,this.structure=c}apply(e){if(this.structure&&(x1(e,this.from,this.gapFrom)||x1(e,this.gapTo,this.to)))return cn.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return cn.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,t.content);return r?cn.fromReplace(e,this.from,this.to,r):cn.fail("Content does not fit in gap")}getMap(){return new No([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new Sc(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),o=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),l=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return t.deletedAcross&&r.deletedAcross||o<t.pos||l>r.pos?null:new Sc(t.pos,r.pos,o,l,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Sc(t.from,t.to,t.gapFrom,t.gapTo,se.fromJSON(e,t.slice),t.insert,!!t.structure)}};tn.jsonID("replaceAround",Rn);function x1(n,e,t){let r=n.resolve(e),o=t-e,l=r.depth;for(;o>0&&l>0&&r.indexAfter(l)==r.node(l).childCount;)l--,o--;if(o>0){let a=r.node(l).maybeChild(r.indexAfter(l));for(;o>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,o--}}return!1}function L8(n,e,t,r){let o=[],l=[],a,c;n.doc.nodesBetween(e,t,(d,h,m)=>{if(!d.isInline)return;let g=d.marks;if(!r.isInSet(g)&&m.type.allowsMarkType(r.type)){let b=Math.max(h,e),v=Math.min(h+d.nodeSize,t),C=r.addToSet(g);for(let S=0;S<g.length;S++)g[S].isInSet(C)||(a&&a.to==b&&a.mark.eq(g[S])?a.to=v:o.push(a=new Ba(b,v,g[S])));c&&c.to==b?c.to=v:l.push(c=new om(b,v,r))}}),o.forEach(d=>n.step(d)),l.forEach(d=>n.step(d))}function H8(n,e,t,r){let o=[],l=0;n.doc.nodesBetween(e,t,(a,c)=>{if(!a.isInline)return;l++;let d=null;if(r instanceof Rf){let h=a.marks,m;for(;m=r.isInSet(h);)(d||(d=[])).push(m),h=m.removeFromSet(h)}else r?r.isInSet(a.marks)&&(d=[r]):d=a.marks;if(d&&d.length){let h=Math.min(c+a.nodeSize,t);for(let m=0;m<d.length;m++){let g=d[m],b;for(let v=0;v<o.length;v++){let C=o[v];C.step==l-1&&g.eq(o[v].style)&&(b=C)}b?(b.to=h,b.step=l):o.push({style:g,from:Math.max(c,e),to:h,step:l})}}}),o.forEach(a=>n.step(new Ba(a.from,a.to,a.style)))}function lm(n,e,t,r=t.contentMatch,o=!0){let l=n.doc.nodeAt(e),a=[],c=e+1;for(let d=0;d<l.childCount;d++){let h=l.child(d),m=c+h.nodeSize,g=r.matchType(h.type);if(!g)a.push(new lr(c,m,se.empty));else{r=g;for(let b=0;b<h.marks.length;b++)t.allowsMarkType(h.marks[b].type)||n.step(new Ba(c,m,h.marks[b]));if(o&&h.isText&&t.whitespace!="pre"){let b,v=/\r?\n|\r/g,C;for(;b=v.exec(h.text);)C||(C=new se(ee.from(t.schema.text(" ",t.allowedMarks(h.marks))),0,0)),a.push(new lr(c+b.index,c+b.index+b[0].length,C))}}c=m}if(!r.validEnd){let d=r.fillBefore(ee.empty,!0);n.replace(c,c,new se(d,0,0))}for(let d=a.length-1;d>=0;d--)n.step(a[d])}function z8(n,e,t){return(e==0||n.canReplace(e,n.childCount))&&(t==n.childCount||n.canReplace(0,t))}function Js(n){let t=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let r=n.depth;;--r){let o=n.$from.node(r),l=n.$from.index(r),a=n.$to.indexAfter(r);if(r<n.depth&&o.canReplace(l,a,t))return r;if(r==0||o.type.spec.isolating||!z8(o,l,a))break}return null}function B8(n,e,t){let{$from:r,$to:o,depth:l}=e,a=r.before(l+1),c=o.after(l+1),d=a,h=c,m=ee.empty,g=0;for(let C=l,S=!1;C>t;C--)S||r.index(C)>0?(S=!0,m=ee.from(r.node(C).copy(m)),g++):d--;let b=ee.empty,v=0;for(let C=l,S=!1;C>t;C--)S||o.after(C+1)<o.end(C)?(S=!0,b=ee.from(o.node(C).copy(b)),v++):h++;n.step(new Rn(d,h,a,c,new se(m.append(b),g,v),m.size-g,!0))}function am(n,e,t=null,r=n){let o=j8(n,e),l=o&&I8(r,e);return l?o.map(N7).concat({type:e,attrs:t}).concat(l.map(N7)):null}function N7(n){return{type:n,attrs:null}}function j8(n,e){let{parent:t,startIndex:r,endIndex:o}=n,l=t.contentMatchAt(r).findWrapping(e);if(!l)return null;let a=l.length?l[0]:e;return t.canReplaceWith(r,o,a)?l:null}function I8(n,e){let{parent:t,startIndex:r,endIndex:o}=n,l=t.child(r),a=e.contentMatch.findWrapping(l.type);if(!a)return null;let d=(a.length?a[a.length-1]:e).contentMatch;for(let h=r;d&&h<o;h++)d=d.matchType(t.child(h).type);return!d||!d.validEnd?null:a}function V8(n,e,t){let r=ee.empty;for(let a=t.length-1;a>=0;a--){if(r.size){let c=t[a].type.contentMatch.matchFragment(r);if(!c||!c.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=ee.from(t[a].type.create(t[a].attrs,r))}let o=e.start,l=e.end;n.step(new Rn(o,l,o,l,new se(r,0,0),t.length,!0))}function _8(n,e,t,r,o){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let l=n.steps.length;n.doc.nodesBetween(e,t,(a,c)=>{let d=typeof o=="function"?o(a):o;if(a.isTextblock&&!a.hasMarkup(r,d)&&U8(n.doc,n.mapping.slice(l).map(c),r)){let h=null;if(r.schema.linebreakReplacement){let v=r.whitespace=="pre",C=!!r.contentMatch.matchType(r.schema.linebreakReplacement);v&&!C?h=!1:!v&&C&&(h=!0)}h===!1&&G3(n,a,c,l),lm(n,n.mapping.slice(l).map(c,1),r,void 0,h===null);let m=n.mapping.slice(l),g=m.map(c,1),b=m.map(c+a.nodeSize,1);return n.step(new Rn(g,b,g+1,b-1,new se(ee.from(r.create(d,null,a.marks)),0,0),1,!0)),h===!0&&$3(n,a,c,l),!1}})}function $3(n,e,t,r){e.forEach((o,l)=>{if(o.isText){let a,c=/\r?\n|\r/g;for(;a=c.exec(o.text);){let d=n.mapping.slice(r).map(t+1+l+a.index);n.replaceWith(d,d+1,e.type.schema.linebreakReplacement.create())}}})}function G3(n,e,t,r){e.forEach((o,l)=>{if(o.type==o.type.schema.linebreakReplacement){let a=n.mapping.slice(r).map(t+1+l);n.replaceWith(a,a+1,e.type.schema.text(`
`))}})}function U8(n,e,t){let r=n.resolve(e),o=r.index();return r.parent.canReplaceWith(o,o+1,t)}function q8(n,e,t,r,o){let l=n.doc.nodeAt(e);if(!l)throw new RangeError("No node at given position");t||(t=l.type);let a=t.create(r,null,o||l.marks);if(l.isLeaf)return n.replaceWith(e,e+l.nodeSize,a);if(!t.validContent(l.content))throw new RangeError("Invalid content for node type "+t.name);n.step(new Rn(e,e+l.nodeSize,e+1,e+l.nodeSize-1,new se(ee.from(a),0,0),1,!0))}function Jr(n,e,t=1,r){let o=n.resolve(e),l=o.depth-t,a=r&&r[r.length-1]||o.parent;if(l<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!a.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(let h=o.depth-1,m=t-2;h>l;h--,m--){let g=o.node(h),b=o.index(h);if(g.type.spec.isolating)return!1;let v=g.content.cutByIndex(b,g.childCount),C=r&&r[m+1];C&&(v=v.replaceChild(0,C.type.create(C.attrs)));let S=r&&r[m]||g;if(!g.canReplace(b+1,g.childCount)||!S.type.validContent(v))return!1}let c=o.indexAfter(l),d=r&&r[0];return o.node(l).canReplaceWith(c,c,d?d.type:o.node(l+1).type)}function P8(n,e,t=1,r){let o=n.doc.resolve(e),l=ee.empty,a=ee.empty;for(let c=o.depth,d=o.depth-t,h=t-1;c>d;c--,h--){l=ee.from(o.node(c).copy(l));let m=r&&r[h];a=ee.from(m?m.type.create(m.attrs,a):o.node(c).copy(a))}n.step(new lr(e,e,new se(l.append(a),t,t),!0))}function Ui(n,e){let t=n.resolve(e),r=t.index();return Z3(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(r,r+1)}function F8(n,e){e.content.size||n.type.compatibleContent(e.type);let t=n.contentMatchAt(n.childCount),{linebreakReplacement:r}=n.type.schema;for(let o=0;o<e.childCount;o++){let l=e.child(o),a=l.type==r?n.type.schema.nodes.text:l.type;if(t=t.matchType(a),!t||!n.type.allowsMarks(l.marks))return!1}return t.validEnd}function Z3(n,e){return!!(n&&e&&!n.isLeaf&&F8(n,e))}function Of(n,e,t=-1){let r=n.resolve(e);for(let o=r.depth;;o--){let l,a,c=r.index(o);if(o==r.depth?(l=r.nodeBefore,a=r.nodeAfter):t>0?(l=r.node(o+1),c++,a=r.node(o).maybeChild(c)):(l=r.node(o).maybeChild(c-1),a=r.node(o+1)),l&&!l.isTextblock&&Z3(l,a)&&r.node(o).canReplace(c,c+1))return e;if(o==0)break;e=t<0?r.before(o):r.after(o)}}function K8(n,e,t){let r=null,{linebreakReplacement:o}=n.doc.type.schema,l=n.doc.resolve(e-t),a=l.node().type;if(o&&a.inlineContent){let m=a.whitespace=="pre",g=!!a.contentMatch.matchType(o);m&&!g?r=!1:!m&&g&&(r=!0)}let c=n.steps.length;if(r===!1){let m=n.doc.resolve(e+t);G3(n,m.node(),m.before(),c)}a.inlineContent&&lm(n,e+t-1,a,l.node().contentMatchAt(l.index()),r==null);let d=n.mapping.slice(c),h=d.map(e-t);if(n.step(new lr(h,d.map(e+t,-1),se.empty,!0)),r===!0){let m=n.doc.resolve(h);$3(n,m.node(),m.before(),n.steps.length)}return n}function $8(n,e,t){let r=n.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),t))return e;if(r.parentOffset==0)for(let o=r.depth-1;o>=0;o--){let l=r.index(o);if(r.node(o).canReplaceWith(l,l,t))return r.before(o+1);if(l>0)return null}if(r.parentOffset==r.parent.content.size)for(let o=r.depth-1;o>=0;o--){let l=r.indexAfter(o);if(r.node(o).canReplaceWith(l,l,t))return r.after(o+1);if(l<r.node(o).childCount)return null}return null}function Y3(n,e,t){let r=n.resolve(e);if(!t.content.size)return e;let o=t.content;for(let l=0;l<t.openStart;l++)o=o.firstChild.content;for(let l=1;l<=(t.openStart==0&&t.size?2:1);l++)for(let a=r.depth;a>=0;a--){let c=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,d=r.index(a)+(c>0?1:0),h=r.node(a),m=!1;if(l==1)m=h.canReplace(d,d,o);else{let g=h.contentMatchAt(d).findWrapping(o.firstChild.type);m=g&&h.canReplaceWith(d,d,g[0])}if(m)return c==0?r.pos:c<0?r.before(a+1):r.after(a+1)}return null}function Nf(n,e,t=e,r=se.empty){if(e==t&&!r.size)return null;let o=n.resolve(e),l=n.resolve(t);return J3(o,l,r)?new lr(e,t,r):new G8(o,l,r).fit()}function J3(n,e,t){return!t.openStart&&!t.openEnd&&n.start()==e.start()&&n.parent.canReplace(n.index(),e.index(),t.content)}class G8{constructor(e,t,r){this.$from=e,this.$to=t,this.unplaced=r,this.frontier=[],this.placed=ee.empty;for(let o=0;o<=e.depth;o++){let l=e.node(o);this.frontier.push({type:l.type,match:l.contentMatchAt(e.indexAfter(o))})}for(let o=e.depth;o>0;o--)this.placed=ee.from(e.node(o).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let h=this.findFittable();h?this.placeNodes(h):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,r=this.$from,o=this.close(e<0?this.$to:r.doc.resolve(e));if(!o)return null;let l=this.placed,a=r.depth,c=o.depth;for(;a&&c&&l.childCount==1;)l=l.firstChild.content,a--,c--;let d=new se(l,a,c);return e>-1?new Rn(r.pos,e,this.$to.pos,this.$to.end(),d,t):d.size||r.pos!=this.$to.pos?new lr(r.pos,o.pos,d):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,r=0,o=this.unplaced.openEnd;r<e;r++){let l=t.firstChild;if(t.childCount>1&&(o=0),l.type.spec.isolating&&o<=r){e=r;break}t=l.content}for(let t=1;t<=2;t++)for(let r=t==1?e:this.unplaced.openStart;r>=0;r--){let o,l=null;r?(l=Rp(this.unplaced.content,r-1).firstChild,o=l.content):o=this.unplaced.content;let a=o.firstChild;for(let c=this.depth;c>=0;c--){let{type:d,match:h}=this.frontier[c],m,g=null;if(t==1&&(a?h.matchType(a.type)||(g=h.fillBefore(ee.from(a),!1)):l&&d.compatibleContent(l.type)))return{sliceDepth:r,frontierDepth:c,parent:l,inject:g};if(t==2&&a&&(m=h.findWrapping(a.type)))return{sliceDepth:r,frontierDepth:c,parent:l,wrap:m};if(l&&h.matchType(l.type))break}}}openMore(){let{content:e,openStart:t,openEnd:r}=this.unplaced,o=Rp(e,t);return!o.childCount||o.firstChild.isLeaf?!1:(this.unplaced=new se(e,t+1,Math.max(r,o.size+t>=e.size-r?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:r}=this.unplaced,o=Rp(e,t);if(o.childCount<=1&&t>0){let l=e.size-t<=t+o.size;this.unplaced=new se(na(e,t-1,1),t-1,l?t-1:r)}else this.unplaced=new se(na(e,t,1),t,r)}placeNodes({sliceDepth:e,frontierDepth:t,parent:r,inject:o,wrap:l}){for(;this.depth>t;)this.closeFrontierNode();if(l)for(let S=0;S<l.length;S++)this.openFrontierNode(l[S]);let a=this.unplaced,c=r?r.content:a.content,d=a.openStart-e,h=0,m=[],{match:g,type:b}=this.frontier[t];if(o){for(let S=0;S<o.childCount;S++)m.push(o.child(S));g=g.matchFragment(o)}let v=c.size+e-(a.content.size-a.openEnd);for(;h<c.childCount;){let S=c.child(h),M=g.matchType(S.type);if(!M)break;h++,(h>1||d==0||S.content.size)&&(g=M,m.push(Q3(S.mark(b.allowedMarks(S.marks)),h==1?d:0,h==c.childCount?v:-1)))}let C=h==c.childCount;C||(v=-1),this.placed=ra(this.placed,t,ee.from(m)),this.frontier[t].match=g,C&&v<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let S=0,M=c;S<v;S++){let k=M.lastChild;this.frontier.push({type:k.type,match:k.contentMatchAt(k.childCount)}),M=k.content}this.unplaced=C?e==0?se.empty:new se(na(a.content,e-1,1),e-1,v<0?a.openEnd:e-1):new se(na(a.content,e,h),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!Op(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:r}=this.$to,o=this.$to.after(r);for(;r>1&&o==this.$to.end(--r);)++o;return o}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:r,type:o}=this.frontier[t],l=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),a=Op(e,t,o,r,l);if(a){for(let c=t-1;c>=0;c--){let{match:d,type:h}=this.frontier[c],m=Op(e,c,h,d,!0);if(!m||m.childCount)continue e}return{depth:t,fit:a,move:l?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=ra(this.placed,t.depth,t.fit)),e=t.move;for(let r=t.depth+1;r<=e.depth;r++){let o=e.node(r),l=o.type.contentMatch.fillBefore(o.content,!0,e.index(r));this.openFrontierNode(o.type,o.attrs,l)}return e}openFrontierNode(e,t=null,r){let o=this.frontier[this.depth];o.match=o.match.matchType(e),this.placed=ra(this.placed,this.depth,ee.from(e.create(t,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(ee.empty,!0);t.childCount&&(this.placed=ra(this.placed,this.frontier.length,t))}}function na(n,e,t){return e==0?n.cutByIndex(t,n.childCount):n.replaceChild(0,n.firstChild.copy(na(n.firstChild.content,e-1,t)))}function ra(n,e,t){return e==0?n.append(t):n.replaceChild(n.childCount-1,n.lastChild.copy(ra(n.lastChild.content,e-1,t)))}function Rp(n,e){for(let t=0;t<e;t++)n=n.firstChild.content;return n}function Q3(n,e,t){if(e<=0)return n;let r=n.content;return e>1&&(r=r.replaceChild(0,Q3(r.firstChild,e-1,r.childCount==1?t-1:0))),e>0&&(r=n.type.contentMatch.fillBefore(r).append(r),t<=0&&(r=r.append(n.type.contentMatch.matchFragment(r).fillBefore(ee.empty,!0)))),n.copy(r)}function Op(n,e,t,r,o){let l=n.node(e),a=o?n.indexAfter(e):n.index(e);if(a==l.childCount&&!t.compatibleContent(l.type))return null;let c=r.fillBefore(l.content,!0,a);return c&&!Z8(t,l.content,a)?c:null}function Z8(n,e,t){for(let r=t;r<e.childCount;r++)if(!n.allowsMarks(e.child(r).marks))return!0;return!1}function Y8(n){return n.spec.defining||n.spec.definingForContent}function J8(n,e,t,r){if(!r.size)return n.deleteRange(e,t);let o=n.doc.resolve(e),l=n.doc.resolve(t);if(J3(o,l,r))return n.step(new lr(e,t,r));let a=W3(o,n.doc.resolve(t));a[a.length-1]==0&&a.pop();let c=-(o.depth+1);a.unshift(c);for(let b=o.depth,v=o.pos-1;b>0;b--,v--){let C=o.node(b).type.spec;if(C.defining||C.definingAsContext||C.isolating)break;a.indexOf(b)>-1?c=b:o.before(b)==v&&a.splice(1,0,-b)}let d=a.indexOf(c),h=[],m=r.openStart;for(let b=r.content,v=0;;v++){let C=b.firstChild;if(h.push(C),v==r.openStart)break;b=C.content}for(let b=m-1;b>=0;b--){let v=h[b],C=Y8(v.type);if(C&&!v.sameMarkup(o.node(Math.abs(c)-1)))m=b;else if(C||!v.type.isTextblock)break}for(let b=r.openStart;b>=0;b--){let v=(b+m+1)%(r.openStart+1),C=h[v];if(C)for(let S=0;S<a.length;S++){let M=a[(S+d)%a.length],k=!0;M<0&&(k=!1,M=-M);let O=o.node(M-1),D=o.index(M-1);if(O.canReplaceWith(D,D,C.type,C.marks))return n.replace(o.before(M),k?l.after(M):t,new se(X3(r.content,0,r.openStart,v),v,r.openEnd))}}let g=n.steps.length;for(let b=a.length-1;b>=0&&(n.replace(e,t,r),!(n.steps.length>g));b--){let v=a[b];v<0||(e=o.before(v),t=l.after(v))}}function X3(n,e,t,r,o){if(e<t){let l=n.firstChild;n=n.replaceChild(0,l.copy(X3(l.content,e+1,t,r,l)))}if(e>r){let l=o.contentMatchAt(0),a=l.fillBefore(n).append(n);n=a.append(l.matchFragment(a).fillBefore(ee.empty,!0))}return n}function Q8(n,e,t,r){if(!r.isInline&&e==t&&n.doc.resolve(e).parent.content.size){let o=$8(n.doc,e,r.type);o!=null&&(e=t=o)}n.replaceRange(e,t,new se(ee.from(r),0,0))}function X8(n,e,t){let r=n.doc.resolve(e),o=n.doc.resolve(t),l=W3(r,o);for(let a=0;a<l.length;a++){let c=l[a],d=a==l.length-1;if(d&&c==0||r.node(c).type.contentMatch.validEnd)return n.delete(r.start(c),o.end(c));if(c>0&&(d||r.node(c-1).canReplace(r.index(c-1),o.indexAfter(c-1))))return n.delete(r.before(c),o.after(c))}for(let a=1;a<=r.depth&&a<=o.depth;a++)if(e-r.start(a)==r.depth-a&&t>r.end(a)&&o.end(a)-t!=o.depth-a&&r.start(a-1)==o.start(a-1)&&r.node(a-1).canReplace(r.index(a-1),o.index(a-1)))return n.delete(r.before(a),t);n.delete(e,t)}function W3(n,e){let t=[],r=Math.min(n.depth,e.depth);for(let o=r;o>=0;o--){let l=n.start(o);if(l<n.pos-(n.depth-o)||e.end(o)>e.pos+(e.depth-o)||n.node(o).type.spec.isolating||e.node(o).type.spec.isolating)break;(l==e.start(o)||o==n.depth&&o==e.depth&&n.parent.inlineContent&&e.parent.inlineContent&&o&&e.start(o-1)==l-1)&&t.push(o)}return t}let eb=class Ec extends tn{constructor(e,t,r){super(),this.pos=e,this.attr=t,this.value=r}apply(e){let t=e.nodeAt(this.pos);if(!t)return cn.fail("No node at attribute step's position");let r=Object.create(null);for(let l in t.attrs)r[l]=t.attrs[l];r[this.attr]=this.value;let o=t.type.create(r,null,t.marks);return cn.fromReplace(e,this.pos,this.pos+1,new se(ee.from(o),0,t.isLeaf?0:1))}getMap(){return No.empty}invert(e){return new Ec(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Ec(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Ec(t.pos,t.attr,t.value)}};tn.jsonID("attr",eb);let tb=class S1 extends tn{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let o in e.attrs)t[o]=e.attrs[o];t[this.attr]=this.value;let r=e.type.create(t,e.content,e.marks);return cn.ok(r)}getMap(){return No.empty}invert(e){return new S1(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new S1(t.attr,t.value)}};tn.jsonID("docAttr",tb);let qs=class extends Error{};qs=function n(e){let t=Error.call(this,e);return t.__proto__=n.prototype,t};qs.prototype=Object.create(Error.prototype);qs.prototype.constructor=qs;qs.prototype.name="TransformError";class nb{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Sa}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new qs(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,r=se.empty){let o=Nf(this.doc,e,t,r);return o&&this.step(o),this}replaceWith(e,t,r){return this.replace(e,t,new se(ee.from(r),0,0))}delete(e,t){return this.replace(e,t,se.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,r){return J8(this,e,t,r),this}replaceRangeWith(e,t,r){return Q8(this,e,t,r),this}deleteRange(e,t){return X8(this,e,t),this}lift(e,t){return B8(this,e,t),this}join(e,t=1){return K8(this,e,t),this}wrap(e,t){return V8(this,e,t),this}setBlockType(e,t=e,r,o=null){return _8(this,e,t,r,o),this}setNodeMarkup(e,t,r=null,o){return q8(this,e,t,r,o),this}setNodeAttribute(e,t,r){return this.step(new eb(e,t,r)),this}setDocAttribute(e,t){return this.step(new tb(e,t)),this}addNodeMark(e,t){return this.step(new sm(e,t)),this}removeNodeMark(e,t){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(t instanceof Qe)t.isInSet(r.marks)&&this.step(new zc(e,t));else{let o=r.marks,l,a=[];for(;l=t.isInSet(o);)a.push(new zc(e,l)),o=l.removeFromSet(o);for(let c=a.length-1;c>=0;c--)this.step(a[c])}return this}split(e,t=1,r){return P8(this,e,t,r),this}addMark(e,t,r){return L8(this,e,t,r),this}removeMark(e,t,r){return H8(this,e,t,r),this}clearIncompatible(e,t,r){return lm(this,e,t,r),this}}const Np=Object.create(null);let Te=class{constructor(e,t,r){this.$anchor=e,this.$head=t,this.ranges=r||[new W8(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=se.empty){let r=t.content.lastChild,o=null;for(let c=0;c<t.openEnd;c++)o=r,r=r.lastChild;let l=e.steps.length,a=this.ranges;for(let c=0;c<a.length;c++){let{$from:d,$to:h}=a[c],m=e.mapping.slice(l);e.replaceRange(m.map(d.pos),m.map(h.pos),c?se.empty:t),c==0&&H7(e,l,(r?r.isInline:o&&o.isTextblock)?-1:1)}}replaceWith(e,t){let r=e.steps.length,o=this.ranges;for(let l=0;l<o.length;l++){let{$from:a,$to:c}=o[l],d=e.mapping.slice(r),h=d.map(a.pos),m=d.map(c.pos);l?e.deleteRange(h,m):(e.replaceRangeWith(h,m,t),H7(e,r,t.isInline?-1:1))}}static findFrom(e,t,r=!1){let o=e.parent.inlineContent?new ve(e):Ds(e.node(0),e.parent,e.pos,e.index(),t,r);if(o)return o;for(let l=e.depth-1;l>=0;l--){let a=t<0?Ds(e.node(0),e.node(l),e.before(l+1),e.index(l),t,r):Ds(e.node(0),e.node(l),e.after(l+1),e.index(l)+1,t,r);if(a)return a}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new Vn(e.node(0))}static atStart(e){return Ds(e,e,0,0,1)||new Vn(e)}static atEnd(e){return Ds(e,e,e.content.size,e.childCount,-1)||new Vn(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Np[t.type];if(!r)throw new RangeError(`No selection type ${t.type} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in Np)throw new RangeError("Duplicate use of selection JSON ID "+e);return Np[e]=t,t.prototype.jsonID=e,t}getBookmark(){return ve.between(this.$anchor,this.$head).getBookmark()}};Te.prototype.visible=!0;class W8{constructor(e,t){this.$from=e,this.$to=t}}let D7=!1;function L7(n){!D7&&!n.parent.inlineContent&&(D7=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}class ve extends Te{constructor(e,t=e){L7(e),L7(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let r=e.resolve(t.map(this.head));if(!r.parent.inlineContent)return Te.near(r);let o=e.resolve(t.map(this.anchor));return new ve(o.parent.inlineContent?o:r,r)}replace(e,t=se.empty){if(super.replace(e,t),t==se.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof ve&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Df(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new ve(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,r=t){let o=e.resolve(t);return new this(o,r==t?o:e.resolve(r))}static between(e,t,r){let o=e.pos-t.pos;if((!r||o)&&(r=o>=0?1:-1),!t.parent.inlineContent){let l=Te.findFrom(t,r,!0)||Te.findFrom(t,-r,!0);if(l)t=l.$head;else return Te.near(t,r)}return e.parent.inlineContent||(o==0?e=t:(e=(Te.findFrom(e,-r,!0)||Te.findFrom(e,r,!0)).$anchor,e.pos<t.pos!=o<0&&(e=t))),new ve(e,t)}}Te.jsonID("text",ve);class Df{constructor(e,t){this.anchor=e,this.head=t}map(e){return new Df(e.map(this.anchor),e.map(this.head))}resolve(e){return ve.between(e.resolve(this.anchor),e.resolve(this.head))}}class ce extends Te{constructor(e){let t=e.nodeAfter,r=e.node(0).resolve(e.pos+t.nodeSize);super(e,r),this.node=t}map(e,t){let{deleted:r,pos:o}=t.mapResult(this.anchor),l=e.resolve(o);return r?Te.near(l):new ce(l)}content(){return new se(ee.from(this.node),0,0)}eq(e){return e instanceof ce&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new um(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ce(e.resolve(t.anchor))}static create(e,t){return new ce(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}ce.prototype.visible=!1;Te.jsonID("node",ce);class um{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:r}=e.mapResult(this.anchor);return t?new Df(r,r):new um(r)}resolve(e){let t=e.resolve(this.anchor),r=t.nodeAfter;return r&&ce.isSelectable(r)?new ce(t):Te.near(t)}}class Vn extends Te{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=se.empty){if(t==se.empty){e.delete(0,e.doc.content.size);let r=Te.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new Vn(e)}map(e){return new Vn(e)}eq(e){return e instanceof Vn}getBookmark(){return ex}}Te.jsonID("all",Vn);const ex={map(){return this},resolve(n){return new Vn(n)}};function Ds(n,e,t,r,o,l=!1){if(e.inlineContent)return ve.create(n,t);for(let a=r-(o>0?0:1);o>0?a<e.childCount:a>=0;a+=o){let c=e.child(a);if(c.isAtom){if(!l&&ce.isSelectable(c))return ce.create(n,t-(o<0?c.nodeSize:0))}else{let d=Ds(n,c,t+o,o<0?c.childCount:0,o,l);if(d)return d}t+=c.nodeSize*o}return null}function H7(n,e,t){let r=n.steps.length-1;if(r<e)return;let o=n.steps[r];if(!(o instanceof lr||o instanceof Rn))return;let l=n.mapping.maps[r],a;l.forEach((c,d,h,m)=>{a==null&&(a=m)}),n.setSelection(Te.near(n.doc.resolve(a),t))}const z7=1,sc=2,B7=4;class tx extends nb{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|z7)&~sc,this.storedMarks=null,this}get selectionSet(){return(this.updated&z7)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=sc,this}ensureMarks(e){return Qe.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&sc)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&~sc,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let r=this.selection;return t&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Qe.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,r){let o=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(o.text(e),!0):this.deleteSelection();{if(r==null&&(r=t),r=r??t,!e)return this.deleteRange(t,r);let l=this.storedMarks;if(!l){let a=this.doc.resolve(t);l=r==t?a.marks():a.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(t,r,o.text(e,l)),this.selection.empty||this.setSelection(Te.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=B7,this}get scrolledIntoView(){return(this.updated&B7)>0}}function j7(n,e){return!e||!n?n:n.bind(e)}class ia{constructor(e,t,r){this.name=e,this.init=j7(t.init,r),this.apply=j7(t.apply,r)}}const nx=[new ia("doc",{init(n){return n.doc||n.schema.topNodeType.createAndFill()},apply(n){return n.doc}}),new ia("selection",{init(n,e){return n.selection||Te.atStart(e.doc)},apply(n){return n.selection}}),new ia("storedMarks",{init(n){return n.storedMarks||null},apply(n,e,t,r){return r.selection.$cursor?n.storedMarks:null}}),new ia("scrollToSelection",{init(){return 0},apply(n,e){return n.scrolledIntoView?e+1:e}})];class Dp{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=nx.slice(),t&&t.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new ia(r.key,r.spec.state,r))})}}class zs{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=t){let o=this.config.plugins[r];if(o.spec.filterTransaction&&!o.spec.filterTransaction.call(o,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],r=this.applyInner(e),o=null;for(;;){let l=!1;for(let a=0;a<this.config.plugins.length;a++){let c=this.config.plugins[a];if(c.spec.appendTransaction){let d=o?o[a].n:0,h=o?o[a].state:this,m=d<t.length&&c.spec.appendTransaction.call(c,d?t.slice(d):t,h,r);if(m&&r.filterTransaction(m,a)){if(m.setMeta("appendedTransaction",e),!o){o=[];for(let g=0;g<this.config.plugins.length;g++)o.push(g<a?{state:r,n:t.length}:{state:this,n:0})}t.push(m),r=r.applyInner(m),l=!0}o&&(o[a]={state:r,n:t.length})}}if(!l)return{state:r,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new zs(this.config),r=this.config.fields;for(let o=0;o<r.length;o++){let l=r[o];t[l.name]=l.apply(e,this[l.name],this,t)}return t}get tr(){return new tx(this)}static create(e){let t=new Dp(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new zs(t);for(let o=0;o<t.fields.length;o++)r[t.fields[o].name]=t.fields[o].init(e,r);return r}reconfigure(e){let t=new Dp(this.schema,e.plugins),r=t.fields,o=new zs(t);for(let l=0;l<r.length;l++){let a=r[l].name;o[a]=this.hasOwnProperty(a)?this[a]:r[l].init(e,o)}return o}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let o=e[r],l=o.spec.state;l&&l.toJSON&&(t[r]=l.toJSON.call(o,this[o.key]))}return t}static fromJSON(e,t,r){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let o=new Dp(e.schema,e.plugins),l=new zs(o);return o.fields.forEach(a=>{if(a.name=="doc")l.doc=Di.fromJSON(e.schema,t.doc);else if(a.name=="selection")l.selection=Te.fromJSON(l.doc,t.selection);else if(a.name=="storedMarks")t.storedMarks&&(l.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let c in r){let d=r[c],h=d.spec.state;if(d.key==a.name&&h&&h.fromJSON&&Object.prototype.hasOwnProperty.call(t,c)){l[a.name]=h.fromJSON.call(d,e,t[c],l);return}}l[a.name]=a.init(e,l)}}),l}}function rb(n,e,t){for(let r in n){let o=n[r];o instanceof Function?o=o.bind(e):r=="handleDOMEvents"&&(o=rb(o,e,{})),t[r]=o}return t}class pt{constructor(e){this.spec=e,this.props={},e.props&&rb(e.props,this,this.props),this.key=e.key?e.key.key:ib("plugin")}getState(e){return e[this.key]}}const Lp=Object.create(null);function ib(n){return n in Lp?n+"$"+ ++Lp[n]:(Lp[n]=0,n+"$")}class $t{constructor(e="key"){this.key=ib(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Pt=function(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e},Ps=function(n){let e=n.assignedSlot||n.parentNode;return e&&e.nodeType==11?e.host:e};let E1=null;const Kr=function(n,e,t){let r=E1||(E1=document.createRange());return r.setEnd(n,t??n.nodeValue.length),r.setStart(n,e||0),r},rx=function(){E1=null},Do=function(n,e,t,r){return t&&(I7(n,e,t,r,-1)||I7(n,e,t,r,1))},ix=/^(img|br|input|textarea|hr)$/i;function I7(n,e,t,r,o){for(var l;;){if(n==t&&e==r)return!0;if(e==(o<0?0:Wn(n))){let a=n.parentNode;if(!a||a.nodeType!=1||ja(n)||ix.test(n.nodeName)||n.contentEditable=="false")return!1;e=Pt(n)+(o<0?0:1),n=a}else if(n.nodeType==1){let a=n.childNodes[e+(o<0?-1:0)];if(a.nodeType==1&&a.contentEditable=="false")if(!((l=a.pmViewDesc)===null||l===void 0)&&l.ignoreForSelection)e+=o;else return!1;else n=a,e=o<0?Wn(n):0}else return!1}}function Wn(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function ox(n,e){for(;;){if(n.nodeType==3&&e)return n;if(n.nodeType==1&&e>0){if(n.contentEditable=="false")return null;n=n.childNodes[e-1],e=Wn(n)}else if(n.parentNode&&!ja(n))e=Pt(n),n=n.parentNode;else return null}}function sx(n,e){for(;;){if(n.nodeType==3&&e<n.nodeValue.length)return n;if(n.nodeType==1&&e<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[e],e=0}else if(n.parentNode&&!ja(n))e=Pt(n)+1,n=n.parentNode;else return null}}function lx(n,e,t){for(let r=e==0,o=e==Wn(n);r||o;){if(n==t)return!0;let l=Pt(n);if(n=n.parentNode,!n)return!1;r=r&&l==0,o=o&&l==Wn(n)}}function ja(n){let e;for(let t=n;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==n||e.contentDOM==n)}const Lf=function(n){return n.focusNode&&Do(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)};function mo(n,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=n,t.key=t.code=e,t}function ax(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function ux(n,e,t){if(n.caretPositionFromPoint)try{let r=n.caretPositionFromPoint(e,t);if(r)return{node:r.offsetNode,offset:Math.min(Wn(r.offsetNode),r.offset)}}catch{}if(n.caretRangeFromPoint){let r=n.caretRangeFromPoint(e,t);if(r)return{node:r.startContainer,offset:Math.min(Wn(r.startContainer),r.startOffset)}}}const Cr=typeof navigator<"u"?navigator:null,V7=typeof document<"u"?document:null,qi=Cr&&Cr.userAgent||"",w1=/Edge\/(\d+)/.exec(qi),ob=/MSIE \d/.exec(qi),M1=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(qi),kn=!!(ob||M1||w1),Hi=ob?document.documentMode:M1?+M1[1]:w1?+w1[1]:0,ar=!kn&&/gecko\/(\d+)/i.test(qi);ar&&+(/Firefox\/(\d+)/.exec(qi)||[0,0])[1];const T1=!kn&&/Chrome\/(\d+)/.exec(qi),en=!!T1,sb=T1?+T1[1]:0,fn=!kn&&!!Cr&&/Apple Computer/.test(Cr.vendor),Fs=fn&&(/Mobile\/\w+/.test(qi)||!!Cr&&Cr.maxTouchPoints>2),Xn=Fs||(Cr?/Mac/.test(Cr.platform):!1),cx=Cr?/Win/.test(Cr.platform):!1,Gr=/Android \d/.test(qi),Ia=!!V7&&"webkitFontSmoothing"in V7.documentElement.style,fx=Ia?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function dx(n){let e=n.defaultView&&n.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function Ur(n,e){return typeof n=="number"?n:n[e]}function hx(n){let e=n.getBoundingClientRect(),t=e.width/n.offsetWidth||1,r=e.height/n.offsetHeight||1;return{left:e.left,right:e.left+n.clientWidth*t,top:e.top,bottom:e.top+n.clientHeight*r}}function _7(n,e,t){let r=n.someProp("scrollThreshold")||0,o=n.someProp("scrollMargin")||5,l=n.dom.ownerDocument;for(let a=t||n.dom;a;){if(a.nodeType!=1){a=Ps(a);continue}let c=a,d=c==l.body,h=d?dx(l):hx(c),m=0,g=0;if(e.top<h.top+Ur(r,"top")?g=-(h.top-e.top+Ur(o,"top")):e.bottom>h.bottom-Ur(r,"bottom")&&(g=e.bottom-e.top>h.bottom-h.top?e.top+Ur(o,"top")-h.top:e.bottom-h.bottom+Ur(o,"bottom")),e.left<h.left+Ur(r,"left")?m=-(h.left-e.left+Ur(o,"left")):e.right>h.right-Ur(r,"right")&&(m=e.right-h.right+Ur(o,"right")),m||g)if(d)l.defaultView.scrollBy(m,g);else{let v=c.scrollLeft,C=c.scrollTop;g&&(c.scrollTop+=g),m&&(c.scrollLeft+=m);let S=c.scrollLeft-v,M=c.scrollTop-C;e={left:e.left-S,top:e.top-M,right:e.right-S,bottom:e.bottom-M}}let b=d?"fixed":getComputedStyle(a).position;if(/^(fixed|sticky)$/.test(b))break;a=b=="absolute"?a.offsetParent:Ps(a)}}function px(n){let e=n.dom.getBoundingClientRect(),t=Math.max(0,e.top),r,o;for(let l=(e.left+e.right)/2,a=t+1;a<Math.min(innerHeight,e.bottom);a+=5){let c=n.root.elementFromPoint(l,a);if(!c||c==n.dom||!n.dom.contains(c))continue;let d=c.getBoundingClientRect();if(d.top>=t-20){r=c,o=d.top;break}}return{refDOM:r,refTop:o,stack:lb(n.dom)}}function lb(n){let e=[],t=n.ownerDocument;for(let r=n;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),n!=t);r=Ps(r));return e}function mx({refDOM:n,refTop:e,stack:t}){let r=n?n.getBoundingClientRect().top:0;ab(t,r==0?0:r-e)}function ab(n,e){for(let t=0;t<n.length;t++){let{dom:r,top:o,left:l}=n[t];r.scrollTop!=o+e&&(r.scrollTop=o+e),r.scrollLeft!=l&&(r.scrollLeft=l)}}let As=null;function gx(n){if(n.setActive)return n.setActive();if(As)return n.focus(As);let e=lb(n);n.focus(As==null?{get preventScroll(){return As={preventScroll:!0},!0}}:void 0),As||(As=!1,ab(e,0))}function ub(n,e){let t,r=2e8,o,l=0,a=e.top,c=e.top,d,h;for(let m=n.firstChild,g=0;m;m=m.nextSibling,g++){let b;if(m.nodeType==1)b=m.getClientRects();else if(m.nodeType==3)b=Kr(m).getClientRects();else continue;for(let v=0;v<b.length;v++){let C=b[v];if(C.top<=a&&C.bottom>=c){a=Math.max(C.bottom,a),c=Math.min(C.top,c);let S=C.left>e.left?C.left-e.left:C.right<e.left?e.left-C.right:0;if(S<r){t=m,r=S,o=S&&t.nodeType==3?{left:C.right<e.left?C.right:C.left,top:e.top}:e,m.nodeType==1&&S&&(l=g+(e.left>=(C.left+C.right)/2?1:0));continue}}else C.top>e.top&&!d&&C.left<=e.left&&C.right>=e.left&&(d=m,h={left:Math.max(C.left,Math.min(C.right,e.left)),top:C.top});!t&&(e.left>=C.right&&e.top>=C.top||e.left>=C.left&&e.top>=C.bottom)&&(l=g+1)}}return!t&&d&&(t=d,o=h,r=0),t&&t.nodeType==3?yx(t,o):!t||r&&t.nodeType==1?{node:n,offset:l}:ub(t,o)}function yx(n,e){let t=n.nodeValue.length,r=document.createRange();for(let o=0;o<t;o++){r.setEnd(n,o+1),r.setStart(n,o);let l=wi(r,1);if(l.top!=l.bottom&&cm(e,l))return{node:n,offset:o+(e.left>=(l.left+l.right)/2?1:0)}}return{node:n,offset:0}}function cm(n,e){return n.left>=e.left-1&&n.left<=e.right+1&&n.top>=e.top-1&&n.top<=e.bottom+1}function bx(n,e){let t=n.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<n.getBoundingClientRect().left?t:n}function vx(n,e,t){let{node:r,offset:o}=ub(e,t),l=-1;if(r.nodeType==1&&!r.firstChild){let a=r.getBoundingClientRect();l=a.left!=a.right&&t.left>(a.left+a.right)/2?1:-1}return n.docView.posFromDOM(r,o,l)}function Cx(n,e,t,r){let o=-1;for(let l=e,a=!1;l!=n.dom;){let c=n.docView.nearestDesc(l,!0),d;if(!c)return null;if(c.dom.nodeType==1&&(c.node.isBlock&&c.parent||!c.contentDOM)&&((d=c.dom.getBoundingClientRect()).width||d.height)&&(c.node.isBlock&&c.parent&&(!a&&d.left>r.left||d.top>r.top?o=c.posBefore:(!a&&d.right<r.left||d.bottom<r.top)&&(o=c.posAfter),a=!0),!c.contentDOM&&o<0&&!c.node.isText))return(c.node.isBlock?r.top<(d.top+d.bottom)/2:r.left<(d.left+d.right)/2)?c.posBefore:c.posAfter;l=c.dom.parentNode}return o>-1?o:n.docView.posFromDOM(e,t,-1)}function cb(n,e,t){let r=n.childNodes.length;if(r&&t.top<t.bottom)for(let o=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-t.top)/(t.bottom-t.top))-2)),l=o;;){let a=n.childNodes[l];if(a.nodeType==1){let c=a.getClientRects();for(let d=0;d<c.length;d++){let h=c[d];if(cm(e,h))return cb(a,e,h)}}if((l=(l+1)%r)==o)break}return n}function xx(n,e){let t=n.dom.ownerDocument,r,o=0,l=ux(t,e.left,e.top);l&&({node:r,offset:o}=l);let a=(n.root.elementFromPoint?n.root:t).elementFromPoint(e.left,e.top),c;if(!a||!n.dom.contains(a.nodeType!=1?a.parentNode:a)){let h=n.dom.getBoundingClientRect();if(!cm(e,h)||(a=cb(n.dom,e,h),!a))return null}if(fn)for(let h=a;r&&h;h=Ps(h))h.draggable&&(r=void 0);if(a=bx(a,e),r){if(ar&&r.nodeType==1&&(o=Math.min(o,r.childNodes.length),o<r.childNodes.length)){let m=r.childNodes[o],g;m.nodeName=="IMG"&&(g=m.getBoundingClientRect()).right<=e.left&&g.bottom>e.top&&o++}let h;Ia&&o&&r.nodeType==1&&(h=r.childNodes[o-1]).nodeType==1&&h.contentEditable=="false"&&h.getBoundingClientRect().top>=e.top&&o--,r==n.dom&&o==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?c=n.state.doc.content.size:(o==0||r.nodeType!=1||r.childNodes[o-1].nodeName!="BR")&&(c=Cx(n,r,o,e))}c==null&&(c=vx(n,a,e));let d=n.docView.nearestDesc(a,!0);return{pos:c,inside:d?d.posAtStart-d.border:-1}}function U7(n){return n.top<n.bottom||n.left<n.right}function wi(n,e){let t=n.getClientRects();if(t.length){let r=t[e<0?0:t.length-1];if(U7(r))return r}return Array.prototype.find.call(t,U7)||n.getBoundingClientRect()}const Sx=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function fb(n,e,t){let{node:r,offset:o,atom:l}=n.docView.domFromPos(e,t<0?-1:1),a=Ia||ar;if(r.nodeType==3)if(a&&(Sx.test(r.nodeValue)||(t<0?!o:o==r.nodeValue.length))){let d=wi(Kr(r,o,o),t);if(ar&&o&&/\s/.test(r.nodeValue[o-1])&&o<r.nodeValue.length){let h=wi(Kr(r,o-1,o-1),-1);if(h.top==d.top){let m=wi(Kr(r,o,o+1),-1);if(m.top!=d.top)return Jl(m,m.left<h.left)}}return d}else{let d=o,h=o,m=t<0?1:-1;return t<0&&!o?(h++,m=-1):t>=0&&o==r.nodeValue.length?(d--,m=1):t<0?d--:h++,Jl(wi(Kr(r,d,h),m),m<0)}if(!n.state.doc.resolve(e-(l||0)).parent.inlineContent){if(l==null&&o&&(t<0||o==Wn(r))){let d=r.childNodes[o-1];if(d.nodeType==1)return Hp(d.getBoundingClientRect(),!1)}if(l==null&&o<Wn(r)){let d=r.childNodes[o];if(d.nodeType==1)return Hp(d.getBoundingClientRect(),!0)}return Hp(r.getBoundingClientRect(),t>=0)}if(l==null&&o&&(t<0||o==Wn(r))){let d=r.childNodes[o-1],h=d.nodeType==3?Kr(d,Wn(d)-(a?0:1)):d.nodeType==1&&(d.nodeName!="BR"||!d.nextSibling)?d:null;if(h)return Jl(wi(h,1),!1)}if(l==null&&o<Wn(r)){let d=r.childNodes[o];for(;d.pmViewDesc&&d.pmViewDesc.ignoreForCoords;)d=d.nextSibling;let h=d?d.nodeType==3?Kr(d,0,a?0:1):d.nodeType==1?d:null:null;if(h)return Jl(wi(h,-1),!0)}return Jl(wi(r.nodeType==3?Kr(r):r,-t),t>=0)}function Jl(n,e){if(n.width==0)return n;let t=e?n.left:n.right;return{top:n.top,bottom:n.bottom,left:t,right:t}}function Hp(n,e){if(n.height==0)return n;let t=e?n.top:n.bottom;return{top:t,bottom:t,left:n.left,right:n.right}}function db(n,e,t){let r=n.state,o=n.root.activeElement;r!=e&&n.updateState(e),o!=n.dom&&n.focus();try{return t()}finally{r!=e&&n.updateState(r),o!=n.dom&&o&&o.focus()}}function Ex(n,e,t){let r=e.selection,o=t=="up"?r.$from:r.$to;return db(n,e,()=>{let{node:l}=n.docView.domFromPos(o.pos,t=="up"?-1:1);for(;;){let c=n.docView.nearestDesc(l,!0);if(!c)break;if(c.node.isBlock){l=c.contentDOM||c.dom;break}l=c.dom.parentNode}let a=fb(n,o.pos,1);for(let c=l.firstChild;c;c=c.nextSibling){let d;if(c.nodeType==1)d=c.getClientRects();else if(c.nodeType==3)d=Kr(c,0,c.nodeValue.length).getClientRects();else continue;for(let h=0;h<d.length;h++){let m=d[h];if(m.bottom>m.top+1&&(t=="up"?a.top-m.top>(m.bottom-a.top)*2:m.bottom-a.bottom>(a.bottom-m.top)*2))return!1}}return!0})}const wx=/[\u0590-\u08ac]/;function Mx(n,e,t){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let o=r.parentOffset,l=!o,a=o==r.parent.content.size,c=n.domSelection();return c?!wx.test(r.parent.textContent)||!c.modify?t=="left"||t=="backward"?l:a:db(n,e,()=>{let{focusNode:d,focusOffset:h,anchorNode:m,anchorOffset:g}=n.domSelectionRange(),b=c.caretBidiLevel;c.modify("move",t,"character");let v=r.depth?n.docView.domAfterPos(r.before()):n.dom,{focusNode:C,focusOffset:S}=n.domSelectionRange(),M=C&&!v.contains(C.nodeType==1?C:C.parentNode)||d==C&&h==S;try{c.collapse(m,g),d&&(d!=m||h!=g)&&c.extend&&c.extend(d,h)}catch{}return b!=null&&(c.caretBidiLevel=b),M}):r.pos==r.start()||r.pos==r.end()}let q7=null,P7=null,F7=!1;function Tx(n,e,t){return q7==e&&P7==t?F7:(q7=e,P7=t,F7=t=="up"||t=="down"?Ex(n,e,t):Mx(n,e,t))}const er=0,K7=1,yo=2,xr=3;class Va{constructor(e,t,r,o){this.parent=e,this.children=t,this.dom=r,this.contentDOM=o,this.dirty=er,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,r=this.posAtStart;;t++){let o=this.children[t];if(o==e)return r;r+=o.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let l,a;if(e==this.contentDOM)l=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;l=e.previousSibling}for(;l&&!((a=l.pmViewDesc)&&a.parent==this);)l=l.previousSibling;return l?this.posBeforeChild(a)+a.size:this.posAtStart}else{let l,a;if(e==this.contentDOM)l=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;l=e.nextSibling}for(;l&&!((a=l.pmViewDesc)&&a.parent==this);)l=l.nextSibling;return l?this.posBeforeChild(a):this.posAtEnd}let o;if(e==this.dom&&this.contentDOM)o=t>Pt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))o=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let l=e;;l=l.parentNode){if(l==this.dom){o=!1;break}if(l.previousSibling)break}if(o==null&&t==e.childNodes.length)for(let l=e;;l=l.parentNode){if(l==this.dom){o=!0;break}if(l.nextSibling)break}}return o??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let r=!0,o=e;o;o=o.parentNode){let l=this.getDesc(o),a;if(l&&(!t||l.node))if(r&&(a=l.nodeDOM)&&!(a.nodeType==1?a.contains(e.nodeType==1?e:e.parentNode):a==e))r=!1;else return l}}getDesc(e){let t=e.pmViewDesc;for(let r=t;r;r=r.parent)if(r==this)return t}posFromDOM(e,t,r){for(let o=e;o;o=o.parentNode){let l=this.getDesc(o);if(l)return l.localPosFromDOM(e,t,r)}return-1}descAt(e){for(let t=0,r=0;t<this.children.length;t++){let o=this.children[t],l=r+o.size;if(r==e&&l!=r){for(;!o.border&&o.children.length;)for(let a=0;a<o.children.length;a++){let c=o.children[a];if(c.size){o=c;break}}return o}if(e<l)return o.descAt(e-r-o.border);r=l}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,o=0;for(let l=0;r<this.children.length;r++){let a=this.children[r],c=l+a.size;if(c>e||a instanceof pb){o=e-l;break}l=c}if(o)return this.children[r].domFromPos(o-this.children[r].border,t);for(let l;r&&!(l=this.children[r-1]).size&&l instanceof hb&&l.side>=0;r--);if(t<=0){let l,a=!0;for(;l=r?this.children[r-1]:null,!(!l||l.dom.parentNode==this.contentDOM);r--,a=!1);return l&&t&&a&&!l.border&&!l.domAtom?l.domFromPos(l.size,t):{node:this.contentDOM,offset:l?Pt(l.dom)+1:0}}else{let l,a=!0;for(;l=r<this.children.length?this.children[r]:null,!(!l||l.dom.parentNode==this.contentDOM);r++,a=!1);return l&&a&&!l.border&&!l.domAtom?l.domFromPos(0,t):{node:this.contentDOM,offset:l?Pt(l.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let o=-1,l=-1;for(let a=r,c=0;;c++){let d=this.children[c],h=a+d.size;if(o==-1&&e<=h){let m=a+d.border;if(e>=m&&t<=h-d.border&&d.node&&d.contentDOM&&this.contentDOM.contains(d.contentDOM))return d.parseRange(e,t,m);e=a;for(let g=c;g>0;g--){let b=this.children[g-1];if(b.size&&b.dom.parentNode==this.contentDOM&&!b.emptyChildAt(1)){o=Pt(b.dom)+1;break}e-=b.size}o==-1&&(o=0)}if(o>-1&&(h>t||c==this.children.length-1)){t=h;for(let m=c+1;m<this.children.length;m++){let g=this.children[m];if(g.size&&g.dom.parentNode==this.contentDOM&&!g.emptyChildAt(-1)){l=Pt(g.dom);break}t+=g.size}l==-1&&(l=this.contentDOM.childNodes.length);break}a=h}return{node:this.contentDOM,from:e,to:t,fromOffset:o,toOffset:l}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:r}=this.domFromPos(e,0);if(t.nodeType!=1||r==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[r]}setSelection(e,t,r,o=!1){let l=Math.min(e,t),a=Math.max(e,t);for(let v=0,C=0;v<this.children.length;v++){let S=this.children[v],M=C+S.size;if(l>C&&a<M)return S.setSelection(e-C-S.border,t-C-S.border,r,o);C=M}let c=this.domFromPos(e,e?-1:1),d=t==e?c:this.domFromPos(t,t?-1:1),h=r.root.getSelection(),m=r.domSelectionRange(),g=!1;if((ar||fn)&&e==t){let{node:v,offset:C}=c;if(v.nodeType==3){if(g=!!(C&&v.nodeValue[C-1]==`
`),g&&C==v.nodeValue.length)for(let S=v,M;S;S=S.parentNode){if(M=S.nextSibling){M.nodeName=="BR"&&(c=d={node:M.parentNode,offset:Pt(M)+1});break}let k=S.pmViewDesc;if(k&&k.node&&k.node.isBlock)break}}else{let S=v.childNodes[C-1];g=S&&(S.nodeName=="BR"||S.contentEditable=="false")}}if(ar&&m.focusNode&&m.focusNode!=d.node&&m.focusNode.nodeType==1){let v=m.focusNode.childNodes[m.focusOffset];v&&v.contentEditable=="false"&&(o=!0)}if(!(o||g&&fn)&&Do(c.node,c.offset,m.anchorNode,m.anchorOffset)&&Do(d.node,d.offset,m.focusNode,m.focusOffset))return;let b=!1;if((h.extend||e==t)&&!g){h.collapse(c.node,c.offset);try{e!=t&&h.extend(d.node,d.offset),b=!0}catch{}}if(!b){if(e>t){let C=c;c=d,d=C}let v=document.createRange();v.setEnd(d.node,d.offset),v.setStart(c.node,c.offset),h.removeAllRanges(),h.addRange(v)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let r=0,o=0;o<this.children.length;o++){let l=this.children[o],a=r+l.size;if(r==a?e<=a&&t>=r:e<a&&t>r){let c=r+l.border,d=a-l.border;if(e>=c&&t<=d){this.dirty=e==r||t==a?yo:K7,e==c&&t==d&&(l.contentLost||l.dom.parentNode!=this.contentDOM)?l.dirty=xr:l.markDirty(e-c,t-c);return}else l.dirty=l.dom==l.contentDOM&&l.dom.parentNode==this.contentDOM&&!l.children.length?yo:xr}r=a}this.dirty=yo}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let r=e==1?yo:K7;t.dirty<r&&(t.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class hb extends Va{constructor(e,t,r,o){let l,a=t.type.toDOM;if(typeof a=="function"&&(a=a(r,()=>{if(!l)return o;if(l.parent)return l.parent.posBeforeChild(l)})),!t.type.spec.raw){if(a.nodeType!=1){let c=document.createElement("span");c.appendChild(a),a=c}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(e,[],a,null),this.widget=t,this.widget=t,l=this}matchesWidget(e){return this.dirty==er&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class kx extends Va{constructor(e,t,r,o){super(e,[],t,null),this.textDOM=r,this.text=o}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Lo extends Va{constructor(e,t,r,o,l){super(e,[],r,o),this.mark=t,this.spec=l}static create(e,t,r,o){let l=o.nodeViews[t.type.name],a=l&&l(t,o,r);return(!a||!a.dom)&&(a=jo.renderSpec(document,t.type.spec.toDOM(t,r),null,t.attrs)),new Lo(e,t,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&xr||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=xr&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=er){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=er}}slice(e,t,r){let o=Lo.create(this.parent,this.mark,!0,r),l=this.children,a=this.size;t<a&&(l=A1(l,t,a,r)),e>0&&(l=A1(l,0,e,r));for(let c=0;c<l.length;c++)l[c].parent=o;return o.children=l,o}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class zi extends Va{constructor(e,t,r,o,l,a,c,d,h){super(e,[],l,a),this.node=t,this.outerDeco=r,this.innerDeco=o,this.nodeDOM=c}static create(e,t,r,o,l,a){let c=l.nodeViews[t.type.name],d,h=c&&c(t,l,()=>{if(!d)return a;if(d.parent)return d.parent.posBeforeChild(d)},r,o),m=h&&h.dom,g=h&&h.contentDOM;if(t.isText){if(!m)m=document.createTextNode(t.text);else if(m.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else m||({dom:m,contentDOM:g}=jo.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!g&&!t.isText&&m.nodeName!="BR"&&(m.hasAttribute("contenteditable")||(m.contentEditable="false"),t.type.spec.draggable&&(m.draggable=!0));let b=m;return m=yb(m,r,t),h?d=new Ax(e,t,r,o,m,g||null,b,h,l,a+1):t.isText?new Hf(e,t,r,o,m,b,l):new zi(e,t,r,o,m,g||null,b,l,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let r=this.children[t];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>ee.empty)}return e}matchesNode(e,t,r){return this.dirty==er&&e.eq(this.node)&&Bc(t,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let r=this.node.inlineContent,o=t,l=e.composing?this.localCompositionInfo(e,t):null,a=l&&l.pos>-1?l:null,c=l&&l.pos<0,d=new Ox(this,a&&a.node,e);Lx(this.node,this.innerDeco,(h,m,g)=>{h.spec.marks?d.syncToMarks(h.spec.marks,r,e):h.type.side>=0&&!g&&d.syncToMarks(m==this.node.childCount?Qe.none:this.node.child(m).marks,r,e),d.placeWidget(h,e,o)},(h,m,g,b)=>{d.syncToMarks(h.marks,r,e);let v;d.findNodeMatch(h,m,g,b)||c&&e.state.selection.from>o&&e.state.selection.to<o+h.nodeSize&&(v=d.findIndexWithChild(l.node))>-1&&d.updateNodeAt(h,m,g,v,e)||d.updateNextNode(h,m,g,e,b,o)||d.addNode(h,m,g,e,o),o+=h.nodeSize}),d.syncToMarks([],r,e),this.node.isTextblock&&d.addTextblockHacks(),d.destroyRest(),(d.changed||this.dirty==yo)&&(a&&this.protectLocalComposition(e,a),mb(this.contentDOM,this.children,e),Fs&&Hx(this.dom))}localCompositionInfo(e,t){let{from:r,to:o}=e.state.selection;if(!(e.state.selection instanceof ve)||r<t||o>t+this.node.content.size)return null;let l=e.input.compositionNode;if(!l||!this.dom.contains(l.parentNode))return null;if(this.node.inlineContent){let a=l.nodeValue,c=zx(this.node.content,a,r-t,o-t);return c<0?null:{node:l,pos:c,text:a}}else return{node:l,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:r,text:o}){if(this.getDesc(t))return;let l=t;for(;l.parentNode!=this.contentDOM;l=l.parentNode){for(;l.previousSibling;)l.parentNode.removeChild(l.previousSibling);for(;l.nextSibling;)l.parentNode.removeChild(l.nextSibling);l.pmViewDesc&&(l.pmViewDesc=void 0)}let a=new kx(this,l,t,o);e.input.compositionNodes.push(a),this.children=A1(this.children,r,r+o.length,e,a)}update(e,t,r,o){return this.dirty==xr||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,r,o),!0)}updateInner(e,t,r,o){this.updateOuterDeco(t),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(o,this.posAtStart),this.dirty=er}updateOuterDeco(e){if(Bc(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=gb(this.dom,this.nodeDOM,k1(this.outerDeco,this.node,t),k1(e,this.node,t)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function $7(n,e,t,r,o){yb(r,e,n);let l=new zi(void 0,n,e,t,r,r,r,o,0);return l.contentDOM&&l.updateChildren(o,0),l}class Hf extends zi{constructor(e,t,r,o,l,a,c){super(e,t,r,o,l,null,a,c,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,r,o){return this.dirty==xr||this.dirty!=er&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=er||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,o.trackWrites==this.nodeDOM&&(o.trackWrites=null)),this.node=e,this.dirty=er,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,r){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,r){let o=this.node.cut(e,t),l=document.createTextNode(o.text);return new Hf(this.parent,o,this.outerDeco,this.innerDeco,l,l,r)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=xr)}get domAtom(){return!1}isText(e){return this.node.text==e}}class pb extends Va{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==er&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class Ax extends zi{constructor(e,t,r,o,l,a,c,d,h,m){super(e,t,r,o,l,a,c,h,m),this.spec=d}update(e,t,r,o){if(this.dirty==xr)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let l=this.spec.update(e,t,r);return l&&this.updateInner(e,t,r,o),l}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,r,o)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,r,o){this.spec.setSelection?this.spec.setSelection(e,t,r.root):super.setSelection(e,t,r,o)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function mb(n,e,t){let r=n.firstChild,o=!1;for(let l=0;l<e.length;l++){let a=e[l],c=a.dom;if(c.parentNode==n){for(;c!=r;)r=G7(r),o=!0;r=r.nextSibling}else o=!0,n.insertBefore(c,r);if(a instanceof Lo){let d=r?r.previousSibling:n.lastChild;mb(a.contentDOM,a.children,t),r=d?d.nextSibling:n.firstChild}}for(;r;)r=G7(r),o=!0;o&&t.trackWrites==n&&(t.trackWrites=null)}const aa=function(n){n&&(this.nodeName=n)};aa.prototype=Object.create(null);const bo=[new aa];function k1(n,e,t){if(n.length==0)return bo;let r=t?bo[0]:new aa,o=[r];for(let l=0;l<n.length;l++){let a=n[l].type.attrs;if(a){a.nodeName&&o.push(r=new aa(a.nodeName));for(let c in a){let d=a[c];d!=null&&(t&&o.length==1&&o.push(r=new aa(e.isInline?"span":"div")),c=="class"?r.class=(r.class?r.class+" ":"")+d:c=="style"?r.style=(r.style?r.style+";":"")+d:c!="nodeName"&&(r[c]=d))}}}return o}function gb(n,e,t,r){if(t==bo&&r==bo)return e;let o=e;for(let l=0;l<r.length;l++){let a=r[l],c=t[l];if(l){let d;c&&c.nodeName==a.nodeName&&o!=n&&(d=o.parentNode)&&d.nodeName.toLowerCase()==a.nodeName||(d=document.createElement(a.nodeName),d.pmIsDeco=!0,d.appendChild(o),c=bo[0]),o=d}Rx(o,c||bo[0],a)}return o}function Rx(n,e,t){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in t)&&n.removeAttribute(r);for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&t[r]!=e[r]&&n.setAttribute(r,t[r]);if(e.class!=t.class){let r=e.class?e.class.split(" ").filter(Boolean):[],o=t.class?t.class.split(" ").filter(Boolean):[];for(let l=0;l<r.length;l++)o.indexOf(r[l])==-1&&n.classList.remove(r[l]);for(let l=0;l<o.length;l++)r.indexOf(o[l])==-1&&n.classList.add(o[l]);n.classList.length==0&&n.removeAttribute("class")}if(e.style!=t.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,o;for(;o=r.exec(e.style);)n.style.removeProperty(o[1])}t.style&&(n.style.cssText+=t.style)}}function yb(n,e,t){return gb(n,n,bo,k1(e,t,n.nodeType!=1))}function Bc(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].type.eq(e[t].type))return!1;return!0}function G7(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class Ox{constructor(e,t,r){this.lock=t,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=Nx(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let r=e;r<t;r++)this.top.children[r].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,r){let o=0,l=this.stack.length>>1,a=Math.min(l,e.length);for(;o<a&&(o==l-1?this.top:this.stack[o+1<<1]).matchesMark(e[o])&&e[o].type.spec.spanning!==!1;)o++;for(;o<l;)this.destroyRest(),this.top.dirty=er,this.index=this.stack.pop(),this.top=this.stack.pop(),l--;for(;l<e.length;){this.stack.push(this.top,this.index+1);let c=-1;for(let d=this.index;d<Math.min(this.index+3,this.top.children.length);d++){let h=this.top.children[d];if(h.matchesMark(e[l])&&!this.isLocked(h.dom)){c=d;break}}if(c>-1)c>this.index&&(this.changed=!0,this.destroyBetween(this.index,c)),this.top=this.top.children[this.index];else{let d=Lo.create(this.top,e[l],t,r);this.top.children.splice(this.index,0,d),this.top=d,this.changed=!0}this.index=0,l++}}findNodeMatch(e,t,r,o){let l=-1,a;if(o>=this.preMatch.index&&(a=this.preMatch.matches[o-this.preMatch.index]).parent==this.top&&a.matchesNode(e,t,r))l=this.top.children.indexOf(a,this.index);else for(let c=this.index,d=Math.min(this.top.children.length,c+5);c<d;c++){let h=this.top.children[c];if(h.matchesNode(e,t,r)&&!this.preMatch.matched.has(h)){l=c;break}}return l<0?!1:(this.destroyBetween(this.index,l),this.index++,!0)}updateNodeAt(e,t,r,o,l){let a=this.top.children[o];return a.dirty==xr&&a.dom==a.contentDOM&&(a.dirty=yo),a.update(e,t,r,l)?(this.destroyBetween(this.index,o),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let o=this.index;o<this.top.children.length;o++)if(this.top.children[o]==r)return o}return-1}e=t}}updateNextNode(e,t,r,o,l,a){for(let c=this.index;c<this.top.children.length;c++){let d=this.top.children[c];if(d instanceof zi){let h=this.preMatch.matched.get(d);if(h!=null&&h!=l)return!1;let m=d.dom,g,b=this.isLocked(m)&&!(e.isText&&d.node&&d.node.isText&&d.nodeDOM.nodeValue==e.text&&d.dirty!=xr&&Bc(t,d.outerDeco));if(!b&&d.update(e,t,r,o))return this.destroyBetween(this.index,c),d.dom!=m&&(this.changed=!0),this.index++,!0;if(!b&&(g=this.recreateWrapper(d,e,t,r,o,a)))return this.destroyBetween(this.index,c),this.top.children[this.index]=g,g.contentDOM&&(g.dirty=yo,g.updateChildren(o,a+1),g.dirty=er),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,r,o,l,a){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!Bc(r,e.outerDeco)||!o.eq(e.innerDeco))return null;let c=zi.create(this.top,t,r,o,l,a);if(c.contentDOM){c.children=e.children,e.children=[];for(let d of c.children)d.parent=c}return e.destroy(),c}addNode(e,t,r,o,l){let a=zi.create(this.top,e,t,r,o,l);a.contentDOM&&a.updateChildren(o,l+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(e,t,r){let o=this.index<this.top.children.length?this.top.children[this.index]:null;if(o&&o.matchesWidget(e)&&(e==o.widget||!o.widget.type.toDOM.parentNode))this.index++;else{let l=new hb(this.top,e,t,r);this.top.children.splice(this.index++,0,l),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof Lo;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof Hf)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((fn||en)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let o=new pb(this.top,[],r,null);t!=this.top?t.children.push(o):t.children.splice(this.index++,0,o),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function Nx(n,e){let t=e,r=t.children.length,o=n.childCount,l=new Map,a=[];e:for(;o>0;){let c;for(;;)if(r){let h=t.children[r-1];if(h instanceof Lo)t=h,r=h.children.length;else{c=h,r--;break}}else{if(t==e)break e;r=t.parent.children.indexOf(t),t=t.parent}let d=c.node;if(d){if(d!=n.child(o-1))break;--o,l.set(c,o),a.push(c)}}return{index:o,matched:l,matches:a.reverse()}}function Dx(n,e){return n.type.side-e.type.side}function Lx(n,e,t,r){let o=e.locals(n),l=0;if(o.length==0){for(let h=0;h<n.childCount;h++){let m=n.child(h);r(m,o,e.forChild(l,m),h),l+=m.nodeSize}return}let a=0,c=[],d=null;for(let h=0;;){let m,g;for(;a<o.length&&o[a].to==l;){let M=o[a++];M.widget&&(m?(g||(g=[m])).push(M):m=M)}if(m)if(g){g.sort(Dx);for(let M=0;M<g.length;M++)t(g[M],h,!!d)}else t(m,h,!!d);let b,v;if(d)v=-1,b=d,d=null;else if(h<n.childCount)v=h,b=n.child(h++);else break;for(let M=0;M<c.length;M++)c[M].to<=l&&c.splice(M--,1);for(;a<o.length&&o[a].from<=l&&o[a].to>l;)c.push(o[a++]);let C=l+b.nodeSize;if(b.isText){let M=C;a<o.length&&o[a].from<M&&(M=o[a].from);for(let k=0;k<c.length;k++)c[k].to<M&&(M=c[k].to);M<C&&(d=b.cut(M-l),b=b.cut(0,M-l),C=M,v=-1)}else for(;a<o.length&&o[a].to<C;)a++;let S=b.isInline&&!b.isLeaf?c.filter(M=>!M.inline):c.slice();r(b,S,e.forChild(l,b),v),l=C}}function Hx(n){if(n.nodeName=="UL"||n.nodeName=="OL"){let e=n.style.cssText;n.style.cssText=e+"; list-style: square !important",window.getComputedStyle(n).listStyle,n.style.cssText=e}}function zx(n,e,t,r){for(let o=0,l=0;o<n.childCount&&l<=r;){let a=n.child(o++),c=l;if(l+=a.nodeSize,!a.isText)continue;let d=a.text;for(;o<n.childCount;){let h=n.child(o++);if(l+=h.nodeSize,!h.isText)break;d+=h.text}if(l>=t){if(l>=r&&d.slice(r-e.length-c,r-c)==e)return r-e.length;let h=c<r?d.lastIndexOf(e,r-c-1):-1;if(h>=0&&h+e.length+c>=t)return c+h;if(t==r&&d.length>=r+e.length-c&&d.slice(r-c,r-c+e.length)==e)return r}}return-1}function A1(n,e,t,r,o){let l=[];for(let a=0,c=0;a<n.length;a++){let d=n[a],h=c,m=c+=d.size;h>=t||m<=e?l.push(d):(h<e&&l.push(d.slice(0,e-h,r)),o&&(l.push(o),o=void 0),m>t&&l.push(d.slice(t-h,d.size,r)))}return l}function fm(n,e=null){let t=n.domSelectionRange(),r=n.state.doc;if(!t.focusNode)return null;let o=n.docView.nearestDesc(t.focusNode),l=o&&o.size==0,a=n.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(a<0)return null;let c=r.resolve(a),d,h;if(Lf(t)){for(d=a;o&&!o.node;)o=o.parent;let g=o.node;if(o&&g.isAtom&&ce.isSelectable(g)&&o.parent&&!(g.isInline&&lx(t.focusNode,t.focusOffset,o.dom))){let b=o.posBefore;h=new ce(a==b?c:r.resolve(b))}}else{if(t instanceof n.dom.ownerDocument.defaultView.Selection&&t.rangeCount>1){let g=a,b=a;for(let v=0;v<t.rangeCount;v++){let C=t.getRangeAt(v);g=Math.min(g,n.docView.posFromDOM(C.startContainer,C.startOffset,1)),b=Math.max(b,n.docView.posFromDOM(C.endContainer,C.endOffset,-1))}if(g<0)return null;[d,a]=b==n.state.selection.anchor?[b,g]:[g,b],c=r.resolve(a)}else d=n.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(d<0)return null}let m=r.resolve(d);if(!h){let g=e=="pointer"||n.state.selection.head<c.pos&&!l?1:-1;h=dm(n,m,c,g)}return h}function bb(n){return n.editable?n.hasFocus():Cb(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function Qr(n,e=!1){let t=n.state.selection;if(vb(n,t),!!bb(n)){if(!e&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&en){let r=n.domSelectionRange(),o=n.domObserver.currentSelection;if(r.anchorNode&&o.anchorNode&&Do(r.anchorNode,r.anchorOffset,o.anchorNode,o.anchorOffset)){n.input.mouseDown.delayedSelectionSync=!0,n.domObserver.setCurSelection();return}}if(n.domObserver.disconnectSelection(),n.cursorWrapper)jx(n);else{let{anchor:r,head:o}=t,l,a;Z7&&!(t instanceof ve)&&(t.$from.parent.inlineContent||(l=Y7(n,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(a=Y7(n,t.to))),n.docView.setSelection(r,o,n,e),Z7&&(l&&J7(l),a&&J7(a)),t.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Bx(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}const Z7=fn||en&&sb<63;function Y7(n,e){let{node:t,offset:r}=n.docView.domFromPos(e,0),o=r<t.childNodes.length?t.childNodes[r]:null,l=r?t.childNodes[r-1]:null;if(fn&&o&&o.contentEditable=="false")return zp(o);if((!o||o.contentEditable=="false")&&(!l||l.contentEditable=="false")){if(o)return zp(o);if(l)return zp(l)}}function zp(n){return n.contentEditable="true",fn&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function J7(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function Bx(n){let e=n.dom.ownerDocument;e.removeEventListener("selectionchange",n.input.hideSelectionGuard);let t=n.domSelectionRange(),r=t.anchorNode,o=t.anchorOffset;e.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(t.anchorNode!=r||t.anchorOffset!=o)&&(e.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!bb(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}function jx(n){let e=n.domSelection(),t=document.createRange();if(!e)return;let r=n.cursorWrapper.dom,o=r.nodeName=="IMG";o?t.setStart(r.parentNode,Pt(r)+1):t.setStart(r,0),t.collapse(!0),e.removeAllRanges(),e.addRange(t),!o&&!n.state.selection.visible&&kn&&Hi<=11&&(r.disabled=!0,r.disabled=!1)}function vb(n,e){if(e instanceof ce){let t=n.docView.descAt(e.from);t!=n.lastSelectedViewDesc&&(Q7(n),t&&t.selectNode(),n.lastSelectedViewDesc=t)}else Q7(n)}function Q7(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function dm(n,e,t,r){return n.someProp("createSelectionBetween",o=>o(n,e,t))||ve.between(e,t,r)}function X7(n){return n.editable&&!n.hasFocus()?!1:Cb(n)}function Cb(n){let e=n.domSelectionRange();if(!e.anchorNode)return!1;try{return n.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(n.editable||n.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function Ix(n){let e=n.docView.domFromPos(n.state.selection.anchor,0),t=n.domSelectionRange();return Do(e.node,e.offset,t.anchorNode,t.anchorOffset)}function R1(n,e){let{$anchor:t,$head:r}=n.selection,o=e>0?t.max(r):t.min(r),l=o.parent.inlineContent?o.depth?n.doc.resolve(e>0?o.after():o.before()):null:o;return l&&Te.findFrom(l,e)}function Mi(n,e){return n.dispatch(n.state.tr.setSelection(e).scrollIntoView()),!0}function W7(n,e,t){let r=n.state.selection;if(r instanceof ve)if(t.indexOf("s")>-1){let{$head:o}=r,l=o.textOffset?null:e<0?o.nodeBefore:o.nodeAfter;if(!l||l.isText||!l.isLeaf)return!1;let a=n.state.doc.resolve(o.pos+l.nodeSize*(e<0?-1:1));return Mi(n,new ve(r.$anchor,a))}else if(r.empty){if(n.endOfTextblock(e>0?"forward":"backward")){let o=R1(n.state,e);return o&&o instanceof ce?Mi(n,o):!1}else if(!(Xn&&t.indexOf("m")>-1)){let o=r.$head,l=o.textOffset?null:e<0?o.nodeBefore:o.nodeAfter,a;if(!l||l.isText)return!1;let c=e<0?o.pos-l.nodeSize:o.pos;return l.isAtom||(a=n.docView.descAt(c))&&!a.contentDOM?ce.isSelectable(l)?Mi(n,new ce(e<0?n.state.doc.resolve(o.pos-l.nodeSize):o)):Ia?Mi(n,new ve(n.state.doc.resolve(e<0?c:c+l.nodeSize))):!1:!1}}else return!1;else{if(r instanceof ce&&r.node.isInline)return Mi(n,new ve(e>0?r.$to:r.$from));{let o=R1(n.state,e);return o?Mi(n,o):!1}}}function jc(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function ua(n,e){let t=n.pmViewDesc;return t&&t.size==0&&(e<0||n.nextSibling||n.nodeName!="BR")}function Rs(n,e){return e<0?Vx(n):_x(n)}function Vx(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let o,l,a=!1;for(ar&&t.nodeType==1&&r<jc(t)&&ua(t.childNodes[r],-1)&&(a=!0);;)if(r>0){if(t.nodeType!=1)break;{let c=t.childNodes[r-1];if(ua(c,-1))o=t,l=--r;else if(c.nodeType==3)t=c,r=t.nodeValue.length;else break}}else{if(xb(t))break;{let c=t.previousSibling;for(;c&&ua(c,-1);)o=t.parentNode,l=Pt(c),c=c.previousSibling;if(c)t=c,r=jc(t);else{if(t=t.parentNode,t==n.dom)break;r=0}}}a?O1(n,t,r):o&&O1(n,o,l)}function _x(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let o=jc(t),l,a;for(;;)if(r<o){if(t.nodeType!=1)break;let c=t.childNodes[r];if(ua(c,1))l=t,a=++r;else break}else{if(xb(t))break;{let c=t.nextSibling;for(;c&&ua(c,1);)l=c.parentNode,a=Pt(c)+1,c=c.nextSibling;if(c)t=c,r=0,o=jc(t);else{if(t=t.parentNode,t==n.dom)break;r=o=0}}}l&&O1(n,l,a)}function xb(n){let e=n.pmViewDesc;return e&&e.node&&e.node.isBlock}function Ux(n,e){for(;n&&e==n.childNodes.length&&!ja(n);)e=Pt(n)+1,n=n.parentNode;for(;n&&e<n.childNodes.length;){let t=n.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=0}}function qx(n,e){for(;n&&!e&&!ja(n);)e=Pt(n),n=n.parentNode;for(;n&&e;){let t=n.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=n.childNodes.length}}function O1(n,e,t){if(e.nodeType!=3){let l,a;(a=Ux(e,t))?(e=a,t=0):(l=qx(e,t))&&(e=l,t=l.nodeValue.length)}let r=n.domSelection();if(!r)return;if(Lf(r)){let l=document.createRange();l.setEnd(e,t),l.setStart(e,t),r.removeAllRanges(),r.addRange(l)}else r.extend&&r.extend(e,t);n.domObserver.setCurSelection();let{state:o}=n;setTimeout(()=>{n.state==o&&Qr(n)},50)}function e4(n,e){let t=n.state.doc.resolve(e);if(!(en||cx)&&t.parent.inlineContent){let o=n.coordsAtPos(e);if(e>t.start()){let l=n.coordsAtPos(e-1),a=(l.top+l.bottom)/2;if(a>o.top&&a<o.bottom&&Math.abs(l.left-o.left)>1)return l.left<o.left?"ltr":"rtl"}if(e<t.end()){let l=n.coordsAtPos(e+1),a=(l.top+l.bottom)/2;if(a>o.top&&a<o.bottom&&Math.abs(l.left-o.left)>1)return l.left>o.left?"ltr":"rtl"}}return getComputedStyle(n.dom).direction=="rtl"?"rtl":"ltr"}function t4(n,e,t){let r=n.state.selection;if(r instanceof ve&&!r.empty||t.indexOf("s")>-1||Xn&&t.indexOf("m")>-1)return!1;let{$from:o,$to:l}=r;if(!o.parent.inlineContent||n.endOfTextblock(e<0?"up":"down")){let a=R1(n.state,e);if(a&&a instanceof ce)return Mi(n,a)}if(!o.parent.inlineContent){let a=e<0?o:l,c=r instanceof Vn?Te.near(a,e):Te.findFrom(a,e);return c?Mi(n,c):!1}return!1}function n4(n,e){if(!(n.state.selection instanceof ve))return!0;let{$head:t,$anchor:r,empty:o}=n.state.selection;if(!t.sameParent(r))return!0;if(!o)return!1;if(n.endOfTextblock(e>0?"forward":"backward"))return!0;let l=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(l&&!l.isText){let a=n.state.tr;return e<0?a.delete(t.pos-l.nodeSize,t.pos):a.delete(t.pos,t.pos+l.nodeSize),n.dispatch(a),!0}return!1}function r4(n,e,t){n.domObserver.stop(),e.contentEditable=t,n.domObserver.start()}function Px(n){if(!fn||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=n.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;r4(n,r,"true"),setTimeout(()=>r4(n,r,"false"),20)}return!1}function Fx(n){let e="";return n.ctrlKey&&(e+="c"),n.metaKey&&(e+="m"),n.altKey&&(e+="a"),n.shiftKey&&(e+="s"),e}function Kx(n,e){let t=e.keyCode,r=Fx(e);if(t==8||Xn&&t==72&&r=="c")return n4(n,-1)||Rs(n,-1);if(t==46&&!e.shiftKey||Xn&&t==68&&r=="c")return n4(n,1)||Rs(n,1);if(t==13||t==27)return!0;if(t==37||Xn&&t==66&&r=="c"){let o=t==37?e4(n,n.state.selection.from)=="ltr"?-1:1:-1;return W7(n,o,r)||Rs(n,o)}else if(t==39||Xn&&t==70&&r=="c"){let o=t==39?e4(n,n.state.selection.from)=="ltr"?1:-1:1;return W7(n,o,r)||Rs(n,o)}else{if(t==38||Xn&&t==80&&r=="c")return t4(n,-1,r)||Rs(n,-1);if(t==40||Xn&&t==78&&r=="c")return Px(n)||t4(n,1,r)||Rs(n,1);if(r==(Xn?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function hm(n,e){n.someProp("transformCopied",v=>{e=v(e,n)});let t=[],{content:r,openStart:o,openEnd:l}=e;for(;o>1&&l>1&&r.childCount==1&&r.firstChild.childCount==1;){o--,l--;let v=r.firstChild;t.push(v.type.name,v.attrs!=v.type.defaultAttrs?v.attrs:null),r=v.content}let a=n.someProp("clipboardSerializer")||jo.fromSchema(n.state.schema),c=Tb(),d=c.createElement("div");d.appendChild(a.serializeFragment(r,{document:c}));let h=d.firstChild,m,g=0;for(;h&&h.nodeType==1&&(m=Mb[h.nodeName.toLowerCase()]);){for(let v=m.length-1;v>=0;v--){let C=c.createElement(m[v]);for(;d.firstChild;)C.appendChild(d.firstChild);d.appendChild(C),g++}h=d.firstChild}h&&h.nodeType==1&&h.setAttribute("data-pm-slice",`${o} ${l}${g?` -${g}`:""} ${JSON.stringify(t)}`);let b=n.someProp("clipboardTextSerializer",v=>v(e,n))||e.content.textBetween(0,e.content.size,`

`);return{dom:d,text:b,slice:e}}function pm(n,e,t,r,o){let l=o.parent.type.spec.code,a,c;if(!t&&!e)return null;let d=e&&(r||l||!t);if(d){if(n.someProp("transformPastedText",b=>{e=b(e,l||r,n)}),l)return e?new se(ee.from(n.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):se.empty;let g=n.someProp("clipboardTextParser",b=>b(e,o,r,n));if(g)c=g;else{let b=o.marks(),{schema:v}=n.state,C=jo.fromSchema(v);a=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(S=>{let M=a.appendChild(document.createElement("p"));S&&M.appendChild(C.serializeNode(v.text(S,b)))})}}else n.someProp("transformPastedHTML",g=>{t=g(t,n)}),a=Yx(t),Ia&&Jx(a);let h=a&&a.querySelector("[data-pm-slice]"),m=h&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(h.getAttribute("data-pm-slice")||"");if(m&&m[3])for(let g=+m[3];g>0;g--){let b=a.firstChild;for(;b&&b.nodeType!=1;)b=b.nextSibling;if(!b)break;a=b}if(c||(c=(n.someProp("clipboardParser")||n.someProp("domParser")||Li.fromSchema(n.state.schema)).parseSlice(a,{preserveWhitespace:!!(d||m),context:o,ruleFromNode(b){return b.nodeName=="BR"&&!b.nextSibling&&b.parentNode&&!$x.test(b.parentNode.nodeName)?{ignore:!0}:null}})),m)c=Qx(i4(c,+m[1],+m[2]),m[4]);else if(c=se.maxOpen(Gx(c.content,o),!0),c.openStart||c.openEnd){let g=0,b=0;for(let v=c.content.firstChild;g<c.openStart&&!v.type.spec.isolating;g++,v=v.firstChild);for(let v=c.content.lastChild;b<c.openEnd&&!v.type.spec.isolating;b++,v=v.lastChild);c=i4(c,g,b)}return n.someProp("transformPasted",g=>{c=g(c,n)}),c}const $x=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Gx(n,e){if(n.childCount<2)return n;for(let t=e.depth;t>=0;t--){let o=e.node(t).contentMatchAt(e.index(t)),l,a=[];if(n.forEach(c=>{if(!a)return;let d=o.findWrapping(c.type),h;if(!d)return a=null;if(h=a.length&&l.length&&Eb(d,l,c,a[a.length-1],0))a[a.length-1]=h;else{a.length&&(a[a.length-1]=wb(a[a.length-1],l.length));let m=Sb(c,d);a.push(m),o=o.matchType(m.type),l=d}}),a)return ee.from(a)}return n}function Sb(n,e,t=0){for(let r=e.length-1;r>=t;r--)n=e[r].create(null,ee.from(n));return n}function Eb(n,e,t,r,o){if(o<n.length&&o<e.length&&n[o]==e[o]){let l=Eb(n,e,t,r.lastChild,o+1);if(l)return r.copy(r.content.replaceChild(r.childCount-1,l));if(r.contentMatchAt(r.childCount).matchType(o==n.length-1?t.type:n[o+1]))return r.copy(r.content.append(ee.from(Sb(t,n,o+1))))}}function wb(n,e){if(e==0)return n;let t=n.content.replaceChild(n.childCount-1,wb(n.lastChild,e-1)),r=n.contentMatchAt(n.childCount).fillBefore(ee.empty,!0);return n.copy(t.append(r))}function N1(n,e,t,r,o,l){let a=e<0?n.firstChild:n.lastChild,c=a.content;return n.childCount>1&&(l=0),o<r-1&&(c=N1(c,e,t,r,o+1,l)),o>=t&&(c=e<0?a.contentMatchAt(0).fillBefore(c,l<=o).append(c):c.append(a.contentMatchAt(a.childCount).fillBefore(ee.empty,!0))),n.replaceChild(e<0?0:n.childCount-1,a.copy(c))}function i4(n,e,t){return e<n.openStart&&(n=new se(N1(n.content,-1,e,n.openStart,0,n.openEnd),e,n.openEnd)),t<n.openEnd&&(n=new se(N1(n.content,1,t,n.openEnd,0,0),n.openStart,t)),n}const Mb={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let o4=null;function Tb(){return o4||(o4=document.implementation.createHTMLDocument("title"))}let Bp=null;function Zx(n){let e=window.trustedTypes;return e?(Bp||(Bp=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t})),Bp.createHTML(n)):n}function Yx(n){let e=/^(\s*<meta [^>]*>)*/.exec(n);e&&(n=n.slice(e[0].length));let t=Tb().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(n),o;if((o=r&&Mb[r[1].toLowerCase()])&&(n=o.map(l=>"<"+l+">").join("")+n+o.map(l=>"</"+l+">").reverse().join("")),t.innerHTML=Zx(n),o)for(let l=0;l<o.length;l++)t=t.querySelector(o[l])||t;return t}function Jx(n){let e=n.querySelectorAll(en?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let r=e[t];r.childNodes.length==1&&r.textContent==" "&&r.parentNode&&r.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),r)}}function Qx(n,e){if(!n.size)return n;let t=n.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return n}let{content:o,openStart:l,openEnd:a}=n;for(let c=r.length-2;c>=0;c-=2){let d=t.nodes[r[c]];if(!d||d.hasRequiredAttrs())break;o=ee.from(d.create(r[c+1],o)),l++,a++}return new se(o,l,a)}const dn={},hn={},Xx={touchstart:!0,touchmove:!0};class Wx{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function eS(n){for(let e in dn){let t=dn[e];n.dom.addEventListener(e,n.input.eventHandlers[e]=r=>{nS(n,r)&&!mm(n,r)&&(n.editable||!(r.type in hn))&&t(n,r)},Xx[e]?{passive:!0}:void 0)}fn&&n.dom.addEventListener("input",()=>null),D1(n)}function Ni(n,e){n.input.lastSelectionOrigin=e,n.input.lastSelectionTime=Date.now()}function tS(n){n.domObserver.stop();for(let e in n.input.eventHandlers)n.dom.removeEventListener(e,n.input.eventHandlers[e]);clearTimeout(n.input.composingTimeout),clearTimeout(n.input.lastIOSEnterFallbackTimeout)}function D1(n){n.someProp("handleDOMEvents",e=>{for(let t in e)n.input.eventHandlers[t]||n.dom.addEventListener(t,n.input.eventHandlers[t]=r=>mm(n,r))})}function mm(n,e){return n.someProp("handleDOMEvents",t=>{let r=t[e.type];return r?r(n,e)||e.defaultPrevented:!1})}function nS(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=n.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function rS(n,e){!mm(n,e)&&dn[e.type]&&(n.editable||!(e.type in hn))&&dn[e.type](n,e)}hn.keydown=(n,e)=>{let t=e;if(n.input.shiftKey=t.keyCode==16||t.shiftKey,!Ab(n,t)&&(n.input.lastKeyCode=t.keyCode,n.input.lastKeyCodeTime=Date.now(),!(Gr&&en&&t.keyCode==13)))if(t.keyCode!=229&&n.domObserver.forceFlush(),Fs&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let r=Date.now();n.input.lastIOSEnter=r,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==r&&(n.someProp("handleKeyDown",o=>o(n,mo(13,"Enter"))),n.input.lastIOSEnter=0)},200)}else n.someProp("handleKeyDown",r=>r(n,t))||Kx(n,t)?t.preventDefault():Ni(n,"key")};hn.keyup=(n,e)=>{e.keyCode==16&&(n.input.shiftKey=!1)};hn.keypress=(n,e)=>{let t=e;if(Ab(n,t)||!t.charCode||t.ctrlKey&&!t.altKey||Xn&&t.metaKey)return;if(n.someProp("handleKeyPress",o=>o(n,t))){t.preventDefault();return}let r=n.state.selection;if(!(r instanceof ve)||!r.$from.sameParent(r.$to)){let o=String.fromCharCode(t.charCode),l=()=>n.state.tr.insertText(o).scrollIntoView();!/[\r\n]/.test(o)&&!n.someProp("handleTextInput",a=>a(n,r.$from.pos,r.$to.pos,o,l))&&n.dispatch(l()),t.preventDefault()}};function zf(n){return{left:n.clientX,top:n.clientY}}function iS(n,e){let t=e.x-n.clientX,r=e.y-n.clientY;return t*t+r*r<100}function gm(n,e,t,r,o){if(r==-1)return!1;let l=n.state.doc.resolve(r);for(let a=l.depth+1;a>0;a--)if(n.someProp(e,c=>a>l.depth?c(n,t,l.nodeAfter,l.before(a),o,!0):c(n,t,l.node(a),l.before(a),o,!1)))return!0;return!1}function Is(n,e,t){if(n.focused||n.focus(),n.state.selection.eq(e))return;let r=n.state.tr.setSelection(e);r.setMeta("pointer",!0),n.dispatch(r)}function oS(n,e){if(e==-1)return!1;let t=n.state.doc.resolve(e),r=t.nodeAfter;return r&&r.isAtom&&ce.isSelectable(r)?(Is(n,new ce(t)),!0):!1}function sS(n,e){if(e==-1)return!1;let t=n.state.selection,r,o;t instanceof ce&&(r=t.node);let l=n.state.doc.resolve(e);for(let a=l.depth+1;a>0;a--){let c=a>l.depth?l.nodeAfter:l.node(a);if(ce.isSelectable(c)){r&&t.$from.depth>0&&a>=t.$from.depth&&l.before(t.$from.depth+1)==t.$from.pos?o=l.before(t.$from.depth):o=l.before(a);break}}return o!=null?(Is(n,ce.create(n.state.doc,o)),!0):!1}function lS(n,e,t,r,o){return gm(n,"handleClickOn",e,t,r)||n.someProp("handleClick",l=>l(n,e,r))||(o?sS(n,t):oS(n,t))}function aS(n,e,t,r){return gm(n,"handleDoubleClickOn",e,t,r)||n.someProp("handleDoubleClick",o=>o(n,e,r))}function uS(n,e,t,r){return gm(n,"handleTripleClickOn",e,t,r)||n.someProp("handleTripleClick",o=>o(n,e,r))||cS(n,t,r)}function cS(n,e,t){if(t.button!=0)return!1;let r=n.state.doc;if(e==-1)return r.inlineContent?(Is(n,ve.create(r,0,r.content.size)),!0):!1;let o=r.resolve(e);for(let l=o.depth+1;l>0;l--){let a=l>o.depth?o.nodeAfter:o.node(l),c=o.before(l);if(a.inlineContent)Is(n,ve.create(r,c+1,c+1+a.content.size));else if(ce.isSelectable(a))Is(n,ce.create(r,c));else continue;return!0}}function ym(n){return Ea(n)}const kb=Xn?"metaKey":"ctrlKey";dn.mousedown=(n,e)=>{let t=e;n.input.shiftKey=t.shiftKey;let r=ym(n),o=Date.now(),l="singleClick";o-n.input.lastClick.time<500&&iS(t,n.input.lastClick)&&!t[kb]&&n.input.lastClick.button==t.button&&(n.input.lastClick.type=="singleClick"?l="doubleClick":n.input.lastClick.type=="doubleClick"&&(l="tripleClick")),n.input.lastClick={time:o,x:t.clientX,y:t.clientY,type:l,button:t.button};let a=n.posAtCoords(zf(t));a&&(l=="singleClick"?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new fS(n,a,t,!!r)):(l=="doubleClick"?aS:uS)(n,a.pos,a.inside,t)?t.preventDefault():Ni(n,"pointer"))};class fS{constructor(e,t,r,o){this.view=e,this.pos=t,this.event=r,this.flushed=o,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[kb],this.allowDefault=r.shiftKey;let l,a;if(t.inside>-1)l=e.state.doc.nodeAt(t.inside),a=t.inside;else{let m=e.state.doc.resolve(t.pos);l=m.parent,a=m.depth?m.before():0}const c=o?null:r.target,d=c?e.docView.nearestDesc(c,!0):null;this.target=d&&d.dom.nodeType==1?d.dom:null;let{selection:h}=e.state;(r.button==0&&l.type.spec.draggable&&l.type.spec.selectable!==!1||h instanceof ce&&h.from<=a&&h.to>a)&&(this.mightDrag={node:l,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&ar&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ni(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Qr(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(zf(e))),this.updateAllowDefault(e),this.allowDefault||!t?Ni(this.view,"pointer"):lS(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||fn&&this.mightDrag&&!this.mightDrag.node.isAtom||en&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(Is(this.view,Te.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):Ni(this.view,"pointer")}move(e){this.updateAllowDefault(e),Ni(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}dn.touchstart=n=>{n.input.lastTouch=Date.now(),ym(n),Ni(n,"pointer")};dn.touchmove=n=>{n.input.lastTouch=Date.now(),Ni(n,"pointer")};dn.contextmenu=n=>ym(n);function Ab(n,e){return n.composing?!0:fn&&Math.abs(e.timeStamp-n.input.compositionEndedAt)<500?(n.input.compositionEndedAt=-2e8,!0):!1}const dS=Gr?5e3:-1;hn.compositionstart=hn.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:e}=n,t=e.selection.$to;if(e.selection instanceof ve&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))n.markCursor=n.state.storedMarks||t.marks(),Ea(n,!0),n.markCursor=null;else if(Ea(n,!e.selection.empty),ar&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let r=n.domSelectionRange();for(let o=r.focusNode,l=r.focusOffset;o&&o.nodeType==1&&l!=0;){let a=l<0?o.lastChild:o.childNodes[l-1];if(!a)break;if(a.nodeType==3){let c=n.domSelection();c&&c.collapse(a,a.nodeValue.length);break}else o=a,l=-1}}n.input.composing=!0}Rb(n,dS)};hn.compositionend=(n,e)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=e.timeStamp,n.input.compositionPendingChanges=n.domObserver.pendingRecords().length?n.input.compositionID:0,n.input.compositionNode=null,n.input.compositionPendingChanges&&Promise.resolve().then(()=>n.domObserver.flush()),n.input.compositionID++,Rb(n,20))};function Rb(n,e){clearTimeout(n.input.composingTimeout),e>-1&&(n.input.composingTimeout=setTimeout(()=>Ea(n),e))}function Ob(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=pS());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function hS(n){let e=n.domSelectionRange();if(!e.focusNode)return null;let t=ox(e.focusNode,e.focusOffset),r=sx(e.focusNode,e.focusOffset);if(t&&r&&t!=r){let o=r.pmViewDesc,l=n.domObserver.lastChangedTextNode;if(t==l||r==l)return l;if(!o||!o.isText(r.nodeValue))return r;if(n.input.compositionNode==r){let a=t.pmViewDesc;if(!(!a||!a.isText(t.nodeValue)))return r}}return t||r}function pS(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}function Ea(n,e=!1){if(!(Gr&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),Ob(n),e||n.docView&&n.docView.dirty){let t=fm(n),r=n.state.selection;return t&&!t.eq(r)?n.dispatch(n.state.tr.setSelection(t)):(n.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?n.dispatch(n.state.tr.deleteSelection()):n.updateState(n.state),!0}return!1}}function mS(n,e){if(!n.dom.parentNode)return;let t=n.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),o=document.createRange();o.selectNodeContents(e),n.dom.blur(),r.removeAllRanges(),r.addRange(o),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),n.focus()},50)}const wa=kn&&Hi<15||Fs&&fx<604;dn.copy=hn.cut=(n,e)=>{let t=e,r=n.state.selection,o=t.type=="cut";if(r.empty)return;let l=wa?null:t.clipboardData,a=r.content(),{dom:c,text:d}=hm(n,a);l?(t.preventDefault(),l.clearData(),l.setData("text/html",c.innerHTML),l.setData("text/plain",d)):mS(n,c),o&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function gS(n){return n.openStart==0&&n.openEnd==0&&n.content.childCount==1?n.content.firstChild:null}function yS(n,e){if(!n.dom.parentNode)return;let t=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,r=n.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let o=n.input.shiftKey&&n.input.lastKeyCode!=45;setTimeout(()=>{n.focus(),r.parentNode&&r.parentNode.removeChild(r),t?Ma(n,r.value,null,o,e):Ma(n,r.textContent,r.innerHTML,o,e)},50)}function Ma(n,e,t,r,o){let l=pm(n,e,t,r,n.state.selection.$from);if(n.someProp("handlePaste",d=>d(n,o,l||se.empty)))return!0;if(!l)return!1;let a=gS(l),c=a?n.state.tr.replaceSelectionWith(a,r):n.state.tr.replaceSelection(l);return n.dispatch(c.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function Nb(n){let e=n.getData("text/plain")||n.getData("Text");if(e)return e;let t=n.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}hn.paste=(n,e)=>{let t=e;if(n.composing&&!Gr)return;let r=wa?null:t.clipboardData,o=n.input.shiftKey&&n.input.lastKeyCode!=45;r&&Ma(n,Nb(r),r.getData("text/html"),o,t)?t.preventDefault():yS(n,t)};class Db{constructor(e,t,r){this.slice=e,this.move=t,this.node=r}}const bS=Xn?"altKey":"ctrlKey";function Lb(n,e){let t=n.someProp("dragCopies",r=>!r(e));return t??!e[bS]}dn.dragstart=(n,e)=>{let t=e,r=n.input.mouseDown;if(r&&r.done(),!t.dataTransfer)return;let o=n.state.selection,l=o.empty?null:n.posAtCoords(zf(t)),a;if(!(l&&l.pos>=o.from&&l.pos<=(o instanceof ce?o.to-1:o.to))){if(r&&r.mightDrag)a=ce.create(n.state.doc,r.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let g=n.docView.nearestDesc(t.target,!0);g&&g.node.type.spec.draggable&&g!=n.docView&&(a=ce.create(n.state.doc,g.posBefore))}}let c=(a||n.state.selection).content(),{dom:d,text:h,slice:m}=hm(n,c);(!t.dataTransfer.files.length||!en||sb>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData(wa?"Text":"text/html",d.innerHTML),t.dataTransfer.effectAllowed="copyMove",wa||t.dataTransfer.setData("text/plain",h),n.dragging=new Db(m,Lb(n,t),a)};dn.dragend=n=>{let e=n.dragging;window.setTimeout(()=>{n.dragging==e&&(n.dragging=null)},50)};hn.dragover=hn.dragenter=(n,e)=>e.preventDefault();hn.drop=(n,e)=>{let t=e,r=n.dragging;if(n.dragging=null,!t.dataTransfer)return;let o=n.posAtCoords(zf(t));if(!o)return;let l=n.state.doc.resolve(o.pos),a=r&&r.slice;a?n.someProp("transformPasted",C=>{a=C(a,n)}):a=pm(n,Nb(t.dataTransfer),wa?null:t.dataTransfer.getData("text/html"),!1,l);let c=!!(r&&Lb(n,t));if(n.someProp("handleDrop",C=>C(n,t,a||se.empty,c))){t.preventDefault();return}if(!a)return;t.preventDefault();let d=a?Y3(n.state.doc,l.pos,a):l.pos;d==null&&(d=l.pos);let h=n.state.tr;if(c){let{node:C}=r;C?C.replace(h):h.deleteSelection()}let m=h.mapping.map(d),g=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,b=h.doc;if(g?h.replaceRangeWith(m,m,a.content.firstChild):h.replaceRange(m,m,a),h.doc.eq(b))return;let v=h.doc.resolve(m);if(g&&ce.isSelectable(a.content.firstChild)&&v.nodeAfter&&v.nodeAfter.sameMarkup(a.content.firstChild))h.setSelection(new ce(v));else{let C=h.mapping.map(d);h.mapping.maps[h.mapping.maps.length-1].forEach((S,M,k,O)=>C=O),h.setSelection(dm(n,v,h.doc.resolve(C)))}n.focus(),n.dispatch(h.setMeta("uiEvent","drop"))};dn.focus=n=>{n.input.lastFocus=Date.now(),n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelectionRange())&&Qr(n)},20))};dn.blur=(n,e)=>{let t=e;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),t.relatedTarget&&n.dom.contains(t.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)};dn.beforeinput=(n,e)=>{if(en&&Gr&&e.inputType=="deleteContentBackward"){n.domObserver.flushSoon();let{domChangeCount:r}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=r||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",l=>l(n,mo(8,"Backspace")))))return;let{$cursor:o}=n.state.selection;o&&o.pos>0&&n.dispatch(n.state.tr.delete(o.pos-1,o.pos).scrollIntoView())},50)}};for(let n in hn)dn[n]=hn[n];function Ta(n,e){if(n==e)return!0;for(let t in n)if(n[t]!==e[t])return!1;for(let t in e)if(!(t in n))return!1;return!0}class Ic{constructor(e,t){this.toDOM=e,this.spec=t||To,this.side=this.spec.side||0}map(e,t,r,o){let{pos:l,deleted:a}=e.mapResult(t.from+o,this.side<0?-1:1);return a?null:new Tn(l-r,l-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Ic&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Ta(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Bi{constructor(e,t){this.attrs=e,this.spec=t||To}map(e,t,r,o){let l=e.map(t.from+o,this.spec.inclusiveStart?-1:1)-r,a=e.map(t.to+o,this.spec.inclusiveEnd?1:-1)-r;return l>=a?null:new Tn(l,a,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof Bi&&Ta(this.attrs,e.attrs)&&Ta(this.spec,e.spec)}static is(e){return e.type instanceof Bi}destroy(){}}class bm{constructor(e,t){this.attrs=e,this.spec=t||To}map(e,t,r,o){let l=e.mapResult(t.from+o,1);if(l.deleted)return null;let a=e.mapResult(t.to+o,-1);return a.deleted||a.pos<=l.pos?null:new Tn(l.pos-r,a.pos-r,this)}valid(e,t){let{index:r,offset:o}=e.content.findIndex(t.from),l;return o==t.from&&!(l=e.child(r)).isText&&o+l.nodeSize==t.to}eq(e){return this==e||e instanceof bm&&Ta(this.attrs,e.attrs)&&Ta(this.spec,e.spec)}destroy(){}}class Tn{constructor(e,t,r){this.from=e,this.to=t,this.type=r}copy(e,t){return new Tn(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,r){return this.type.map(e,this,t,r)}static widget(e,t,r){return new Tn(e,e,new Ic(t,r))}static inline(e,t,r,o){return new Tn(e,t,new Bi(r,o))}static node(e,t,r,o){return new Tn(e,t,new bm(r,o))}get spec(){return this.type.spec}get inline(){return this.type instanceof Bi}get widget(){return this.type instanceof Ic}}const Ls=[],To={};class bt{constructor(e,t){this.local=e.length?e:Ls,this.children=t.length?t:Ls}static create(e,t){return t.length?Vc(t,e,0,To):Xt}find(e,t,r){let o=[];return this.findInner(e??0,t??1e9,o,0,r),o}findInner(e,t,r,o,l){for(let a=0;a<this.local.length;a++){let c=this.local[a];c.from<=t&&c.to>=e&&(!l||l(c.spec))&&r.push(c.copy(c.from+o,c.to+o))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<t&&this.children[a+1]>e){let c=this.children[a]+1;this.children[a+2].findInner(e-c,t-c,r,o+c,l)}}map(e,t,r){return this==Xt||e.maps.length==0?this:this.mapInner(e,t,0,0,r||To)}mapInner(e,t,r,o,l){let a;for(let c=0;c<this.local.length;c++){let d=this.local[c].map(e,r,o);d&&d.type.valid(t,d)?(a||(a=[])).push(d):l.onRemove&&l.onRemove(this.local[c].spec)}return this.children.length?vS(this.children,a||[],e,t,r,o,l):a?new bt(a.sort(ko),Ls):Xt}add(e,t){return t.length?this==Xt?bt.create(e,t):this.addInner(e,t,0):this}addInner(e,t,r){let o,l=0;e.forEach((c,d)=>{let h=d+r,m;if(m=zb(t,c,h)){for(o||(o=this.children.slice());l<o.length&&o[l]<d;)l+=3;o[l]==d?o[l+2]=o[l+2].addInner(c,m,h+1):o.splice(l,0,d,d+c.nodeSize,Vc(m,c,h+1,To)),l+=3}});let a=Hb(l?Bb(t):t,-r);for(let c=0;c<a.length;c++)a[c].type.valid(e,a[c])||a.splice(c--,1);return new bt(a.length?this.local.concat(a).sort(ko):this.local,o||this.children)}remove(e){return e.length==0||this==Xt?this:this.removeInner(e,0)}removeInner(e,t){let r=this.children,o=this.local;for(let l=0;l<r.length;l+=3){let a,c=r[l]+t,d=r[l+1]+t;for(let m=0,g;m<e.length;m++)(g=e[m])&&g.from>c&&g.to<d&&(e[m]=null,(a||(a=[])).push(g));if(!a)continue;r==this.children&&(r=this.children.slice());let h=r[l+2].removeInner(a,c+1);h!=Xt?r[l+2]=h:(r.splice(l,3),l-=3)}if(o.length){for(let l=0,a;l<e.length;l++)if(a=e[l])for(let c=0;c<o.length;c++)o[c].eq(a,t)&&(o==this.local&&(o=this.local.slice()),o.splice(c--,1))}return r==this.children&&o==this.local?this:o.length||r.length?new bt(o,r):Xt}forChild(e,t){if(this==Xt)return this;if(t.isLeaf)return bt.empty;let r,o;for(let c=0;c<this.children.length;c+=3)if(this.children[c]>=e){this.children[c]==e&&(r=this.children[c+2]);break}let l=e+1,a=l+t.content.size;for(let c=0;c<this.local.length;c++){let d=this.local[c];if(d.from<a&&d.to>l&&d.type instanceof Bi){let h=Math.max(l,d.from)-l,m=Math.min(a,d.to)-l;h<m&&(o||(o=[])).push(d.copy(h,m))}}if(o){let c=new bt(o.sort(ko),Ls);return r?new Ri([c,r]):c}return r||Xt}eq(e){if(this==e)return!0;if(!(e instanceof bt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return vm(this.localsInner(e))}localsInner(e){if(this==Xt)return Ls;if(e.inlineContent||!this.local.some(Bi.is))return this.local;let t=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Bi||t.push(this.local[r]);return t}forEachSet(e){e(this)}}bt.empty=new bt([],[]);bt.removeOverlap=vm;const Xt=bt.empty;class Ri{constructor(e){this.members=e}map(e,t){const r=this.members.map(o=>o.map(e,t,To));return Ri.from(r)}forChild(e,t){if(t.isLeaf)return bt.empty;let r=[];for(let o=0;o<this.members.length;o++){let l=this.members[o].forChild(e,t);l!=Xt&&(l instanceof Ri?r=r.concat(l.members):r.push(l))}return Ri.from(r)}eq(e){if(!(e instanceof Ri)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,r=!0;for(let o=0;o<this.members.length;o++){let l=this.members[o].localsInner(e);if(l.length)if(!t)t=l;else{r&&(t=t.slice(),r=!1);for(let a=0;a<l.length;a++)t.push(l[a])}}return t?vm(r?t:t.sort(ko)):Ls}static from(e){switch(e.length){case 0:return Xt;case 1:return e[0];default:return new Ri(e.every(t=>t instanceof bt)?e:e.reduce((t,r)=>t.concat(r instanceof bt?r:r.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function vS(n,e,t,r,o,l,a){let c=n.slice();for(let h=0,m=l;h<t.maps.length;h++){let g=0;t.maps[h].forEach((b,v,C,S)=>{let M=S-C-(v-b);for(let k=0;k<c.length;k+=3){let O=c[k+1];if(O<0||b>O+m-g)continue;let D=c[k]+m-g;v>=D?c[k+1]=b<=D?-2:-1:b>=m&&M&&(c[k]+=M,c[k+1]+=M)}g+=M}),m=t.maps[h].map(m,-1)}let d=!1;for(let h=0;h<c.length;h+=3)if(c[h+1]<0){if(c[h+1]==-2){d=!0,c[h+1]=-1;continue}let m=t.map(n[h]+l),g=m-o;if(g<0||g>=r.content.size){d=!0;continue}let b=t.map(n[h+1]+l,-1),v=b-o,{index:C,offset:S}=r.content.findIndex(g),M=r.maybeChild(C);if(M&&S==g&&S+M.nodeSize==v){let k=c[h+2].mapInner(t,M,m+1,n[h]+l+1,a);k!=Xt?(c[h]=g,c[h+1]=v,c[h+2]=k):(c[h+1]=-2,d=!0)}else d=!0}if(d){let h=CS(c,n,e,t,o,l,a),m=Vc(h,r,0,a);e=m.local;for(let g=0;g<c.length;g+=3)c[g+1]<0&&(c.splice(g,3),g-=3);for(let g=0,b=0;g<m.children.length;g+=3){let v=m.children[g];for(;b<c.length&&c[b]<v;)b+=3;c.splice(b,0,m.children[g],m.children[g+1],m.children[g+2])}}return new bt(e.sort(ko),c)}function Hb(n,e){if(!e||!n.length)return n;let t=[];for(let r=0;r<n.length;r++){let o=n[r];t.push(new Tn(o.from+e,o.to+e,o.type))}return t}function CS(n,e,t,r,o,l,a){function c(d,h){for(let m=0;m<d.local.length;m++){let g=d.local[m].map(r,o,h);g?t.push(g):a.onRemove&&a.onRemove(d.local[m].spec)}for(let m=0;m<d.children.length;m+=3)c(d.children[m+2],d.children[m]+h+1)}for(let d=0;d<n.length;d+=3)n[d+1]==-1&&c(n[d+2],e[d]+l+1);return t}function zb(n,e,t){if(e.isLeaf)return null;let r=t+e.nodeSize,o=null;for(let l=0,a;l<n.length;l++)(a=n[l])&&a.from>t&&a.to<r&&((o||(o=[])).push(a),n[l]=null);return o}function Bb(n){let e=[];for(let t=0;t<n.length;t++)n[t]!=null&&e.push(n[t]);return e}function Vc(n,e,t,r){let o=[],l=!1;e.forEach((c,d)=>{let h=zb(n,c,d+t);if(h){l=!0;let m=Vc(h,c,t+d+1,r);m!=Xt&&o.push(d,d+c.nodeSize,m)}});let a=Hb(l?Bb(n):n,-t).sort(ko);for(let c=0;c<a.length;c++)a[c].type.valid(e,a[c])||(r.onRemove&&r.onRemove(a[c].spec),a.splice(c--,1));return a.length||o.length?new bt(a,o):Xt}function ko(n,e){return n.from-e.from||n.to-e.to}function vm(n){let e=n;for(let t=0;t<e.length-1;t++){let r=e[t];if(r.from!=r.to)for(let o=t+1;o<e.length;o++){let l=e[o];if(l.from==r.from){l.to!=r.to&&(e==n&&(e=n.slice()),e[o]=l.copy(l.from,r.to),s4(e,o+1,l.copy(r.to,l.to)));continue}else{l.from<r.to&&(e==n&&(e=n.slice()),e[t]=r.copy(r.from,l.from),s4(e,o,r.copy(l.from,r.to)));break}}}return e}function s4(n,e,t){for(;e<n.length&&ko(t,n[e])>0;)e++;n.splice(e,0,t)}function jp(n){let e=[];return n.someProp("decorations",t=>{let r=t(n.state);r&&r!=Xt&&e.push(r)}),n.cursorWrapper&&e.push(bt.create(n.state.doc,[n.cursorWrapper.deco])),Ri.from(e)}const xS={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},SS=kn&&Hi<=11;class ES{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class wS{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new ES,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let o=0;o<r.length;o++)this.queue.push(r[o]);kn&&Hi<=11&&r.some(o=>o.type=="childList"&&o.removedNodes.length||o.type=="characterData"&&o.oldValue.length>o.target.nodeValue.length)?this.flushSoon():this.flush()}),SS&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,xS)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(X7(this.view)){if(this.suppressingSelectionUpdates)return Qr(this.view);if(kn&&Hi<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Do(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,r;for(let l=e.focusNode;l;l=Ps(l))t.add(l);for(let l=e.anchorNode;l;l=Ps(l))if(t.has(l)){r=l;break}let o=r&&this.view.docView.nearestDesc(r);if(o&&o.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let r=e.domSelectionRange(),o=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&X7(e)&&!this.ignoreSelectionChange(r),l=-1,a=-1,c=!1,d=[];if(e.editable)for(let m=0;m<t.length;m++){let g=this.registerMutation(t[m],d);g&&(l=l<0?g.from:Math.min(g.from,l),a=a<0?g.to:Math.max(g.to,a),g.typeOver&&(c=!0))}if(ar&&d.length){let m=d.filter(g=>g.nodeName=="BR");if(m.length==2){let[g,b]=m;g.parentNode&&g.parentNode.parentNode==b.parentNode?b.remove():g.remove()}else{let{focusNode:g}=this.currentSelection;for(let b of m){let v=b.parentNode;v&&v.nodeName=="LI"&&(!g||kS(e,g)!=v)&&b.remove()}}}let h=null;l<0&&o&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Lf(r)&&(h=fm(e))&&h.eq(Te.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Qr(e),this.currentSelection.set(r),e.scrollToSelection()):(l>-1||o)&&(l>-1&&(e.docView.markDirty(l,a),MS(e)),this.handleDOMChange(l,a,c,d),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Qr(e),this.currentSelection.set(r))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let m=0;m<e.addedNodes.length;m++){let g=e.addedNodes[m];t.push(g),g.nodeType==3&&(this.lastChangedTextNode=g)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let o=e.previousSibling,l=e.nextSibling;if(kn&&Hi<=11&&e.addedNodes.length)for(let m=0;m<e.addedNodes.length;m++){let{previousSibling:g,nextSibling:b}=e.addedNodes[m];(!g||Array.prototype.indexOf.call(e.addedNodes,g)<0)&&(o=g),(!b||Array.prototype.indexOf.call(e.addedNodes,b)<0)&&(l=b)}let a=o&&o.parentNode==e.target?Pt(o)+1:0,c=r.localPosFromDOM(e.target,a,-1),d=l&&l.parentNode==e.target?Pt(l):e.target.childNodes.length,h=r.localPosFromDOM(e.target,d,1);return{from:c,to:h}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let l4=new WeakMap,a4=!1;function MS(n){if(!l4.has(n)&&(l4.set(n,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(n.dom).whiteSpace)!==-1)){if(n.requiresGeckoHackNode=ar,a4)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),a4=!0}}function u4(n,e){let t=e.startContainer,r=e.startOffset,o=e.endContainer,l=e.endOffset,a=n.domAtPos(n.state.selection.anchor);return Do(a.node,a.offset,o,l)&&([t,r,o,l]=[o,l,t,r]),{anchorNode:t,anchorOffset:r,focusNode:o,focusOffset:l}}function TS(n,e){if(e.getComposedRanges){let o=e.getComposedRanges(n.root)[0];if(o)return u4(n,o)}let t;function r(o){o.preventDefault(),o.stopImmediatePropagation(),t=o.getTargetRanges()[0]}return n.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),n.dom.removeEventListener("beforeinput",r,!0),t?u4(n,t):null}function kS(n,e){for(let t=e.parentNode;t&&t!=n.dom;t=t.parentNode){let r=n.docView.nearestDesc(t,!0);if(r&&r.node.isBlock)return t}return null}function AS(n,e,t){let{node:r,fromOffset:o,toOffset:l,from:a,to:c}=n.docView.parseRange(e,t),d=n.domSelectionRange(),h,m=d.anchorNode;if(m&&n.dom.contains(m.nodeType==1?m:m.parentNode)&&(h=[{node:m,offset:d.anchorOffset}],Lf(d)||h.push({node:d.focusNode,offset:d.focusOffset})),en&&n.input.lastKeyCode===8)for(let M=l;M>o;M--){let k=r.childNodes[M-1],O=k.pmViewDesc;if(k.nodeName=="BR"&&!O){l=M;break}if(!O||O.size)break}let g=n.state.doc,b=n.someProp("domParser")||Li.fromSchema(n.state.schema),v=g.resolve(a),C=null,S=b.parse(r,{topNode:v.parent,topMatch:v.parent.contentMatchAt(v.index()),topOpen:!0,from:o,to:l,preserveWhitespace:v.parent.type.whitespace=="pre"?"full":!0,findPositions:h,ruleFromNode:RS,context:v});if(h&&h[0].pos!=null){let M=h[0].pos,k=h[1]&&h[1].pos;k==null&&(k=M),C={anchor:M+a,head:k+a}}return{doc:S,sel:C,from:a,to:c}}function RS(n){let e=n.pmViewDesc;if(e)return e.parseRule();if(n.nodeName=="BR"&&n.parentNode){if(fn&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(n.parentNode.lastChild==n||fn&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if(n.nodeName=="IMG"&&n.getAttribute("mark-placeholder"))return{ignore:!0};return null}const OS=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function NS(n,e,t,r,o){let l=n.input.compositionPendingChanges||(n.composing?n.input.compositionID:0);if(n.input.compositionPendingChanges=0,e<0){let X=n.input.lastSelectionTime>Date.now()-50?n.input.lastSelectionOrigin:null,le=fm(n,X);if(le&&!n.state.selection.eq(le)){if(en&&Gr&&n.input.lastKeyCode===13&&Date.now()-100<n.input.lastKeyCodeTime&&n.someProp("handleKeyDown",me=>me(n,mo(13,"Enter"))))return;let ne=n.state.tr.setSelection(le);X=="pointer"?ne.setMeta("pointer",!0):X=="key"&&ne.scrollIntoView(),l&&ne.setMeta("composition",l),n.dispatch(ne)}return}let a=n.state.doc.resolve(e),c=a.sharedDepth(t);e=a.before(c+1),t=n.state.doc.resolve(t).after(c+1);let d=n.state.selection,h=AS(n,e,t),m=n.state.doc,g=m.slice(h.from,h.to),b,v;n.input.lastKeyCode===8&&Date.now()-100<n.input.lastKeyCodeTime?(b=n.state.selection.to,v="end"):(b=n.state.selection.from,v="start"),n.input.lastKeyCode=null;let C=HS(g.content,h.doc.content,h.from,b,v);if(C&&n.input.domChangeCount++,(Fs&&n.input.lastIOSEnter>Date.now()-225||Gr)&&o.some(X=>X.nodeType==1&&!OS.test(X.nodeName))&&(!C||C.endA>=C.endB)&&n.someProp("handleKeyDown",X=>X(n,mo(13,"Enter")))){n.input.lastIOSEnter=0;return}if(!C)if(r&&d instanceof ve&&!d.empty&&d.$head.sameParent(d.$anchor)&&!n.composing&&!(h.sel&&h.sel.anchor!=h.sel.head))C={start:d.from,endA:d.to,endB:d.to};else{if(h.sel){let X=c4(n,n.state.doc,h.sel);if(X&&!X.eq(n.state.selection)){let le=n.state.tr.setSelection(X);l&&le.setMeta("composition",l),n.dispatch(le)}}return}n.state.selection.from<n.state.selection.to&&C.start==C.endB&&n.state.selection instanceof ve&&(C.start>n.state.selection.from&&C.start<=n.state.selection.from+2&&n.state.selection.from>=h.from?C.start=n.state.selection.from:C.endA<n.state.selection.to&&C.endA>=n.state.selection.to-2&&n.state.selection.to<=h.to&&(C.endB+=n.state.selection.to-C.endA,C.endA=n.state.selection.to)),kn&&Hi<=11&&C.endB==C.start+1&&C.endA==C.start&&C.start>h.from&&h.doc.textBetween(C.start-h.from-1,C.start-h.from+1)=="  "&&(C.start--,C.endA--,C.endB--);let S=h.doc.resolveNoCache(C.start-h.from),M=h.doc.resolveNoCache(C.endB-h.from),k=m.resolve(C.start),O=S.sameParent(M)&&S.parent.inlineContent&&k.end()>=C.endA,D;if((Fs&&n.input.lastIOSEnter>Date.now()-225&&(!O||o.some(X=>X.nodeName=="DIV"||X.nodeName=="P"))||!O&&S.pos<h.doc.content.size&&(!S.sameParent(M)||!S.parent.inlineContent)&&!/\S/.test(h.doc.textBetween(S.pos,M.pos,"",""))&&(D=Te.findFrom(h.doc.resolve(S.pos+1),1,!0))&&D.head>S.pos)&&n.someProp("handleKeyDown",X=>X(n,mo(13,"Enter")))){n.input.lastIOSEnter=0;return}if(n.state.selection.anchor>C.start&&LS(m,C.start,C.endA,S,M)&&n.someProp("handleKeyDown",X=>X(n,mo(8,"Backspace")))){Gr&&en&&n.domObserver.suppressSelectionUpdates();return}en&&C.endB==C.start&&(n.input.lastChromeDelete=Date.now()),Gr&&!O&&S.start()!=M.start()&&M.parentOffset==0&&S.depth==M.depth&&h.sel&&h.sel.anchor==h.sel.head&&h.sel.head==C.endA&&(C.endB-=2,M=h.doc.resolveNoCache(C.endB-h.from),setTimeout(()=>{n.someProp("handleKeyDown",function(X){return X(n,mo(13,"Enter"))})},20));let P=C.start,I=C.endA,Q=X=>{let le=X||n.state.tr.replace(P,I,h.doc.slice(C.start-h.from,C.endB-h.from));if(h.sel){let ne=c4(n,le.doc,h.sel);ne&&!(en&&n.composing&&ne.empty&&(C.start!=C.endB||n.input.lastChromeDelete<Date.now()-100)&&(ne.head==P||ne.head==le.mapping.map(I)-1)||kn&&ne.empty&&ne.head==P)&&le.setSelection(ne)}return l&&le.setMeta("composition",l),le.scrollIntoView()},te;if(O){if(S.pos==M.pos){kn&&Hi<=11&&S.parentOffset==0&&(n.domObserver.suppressSelectionUpdates(),setTimeout(()=>Qr(n),20));let X=Q(n.state.tr.delete(P,I)),le=m.resolve(C.start).marksAcross(m.resolve(C.endA));le&&X.ensureMarks(le),n.dispatch(X)}else if(C.endA==C.endB&&(te=DS(S.parent.content.cut(S.parentOffset,M.parentOffset),k.parent.content.cut(k.parentOffset,C.endA-k.start())))){let X=Q(n.state.tr);te.type=="add"?X.addMark(P,I,te.mark):X.removeMark(P,I,te.mark),n.dispatch(X)}else if(S.parent.child(S.index()).isText&&S.index()==M.index()-(M.textOffset?0:1)){let X=S.parent.textBetween(S.parentOffset,M.parentOffset),le=()=>Q(n.state.tr.insertText(X,P,I));n.someProp("handleTextInput",ne=>ne(n,P,I,X,le))||n.dispatch(le())}}else n.dispatch(Q())}function c4(n,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:dm(n,e.resolve(t.anchor),e.resolve(t.head))}function DS(n,e){let t=n.firstChild.marks,r=e.firstChild.marks,o=t,l=r,a,c,d;for(let m=0;m<r.length;m++)o=r[m].removeFromSet(o);for(let m=0;m<t.length;m++)l=t[m].removeFromSet(l);if(o.length==1&&l.length==0)c=o[0],a="add",d=m=>m.mark(c.addToSet(m.marks));else if(o.length==0&&l.length==1)c=l[0],a="remove",d=m=>m.mark(c.removeFromSet(m.marks));else return null;let h=[];for(let m=0;m<e.childCount;m++)h.push(d(e.child(m)));if(ee.from(h).eq(n))return{mark:c,type:a}}function LS(n,e,t,r,o){if(t-e<=o.pos-r.pos||Ip(r,!0,!1)<o.pos)return!1;let l=n.resolve(e);if(!r.parent.isTextblock){let c=l.nodeAfter;return c!=null&&t==e+c.nodeSize}if(l.parentOffset<l.parent.content.size||!l.parent.isTextblock)return!1;let a=n.resolve(Ip(l,!0,!0));return!a.parent.isTextblock||a.pos>t||Ip(a,!0,!1)<t?!1:r.parent.content.cut(r.parentOffset).eq(a.parent.content)}function Ip(n,e,t){let r=n.depth,o=e?n.end():n.pos;for(;r>0&&(e||n.indexAfter(r)==n.node(r).childCount);)r--,o++,e=!1;if(t){let l=n.node(r).maybeChild(n.indexAfter(r));for(;l&&!l.isLeaf;)l=l.firstChild,o++}return o}function HS(n,e,t,r,o){let l=n.findDiffStart(e,t);if(l==null)return null;let{a,b:c}=n.findDiffEnd(e,t+n.size,t+e.size);if(o=="end"){let d=Math.max(0,l-Math.min(a,c));r-=a+d-l}if(a<l&&n.size<e.size){let d=r<=l&&r>=a?l-r:0;l-=d,l&&l<e.size&&f4(e.textBetween(l-1,l+1))&&(l+=d?1:-1),c=l+(c-a),a=l}else if(c<l){let d=r<=l&&r>=c?l-r:0;l-=d,l&&l<n.size&&f4(n.textBetween(l-1,l+1))&&(l+=d?1:-1),a=l+(a-c),c=l}return{start:l,endA:a,endB:c}}function f4(n){if(n.length!=2)return!1;let e=n.charCodeAt(0),t=n.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}const zS=pm,BS=Ea;class Cm{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Wx,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(g4),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=p4(this),h4(this),this.nodeViews=m4(this),this.docView=$7(this.state.doc,d4(this),jp(this),this.dom,this),this.domObserver=new wS(this,(r,o,l,a)=>NS(this,r,o,l,a)),this.domObserver.start(),eS(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&D1(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(g4),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let r in this._props)t[r]=this._props[r];t.state=this.state;for(let r in e)t[r]=e[r];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var r;let o=this.state,l=!1,a=!1;e.storedMarks&&this.composing&&(Ob(this),a=!0),this.state=e;let c=o.plugins!=e.plugins||this._props.plugins!=t.plugins;if(c||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let v=m4(this);IS(v,this.nodeViews)&&(this.nodeViews=v,l=!0)}(c||t.handleDOMEvents!=this._props.handleDOMEvents)&&D1(this),this.editable=p4(this),h4(this);let d=jp(this),h=d4(this),m=o.plugins!=e.plugins&&!o.doc.eq(e.doc)?"reset":e.scrollToSelection>o.scrollToSelection?"to selection":"preserve",g=l||!this.docView.matchesNode(e.doc,h,d);(g||!e.selection.eq(o.selection))&&(a=!0);let b=m=="preserve"&&a&&this.dom.style.overflowAnchor==null&&px(this);if(a){this.domObserver.stop();let v=g&&(kn||en)&&!this.composing&&!o.selection.empty&&!e.selection.empty&&jS(o.selection,e.selection);if(g){let C=en?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=hS(this)),(l||!this.docView.update(e.doc,h,d,this))&&(this.docView.updateOuterDeco(h),this.docView.destroy(),this.docView=$7(e.doc,h,d,this.dom,this)),C&&!this.trackWrites&&(v=!0)}v||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&Ix(this))?Qr(this,v):(vb(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(o),!((r=this.dragging)===null||r===void 0)&&r.node&&!o.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,o),m=="reset"?this.dom.scrollTop=0:m=="to selection"?this.scrollToSelection():b&&mx(b)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof ce){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&_7(this,t.getBoundingClientRect(),e)}else _7(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let r=this.directPlugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let r=this.state.plugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let r=this.pluginViews[t];r.update&&r.update(this,e)}}updateDraggedNode(e,t){let r=e.node,o=-1;if(this.state.doc.nodeAt(r.from)==r.node)o=r.from;else{let l=r.from+(this.state.doc.content.size-t.doc.content.size);(l>0&&this.state.doc.nodeAt(l))==r.node&&(o=l)}this.dragging=new Db(e.slice,e.move,o<0?void 0:ce.create(this.state.doc,o))}someProp(e,t){let r=this._props&&this._props[e],o;if(r!=null&&(o=t?t(r):r))return o;for(let a=0;a<this.directPlugins.length;a++){let c=this.directPlugins[a].props[e];if(c!=null&&(o=t?t(c):c))return o}let l=this.state.plugins;if(l)for(let a=0;a<l.length;a++){let c=l[a].props[e];if(c!=null&&(o=t?t(c):c))return o}}hasFocus(){if(kn){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&gx(this.dom),Qr(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return xx(this,e)}coordsAtPos(e,t=1){return fb(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,r=-1){let o=this.docView.posFromDOM(e,t,r);if(o==null)throw new RangeError("DOM position not inside the editor");return o}endOfTextblock(e,t){return Tx(this,t||this.state,e)}pasteHTML(e,t){return Ma(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return Ma(this,e,null,!0,t||new ClipboardEvent("paste"))}serializeForClipboard(e){return hm(this,e)}destroy(){this.docView&&(tS(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],jp(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,rx())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return rS(this,e)}domSelectionRange(){let e=this.domSelection();return e?fn&&this.root.nodeType===11&&ax(this.dom.ownerDocument)==this.dom&&TS(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}Cm.prototype.dispatch=function(n){let e=this._props.dispatchTransaction;e?e.call(this,n):this.updateState(this.state.apply(n))};function d4(n){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(n.editable),n.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(n.state)),t)for(let r in t)r=="class"?e.class+=" "+t[r]:r=="style"?e.style=(e.style?e.style+";":"")+t[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(t[r]))}),e.translate||(e.translate="no"),[Tn.node(0,n.state.doc.content.size,e)]}function h4(n){if(n.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),n.cursorWrapper={dom:e,deco:Tn.widget(n.state.selection.from,e,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function p4(n){return!n.someProp("editable",e=>e(n.state)===!1)}function jS(n,e){let t=Math.min(n.$anchor.sharedDepth(n.head),e.$anchor.sharedDepth(e.head));return n.$anchor.start(t)!=e.$anchor.start(t)}function m4(n){let e=Object.create(null);function t(r){for(let o in r)Object.prototype.hasOwnProperty.call(e,o)||(e[o]=r[o])}return n.someProp("nodeViews",t),n.someProp("markViews",t),e}function IS(n,e){let t=0,r=0;for(let o in n){if(n[o]!=e[o])return!0;t++}for(let o in e)r++;return t!=r}function g4(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}const VS=Object.freeze(Object.defineProperty({__proto__:null,Decoration:Tn,DecorationSet:bt,EditorView:Cm,__endComposition:BS,__parseFromClipboard:zS},Symbol.toStringTag,{value:"Module"}));var Ii={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},_c={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},_S=typeof navigator<"u"&&/Mac/.test(navigator.platform),US=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Ft=0;Ft<10;Ft++)Ii[48+Ft]=Ii[96+Ft]=String(Ft);for(var Ft=1;Ft<=24;Ft++)Ii[Ft+111]="F"+Ft;for(var Ft=65;Ft<=90;Ft++)Ii[Ft]=String.fromCharCode(Ft+32),_c[Ft]=String.fromCharCode(Ft);for(var Vp in Ii)_c.hasOwnProperty(Vp)||(_c[Vp]=Ii[Vp]);function qS(n){var e=_S&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||US&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?_c:Ii)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const PS=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),FS=typeof navigator<"u"&&/Win/.test(navigator.platform);function KS(n){let e=n.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let r,o,l,a;for(let c=0;c<e.length-1;c++){let d=e[c];if(/^(cmd|meta|m)$/i.test(d))a=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))o=!0;else if(/^s(hift)?$/i.test(d))l=!0;else if(/^mod$/i.test(d))PS?a=!0:o=!0;else throw new Error("Unrecognized modifier name: "+d)}return r&&(t="Alt-"+t),o&&(t="Ctrl-"+t),a&&(t="Meta-"+t),l&&(t="Shift-"+t),t}function $S(n){let e=Object.create(null);for(let t in n)e[KS(t)]=n[t];return e}function _p(n,e,t=!0){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t&&e.shiftKey&&(n="Shift-"+n),n}function GS(n){return new pt({props:{handleKeyDown:jb(n)}})}function jb(n){let e=$S(n);return function(t,r){let o=qS(r),l,a=e[_p(o,r)];if(a&&a(t.state,t.dispatch,t))return!0;if(o.length==1&&o!=" "){if(r.shiftKey){let c=e[_p(o,r,!1)];if(c&&c(t.state,t.dispatch,t))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(FS&&r.ctrlKey&&r.altKey)&&(l=Ii[r.keyCode])&&l!=o){let c=e[_p(l,r)];if(c&&c(t.state,t.dispatch,t))return!0}}return!1}}const xm=(n,e)=>n.selection.empty?!1:(e&&e(n.tr.deleteSelection().scrollIntoView()),!0);function Ib(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("backward",n):t.parentOffset>0)?null:t}const Vb=(n,e,t)=>{let r=Ib(n,t);if(!r)return!1;let o=Sm(r);if(!o){let a=r.blockRange(),c=a&&Js(a);return c==null?!1:(e&&e(n.tr.lift(a,c).scrollIntoView()),!0)}let l=o.nodeBefore;if(Zb(n,o,e,-1))return!0;if(r.parent.content.size==0&&(Ks(l,"end")||ce.isSelectable(l)))for(let a=r.depth;;a--){let c=Nf(n.doc,r.before(a),r.after(a),se.empty);if(c&&c.slice.size<c.to-c.from){if(e){let d=n.tr.step(c);d.setSelection(Ks(l,"end")?Te.findFrom(d.doc.resolve(d.mapping.map(o.pos,-1)),-1):ce.create(d.doc,o.pos-l.nodeSize)),e(d.scrollIntoView())}return!0}if(a==1||r.node(a-1).childCount>1)break}return l.isAtom&&o.depth==r.depth-1?(e&&e(n.tr.delete(o.pos-l.nodeSize,o.pos).scrollIntoView()),!0):!1},ZS=(n,e,t)=>{let r=Ib(n,t);if(!r)return!1;let o=Sm(r);return o?_b(n,o,e):!1},YS=(n,e,t)=>{let r=qb(n,t);if(!r)return!1;let o=Em(r);return o?_b(n,o,e):!1};function _b(n,e,t){let r=e.nodeBefore,o=r,l=e.pos-1;for(;!o.isTextblock;l--){if(o.type.spec.isolating)return!1;let m=o.lastChild;if(!m)return!1;o=m}let a=e.nodeAfter,c=a,d=e.pos+1;for(;!c.isTextblock;d++){if(c.type.spec.isolating)return!1;let m=c.firstChild;if(!m)return!1;c=m}let h=Nf(n.doc,l,d,se.empty);if(!h||h.from!=l||h instanceof lr&&h.slice.size>=d-l)return!1;if(t){let m=n.tr.step(h);m.setSelection(ve.create(m.doc,l)),t(m.scrollIntoView())}return!0}function Ks(n,e,t=!1){for(let r=n;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(t&&r.childCount!=1)return!1}return!1}const Ub=(n,e,t)=>{let{$head:r,empty:o}=n.selection,l=r;if(!o)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("backward",n):r.parentOffset>0)return!1;l=Sm(r)}let a=l&&l.nodeBefore;return!a||!ce.isSelectable(a)?!1:(e&&e(n.tr.setSelection(ce.create(n.doc,l.pos-a.nodeSize)).scrollIntoView()),!0)};function Sm(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){if(n.index(e)>0)return n.doc.resolve(n.before(e+1));if(n.node(e).type.spec.isolating)break}return null}function qb(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("forward",n):t.parentOffset<t.parent.content.size)?null:t}const Pb=(n,e,t)=>{let r=qb(n,t);if(!r)return!1;let o=Em(r);if(!o)return!1;let l=o.nodeAfter;if(Zb(n,o,e,1))return!0;if(r.parent.content.size==0&&(Ks(l,"start")||ce.isSelectable(l))){let a=Nf(n.doc,r.before(),r.after(),se.empty);if(a&&a.slice.size<a.to-a.from){if(e){let c=n.tr.step(a);c.setSelection(Ks(l,"start")?Te.findFrom(c.doc.resolve(c.mapping.map(o.pos)),1):ce.create(c.doc,c.mapping.map(o.pos))),e(c.scrollIntoView())}return!0}}return l.isAtom&&o.depth==r.depth-1?(e&&e(n.tr.delete(o.pos,o.pos+l.nodeSize).scrollIntoView()),!0):!1},Fb=(n,e,t)=>{let{$head:r,empty:o}=n.selection,l=r;if(!o)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("forward",n):r.parentOffset<r.parent.content.size)return!1;l=Em(r)}let a=l&&l.nodeAfter;return!a||!ce.isSelectable(a)?!1:(e&&e(n.tr.setSelection(ce.create(n.doc,l.pos)).scrollIntoView()),!0)};function Em(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){let t=n.node(e);if(n.index(e)+1<t.childCount)return n.doc.resolve(n.after(e+1));if(t.type.spec.isolating)break}return null}const JS=(n,e)=>{let t=n.selection,r=t instanceof ce,o;if(r){if(t.node.isTextblock||!Ui(n.doc,t.from))return!1;o=t.from}else if(o=Of(n.doc,t.from,-1),o==null)return!1;if(e){let l=n.tr.join(o);r&&l.setSelection(ce.create(l.doc,o-n.doc.resolve(o).nodeBefore.nodeSize)),e(l.scrollIntoView())}return!0},QS=(n,e)=>{let t=n.selection,r;if(t instanceof ce){if(t.node.isTextblock||!Ui(n.doc,t.to))return!1;r=t.to}else if(r=Of(n.doc,t.to,1),r==null)return!1;return e&&e(n.tr.join(r).scrollIntoView()),!0},XS=(n,e)=>{let{$from:t,$to:r}=n.selection,o=t.blockRange(r),l=o&&Js(o);return l==null?!1:(e&&e(n.tr.lift(o,l).scrollIntoView()),!0)},Kb=(n,e)=>{let{$head:t,$anchor:r}=n.selection;return!t.parent.type.spec.code||!t.sameParent(r)?!1:(e&&e(n.tr.insertText(`
`).scrollIntoView()),!0)};function wm(n){for(let e=0;e<n.edgeCount;e++){let{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const WS=(n,e)=>{let{$head:t,$anchor:r}=n.selection;if(!t.parent.type.spec.code||!t.sameParent(r))return!1;let o=t.node(-1),l=t.indexAfter(-1),a=wm(o.contentMatchAt(l));if(!a||!o.canReplaceWith(l,l,a))return!1;if(e){let c=t.after(),d=n.tr.replaceWith(c,c,a.createAndFill());d.setSelection(Te.near(d.doc.resolve(c),1)),e(d.scrollIntoView())}return!0},$b=(n,e)=>{let t=n.selection,{$from:r,$to:o}=t;if(t instanceof Vn||r.parent.inlineContent||o.parent.inlineContent)return!1;let l=wm(o.parent.contentMatchAt(o.indexAfter()));if(!l||!l.isTextblock)return!1;if(e){let a=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,c=n.tr.insert(a,l.createAndFill());c.setSelection(ve.create(c.doc,a+1)),e(c.scrollIntoView())}return!0},Gb=(n,e)=>{let{$cursor:t}=n.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let l=t.before();if(Jr(n.doc,l))return e&&e(n.tr.split(l).scrollIntoView()),!0}let r=t.blockRange(),o=r&&Js(r);return o==null?!1:(e&&e(n.tr.lift(r,o).scrollIntoView()),!0)};function eE(n){return(e,t)=>{let{$from:r,$to:o}=e.selection;if(e.selection instanceof ce&&e.selection.node.isBlock)return!r.parentOffset||!Jr(e.doc,r.pos)?!1:(t&&t(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let l=[],a,c,d=!1,h=!1;for(let v=r.depth;;v--)if(r.node(v).isBlock){d=r.end(v)==r.pos+(r.depth-v),h=r.start(v)==r.pos-(r.depth-v),c=wm(r.node(v-1).contentMatchAt(r.indexAfter(v-1))),l.unshift(d&&c?{type:c}:null),a=v;break}else{if(v==1)return!1;l.unshift(null)}let m=e.tr;(e.selection instanceof ve||e.selection instanceof Vn)&&m.deleteSelection();let g=m.mapping.map(r.pos),b=Jr(m.doc,g,l.length,l);if(b||(l[0]=c?{type:c}:null,b=Jr(m.doc,g,l.length,l)),!b)return!1;if(m.split(g,l.length,l),!d&&h&&r.node(a).type!=c){let v=m.mapping.map(r.before(a)),C=m.doc.resolve(v);c&&r.node(a-1).canReplaceWith(C.index(),C.index()+1,c)&&m.setNodeMarkup(m.mapping.map(r.before(a)),c)}return t&&t(m.scrollIntoView()),!0}}const tE=eE(),nE=(n,e)=>{let{$from:t,to:r}=n.selection,o,l=t.sharedDepth(r);return l==0?!1:(o=t.before(l),e&&e(n.tr.setSelection(ce.create(n.doc,o))),!0)};function rE(n,e,t){let r=e.nodeBefore,o=e.nodeAfter,l=e.index();return!r||!o||!r.type.compatibleContent(o.type)?!1:!r.content.size&&e.parent.canReplace(l-1,l)?(t&&t(n.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(l,l+1)||!(o.isTextblock||Ui(n.doc,e.pos))?!1:(t&&t(n.tr.join(e.pos).scrollIntoView()),!0)}function Zb(n,e,t,r){let o=e.nodeBefore,l=e.nodeAfter,a,c,d=o.type.spec.isolating||l.type.spec.isolating;if(!d&&rE(n,e,t))return!0;let h=!d&&e.parent.canReplace(e.index(),e.index()+1);if(h&&(a=(c=o.contentMatchAt(o.childCount)).findWrapping(l.type))&&c.matchType(a[0]||l.type).validEnd){if(t){let v=e.pos+l.nodeSize,C=ee.empty;for(let k=a.length-1;k>=0;k--)C=ee.from(a[k].create(null,C));C=ee.from(o.copy(C));let S=n.tr.step(new Rn(e.pos-1,v,e.pos,v,new se(C,1,0),a.length,!0)),M=S.doc.resolve(v+2*a.length);M.nodeAfter&&M.nodeAfter.type==o.type&&Ui(S.doc,M.pos)&&S.join(M.pos),t(S.scrollIntoView())}return!0}let m=l.type.spec.isolating||r>0&&d?null:Te.findFrom(e,1),g=m&&m.$from.blockRange(m.$to),b=g&&Js(g);if(b!=null&&b>=e.depth)return t&&t(n.tr.lift(g,b).scrollIntoView()),!0;if(h&&Ks(l,"start",!0)&&Ks(o,"end")){let v=o,C=[];for(;C.push(v),!v.isTextblock;)v=v.lastChild;let S=l,M=1;for(;!S.isTextblock;S=S.firstChild)M++;if(v.canReplace(v.childCount,v.childCount,S.content)){if(t){let k=ee.empty;for(let D=C.length-1;D>=0;D--)k=ee.from(C[D].copy(k));let O=n.tr.step(new Rn(e.pos-C.length,e.pos+l.nodeSize,e.pos+M,e.pos+l.nodeSize-M,new se(k,C.length,0),0,!0));t(O.scrollIntoView())}return!0}}return!1}function Yb(n){return function(e,t){let r=e.selection,o=n<0?r.$from:r.$to,l=o.depth;for(;o.node(l).isInline;){if(!l)return!1;l--}return o.node(l).isTextblock?(t&&t(e.tr.setSelection(ve.create(e.doc,n<0?o.start(l):o.end(l)))),!0):!1}}const iE=Yb(-1),oE=Yb(1);function sE(n,e=null){return function(t,r){let{$from:o,$to:l}=t.selection,a=o.blockRange(l),c=a&&am(a,n,e);return c?(r&&r(t.tr.wrap(a,c).scrollIntoView()),!0):!1}}function y4(n,e=null){return function(t,r){let o=!1;for(let l=0;l<t.selection.ranges.length&&!o;l++){let{$from:{pos:a},$to:{pos:c}}=t.selection.ranges[l];t.doc.nodesBetween(a,c,(d,h)=>{if(o)return!1;if(!(!d.isTextblock||d.hasMarkup(n,e)))if(d.type==n)o=!0;else{let m=t.doc.resolve(h),g=m.index();o=m.parent.canReplaceWith(g,g+1,n)}})}if(!o)return!1;if(r){let l=t.tr;for(let a=0;a<t.selection.ranges.length;a++){let{$from:{pos:c},$to:{pos:d}}=t.selection.ranges[a];l.setBlockType(c,d,n,e)}r(l.scrollIntoView())}return!0}}function Mm(...n){return function(e,t,r){for(let o=0;o<n.length;o++)if(n[o](e,t,r))return!0;return!1}}Mm(xm,Vb,Ub);Mm(xm,Pb,Fb);Mm(Kb,$b,Gb,tE);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function lE(n,e=null){return function(t,r){let{$from:o,$to:l}=t.selection,a=o.blockRange(l);if(!a)return!1;let c=r?t.tr:null;return aE(c,a,n,e)?(r&&r(c.scrollIntoView()),!0):!1}}function aE(n,e,t,r=null){let o=!1,l=e,a=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(t)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let d=a.resolve(e.start-2);l=new Lc(d,d,e.depth),e.endIndex<e.parent.childCount&&(e=new Lc(e.$from,a.resolve(e.$to.end(e.depth)),e.depth)),o=!0}let c=am(l,t,r,e);return c?(n&&uE(n,e,c,o,t),!0):!1}function uE(n,e,t,r,o){let l=ee.empty;for(let m=t.length-1;m>=0;m--)l=ee.from(t[m].type.create(t[m].attrs,l));n.step(new Rn(e.start-(r?2:0),e.end,e.start,e.end,new se(l,0,0),t.length,!0));let a=0;for(let m=0;m<t.length;m++)t[m].type==o&&(a=m+1);let c=t.length-a,d=e.start+t.length-(r?2:0),h=e.parent;for(let m=e.startIndex,g=e.endIndex,b=!0;m<g;m++,b=!1)!b&&Jr(n.doc,d,c)&&(n.split(d,c),d+=2*c),d+=h.child(m).nodeSize;return n}function cE(n){return function(e,t){let{$from:r,$to:o}=e.selection,l=r.blockRange(o,a=>a.childCount>0&&a.firstChild.type==n);return l?t?r.node(l.depth-1).type==n?fE(e,t,n,l):dE(e,t,l):!0:!1}}function fE(n,e,t,r){let o=n.tr,l=r.end,a=r.$to.end(r.depth);l<a&&(o.step(new Rn(l-1,a,l,a,new se(ee.from(t.create(null,r.parent.copy())),1,0),1,!0)),r=new Lc(o.doc.resolve(r.$from.pos),o.doc.resolve(a),r.depth));const c=Js(r);if(c==null)return!1;o.lift(r,c);let d=o.doc.resolve(o.mapping.map(l,-1)-1);return Ui(o.doc,d.pos)&&d.nodeBefore.type==d.nodeAfter.type&&o.join(d.pos),e(o.scrollIntoView()),!0}function dE(n,e,t){let r=n.tr,o=t.parent;for(let v=t.end,C=t.endIndex-1,S=t.startIndex;C>S;C--)v-=o.child(C).nodeSize,r.delete(v-1,v+1);let l=r.doc.resolve(t.start),a=l.nodeAfter;if(r.mapping.map(t.end)!=t.start+l.nodeAfter.nodeSize)return!1;let c=t.startIndex==0,d=t.endIndex==o.childCount,h=l.node(-1),m=l.index(-1);if(!h.canReplace(m+(c?0:1),m+1,a.content.append(d?ee.empty:ee.from(o))))return!1;let g=l.pos,b=g+a.nodeSize;return r.step(new Rn(g-(c?1:0),b+(d?1:0),g+1,b-1,new se((c?ee.empty:ee.from(o.copy(ee.empty))).append(d?ee.empty:ee.from(o.copy(ee.empty))),c?0:1,d?0:1),c?0:1)),e(r.scrollIntoView()),!0}function hE(n){return function(e,t){let{$from:r,$to:o}=e.selection,l=r.blockRange(o,h=>h.childCount>0&&h.firstChild.type==n);if(!l)return!1;let a=l.startIndex;if(a==0)return!1;let c=l.parent,d=c.child(a-1);if(d.type!=n)return!1;if(t){let h=d.lastChild&&d.lastChild.type==c.type,m=ee.from(h?n.create():null),g=new se(ee.from(n.create(null,ee.from(c.type.create(null,m)))),h?3:1,0),b=l.start,v=l.end;t(e.tr.step(new Rn(b-(h?3:1),v,b,v,g,1,!0)).scrollIntoView())}return!0}}function Bf(n){const{state:e,transaction:t}=n;let{selection:r}=t,{doc:o}=t,{storedMarks:l}=t;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return l},get selection(){return r},get doc(){return o},get tr(){return r=t.selection,o=t.doc,l=t.storedMarks,t}}}class jf{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:r}=this,{view:o}=t,{tr:l}=r,a=this.buildProps(l);return Object.fromEntries(Object.entries(e).map(([c,d])=>[c,(...m)=>{const g=d(...m)(a);return!l.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(l),g}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:r,editor:o,state:l}=this,{view:a}=o,c=[],d=!!e,h=e||l.tr,m=()=>(!d&&t&&!h.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(h),c.every(b=>b===!0)),g={...Object.fromEntries(Object.entries(r).map(([b,v])=>[b,(...S)=>{const M=this.buildProps(h,t),k=v(...S)(M);return c.push(k),g}])),run:m};return g}createCan(e){const{rawCommands:t,state:r}=this,o=!1,l=e||r.tr,a=this.buildProps(l,o);return{...Object.fromEntries(Object.entries(t).map(([d,h])=>[d,(...m)=>h(...m)({...a,dispatch:void 0})])),chain:()=>this.createChain(l,o)}}buildProps(e,t=!0){const{rawCommands:r,editor:o,state:l}=this,{view:a}=o,c={tr:e,editor:o,view:a,state:Bf({state:l,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([d,h])=>[d,(...m)=>h(...m)(c)]))}};return c}}class pE{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const r=this.callbacks[e];return r&&r.forEach(o=>o.apply(this,t)),this}off(e,t){const r=this.callbacks[e];return r&&(t?this.callbacks[e]=r.filter(o=>o!==t):delete this.callbacks[e]),this}once(e,t){const r=(...o)=>{this.off(e,r),t.apply(this,o)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}}function ue(n,e,t){return n.config[e]===void 0&&n.parent?ue(n.parent,e,t):typeof n.config[e]=="function"?n.config[e].bind({...t,parent:n.parent?ue(n.parent,e,t):null}):n.config[e]}function If(n){const e=n.filter(o=>o.type==="extension"),t=n.filter(o=>o.type==="node"),r=n.filter(o=>o.type==="mark");return{baseExtensions:e,nodeExtensions:t,markExtensions:r}}function Jb(n){const e=[],{nodeExtensions:t,markExtensions:r}=If(n),o=[...t,...r],l={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return n.forEach(a=>{const c={name:a.name,options:a.options,storage:a.storage,extensions:o},d=ue(a,"addGlobalAttributes",c);if(!d)return;d().forEach(m=>{m.types.forEach(g=>{Object.entries(m.attributes).forEach(([b,v])=>{e.push({type:g,name:b,attribute:{...l,...v}})})})})}),o.forEach(a=>{const c={name:a.name,options:a.options,storage:a.storage},d=ue(a,"addAttributes",c);if(!d)return;const h=d();Object.entries(h).forEach(([m,g])=>{const b={...l,...g};typeof b?.default=="function"&&(b.default=b.default()),b?.isRequired&&b?.default===void 0&&delete b.default,e.push({type:a.name,name:m,attribute:b})})}),e}function At(n,e){if(typeof n=="string"){if(!e.nodes[n])throw Error(`There is no node type named '${n}'. Maybe you forgot to add the extension?`);return e.nodes[n]}return n}function rt(...n){return n.filter(e=>!!e).reduce((e,t)=>{const r={...e};return Object.entries(t).forEach(([o,l])=>{if(!r[o]){r[o]=l;return}if(o==="class"){const c=l?String(l).split(" "):[],d=r[o]?r[o].split(" "):[],h=c.filter(m=>!d.includes(m));r[o]=[...d,...h].join(" ")}else if(o==="style"){const c=l?l.split(";").map(m=>m.trim()).filter(Boolean):[],d=r[o]?r[o].split(";").map(m=>m.trim()).filter(Boolean):[],h=new Map;d.forEach(m=>{const[g,b]=m.split(":").map(v=>v.trim());h.set(g,b)}),c.forEach(m=>{const[g,b]=m.split(":").map(v=>v.trim());h.set(g,b)}),r[o]=Array.from(h.entries()).map(([m,g])=>`${m}: ${g}`).join("; ")}else r[o]=l}),r},{})}function Uc(n,e){return e.filter(t=>t.type===n.type.name).filter(t=>t.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(n.attrs)||{}:{[t.name]:n.attrs[t.name]}).reduce((t,r)=>rt(t,r),{})}function Qb(n){return typeof n=="function"}function Re(n,e=void 0,...t){return Qb(n)?e?n.bind(e)(...t):n(...t):n}function mE(n={}){return Object.keys(n).length===0&&n.constructor===Object}function gE(n){return typeof n!="string"?n:n.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(n):n==="true"?!0:n==="false"?!1:n}function b4(n,e){return"style"in n?n:{...n,getAttrs:t=>{const r=n.getAttrs?n.getAttrs(t):n.attrs;if(r===!1)return!1;const o=e.reduce((l,a)=>{const c=a.attribute.parseHTML?a.attribute.parseHTML(t):gE(t.getAttribute(a.name));return c==null?l:{...l,[a.name]:c}},{});return{...r,...o}}}}function v4(n){return Object.fromEntries(Object.entries(n).filter(([e,t])=>e==="attrs"&&mE(t)?!1:t!=null))}function yE(n,e){var t;const r=Jb(n),{nodeExtensions:o,markExtensions:l}=If(n),a=(t=o.find(h=>ue(h,"topNode")))===null||t===void 0?void 0:t.name,c=Object.fromEntries(o.map(h=>{const m=r.filter(k=>k.type===h.name),g={name:h.name,options:h.options,storage:h.storage,editor:e},b=n.reduce((k,O)=>{const D=ue(O,"extendNodeSchema",g);return{...k,...D?D(h):{}}},{}),v=v4({...b,content:Re(ue(h,"content",g)),marks:Re(ue(h,"marks",g)),group:Re(ue(h,"group",g)),inline:Re(ue(h,"inline",g)),atom:Re(ue(h,"atom",g)),selectable:Re(ue(h,"selectable",g)),draggable:Re(ue(h,"draggable",g)),code:Re(ue(h,"code",g)),whitespace:Re(ue(h,"whitespace",g)),linebreakReplacement:Re(ue(h,"linebreakReplacement",g)),defining:Re(ue(h,"defining",g)),isolating:Re(ue(h,"isolating",g)),attrs:Object.fromEntries(m.map(k=>{var O;return[k.name,{default:(O=k?.attribute)===null||O===void 0?void 0:O.default}]}))}),C=Re(ue(h,"parseHTML",g));C&&(v.parseDOM=C.map(k=>b4(k,m)));const S=ue(h,"renderHTML",g);S&&(v.toDOM=k=>S({node:k,HTMLAttributes:Uc(k,m)}));const M=ue(h,"renderText",g);return M&&(v.toText=M),[h.name,v]})),d=Object.fromEntries(l.map(h=>{const m=r.filter(M=>M.type===h.name),g={name:h.name,options:h.options,storage:h.storage,editor:e},b=n.reduce((M,k)=>{const O=ue(k,"extendMarkSchema",g);return{...M,...O?O(h):{}}},{}),v=v4({...b,inclusive:Re(ue(h,"inclusive",g)),excludes:Re(ue(h,"excludes",g)),group:Re(ue(h,"group",g)),spanning:Re(ue(h,"spanning",g)),code:Re(ue(h,"code",g)),attrs:Object.fromEntries(m.map(M=>{var k;return[M.name,{default:(k=M?.attribute)===null||k===void 0?void 0:k.default}]}))}),C=Re(ue(h,"parseHTML",g));C&&(v.parseDOM=C.map(M=>b4(M,m)));const S=ue(h,"renderHTML",g);return S&&(v.toDOM=M=>S({mark:M,HTMLAttributes:Uc(M,m)})),[h.name,v]}));return new I3({topNode:a,nodes:c,marks:d})}function Up(n,e){return e.nodes[n]||e.marks[n]||null}function C4(n,e){return Array.isArray(e)?e.some(t=>(typeof t=="string"?t:t.name)===n.name):e}function Tm(n,e){const t=jo.fromSchema(e).serializeFragment(n),o=document.implementation.createHTMLDocument().createElement("div");return o.appendChild(t),o.innerHTML}const bE=(n,e=500)=>{let t="";const r=n.parentOffset;return n.parent.nodesBetween(Math.max(0,r-e),r,(o,l,a,c)=>{var d,h;const m=((h=(d=o.type.spec).toText)===null||h===void 0?void 0:h.call(d,{node:o,pos:l,parent:a,index:c}))||o.textContent||"%leaf%";t+=o.isAtom&&!o.isText?m:m.slice(0,Math.max(0,r-l))}),t};function km(n){return Object.prototype.toString.call(n)==="[object RegExp]"}class _a{constructor(e){this.find=e.find,this.handler=e.handler}}const vE=(n,e)=>{if(km(e))return e.exec(n);const t=e(n);if(!t)return null;const r=[t.text];return r.index=t.index,r.input=n,r.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(t.replaceWith)),r};function lc(n){var e;const{editor:t,from:r,to:o,text:l,rules:a,plugin:c}=n,{view:d}=t;if(d.composing)return!1;const h=d.state.doc.resolve(r);if(h.parent.type.spec.code||!((e=h.nodeBefore||h.nodeAfter)===null||e===void 0)&&e.marks.find(b=>b.type.spec.code))return!1;let m=!1;const g=bE(h)+l;return a.forEach(b=>{if(m)return;const v=vE(g,b.find);if(!v)return;const C=d.state.tr,S=Bf({state:d.state,transaction:C}),M={from:r-(v[0].length-l.length),to:o},{commands:k,chain:O,can:D}=new jf({editor:t,state:S});b.handler({state:S,range:M,match:v,commands:k,chain:O,can:D})===null||!C.steps.length||(C.setMeta(c,{transform:C,from:r,to:o,text:l}),d.dispatch(C),m=!0)}),m}function CE(n){const{editor:e,rules:t}=n,r=new pt({state:{init(){return null},apply(o,l,a){const c=o.getMeta(r);if(c)return c;const d=o.getMeta("applyInputRules");return!!d&&setTimeout(()=>{let{text:m}=d;typeof m=="string"?m=m:m=Tm(ee.from(m),a.schema);const{from:g}=d,b=g+m.length;lc({editor:e,from:g,to:b,text:m,rules:t,plugin:r})}),o.selectionSet||o.docChanged?null:l}},props:{handleTextInput(o,l,a,c){return lc({editor:e,from:l,to:a,text:c,rules:t,plugin:r})},handleDOMEvents:{compositionend:o=>(setTimeout(()=>{const{$cursor:l}=o.state.selection;l&&lc({editor:e,from:l.pos,to:l.pos,text:"",rules:t,plugin:r})}),!1)},handleKeyDown(o,l){if(l.key!=="Enter")return!1;const{$cursor:a}=o.state.selection;return a?lc({editor:e,from:a.pos,to:a.pos,text:`
`,rules:t,plugin:r}):!1}},isInputRules:!0});return r}function xE(n){return Object.prototype.toString.call(n).slice(8,-1)}function ac(n){return xE(n)!=="Object"?!1:n.constructor===Object&&Object.getPrototypeOf(n)===Object.prototype}function Vf(n,e){const t={...n};return ac(n)&&ac(e)&&Object.keys(e).forEach(r=>{ac(e[r])&&ac(n[r])?t[r]=Vf(n[r],e[r]):t[r]=e[r]}),t}class _n{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Re(ue(this,"addOptions",{name:this.name}))),this.storage=Re(ue(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new _n(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Vf(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new _n(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Re(ue(t,"addOptions",{name:t.name})),t.storage=Re(ue(t,"addStorage",{name:t.name,options:t.options})),t}static handleExit({editor:e,mark:t}){const{tr:r}=e.state,o=e.state.selection.$from;if(o.pos===o.end()){const a=o.marks();if(!!!a.find(h=>h?.type.name===t.name))return!1;const d=a.find(h=>h?.type.name===t.name);return d&&r.removeStoredMark(d),r.insertText(" ",o.pos),e.view.dispatch(r),!0}return!1}}function SE(n){return typeof n=="number"}class EE{constructor(e){this.find=e.find,this.handler=e.handler}}const wE=(n,e,t)=>{if(km(e))return[...n.matchAll(e)];const r=e(n,t);return r?r.map(o=>{const l=[o.text];return l.index=o.index,l.input=n,l.data=o.data,o.replaceWith&&(o.text.includes(o.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),l.push(o.replaceWith)),l}):[]};function ME(n){const{editor:e,state:t,from:r,to:o,rule:l,pasteEvent:a,dropEvent:c}=n,{commands:d,chain:h,can:m}=new jf({editor:e,state:t}),g=[];return t.doc.nodesBetween(r,o,(v,C)=>{if(!v.isTextblock||v.type.spec.code)return;const S=Math.max(r,C),M=Math.min(o,C+v.content.size),k=v.textBetween(S-C,M-C,void 0,"￼");wE(k,l.find,a).forEach(D=>{if(D.index===void 0)return;const P=S+D.index+1,I=P+D[0].length,Q={from:t.tr.mapping.map(P),to:t.tr.mapping.map(I)},te=l.handler({state:t,range:Q,match:D,commands:d,chain:h,can:m,pasteEvent:a,dropEvent:c});g.push(te)})}),g.every(v=>v!==null)}let uc=null;const TE=n=>{var e;const t=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=t.clipboardData)===null||e===void 0||e.setData("text/html",n),t};function kE(n){const{editor:e,rules:t}=n;let r=null,o=!1,l=!1,a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,c;try{c=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{c=null}const d=({state:m,from:g,to:b,rule:v,pasteEvt:C})=>{const S=m.tr,M=Bf({state:m,transaction:S});if(!(!ME({editor:e,state:M,from:Math.max(g-1,0),to:b.b-1,rule:v,pasteEvent:C,dropEvent:c})||!S.steps.length)){try{c=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{c=null}return a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,S}};return t.map(m=>new pt({view(g){const b=C=>{var S;r=!((S=g.dom.parentElement)===null||S===void 0)&&S.contains(C.target)?g.dom.parentElement:null,r&&(uc=e)},v=()=>{uc&&(uc=null)};return window.addEventListener("dragstart",b),window.addEventListener("dragend",v),{destroy(){window.removeEventListener("dragstart",b),window.removeEventListener("dragend",v)}}},props:{handleDOMEvents:{drop:(g,b)=>{if(l=r===g.dom.parentElement,c=b,!l){const v=uc;v&&setTimeout(()=>{const C=v.state.selection;C&&v.commands.deleteRange({from:C.from,to:C.to})},10)}return!1},paste:(g,b)=>{var v;const C=(v=b.clipboardData)===null||v===void 0?void 0:v.getData("text/html");return a=b,o=!!C?.includes("data-pm-slice"),!1}}},appendTransaction:(g,b,v)=>{const C=g[0],S=C.getMeta("uiEvent")==="paste"&&!o,M=C.getMeta("uiEvent")==="drop"&&!l,k=C.getMeta("applyPasteRules"),O=!!k;if(!S&&!M&&!O)return;if(O){let{text:I}=k;typeof I=="string"?I=I:I=Tm(ee.from(I),v.schema);const{from:Q}=k,te=Q+I.length,X=TE(I);return d({rule:m,state:v,from:Q,to:{b:te},pasteEvt:X})}const D=b.doc.content.findDiffStart(v.doc.content),P=b.doc.content.findDiffEnd(v.doc.content);if(!(!SE(D)||!P||D===P.b))return d({rule:m,state:v,from:D,to:P,pasteEvt:a})}}))}function AE(n){const e=n.filter((t,r)=>n.indexOf(t)!==r);return Array.from(new Set(e))}class Bs{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=Bs.resolve(e),this.schema=yE(this.extensions,t),this.setupExtensions()}static resolve(e){const t=Bs.sort(Bs.flatten(e)),r=AE(t.map(o=>o.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(o=>`'${o}'`).join(", ")}]. This can lead to issues.`),t}static flatten(e){return e.map(t=>{const r={name:t.name,options:t.options,storage:t.storage},o=ue(t,"addExtensions",r);return o?[t,...this.flatten(o())]:t}).flat(10)}static sort(e){return e.sort((r,o)=>{const l=ue(r,"priority")||100,a=ue(o,"priority")||100;return l>a?-1:l<a?1:0})}get commands(){return this.extensions.reduce((e,t)=>{const r={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:Up(t.name,this.schema)},o=ue(t,"addCommands",r);return o?{...e,...o()}:e},{})}get plugins(){const{editor:e}=this,t=Bs.sort([...this.extensions].reverse()),r=[],o=[],l=t.map(a=>{const c={name:a.name,options:a.options,storage:a.storage,editor:e,type:Up(a.name,this.schema)},d=[],h=ue(a,"addKeyboardShortcuts",c);let m={};if(a.type==="mark"&&ue(a,"exitable",c)&&(m.ArrowRight=()=>_n.handleExit({editor:e,mark:a})),h){const S=Object.fromEntries(Object.entries(h()).map(([M,k])=>[M,()=>k({editor:e})]));m={...m,...S}}const g=GS(m);d.push(g);const b=ue(a,"addInputRules",c);C4(a,e.options.enableInputRules)&&b&&r.push(...b());const v=ue(a,"addPasteRules",c);C4(a,e.options.enablePasteRules)&&v&&o.push(...v());const C=ue(a,"addProseMirrorPlugins",c);if(C){const S=C();d.push(...S)}return d}).flat();return[CE({editor:e,rules:r}),...kE({editor:e,rules:o}),...l]}get attributes(){return Jb(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=If(this.extensions);return Object.fromEntries(t.filter(r=>!!ue(r,"addNodeView")).map(r=>{const o=this.attributes.filter(d=>d.type===r.name),l={name:r.name,options:r.options,storage:r.storage,editor:e,type:At(r.name,this.schema)},a=ue(r,"addNodeView",l);if(!a)return[];const c=(d,h,m,g,b)=>{const v=Uc(d,o);return a()({node:d,view:h,getPos:m,decorations:g,innerDecorations:b,editor:e,extension:r,HTMLAttributes:v})};return[r.name,c]}))}setupExtensions(){this.extensions.forEach(e=>{var t;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:Up(e.name,this.schema)};e.type==="mark"&&(!((t=Re(ue(e,"keepOnSplit",r)))!==null&&t!==void 0)||t)&&this.splittableMarks.push(e.name);const o=ue(e,"onBeforeCreate",r),l=ue(e,"onCreate",r),a=ue(e,"onUpdate",r),c=ue(e,"onSelectionUpdate",r),d=ue(e,"onTransaction",r),h=ue(e,"onFocus",r),m=ue(e,"onBlur",r),g=ue(e,"onDestroy",r);o&&this.editor.on("beforeCreate",o),l&&this.editor.on("create",l),a&&this.editor.on("update",a),c&&this.editor.on("selectionUpdate",c),d&&this.editor.on("transaction",d),h&&this.editor.on("focus",h),m&&this.editor.on("blur",m),g&&this.editor.on("destroy",g)})}}class xt{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Re(ue(this,"addOptions",{name:this.name}))),this.storage=Re(ue(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new xt(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Vf(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new xt({...this.config,...e});return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Re(ue(t,"addOptions",{name:t.name})),t.storage=Re(ue(t,"addStorage",{name:t.name,options:t.options})),t}}function Xb(n,e,t){const{from:r,to:o}=e,{blockSeparator:l=`

`,textSerializers:a={}}=t||{};let c="";return n.nodesBetween(r,o,(d,h,m,g)=>{var b;d.isBlock&&h>r&&(c+=l);const v=a?.[d.type.name];if(v)return m&&(c+=v({node:d,pos:h,parent:m,index:g,range:e})),!1;d.isText&&(c+=(b=d?.text)===null||b===void 0?void 0:b.slice(Math.max(r,h)-h,o-h))}),c}function Wb(n){return Object.fromEntries(Object.entries(n.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}const RE=xt.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new pt({key:new $t("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:n}=this,{state:e,schema:t}=n,{doc:r,selection:o}=e,{ranges:l}=o,a=Math.min(...l.map(m=>m.$from.pos)),c=Math.max(...l.map(m=>m.$to.pos)),d=Wb(t);return Xb(r,{from:a,to:c},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:d})}}})]}}),OE=()=>({editor:n,view:e})=>(requestAnimationFrame(()=>{var t;n.isDestroyed||(e.dom.blur(),(t=window?.getSelection())===null||t===void 0||t.removeAllRanges())}),!0),NE=(n=!1)=>({commands:e})=>e.setContent("",n),DE=()=>({state:n,tr:e,dispatch:t})=>{const{selection:r}=e,{ranges:o}=r;return t&&o.forEach(({$from:l,$to:a})=>{n.doc.nodesBetween(l.pos,a.pos,(c,d)=>{if(c.type.isText)return;const{doc:h,mapping:m}=e,g=h.resolve(m.map(d)),b=h.resolve(m.map(d+c.nodeSize)),v=g.blockRange(b);if(!v)return;const C=Js(v);if(c.type.isTextblock){const{defaultType:S}=g.parent.contentMatchAt(g.index());e.setNodeMarkup(v.start,S)}(C||C===0)&&e.lift(v,C)})}),!0},LE=n=>e=>n(e),HE=()=>({state:n,dispatch:e})=>$b(n,e),zE=(n,e)=>({editor:t,tr:r})=>{const{state:o}=t,l=o.doc.slice(n.from,n.to);r.deleteRange(n.from,n.to);const a=r.mapping.map(e);return r.insert(a,l.content),r.setSelection(new ve(r.doc.resolve(a-1))),!0},BE=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,r=t.$anchor.node();if(r.content.size>0)return!1;const o=n.selection.$anchor;for(let l=o.depth;l>0;l-=1)if(o.node(l).type===r.type){if(e){const c=o.before(l),d=o.after(l);n.delete(c,d).scrollIntoView()}return!0}return!1},jE=n=>({tr:e,state:t,dispatch:r})=>{const o=At(n,t.schema),l=e.selection.$anchor;for(let a=l.depth;a>0;a-=1)if(l.node(a).type===o){if(r){const d=l.before(a),h=l.after(a);e.delete(d,h).scrollIntoView()}return!0}return!1},IE=n=>({tr:e,dispatch:t})=>{const{from:r,to:o}=n;return t&&e.delete(r,o),!0},VE=()=>({state:n,dispatch:e})=>xm(n,e),_E=()=>({commands:n})=>n.keyboardShortcut("Enter"),UE=()=>({state:n,dispatch:e})=>WS(n,e);function qc(n,e,t={strict:!0}){const r=Object.keys(e);return r.length?r.every(o=>t.strict?e[o]===n[o]:km(e[o])?e[o].test(n[o]):e[o]===n[o]):!0}function e5(n,e,t={}){return n.find(r=>r.type===e&&qc(Object.fromEntries(Object.keys(t).map(o=>[o,r.attrs[o]])),t))}function x4(n,e,t={}){return!!e5(n,e,t)}function _f(n,e,t){var r;if(!n||!e)return;let o=n.parent.childAfter(n.parentOffset);if((!o.node||!o.node.marks.some(m=>m.type===e))&&(o=n.parent.childBefore(n.parentOffset)),!o.node||!o.node.marks.some(m=>m.type===e)||(t=t||((r=o.node.marks[0])===null||r===void 0?void 0:r.attrs),!e5([...o.node.marks],e,t)))return;let a=o.index,c=n.start()+o.offset,d=a+1,h=c+o.node.nodeSize;for(;a>0&&x4([...n.parent.child(a-1).marks],e,t);)a-=1,c-=n.parent.child(a).nodeSize;for(;d<n.parent.childCount&&x4([...n.parent.child(d).marks],e,t);)h+=n.parent.child(d).nodeSize,d+=1;return{from:c,to:h}}function Pi(n,e){if(typeof n=="string"){if(!e.marks[n])throw Error(`There is no mark type named '${n}'. Maybe you forgot to add the extension?`);return e.marks[n]}return n}const qE=(n,e={})=>({tr:t,state:r,dispatch:o})=>{const l=Pi(n,r.schema),{doc:a,selection:c}=t,{$from:d,from:h,to:m}=c;if(o){const g=_f(d,l,e);if(g&&g.from<=h&&g.to>=m){const b=ve.create(a,g.from,g.to);t.setSelection(b)}}return!0},PE=n=>e=>{const t=typeof n=="function"?n(e):n;for(let r=0;r<t.length;r+=1)if(t[r](e))return!0;return!1};function t5(n){return n instanceof ve}function vo(n=0,e=0,t=0){return Math.min(Math.max(n,e),t)}function n5(n,e=null){if(!e)return null;const t=Te.atStart(n),r=Te.atEnd(n);if(e==="start"||e===!0)return t;if(e==="end")return r;const o=t.from,l=r.to;return e==="all"?ve.create(n,vo(0,o,l),vo(n.content.size,o,l)):ve.create(n,vo(e,o,l),vo(e,o,l))}function r5(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function Uf(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const FE=(n=null,e={})=>({editor:t,view:r,tr:o,dispatch:l})=>{e={scrollIntoView:!0,...e};const a=()=>{(Uf()||r5())&&r.dom.focus(),requestAnimationFrame(()=>{t.isDestroyed||(r.focus(),e?.scrollIntoView&&t.commands.scrollIntoView())})};if(r.hasFocus()&&n===null||n===!1)return!0;if(l&&n===null&&!t5(t.state.selection))return a(),!0;const c=n5(o.doc,n)||t.state.selection,d=t.state.selection.eq(c);return l&&(d||o.setSelection(c),d&&o.storedMarks&&o.setStoredMarks(o.storedMarks),a()),!0},KE=(n,e)=>t=>n.every((r,o)=>e(r,{...t,index:o})),$E=(n,e)=>({tr:t,commands:r})=>r.insertContentAt({from:t.selection.from,to:t.selection.to},n,e),i5=n=>{const e=n.childNodes;for(let t=e.length-1;t>=0;t-=1){const r=e[t];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?n.removeChild(r):r.nodeType===1&&i5(r)}return n};function cc(n){const e=`<body>${n}</body>`,t=new window.DOMParser().parseFromString(e,"text/html").body;return i5(t)}function ka(n,e,t){if(n instanceof Di||n instanceof ee)return n;t={slice:!0,parseOptions:{},...t};const r=typeof n=="object"&&n!==null,o=typeof n=="string";if(r)try{if(Array.isArray(n)&&n.length>0)return ee.fromArray(n.map(c=>e.nodeFromJSON(c)));const a=e.nodeFromJSON(n);return t.errorOnInvalidContent&&a.check(),a}catch(l){if(t.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:l});return console.warn("[tiptap warn]: Invalid content.","Passed value:",n,"Error:",l),ka("",e,t)}if(o){if(t.errorOnInvalidContent){let a=!1,c="";const d=new I3({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:h=>(a=!0,c=typeof h=="string"?h:h.outerHTML,null)}]}})});if(t.slice?Li.fromSchema(d).parseSlice(cc(n),t.parseOptions):Li.fromSchema(d).parse(cc(n),t.parseOptions),t.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${c}`)})}const l=Li.fromSchema(e);return t.slice?l.parseSlice(cc(n),t.parseOptions).content:l.parse(cc(n),t.parseOptions)}return ka("",e,t)}function GE(n,e,t){const r=n.steps.length-1;if(r<e)return;const o=n.steps[r];if(!(o instanceof lr||o instanceof Rn))return;const l=n.mapping.maps[r];let a=0;l.forEach((c,d,h,m)=>{a===0&&(a=m)}),n.setSelection(Te.near(n.doc.resolve(a),t))}const ZE=n=>!("type"in n),YE=(n,e,t)=>({tr:r,dispatch:o,editor:l})=>{var a;if(o){t={parseOptions:l.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...t};let c;const d=M=>{l.emit("contentError",{editor:l,error:M,disableCollaboration:()=>{l.storage.collaboration&&(l.storage.collaboration.isDisabled=!0)}})},h={preserveWhitespace:"full",...t.parseOptions};if(!t.errorOnInvalidContent&&!l.options.enableContentCheck&&l.options.emitContentError)try{ka(e,l.schema,{parseOptions:h,errorOnInvalidContent:!0})}catch(M){d(M)}try{c=ka(e,l.schema,{parseOptions:h,errorOnInvalidContent:(a=t.errorOnInvalidContent)!==null&&a!==void 0?a:l.options.enableContentCheck})}catch(M){return d(M),!1}let{from:m,to:g}=typeof n=="number"?{from:n,to:n}:{from:n.from,to:n.to},b=!0,v=!0;if((ZE(c)?c:[c]).forEach(M=>{M.check(),b=b?M.isText&&M.marks.length===0:!1,v=v?M.isBlock:!1}),m===g&&v){const{parent:M}=r.doc.resolve(m);M.isTextblock&&!M.type.spec.code&&!M.childCount&&(m-=1,g+=1)}let S;if(b){if(Array.isArray(e))S=e.map(M=>M.text||"").join("");else if(e instanceof ee){let M="";e.forEach(k=>{k.text&&(M+=k.text)}),S=M}else typeof e=="object"&&e&&e.text?S=e.text:S=e;r.insertText(S,m,g)}else S=c,r.replaceWith(m,g,S);t.updateSelection&&GE(r,r.steps.length-1,-1),t.applyInputRules&&r.setMeta("applyInputRules",{from:m,text:S}),t.applyPasteRules&&r.setMeta("applyPasteRules",{from:m,text:S})}return!0},JE=()=>({state:n,dispatch:e})=>JS(n,e),QE=()=>({state:n,dispatch:e})=>QS(n,e),XE=()=>({state:n,dispatch:e})=>Vb(n,e),WE=()=>({state:n,dispatch:e})=>Pb(n,e),ew=()=>({state:n,dispatch:e,tr:t})=>{try{const r=Of(n.doc,n.selection.$from.pos,-1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},tw=()=>({state:n,dispatch:e,tr:t})=>{try{const r=Of(n.doc,n.selection.$from.pos,1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},nw=()=>({state:n,dispatch:e})=>ZS(n,e),rw=()=>({state:n,dispatch:e})=>YS(n,e);function o5(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function iw(n){const e=n.split(/-(?!$)/);let t=e[e.length-1];t==="Space"&&(t=" ");let r,o,l,a;for(let c=0;c<e.length-1;c+=1){const d=e[c];if(/^(cmd|meta|m)$/i.test(d))a=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))o=!0;else if(/^s(hift)?$/i.test(d))l=!0;else if(/^mod$/i.test(d))Uf()||o5()?a=!0:o=!0;else throw new Error(`Unrecognized modifier name: ${d}`)}return r&&(t=`Alt-${t}`),o&&(t=`Ctrl-${t}`),a&&(t=`Meta-${t}`),l&&(t=`Shift-${t}`),t}const ow=n=>({editor:e,view:t,tr:r,dispatch:o})=>{const l=iw(n).split(/-(?!$)/),a=l.find(h=>!["Alt","Ctrl","Meta","Shift"].includes(h)),c=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:l.includes("Alt"),ctrlKey:l.includes("Ctrl"),metaKey:l.includes("Meta"),shiftKey:l.includes("Shift"),bubbles:!0,cancelable:!0}),d=e.captureTransaction(()=>{t.someProp("handleKeyDown",h=>h(t,c))});return d?.steps.forEach(h=>{const m=h.map(r.mapping);m&&o&&r.maybeStep(m)}),!0};function Aa(n,e,t={}){const{from:r,to:o,empty:l}=n.selection,a=e?At(e,n.schema):null,c=[];n.doc.nodesBetween(r,o,(g,b)=>{if(g.isText)return;const v=Math.max(r,b),C=Math.min(o,b+g.nodeSize);c.push({node:g,from:v,to:C})});const d=o-r,h=c.filter(g=>a?a.name===g.node.type.name:!0).filter(g=>qc(g.node.attrs,t,{strict:!1}));return l?!!h.length:h.reduce((g,b)=>g+b.to-b.from,0)>=d}const sw=(n,e={})=>({state:t,dispatch:r})=>{const o=At(n,t.schema);return Aa(t,o,e)?XS(t,r):!1},lw=()=>({state:n,dispatch:e})=>Gb(n,e),aw=n=>({state:e,dispatch:t})=>{const r=At(n,e.schema);return cE(r)(e,t)},uw=()=>({state:n,dispatch:e})=>Kb(n,e);function qf(n,e){return e.nodes[n]?"node":e.marks[n]?"mark":null}function S4(n,e){const t=typeof e=="string"?[e]:e;return Object.keys(n).reduce((r,o)=>(t.includes(o)||(r[o]=n[o]),r),{})}const cw=(n,e)=>({tr:t,state:r,dispatch:o})=>{let l=null,a=null;const c=qf(typeof n=="string"?n:n.name,r.schema);return c?(c==="node"&&(l=At(n,r.schema)),c==="mark"&&(a=Pi(n,r.schema)),o&&t.selection.ranges.forEach(d=>{r.doc.nodesBetween(d.$from.pos,d.$to.pos,(h,m)=>{l&&l===h.type&&t.setNodeMarkup(m,void 0,S4(h.attrs,e)),a&&h.marks.length&&h.marks.forEach(g=>{a===g.type&&t.addMark(m,m+h.nodeSize,a.create(S4(g.attrs,e)))})})}),!0):!1},fw=()=>({tr:n,dispatch:e})=>(e&&n.scrollIntoView(),!0),dw=()=>({tr:n,dispatch:e})=>{if(e){const t=new Vn(n.doc);n.setSelection(t)}return!0},hw=()=>({state:n,dispatch:e})=>Ub(n,e),pw=()=>({state:n,dispatch:e})=>Fb(n,e),mw=()=>({state:n,dispatch:e})=>nE(n,e),gw=()=>({state:n,dispatch:e})=>oE(n,e),yw=()=>({state:n,dispatch:e})=>iE(n,e);function L1(n,e,t={},r={}){return ka(n,e,{slice:!1,parseOptions:t,errorOnInvalidContent:r.errorOnInvalidContent})}const bw=(n,e=!1,t={},r={})=>({editor:o,tr:l,dispatch:a,commands:c})=>{var d,h;const{doc:m}=l;if(t.preserveWhitespace!=="full"){const g=L1(n,o.schema,t,{errorOnInvalidContent:(d=r.errorOnInvalidContent)!==null&&d!==void 0?d:o.options.enableContentCheck});return a&&l.replaceWith(0,m.content.size,g).setMeta("preventUpdate",!e),!0}return a&&l.setMeta("preventUpdate",!e),c.insertContentAt({from:0,to:m.content.size},n,{parseOptions:t,errorOnInvalidContent:(h=r.errorOnInvalidContent)!==null&&h!==void 0?h:o.options.enableContentCheck})};function s5(n,e){const t=Pi(e,n.schema),{from:r,to:o,empty:l}=n.selection,a=[];l?(n.storedMarks&&a.push(...n.storedMarks),a.push(...n.selection.$head.marks())):n.doc.nodesBetween(r,o,d=>{a.push(...d.marks)});const c=a.find(d=>d.type.name===t.name);return c?{...c.attrs}:{}}function vw(n,e){const t=new nb(n);return e.forEach(r=>{r.steps.forEach(o=>{t.step(o)})}),t}function Cw(n){for(let e=0;e<n.edgeCount;e+=1){const{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}function xw(n,e,t){const r=[];return n.nodesBetween(e.from,e.to,(o,l)=>{t(o)&&r.push({node:o,pos:l})}),r}function Sw(n,e){for(let t=n.depth;t>0;t-=1){const r=n.node(t);if(e(r))return{pos:t>0?n.before(t):0,start:n.start(t),depth:t,node:r}}}function Am(n){return e=>Sw(e.$from,n)}function Ew(n,e){const t={from:0,to:n.content.size};return Xb(n,t,e)}function ww(n,e){const t=At(e,n.schema),{from:r,to:o}=n.selection,l=[];n.doc.nodesBetween(r,o,c=>{l.push(c)});const a=l.reverse().find(c=>c.type.name===t.name);return a?{...a.attrs}:{}}function l5(n,e){const t=qf(typeof e=="string"?e:e.name,n.schema);return t==="node"?ww(n,e):t==="mark"?s5(n,e):{}}function Mw(n,e=JSON.stringify){const t={};return n.filter(r=>{const o=e(r);return Object.prototype.hasOwnProperty.call(t,o)?!1:t[o]=!0})}function Tw(n){const e=Mw(n);return e.length===1?e:e.filter((t,r)=>!e.filter((l,a)=>a!==r).some(l=>t.oldRange.from>=l.oldRange.from&&t.oldRange.to<=l.oldRange.to&&t.newRange.from>=l.newRange.from&&t.newRange.to<=l.newRange.to))}function kw(n){const{mapping:e,steps:t}=n,r=[];return e.maps.forEach((o,l)=>{const a=[];if(o.ranges.length)o.forEach((c,d)=>{a.push({from:c,to:d})});else{const{from:c,to:d}=t[l];if(c===void 0||d===void 0)return;a.push({from:c,to:d})}a.forEach(({from:c,to:d})=>{const h=e.slice(l).map(c,-1),m=e.slice(l).map(d),g=e.invert().map(h,-1),b=e.invert().map(m);r.push({oldRange:{from:g,to:b},newRange:{from:h,to:m}})})}),Tw(r)}function Rm(n,e,t){const r=[];return n===e?t.resolve(n).marks().forEach(o=>{const l=t.resolve(n),a=_f(l,o.type);a&&r.push({mark:o,...a})}):t.nodesBetween(n,e,(o,l)=>{!o||o?.nodeSize===void 0||r.push(...o.marks.map(a=>({from:l,to:l+o.nodeSize,mark:a})))}),r}function wc(n,e,t){return Object.fromEntries(Object.entries(t).filter(([r])=>{const o=n.find(l=>l.type===e&&l.name===r);return o?o.attribute.keepOnSplit:!1}))}function H1(n,e,t={}){const{empty:r,ranges:o}=n.selection,l=e?Pi(e,n.schema):null;if(r)return!!(n.storedMarks||n.selection.$from.marks()).filter(g=>l?l.name===g.type.name:!0).find(g=>qc(g.attrs,t,{strict:!1}));let a=0;const c=[];if(o.forEach(({$from:g,$to:b})=>{const v=g.pos,C=b.pos;n.doc.nodesBetween(v,C,(S,M)=>{if(!S.isText&&!S.marks.length)return;const k=Math.max(v,M),O=Math.min(C,M+S.nodeSize),D=O-k;a+=D,c.push(...S.marks.map(P=>({mark:P,from:k,to:O})))})}),a===0)return!1;const d=c.filter(g=>l?l.name===g.mark.type.name:!0).filter(g=>qc(g.mark.attrs,t,{strict:!1})).reduce((g,b)=>g+b.to-b.from,0),h=c.filter(g=>l?g.mark.type!==l&&g.mark.type.excludes(l):!0).reduce((g,b)=>g+b.to-b.from,0);return(d>0?d+h:d)>=a}function Aw(n,e,t={}){if(!e)return Aa(n,null,t)||H1(n,null,t);const r=qf(e,n.schema);return r==="node"?Aa(n,e,t):r==="mark"?H1(n,e,t):!1}function E4(n,e){const{nodeExtensions:t}=If(e),r=t.find(a=>a.name===n);if(!r)return!1;const o={name:r.name,options:r.options,storage:r.storage},l=Re(ue(r,"group",o));return typeof l!="string"?!1:l.split(" ").includes("list")}function Om(n,{checkChildren:e=!0,ignoreWhitespace:t=!1}={}){var r;if(t){if(n.type.name==="hardBreak")return!0;if(n.isText)return/^\s*$/m.test((r=n.text)!==null&&r!==void 0?r:"")}if(n.isText)return!n.text;if(n.isAtom||n.isLeaf)return!1;if(n.content.childCount===0)return!0;if(e){let o=!0;return n.content.forEach(l=>{o!==!1&&(Om(l,{ignoreWhitespace:t,checkChildren:e})||(o=!1))}),o}return!1}function nr(n){return n instanceof ce}function Rw(n,e,t){var r;const{selection:o}=e;let l=null;if(t5(o)&&(l=o.$cursor),l){const c=(r=n.storedMarks)!==null&&r!==void 0?r:l.marks();return!!t.isInSet(c)||!c.some(d=>d.type.excludes(t))}const{ranges:a}=o;return a.some(({$from:c,$to:d})=>{let h=c.depth===0?n.doc.inlineContent&&n.doc.type.allowsMarkType(t):!1;return n.doc.nodesBetween(c.pos,d.pos,(m,g,b)=>{if(h)return!1;if(m.isInline){const v=!b||b.type.allowsMarkType(t),C=!!t.isInSet(m.marks)||!m.marks.some(S=>S.type.excludes(t));h=v&&C}return!h}),h})}const Ow=(n,e={})=>({tr:t,state:r,dispatch:o})=>{const{selection:l}=t,{empty:a,ranges:c}=l,d=Pi(n,r.schema);if(o)if(a){const h=s5(r,d);t.addStoredMark(d.create({...h,...e}))}else c.forEach(h=>{const m=h.$from.pos,g=h.$to.pos;r.doc.nodesBetween(m,g,(b,v)=>{const C=Math.max(v,m),S=Math.min(v+b.nodeSize,g);b.marks.find(k=>k.type===d)?b.marks.forEach(k=>{d===k.type&&t.addMark(C,S,d.create({...k.attrs,...e}))}):t.addMark(C,S,d.create(e))})});return Rw(r,t,d)},Nw=(n,e)=>({tr:t})=>(t.setMeta(n,e),!0),Dw=(n,e={})=>({state:t,dispatch:r,chain:o})=>{const l=At(n,t.schema);let a;return t.selection.$anchor.sameParent(t.selection.$head)&&(a=t.selection.$anchor.parent.attrs),l.isTextblock?o().command(({commands:c})=>y4(l,{...a,...e})(t)?!0:c.clearNodes()).command(({state:c})=>y4(l,{...a,...e})(c,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},Lw=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,o=vo(n,0,r.content.size),l=ce.create(r,o);e.setSelection(l)}return!0},Hw=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,{from:o,to:l}=typeof n=="number"?{from:n,to:n}:n,a=ve.atStart(r).from,c=ve.atEnd(r).to,d=vo(o,a,c),h=vo(l,a,c),m=ve.create(r,d,h);e.setSelection(m)}return!0},zw=n=>({state:e,dispatch:t})=>{const r=At(n,e.schema);return hE(r)(e,t)};function w4(n,e){const t=n.storedMarks||n.selection.$to.parentOffset&&n.selection.$from.marks();if(t){const r=t.filter(o=>e?.includes(o.type.name));n.tr.ensureMarks(r)}}const Bw=({keepMarks:n=!0}={})=>({tr:e,state:t,dispatch:r,editor:o})=>{const{selection:l,doc:a}=e,{$from:c,$to:d}=l,h=o.extensionManager.attributes,m=wc(h,c.node().type.name,c.node().attrs);if(l instanceof ce&&l.node.isBlock)return!c.parentOffset||!Jr(a,c.pos)?!1:(r&&(n&&w4(t,o.extensionManager.splittableMarks),e.split(c.pos).scrollIntoView()),!0);if(!c.parent.isBlock)return!1;const g=d.parentOffset===d.parent.content.size,b=c.depth===0?void 0:Cw(c.node(-1).contentMatchAt(c.indexAfter(-1)));let v=g&&b?[{type:b,attrs:m}]:void 0,C=Jr(e.doc,e.mapping.map(c.pos),1,v);if(!v&&!C&&Jr(e.doc,e.mapping.map(c.pos),1,b?[{type:b}]:void 0)&&(C=!0,v=b?[{type:b,attrs:m}]:void 0),r){if(C&&(l instanceof ve&&e.deleteSelection(),e.split(e.mapping.map(c.pos),1,v),b&&!g&&!c.parentOffset&&c.parent.type!==b)){const S=e.mapping.map(c.before()),M=e.doc.resolve(S);c.node(-1).canReplaceWith(M.index(),M.index()+1,b)&&e.setNodeMarkup(e.mapping.map(c.before()),b)}n&&w4(t,o.extensionManager.splittableMarks),e.scrollIntoView()}return C},jw=(n,e={})=>({tr:t,state:r,dispatch:o,editor:l})=>{var a;const c=At(n,r.schema),{$from:d,$to:h}=r.selection,m=r.selection.node;if(m&&m.isBlock||d.depth<2||!d.sameParent(h))return!1;const g=d.node(-1);if(g.type!==c)return!1;const b=l.extensionManager.attributes;if(d.parent.content.size===0&&d.node(-1).childCount===d.indexAfter(-1)){if(d.depth===2||d.node(-3).type!==c||d.index(-2)!==d.node(-2).childCount-1)return!1;if(o){let k=ee.empty;const O=d.index(-1)?1:d.index(-2)?2:3;for(let X=d.depth-O;X>=d.depth-3;X-=1)k=ee.from(d.node(X).copy(k));const D=d.indexAfter(-1)<d.node(-2).childCount?1:d.indexAfter(-2)<d.node(-3).childCount?2:3,P={...wc(b,d.node().type.name,d.node().attrs),...e},I=((a=c.contentMatch.defaultType)===null||a===void 0?void 0:a.createAndFill(P))||void 0;k=k.append(ee.from(c.createAndFill(null,I)||void 0));const Q=d.before(d.depth-(O-1));t.replace(Q,d.after(-D),new se(k,4-O,0));let te=-1;t.doc.nodesBetween(Q,t.doc.content.size,(X,le)=>{if(te>-1)return!1;X.isTextblock&&X.content.size===0&&(te=le+1)}),te>-1&&t.setSelection(ve.near(t.doc.resolve(te))),t.scrollIntoView()}return!0}const v=h.pos===d.end()?g.contentMatchAt(0).defaultType:null,C={...wc(b,g.type.name,g.attrs),...e},S={...wc(b,d.node().type.name,d.node().attrs),...e};t.delete(d.pos,h.pos);const M=v?[{type:c,attrs:C},{type:v,attrs:S}]:[{type:c,attrs:C}];if(!Jr(t.doc,d.pos,2))return!1;if(o){const{selection:k,storedMarks:O}=r,{splittableMarks:D}=l.extensionManager,P=O||k.$to.parentOffset&&k.$from.marks();if(t.split(d.pos,2,M).scrollIntoView(),!P||!o)return!0;const I=P.filter(Q=>D.includes(Q.type.name));t.ensureMarks(I)}return!0},qp=(n,e)=>{const t=Am(a=>a.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(Math.max(0,t.pos-1)).before(t.depth);if(r===void 0)return!0;const o=n.doc.nodeAt(r);return t.node.type===o?.type&&Ui(n.doc,t.pos)&&n.join(t.pos),!0},Pp=(n,e)=>{const t=Am(a=>a.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(t.start).after(t.depth);if(r===void 0)return!0;const o=n.doc.nodeAt(r);return t.node.type===o?.type&&Ui(n.doc,r)&&n.join(r),!0},Iw=(n,e,t,r={})=>({editor:o,tr:l,state:a,dispatch:c,chain:d,commands:h,can:m})=>{const{extensions:g,splittableMarks:b}=o.extensionManager,v=At(n,a.schema),C=At(e,a.schema),{selection:S,storedMarks:M}=a,{$from:k,$to:O}=S,D=k.blockRange(O),P=M||S.$to.parentOffset&&S.$from.marks();if(!D)return!1;const I=Am(Q=>E4(Q.type.name,g))(S);if(D.depth>=1&&I&&D.depth-I.depth<=1){if(I.node.type===v)return h.liftListItem(C);if(E4(I.node.type.name,g)&&v.validContent(I.node.content)&&c)return d().command(()=>(l.setNodeMarkup(I.pos,v),!0)).command(()=>qp(l,v)).command(()=>Pp(l,v)).run()}return!t||!P||!c?d().command(()=>m().wrapInList(v,r)?!0:h.clearNodes()).wrapInList(v,r).command(()=>qp(l,v)).command(()=>Pp(l,v)).run():d().command(()=>{const Q=m().wrapInList(v,r),te=P.filter(X=>b.includes(X.type.name));return l.ensureMarks(te),Q?!0:h.clearNodes()}).wrapInList(v,r).command(()=>qp(l,v)).command(()=>Pp(l,v)).run()},Vw=(n,e={},t={})=>({state:r,commands:o})=>{const{extendEmptyMarkRange:l=!1}=t,a=Pi(n,r.schema);return H1(r,a,e)?o.unsetMark(a,{extendEmptyMarkRange:l}):o.setMark(a,e)},_w=(n,e,t={})=>({state:r,commands:o})=>{const l=At(n,r.schema),a=At(e,r.schema),c=Aa(r,l,t);let d;return r.selection.$anchor.sameParent(r.selection.$head)&&(d=r.selection.$anchor.parent.attrs),c?o.setNode(a,d):o.setNode(l,{...d,...t})},Uw=(n,e={})=>({state:t,commands:r})=>{const o=At(n,t.schema);return Aa(t,o,e)?r.lift(o):r.wrapIn(o,e)},qw=()=>({state:n,dispatch:e})=>{const t=n.plugins;for(let r=0;r<t.length;r+=1){const o=t[r];let l;if(o.spec.isInputRules&&(l=o.getState(n))){if(e){const a=n.tr,c=l.transform;for(let d=c.steps.length-1;d>=0;d-=1)a.step(c.steps[d].invert(c.docs[d]));if(l.text){const d=a.doc.resolve(l.from).marks();a.replaceWith(l.from,l.to,n.schema.text(l.text,d))}else a.delete(l.from,l.to)}return!0}}return!1},Pw=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,{empty:r,ranges:o}=t;return r||e&&o.forEach(l=>{n.removeMark(l.$from.pos,l.$to.pos)}),!0},Fw=(n,e={})=>({tr:t,state:r,dispatch:o})=>{var l;const{extendEmptyMarkRange:a=!1}=e,{selection:c}=t,d=Pi(n,r.schema),{$from:h,empty:m,ranges:g}=c;if(!o)return!0;if(m&&a){let{from:b,to:v}=c;const C=(l=h.marks().find(M=>M.type===d))===null||l===void 0?void 0:l.attrs,S=_f(h,d,C);S&&(b=S.from,v=S.to),t.removeMark(b,v,d)}else g.forEach(b=>{t.removeMark(b.$from.pos,b.$to.pos,d)});return t.removeStoredMark(d),!0},Kw=(n,e={})=>({tr:t,state:r,dispatch:o})=>{let l=null,a=null;const c=qf(typeof n=="string"?n:n.name,r.schema);return c?(c==="node"&&(l=At(n,r.schema)),c==="mark"&&(a=Pi(n,r.schema)),o&&t.selection.ranges.forEach(d=>{const h=d.$from.pos,m=d.$to.pos;let g,b,v,C;t.selection.empty?r.doc.nodesBetween(h,m,(S,M)=>{l&&l===S.type&&(v=Math.max(M,h),C=Math.min(M+S.nodeSize,m),g=M,b=S)}):r.doc.nodesBetween(h,m,(S,M)=>{M<h&&l&&l===S.type&&(v=Math.max(M,h),C=Math.min(M+S.nodeSize,m),g=M,b=S),M>=h&&M<=m&&(l&&l===S.type&&t.setNodeMarkup(M,void 0,{...S.attrs,...e}),a&&S.marks.length&&S.marks.forEach(k=>{if(a===k.type){const O=Math.max(M,h),D=Math.min(M+S.nodeSize,m);t.addMark(O,D,a.create({...k.attrs,...e}))}}))}),b&&(g!==void 0&&t.setNodeMarkup(g,void 0,{...b.attrs,...e}),a&&b.marks.length&&b.marks.forEach(S=>{a===S.type&&t.addMark(v,C,a.create({...S.attrs,...e}))}))}),!0):!1},$w=(n,e={})=>({state:t,dispatch:r})=>{const o=At(n,t.schema);return sE(o,e)(t,r)},Gw=(n,e={})=>({state:t,dispatch:r})=>{const o=At(n,t.schema);return lE(o,e)(t,r)};var Zw=Object.freeze({__proto__:null,blur:OE,clearContent:NE,clearNodes:DE,command:LE,createParagraphNear:HE,cut:zE,deleteCurrentNode:BE,deleteNode:jE,deleteRange:IE,deleteSelection:VE,enter:_E,exitCode:UE,extendMarkRange:qE,first:PE,focus:FE,forEach:KE,insertContent:$E,insertContentAt:YE,joinBackward:XE,joinDown:QE,joinForward:WE,joinItemBackward:ew,joinItemForward:tw,joinTextblockBackward:nw,joinTextblockForward:rw,joinUp:JE,keyboardShortcut:ow,lift:sw,liftEmptyBlock:lw,liftListItem:aw,newlineInCode:uw,resetAttributes:cw,scrollIntoView:fw,selectAll:dw,selectNodeBackward:hw,selectNodeForward:pw,selectParentNode:mw,selectTextblockEnd:gw,selectTextblockStart:yw,setContent:bw,setMark:Ow,setMeta:Nw,setNode:Dw,setNodeSelection:Lw,setTextSelection:Hw,sinkListItem:zw,splitBlock:Bw,splitListItem:jw,toggleList:Iw,toggleMark:Vw,toggleNode:_w,toggleWrap:Uw,undoInputRule:qw,unsetAllMarks:Pw,unsetMark:Fw,updateAttributes:Kw,wrapIn:$w,wrapInList:Gw});const Yw=xt.create({name:"commands",addCommands(){return{...Zw}}}),Jw=xt.create({name:"drop",addProseMirrorPlugins(){return[new pt({key:new $t("tiptapDrop"),props:{handleDrop:(n,e,t,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:t,moved:r})}}})]}}),Qw=xt.create({name:"editable",addProseMirrorPlugins(){return[new pt({key:new $t("editable"),props:{editable:()=>this.editor.options.editable}})]}}),Xw=new $t("focusEvents"),Ww=xt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:n}=this;return[new pt({key:Xw,props:{handleDOMEvents:{focus:(e,t)=>{n.isFocused=!0;const r=n.state.tr.setMeta("focus",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,t)=>{n.isFocused=!1;const r=n.state.tr.setMeta("blur",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),eM=xt.create({name:"keymap",addKeyboardShortcuts(){const n=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:c})=>{const{selection:d,doc:h}=c,{empty:m,$anchor:g}=d,{pos:b,parent:v}=g,C=g.parent.isTextblock&&b>0?c.doc.resolve(b-1):g,S=C.parent.type.spec.isolating,M=g.pos-g.parentOffset,k=S&&C.parent.childCount===1?M===g.pos:Te.atStart(h).from===b;return!m||!v.type.isTextblock||v.textContent.length||!k||k&&g.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:n,"Mod-Backspace":n,"Shift-Backspace":n,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},o={...r},l={...r,"Ctrl-h":n,"Alt-Backspace":n,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Uf()||o5()?l:o},addProseMirrorPlugins(){return[new pt({key:new $t("clearDocument"),appendTransaction:(n,e,t)=>{if(n.some(S=>S.getMeta("composition")))return;const r=n.some(S=>S.docChanged)&&!e.doc.eq(t.doc),o=n.some(S=>S.getMeta("preventClearDocument"));if(!r||o)return;const{empty:l,from:a,to:c}=e.selection,d=Te.atStart(e.doc).from,h=Te.atEnd(e.doc).to;if(l||!(a===d&&c===h)||!Om(t.doc))return;const b=t.tr,v=Bf({state:t,transaction:b}),{commands:C}=new jf({editor:this.editor,state:v});if(C.clearNodes(),!!b.steps.length)return b}})]}}),tM=xt.create({name:"paste",addProseMirrorPlugins(){return[new pt({key:new $t("tiptapPaste"),props:{handlePaste:(n,e,t)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:t})}}})]}}),nM=xt.create({name:"tabindex",addProseMirrorPlugins(){return[new pt({key:new $t("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class go{get name(){return this.node.type.name}constructor(e,t,r=!1,o=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=t,this.currentNode=o}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}t=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:t,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),t=this.resolvedPos.doc.resolve(e);return new go(t,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new go(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new go(e,this.editor)}get children(){const e=[];return this.node.content.forEach((t,r)=>{const o=t.isBlock&&!t.isTextblock,l=t.isAtom&&!t.isText,a=this.pos+r+(l?0:1),c=this.resolvedPos.doc.resolve(a);if(!o&&c.depth<=this.depth)return;const d=new go(c,this.editor,o,o?t:null);o&&(d.actualDepth=this.depth+1),e.push(new go(c,this.editor,o,o?t:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let r=null,o=this.parent;for(;o&&!r;){if(o.node.type.name===e)if(Object.keys(t).length>0){const l=o.node.attrs,a=Object.keys(t);for(let c=0;c<a.length;c+=1){const d=a[c];if(l[d]!==t[d])break}}else r=o;o=o.parent}return r}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},r=!1){let o=[];if(!this.children||this.children.length===0)return o;const l=Object.keys(t);return this.children.forEach(a=>{r&&o.length>0||(a.node.type.name===e&&l.every(d=>t[d]===a.node.attrs[d])&&o.push(a),!(r&&o.length>0)&&(o=o.concat(a.querySelectorAll(e,t,r))))}),o}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(t)}}const rM=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function iM(n,e,t){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const o=document.createElement("style");return e&&o.setAttribute("nonce",e),o.setAttribute("data-tiptap-style",""),o.innerHTML=n,document.getElementsByTagName("head")[0].appendChild(o),o}class oM extends pE{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:t})=>{throw t},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:t,slice:r,moved:o})=>this.options.onDrop(t,r,o)),this.on("paste",({event:t,slice:r})=>this.options.onPaste(t,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=iM(rM,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,t){const r=Qb(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],o=this.state.reconfigure({plugins:r});return this.view.updateState(o),o}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let r=t;if([].concat(e).forEach(l=>{const a=typeof l=="string"?`${l}$`:l.key;r=r.filter(c=>!c.key.startsWith(a))}),t.length===r.length)return;const o=this.state.reconfigure({plugins:r});return this.view.updateState(o),o}createExtensionManager(){var e,t;const o=[...this.options.enableCoreExtensions?[Qw,RE.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||t===void 0?void 0:t.blockSeparator}),Yw,Ww,eM,nM,Jw,tM].filter(l=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[l.name]!==!1:!0):[],...this.options.extensions].filter(l=>["extension","node","mark"].includes(l?.type));this.extensionManager=new Bs(o,this)}createCommandManager(){this.commandManager=new jf({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let t;try{t=L1(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(a){if(!(a instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(a.message))throw a;this.emit("contentError",{editor:this,error:a,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(c=>c.name!=="collaboration"),this.createExtensionManager()}}),t=L1(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const r=n5(t,this.options.autofocus);this.view=new Cm(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:zs.create({doc:t,selection:r||void 0})});const o=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(o),this.createNodeViews(),this.prependClass();const l=this.view.dom;l.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(a=>{var c;return(c=this.capturedTransaction)===null||c===void 0?void 0:c.step(a)});return}const t=this.state.apply(e),r=!this.state.selection.eq(t.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const o=e.getMeta("focus"),l=e.getMeta("blur");o&&this.emit("focus",{editor:this,event:o.event,transaction:e}),l&&this.emit("blur",{editor:this,event:l.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return l5(this.state,e)}isActive(e,t){const r=typeof e=="string"?e:null,o=typeof e=="string"?t:e;return Aw(this.state,r,o)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Tm(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:r={}}=e||{};return Ew(this.state.doc,{blockSeparator:t,textSerializers:{...Wb(this.schema),...r}})}get isEmpty(){return Om(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,t))||null}$nodes(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new go(t,this)}get $doc(){return this.$pos(0)}}function Ho(n){return new _a({find:n.find,handler:({state:e,range:t,match:r})=>{const o=Re(n.getAttributes,void 0,r);if(o===!1||o===null)return null;const{tr:l}=e,a=r[r.length-1],c=r[0];if(a){const d=c.search(/\S/),h=t.from+c.indexOf(a),m=h+a.length;if(Rm(t.from,t.to,e.doc).filter(v=>v.mark.type.excluded.find(S=>S===n.type&&S!==v.mark.type)).filter(v=>v.to>h).length)return null;m<t.to&&l.delete(m,t.to),h>t.from&&l.delete(t.from+d,h);const b=t.from+d+a.length;l.addMark(t.from+d,b,n.type.create(o||{})),l.removeStoredMark(n.type)}}})}function a5(n){return new _a({find:n.find,handler:({state:e,range:t,match:r})=>{const o=Re(n.getAttributes,void 0,r)||{},{tr:l}=e,a=t.from;let c=t.to;const d=n.type.create(o);if(r[1]){const h=r[0].lastIndexOf(r[1]);let m=a+h;m>c?m=c:c=m+r[1].length;const g=r[0][r[0].length-1];l.insertText(g,a+r[0].length-1),l.replaceWith(m,c,d)}else if(r[0]){const h=n.type.isInline?a:a-1;l.insert(h,n.type.create(o)).delete(l.mapping.map(a),l.mapping.map(c))}l.scrollIntoView()}})}function z1(n){return new _a({find:n.find,handler:({state:e,range:t,match:r})=>{const o=e.doc.resolve(t.from),l=Re(n.getAttributes,void 0,r)||{};if(!o.node(-1).canReplaceWith(o.index(-1),o.indexAfter(-1),n.type))return null;e.tr.delete(t.from,t.to).setBlockType(t.from,t.from,n.type,l)}})}function mt(n){return new _a({find:n.find,handler:({state:e,range:t,match:r})=>{let o=n.replace,l=t.from;const a=t.to;if(r[1]){const c=r[0].lastIndexOf(r[1]);o+=r[0].slice(c+r[1].length),l+=c;const d=l-a;d>0&&(o=r[0].slice(c-d,c)+o,l=a)}e.tr.insertText(o,l,a)}})}function $s(n){return new _a({find:n.find,handler:({state:e,range:t,match:r,chain:o})=>{const l=Re(n.getAttributes,void 0,r)||{},a=e.tr.delete(t.from,t.to),d=a.doc.resolve(t.from).blockRange(),h=d&&am(d,n.type,l);if(!h)return null;if(a.wrap(d,h),n.keepMarks&&n.editor){const{selection:g,storedMarks:b}=e,{splittableMarks:v}=n.editor.extensionManager,C=b||g.$to.parentOffset&&g.$from.marks();if(C){const S=C.filter(M=>v.includes(M.type.name));a.ensureMarks(S)}}if(n.keepAttributes){const g=n.type.name==="bulletList"||n.type.name==="orderedList"?"listItem":"taskList";o().updateAttributes(g,l).run()}const m=a.doc.resolve(t.from-1).nodeBefore;m&&m.type===n.type&&Ui(a.doc,t.from-1)&&(!n.joinPredicate||n.joinPredicate(r,m))&&a.join(t.from-1)}})}let nn=class B1{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Re(ue(this,"addOptions",{name:this.name}))),this.storage=Re(ue(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new B1(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Vf(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new B1(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Re(ue(t,"addOptions",{name:t.name})),t.storage=Re(ue(t,"addStorage",{name:t.name,options:t.options})),t}};class sM{constructor(e,t,r){this.isDragging=!1,this.component=e,this.editor=t.editor,this.options={stopEvent:null,ignoreMutation:null,...r},this.extension=t.extension,this.node=t.node,this.decorations=t.decorations,this.innerDecorations=t.innerDecorations,this.view=t.view,this.HTMLAttributes=t.HTMLAttributes,this.getPos=t.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(e){var t,r,o,l,a,c,d;const{view:h}=this.editor,m=e.target,g=m.nodeType===3?(t=m.parentElement)===null||t===void 0?void 0:t.closest("[data-drag-handle]"):m.closest("[data-drag-handle]");if(!this.dom||!((r=this.contentDOM)===null||r===void 0)&&r.contains(m)||!g)return;let b=0,v=0;if(this.dom!==g){const O=this.dom.getBoundingClientRect(),D=g.getBoundingClientRect(),P=(o=e.offsetX)!==null&&o!==void 0?o:(l=e.nativeEvent)===null||l===void 0?void 0:l.offsetX,I=(a=e.offsetY)!==null&&a!==void 0?a:(c=e.nativeEvent)===null||c===void 0?void 0:c.offsetY;b=D.x-O.x+P,v=D.y-O.y+I}const C=this.dom.cloneNode(!0);(d=e.dataTransfer)===null||d===void 0||d.setDragImage(C,b,v);const S=this.getPos();if(typeof S!="number")return;const M=ce.create(h.state.doc,S),k=h.state.tr.setSelection(M);h.dispatch(k)}stopEvent(e){var t;if(!this.dom)return!1;if(typeof this.options.stopEvent=="function")return this.options.stopEvent({event:e});const r=e.target;if(!(this.dom.contains(r)&&!(!((t=this.contentDOM)===null||t===void 0)&&t.contains(r))))return!1;const l=e.type.startsWith("drag"),a=e.type==="drop";if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(r.tagName)||r.isContentEditable)&&!a&&!l)return!0;const{isEditable:d}=this.editor,{isDragging:h}=this,m=!!this.node.type.spec.draggable,g=ce.isSelectable(this.node),b=e.type==="copy",v=e.type==="paste",C=e.type==="cut",S=e.type==="mousedown";if(!m&&g&&l&&e.target===this.dom&&e.preventDefault(),m&&l&&!h&&e.target===this.dom)return e.preventDefault(),!1;if(m&&d&&!h&&S){const M=r.closest("[data-drag-handle]");M&&(this.dom===M||this.dom.contains(M))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(h||a||b||v||C||S&&g)}ignoreMutation(e){return!this.dom||!this.contentDOM?!0:typeof this.options.ignoreMutation=="function"?this.options.ignoreMutation({mutation:e}):this.node.isLeaf||this.node.isAtom?!0:e.type==="selection"||this.dom.contains(e.target)&&e.type==="childList"&&(Uf()||r5())&&this.editor.isFocused&&[...Array.from(e.addedNodes),...Array.from(e.removedNodes)].every(r=>r.isContentEditable)?!1:this.contentDOM===e.target&&e.type==="attributes"?!0:!this.contentDOM.contains(e.target)}updateAttributes(e){this.editor.commands.command(({tr:t})=>{const r=this.getPos();return typeof r!="number"?!1:(t.setNodeMarkup(r,void 0,{...this.node.attrs,...e}),!0)})}deleteNode(){const e=this.getPos();if(typeof e!="number")return;const t=e+this.node.nodeSize;this.editor.commands.deleteRange({from:e,to:t})}}function Vi(n){return new EE({find:n.find,handler:({state:e,range:t,match:r,pasteEvent:o})=>{const l=Re(n.getAttributes,void 0,r,o);if(l===!1||l===null)return null;const{tr:a}=e,c=r[r.length-1],d=r[0];let h=t.to;if(c){const m=d.search(/\S/),g=t.from+d.indexOf(c),b=g+c.length;if(Rm(t.from,t.to,e.doc).filter(C=>C.mark.type.excluded.find(M=>M===n.type&&M!==C.mark.type)).filter(C=>C.to>g).length)return null;b<t.to&&a.delete(b,t.to),g>t.from&&a.delete(t.from+m,g),h=t.from+m+c.length,a.addMark(t.from+m,h,n.type.create(l||{})),a.removeStoredMark(n.type)}}})}var Pf=S3();const lM=C3(Pf);function aM(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var u5={exports:{}},Fp={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M4;function uM(){if(M4)return Fp;M4=1;var n=Ht;function e(g,b){return g===b&&(g!==0||1/g===1/b)||g!==g&&b!==b}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,o=n.useEffect,l=n.useLayoutEffect,a=n.useDebugValue;function c(g,b){var v=b(),C=r({inst:{value:v,getSnapshot:b}}),S=C[0].inst,M=C[1];return l(function(){S.value=v,S.getSnapshot=b,d(S)&&M({inst:S})},[g,v,b]),o(function(){return d(S)&&M({inst:S}),g(function(){d(S)&&M({inst:S})})},[g]),a(v),v}function d(g){var b=g.getSnapshot;g=g.value;try{var v=b();return!t(g,v)}catch{return!0}}function h(g,b){return b()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return Fp.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:m,Fp}u5.exports=uM();var Nm=u5.exports;const cM=(...n)=>e=>{n.forEach(t=>{typeof t=="function"?t(e):t&&(t.current=e)})},fM=({contentComponent:n})=>{const e=Nm.useSyncExternalStore(n.subscribe,n.getSnapshot,n.getServerSnapshot);return Ht.createElement(Ht.Fragment,null,Object.values(e))};function dM(){const n=new Set;let e={};return{subscribe(t){return n.add(t),()=>{n.delete(t)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(t,r){e={...e,[t]:lM.createPortal(r.reactElement,r.element,t)},n.forEach(o=>o())},removeRenderer(t){const r={...e};delete r[t],e=r,n.forEach(o=>o())}}}class hM extends Ht.Component{constructor(e){var t;super(e),this.editorContentRef=Ht.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((t=e.editor)===null||t===void 0)&&t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const t=this.editorContentRef.current;t.append(...e.options.element.childNodes),e.setOptions({element:t}),e.contentComponent=dM(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const t=document.createElement("div");t.append(...e.options.element.childNodes),e.setOptions({element:t})}render(){const{editor:e,innerRef:t,...r}=this.props;return Ht.createElement(Ht.Fragment,null,Ht.createElement("div",{ref:cM(t,this.editorContentRef),...r}),e?.contentComponent&&Ht.createElement(fM,{contentComponent:e.contentComponent}))}}const pM=w.forwardRef((n,e)=>{const t=Ht.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[n.editor]);return Ht.createElement(hM,{key:t,innerRef:e,...n})}),c5=Ht.memo(pM);var mM=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,o,l;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(o=r;o--!==0;)if(!n(e[o],t[o]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(o of e.entries())if(!t.has(o[0]))return!1;for(o of e.entries())if(!n(o[1],t.get(o[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(o of e.entries())if(!t.has(o[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(o=r;o--!==0;)if(e[o]!==t[o])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(l=Object.keys(e),r=l.length,r!==Object.keys(t).length)return!1;for(o=r;o--!==0;)if(!Object.prototype.hasOwnProperty.call(t,l[o]))return!1;for(o=r;o--!==0;){var a=l[o];if(!(a==="_owner"&&e.$$typeof)&&!n(e[a],t[a]))return!1}return!0}return e!==e&&t!==t},gM=aM(mM),f5={exports:{}},Kp={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T4;function yM(){if(T4)return Kp;T4=1;var n=Ht,e=Nm;function t(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var r=typeof Object.is=="function"?Object.is:t,o=e.useSyncExternalStore,l=n.useRef,a=n.useEffect,c=n.useMemo,d=n.useDebugValue;return Kp.useSyncExternalStoreWithSelector=function(h,m,g,b,v){var C=l(null);if(C.current===null){var S={hasValue:!1,value:null};C.current=S}else S=C.current;C=c(function(){function k(Q){if(!O){if(O=!0,D=Q,Q=b(Q),v!==void 0&&S.hasValue){var te=S.value;if(v(te,Q))return P=te}return P=Q}if(te=P,r(D,Q))return te;var X=b(Q);return v!==void 0&&v(te,X)?te:(D=Q,P=X)}var O=!1,D,P,I=g===void 0?null:g;return[function(){return k(m())},I===null?void 0:function(){return k(I())}]},[m,g,b,v]);var M=o(h,C[0],C[1]);return a(function(){S.hasValue=!0,S.value=M},[M]),d(M),M},Kp}f5.exports=yM();var bM=f5.exports;const vM=typeof window<"u"?w.useLayoutEffect:w.useEffect;class CM{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const t=()=>{this.transactionNumber+=1,this.subscribers.forEach(o=>o())},r=this.editor;return r.on("transaction",t),()=>{r.off("transaction",t)}}}}function xM(n){var e;const[t]=w.useState(()=>new CM(n.editor)),r=bM.useSyncExternalStoreWithSelector(t.subscribe,t.getSnapshot,t.getServerSnapshot,n.selector,(e=n.equalityFn)!==null&&e!==void 0?e:gM);return vM(()=>t.watch(n.editor),[n.editor,t]),w.useDebugValue(r),r}const SM=!1,j1=typeof window>"u",EM=j1||!!(typeof window<"u"&&window.next);class Dm{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(t=>t())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?j1||EM?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var o,l;return(l=(o=this.options.current).onBeforeCreate)===null||l===void 0?void 0:l.call(o,...r)},onBlur:(...r)=>{var o,l;return(l=(o=this.options.current).onBlur)===null||l===void 0?void 0:l.call(o,...r)},onCreate:(...r)=>{var o,l;return(l=(o=this.options.current).onCreate)===null||l===void 0?void 0:l.call(o,...r)},onDestroy:(...r)=>{var o,l;return(l=(o=this.options.current).onDestroy)===null||l===void 0?void 0:l.call(o,...r)},onFocus:(...r)=>{var o,l;return(l=(o=this.options.current).onFocus)===null||l===void 0?void 0:l.call(o,...r)},onSelectionUpdate:(...r)=>{var o,l;return(l=(o=this.options.current).onSelectionUpdate)===null||l===void 0?void 0:l.call(o,...r)},onTransaction:(...r)=>{var o,l;return(l=(o=this.options.current).onTransaction)===null||l===void 0?void 0:l.call(o,...r)},onUpdate:(...r)=>{var o,l;return(l=(o=this.options.current).onUpdate)===null||l===void 0?void 0:l.call(o,...r)},onContentError:(...r)=>{var o,l;return(l=(o=this.options.current).onContentError)===null||l===void 0?void 0:l.call(o,...r)},onDrop:(...r)=>{var o,l;return(l=(o=this.options.current).onDrop)===null||l===void 0?void 0:l.call(o,...r)},onPaste:(...r)=>{var o,l;return(l=(o=this.options.current).onPaste)===null||l===void 0?void 0:l.call(o,...r)}};return new oM(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,t){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&t.extensions?e.extensions.length!==t.extensions.length?!1:e.extensions.every((o,l)=>{var a;return o===((a=t.extensions)===null||a===void 0?void 0:a[l])}):e[r]===t[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?Dm.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,o)=>r===e[o]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,t=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){t&&t.setOptions(this.options.current);return}t&&!t.isDestroyed&&(t.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function d5(n={},e=[]){const t=w.useRef(n);t.current=n;const[r]=w.useState(()=>new Dm(t)),o=Nm.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return w.useDebugValue(o),w.useEffect(r.onRender(e)),xM({editor:o,selector:({transactionNumber:l})=>n.shouldRerenderOnTransaction===!1?null:n.immediatelyRender&&l===0?0:l+1}),o}const Ff=w.createContext({editor:null});Ff.Consumer;const wM=()=>w.useContext(Ff),h5=w.createContext({onDragStart:void 0}),MM=()=>w.useContext(h5),p5=Ht.forwardRef((n,e)=>{const{onDragStart:t}=MM(),r=n.as||"div";return Ht.createElement(r,{...n,ref:e,"data-node-view-wrapper":"",onDragStart:t,style:{whiteSpace:"normal",...n.style}})});function TM(n){return!!(typeof n=="function"&&n.prototype&&n.prototype.isReactComponent)}function kM(n){var e;return typeof n=="object"&&((e=n.$$typeof)===null||e===void 0?void 0:e.toString())==="Symbol(react.forward_ref)"}function AM(){try{if(w.version)return parseInt(w.version.split(".")[0],10)>=19}catch{}return!1}class RM{constructor(e,{editor:t,props:r={},as:o="div",className:l=""}){this.ref=null,this.id=Math.floor(Math.random()*4294967295).toString(),this.component=e,this.editor=t,this.props=r,this.element=document.createElement(o),this.element.classList.add("react-renderer"),l&&this.element.classList.add(...l.split(" ")),this.editor.isInitialized?Pf.flushSync(()=>{this.render()}):this.render()}render(){var e;const t=this.component,r=this.props,o=this.editor,l=AM(),a=TM(t),c=kM(t),d={...r};d.ref||(l?d.ref=h=>{this.ref=h}:(a||c)&&(d.ref=h=>{this.ref=h})),this.reactElement=Ht.createElement(t,{...d}),(e=o?.contentComponent)===null||e===void 0||e.setRenderer(this.id,this)}updateProps(e={}){this.props={...this.props,...e},this.render()}destroy(){var e;const t=this.editor;(e=t?.contentComponent)===null||e===void 0||e.removeRenderer(this.id)}updateAttributes(e){Object.keys(e).forEach(t=>{this.element.setAttribute(t,e[t])})}}class OM extends sM{mount(){const e={editor:this.editor,node:this.node,decorations:this.decorations,innerDecorations:this.innerDecorations,view:this.view,selected:!1,extension:this.extension,HTMLAttributes:this.HTMLAttributes,getPos:()=>this.getPos(),updateAttributes:(h={})=>this.updateAttributes(h),deleteNode:()=>this.deleteNode(),ref:w.createRef()};if(!this.component.displayName){const h=m=>m.charAt(0).toUpperCase()+m.substring(1);this.component.displayName=h(this.extension.name)}const o={onDragStart:this.onDragStart.bind(this),nodeViewContentRef:h=>{h&&this.contentDOMElement&&h.firstChild!==this.contentDOMElement&&h.appendChild(this.contentDOMElement)}},l=this.component,a=w.memo(h=>Ht.createElement(h5.Provider,{value:o},w.createElement(l,h)));a.displayName="ReactNodeView",this.node.isLeaf?this.contentDOMElement=null:this.options.contentDOMElementTag?this.contentDOMElement=document.createElement(this.options.contentDOMElementTag):this.contentDOMElement=document.createElement(this.node.isInline?"span":"div"),this.contentDOMElement&&(this.contentDOMElement.dataset.nodeViewContentReact="",this.contentDOMElement.style.whiteSpace="inherit");let c=this.node.isInline?"span":"div";this.options.as&&(c=this.options.as);const{className:d=""}=this.options;this.handleSelectionUpdate=this.handleSelectionUpdate.bind(this),this.renderer=new RM(a,{editor:this.editor,props:e,as:c,className:`node-${this.node.type.name} ${d}`.trim()}),this.editor.on("selectionUpdate",this.handleSelectionUpdate),this.updateElementAttributes()}get dom(){var e;if(this.renderer.element.firstElementChild&&!(!((e=this.renderer.element.firstElementChild)===null||e===void 0)&&e.hasAttribute("data-node-view-wrapper")))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.contentDOMElement}handleSelectionUpdate(){const{from:e,to:t}=this.editor.state.selection,r=this.getPos();if(typeof r=="number")if(e<=r&&t>=r+this.node.nodeSize){if(this.renderer.props.selected)return;this.selectNode()}else{if(!this.renderer.props.selected)return;this.deselectNode()}}update(e,t,r){const o=l=>{this.renderer.updateProps(l),typeof this.options.attrs=="function"&&this.updateElementAttributes()};if(e.type!==this.node.type)return!1;if(typeof this.options.update=="function"){const l=this.node,a=this.decorations,c=this.innerDecorations;return this.node=e,this.decorations=t,this.innerDecorations=r,this.options.update({oldNode:l,oldDecorations:a,newNode:e,newDecorations:t,oldInnerDecorations:c,innerDecorations:r,updateProps:()=>o({node:e,decorations:t,innerDecorations:r})})}return e===this.node&&this.decorations===t&&this.innerDecorations===r||(this.node=e,this.decorations=t,this.innerDecorations=r,o({node:e,decorations:t,innerDecorations:r})),!0}selectNode(){this.renderer.updateProps({selected:!0}),this.renderer.element.classList.add("ProseMirror-selectednode")}deselectNode(){this.renderer.updateProps({selected:!1}),this.renderer.element.classList.remove("ProseMirror-selectednode")}destroy(){this.renderer.destroy(),this.editor.off("selectionUpdate",this.handleSelectionUpdate),this.contentDOMElement=null}updateElementAttributes(){if(this.options.attrs){let e={};if(typeof this.options.attrs=="function"){const t=this.editor.extensionManager.attributes,r=Uc(this.node,t);e=this.options.attrs({node:this.node,HTMLAttributes:r})}else e=this.options.attrs;this.renderer.updateAttributes(e)}}}function m5(n,e){return t=>t.editor.contentComponent?new OM(n,t,e):{}}const NM=/^\s*>\s$/,DM=nn.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:n}){return["blockquote",rt(this.options.HTMLAttributes,n),0]},addCommands(){return{setBlockquote:()=>({commands:n})=>n.wrapIn(this.name),toggleBlockquote:()=>({commands:n})=>n.toggleWrap(this.name),unsetBlockquote:()=>({commands:n})=>n.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[$s({find:NM,type:this.type})]}}),LM=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,HM=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,zM=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,BM=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,jM=_n.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:n=>n.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:n=>n.type.name===this.name},{style:"font-weight",getAttrs:n=>/^(bold(er)?|[5-9]\d{2,})$/.test(n)&&null}]},renderHTML({HTMLAttributes:n}){return["strong",rt(this.options.HTMLAttributes,n),0]},addCommands(){return{setBold:()=>({commands:n})=>n.setMark(this.name),toggleBold:()=>({commands:n})=>n.toggleMark(this.name),unsetBold:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Ho({find:LM,type:this.type}),Ho({find:zM,type:this.type})]},addPasteRules(){return[Vi({find:HM,type:this.type}),Vi({find:BM,type:this.type})]}}),IM="listItem",k4="textStyle",A4=/^\s*([-+*])\s$/,VM=nn.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:n}){return["ul",rt(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleBulletList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(IM,this.editor.getAttributes(k4)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let n=$s({find:A4,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(n=$s({find:A4,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(k4),editor:this.editor})),[n]}}),_M=/(^|[^`])`([^`]+)`(?!`)/,UM=/(^|[^`])`([^`]+)`(?!`)/g,qM=_n.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:n}){return["code",rt(this.options.HTMLAttributes,n),0]},addCommands(){return{setCode:()=>({commands:n})=>n.setMark(this.name),toggleCode:()=>({commands:n})=>n.toggleMark(this.name),unsetCode:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Ho({find:_M,type:this.type})]},addPasteRules(){return[Vi({find:UM,type:this.type})]}}),PM=/^```([a-z]+)?[\s\n]$/,FM=/^~~~([a-z]+)?[\s\n]$/,KM=nn.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:n=>{var e;const{languageClassPrefix:t}=this.options,l=[...((e=n.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(a=>a.startsWith(t)).map(a=>a.replace(t,""))[0];return l||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:n,HTMLAttributes:e}){return["pre",rt(this.options.HTMLAttributes,e),["code",{class:n.attrs.language?this.options.languageClassPrefix+n.attrs.language:null},0]]},addCommands(){return{setCodeBlock:n=>({commands:e})=>e.setNode(this.name,n),toggleCodeBlock:n=>({commands:e})=>e.toggleNode(this.name,"paragraph",n)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:n,$anchor:e}=this.editor.state.selection,t=e.pos===1;return!n||e.parent.type.name!==this.name?!1:t||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:n})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=n,{selection:t}=e,{$from:r,empty:o}=t;if(!o||r.parent.type!==this.type)return!1;const l=r.parentOffset===r.parent.nodeSize-2,a=r.parent.textContent.endsWith(`

`);return!l||!a?!1:n.chain().command(({tr:c})=>(c.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:n})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=n,{selection:t,doc:r}=e,{$from:o,empty:l}=t;if(!l||o.parent.type!==this.type||!(o.parentOffset===o.parent.nodeSize-2))return!1;const c=o.after();return c===void 0?!1:r.nodeAt(c)?n.commands.command(({tr:h})=>(h.setSelection(Te.near(r.resolve(c))),!0)):n.commands.exitCode()}}},addInputRules(){return[z1({find:PM,type:this.type,getAttributes:n=>({language:n[1]})}),z1({find:FM,type:this.type,getAttributes:n=>({language:n[1]})})]},addProseMirrorPlugins(){return[new pt({key:new $t("codeBlockVSCodeHandler"),props:{handlePaste:(n,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const t=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),o=r?JSON.parse(r):void 0,l=o?.mode;if(!t||!l)return!1;const{tr:a,schema:c}=n.state,d=c.text(t.replace(/\r\n?/g,`
`));return a.replaceSelectionWith(this.type.create({language:l},d)),a.selection.$from.parent.type!==this.type&&a.setSelection(ve.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.setMeta("paste",!0),n.dispatch(a),!0}}})]}}),$M=nn.create({name:"doc",topNode:!0,content:"block+"});function GM(n={}){return new pt({view(e){return new ZM(e,n)}})}class ZM{constructor(e,t){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=t.width)!==null&&r!==void 0?r:1,this.color=t.color===!1?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(o=>{let l=a=>{this[o](a)};return e.dom.addEventListener(o,l),{name:o,handler:l}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){this.cursorPos!=null&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),t=!e.parent.inlineContent,r,o=this.editorView.dom,l=o.getBoundingClientRect(),a=l.width/o.offsetWidth,c=l.height/o.offsetHeight;if(t){let g=e.nodeBefore,b=e.nodeAfter;if(g||b){let v=this.editorView.nodeDOM(this.cursorPos-(g?g.nodeSize:0));if(v){let C=v.getBoundingClientRect(),S=g?C.bottom:C.top;g&&b&&(S=(S+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let M=this.width/2*c;r={left:C.left,right:C.right,top:S-M,bottom:S+M}}}}if(!r){let g=this.editorView.coordsAtPos(this.cursorPos),b=this.width/2*a;r={left:g.left-b,right:g.left+b,top:g.top,bottom:g.bottom}}let d=this.editorView.dom.offsetParent;this.element||(this.element=d.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",t),this.element.classList.toggle("prosemirror-dropcursor-inline",!t);let h,m;if(!d||d==document.body&&getComputedStyle(d).position=="static")h=-pageXOffset,m=-pageYOffset;else{let g=d.getBoundingClientRect(),b=g.width/d.offsetWidth,v=g.height/d.offsetHeight;h=g.left-d.scrollLeft*b,m=g.top-d.scrollTop*v}this.element.style.left=(r.left-h)/a+"px",this.element.style.top=(r.top-m)/c+"px",this.element.style.width=(r.right-r.left)/a+"px",this.element.style.height=(r.bottom-r.top)/c+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),o=r&&r.type.spec.disableDropCursor,l=typeof o=="function"?o(this.editorView,t,e):o;if(t&&!l){let a=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let c=Y3(this.editorView.state.doc,a,this.editorView.dragging.slice);c!=null&&(a=c)}this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}const YM=xt.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[GM(this.options)]}});class ht extends Te{constructor(e){super(e,e)}map(e,t){let r=e.resolve(t.map(this.head));return ht.valid(r)?new ht(r):Te.near(r)}content(){return se.empty}eq(e){return e instanceof ht&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new ht(e.resolve(t.pos))}getBookmark(){return new Lm(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!JM(e)||!QM(e))return!1;let r=t.type.spec.allowGapCursor;if(r!=null)return r;let o=t.contentMatchAt(e.index()).defaultType;return o&&o.isTextblock}static findGapCursorFrom(e,t,r=!1){e:for(;;){if(!r&&ht.valid(e))return e;let o=e.pos,l=null;for(let a=e.depth;;a--){let c=e.node(a);if(t>0?e.indexAfter(a)<c.childCount:e.index(a)>0){l=c.child(t>0?e.indexAfter(a):e.index(a)-1);break}else if(a==0)return null;o+=t;let d=e.doc.resolve(o);if(ht.valid(d))return d}for(;;){let a=t>0?l.firstChild:l.lastChild;if(!a){if(l.isAtom&&!l.isText&&!ce.isSelectable(l)){e=e.doc.resolve(o+l.nodeSize*t),r=!1;continue e}break}l=a,o+=t;let c=e.doc.resolve(o);if(ht.valid(c))return c}return null}}}ht.prototype.visible=!1;ht.findFrom=ht.findGapCursorFrom;Te.jsonID("gapcursor",ht);class Lm{constructor(e){this.pos=e}map(e){return new Lm(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return ht.valid(t)?new ht(t):Te.near(t)}}function JM(n){for(let e=n.depth;e>=0;e--){let t=n.index(e),r=n.node(e);if(t==0){if(r.type.spec.isolating)return!0;continue}for(let o=r.child(t-1);;o=o.lastChild){if(o.childCount==0&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}}return!0}function QM(n){for(let e=n.depth;e>=0;e--){let t=n.indexAfter(e),r=n.node(e);if(t==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let o=r.child(t);;o=o.firstChild){if(o.childCount==0&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}}return!0}function XM(){return new pt({props:{decorations:nT,createSelectionBetween(n,e,t){return e.pos==t.pos&&ht.valid(t)?new ht(t):null},handleClick:eT,handleKeyDown:WM,handleDOMEvents:{beforeinput:tT}}})}const WM=jb({ArrowLeft:fc("horiz",-1),ArrowRight:fc("horiz",1),ArrowUp:fc("vert",-1),ArrowDown:fc("vert",1)});function fc(n,e){const t=n=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,o,l){let a=r.selection,c=e>0?a.$to:a.$from,d=a.empty;if(a instanceof ve){if(!l.endOfTextblock(t)||c.depth==0)return!1;d=!1,c=r.doc.resolve(e>0?c.after():c.before())}let h=ht.findGapCursorFrom(c,e,d);return h?(o&&o(r.tr.setSelection(new ht(h))),!0):!1}}function eT(n,e,t){if(!n||!n.editable)return!1;let r=n.state.doc.resolve(e);if(!ht.valid(r))return!1;let o=n.posAtCoords({left:t.clientX,top:t.clientY});return o&&o.inside>-1&&ce.isSelectable(n.state.doc.nodeAt(o.inside))?!1:(n.dispatch(n.state.tr.setSelection(new ht(r))),!0)}function tT(n,e){if(e.inputType!="insertCompositionText"||!(n.state.selection instanceof ht))return!1;let{$from:t}=n.state.selection,r=t.parent.contentMatchAt(t.index()).findWrapping(n.state.schema.nodes.text);if(!r)return!1;let o=ee.empty;for(let a=r.length-1;a>=0;a--)o=ee.from(r[a].createAndFill(null,o));let l=n.state.tr.replace(t.pos,t.pos,new se(o,0,0));return l.setSelection(ve.near(l.doc.resolve(t.pos+1))),n.dispatch(l),!1}function nT(n){if(!(n.selection instanceof ht))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",bt.create(n.doc,[Tn.widget(n.selection.head,e,{key:"gapcursor"})])}const rT=xt.create({name:"gapCursor",addProseMirrorPlugins(){return[XM()]},extendNodeSchema(n){var e;const t={name:n.name,options:n.options,storage:n.storage};return{allowGapCursor:(e=Re(ue(n,"allowGapCursor",t)))!==null&&e!==void 0?e:null}}}),iT=nn.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:n}){return["br",rt(this.options.HTMLAttributes,n)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:n,chain:e,state:t,editor:r})=>n.first([()=>n.exitCode(),()=>n.command(()=>{const{selection:o,storedMarks:l}=t;if(o.$from.parent.type.spec.isolating)return!1;const{keepMarks:a}=this.options,{splittableMarks:c}=r.extensionManager,d=l||o.$to.parentOffset&&o.$from.marks();return e().insertContent({type:this.name}).command(({tr:h,dispatch:m})=>{if(m&&d&&a){const g=d.filter(b=>c.includes(b.type.name));h.ensureMarks(g)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),oT=nn.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(n=>({tag:`h${n}`,attrs:{level:n}}))},renderHTML({node:n,HTMLAttributes:e}){return[`h${this.options.levels.includes(n.attrs.level)?n.attrs.level:this.options.levels[0]}`,rt(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.setNode(this.name,n):!1,toggleHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.toggleNode(this.name,"paragraph",n):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((n,e)=>({...n,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(n=>z1({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${n}})\\s$`),type:this.type,getAttributes:{level:n}}))}});var Pc=200,zt=function(){};zt.prototype.append=function(e){return e.length?(e=zt.from(e),!this.length&&e||e.length<Pc&&this.leafAppend(e)||this.length<Pc&&e.leafPrepend(this)||this.appendInner(e)):this};zt.prototype.prepend=function(e){return e.length?zt.from(e).append(this):this};zt.prototype.appendInner=function(e){return new sT(this,e)};zt.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?zt.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};zt.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};zt.prototype.forEach=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length),t<=r?this.forEachInner(e,t,r,0):this.forEachInvertedInner(e,t,r,0)};zt.prototype.map=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length);var o=[];return this.forEach(function(l,a){return o.push(e(l,a))},t,r),o};zt.from=function(e){return e instanceof zt?e:e&&e.length?new g5(e):zt.empty};var g5=function(n){function e(r){n.call(this),this.values=r}n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(o,l){return o==0&&l==this.length?this:new e(this.values.slice(o,l))},e.prototype.getInner=function(o){return this.values[o]},e.prototype.forEachInner=function(o,l,a,c){for(var d=l;d<a;d++)if(o(this.values[d],c+d)===!1)return!1},e.prototype.forEachInvertedInner=function(o,l,a,c){for(var d=l-1;d>=a;d--)if(o(this.values[d],c+d)===!1)return!1},e.prototype.leafAppend=function(o){if(this.length+o.length<=Pc)return new e(this.values.concat(o.flatten()))},e.prototype.leafPrepend=function(o){if(this.length+o.length<=Pc)return new e(o.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e}(zt);zt.empty=new g5([]);var sT=function(n){function e(t,r){n.call(this),this.left=t,this.right=r,this.length=t.length+r.length,this.depth=Math.max(t.depth,r.depth)+1}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,o,l,a){var c=this.left.length;if(o<c&&this.left.forEachInner(r,o,Math.min(l,c),a)===!1||l>c&&this.right.forEachInner(r,Math.max(o-c,0),Math.min(this.length,l)-c,a+c)===!1)return!1},e.prototype.forEachInvertedInner=function(r,o,l,a){var c=this.left.length;if(o>c&&this.right.forEachInvertedInner(r,o-c,Math.max(l,c)-c,a+c)===!1||l<c&&this.left.forEachInvertedInner(r,Math.min(o,c),l,a)===!1)return!1},e.prototype.sliceInner=function(r,o){if(r==0&&o==this.length)return this;var l=this.left.length;return o<=l?this.left.slice(r,o):r>=l?this.right.slice(r-l,o-l):this.left.slice(r,l).append(this.right.slice(0,o-l))},e.prototype.leafAppend=function(r){var o=this.right.leafAppend(r);if(o)return new e(this.left,o)},e.prototype.leafPrepend=function(r){var o=this.left.leafPrepend(r);if(o)return new e(o,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(zt);const lT=500;class sr{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let o,l;t&&(o=this.remapping(r,this.items.length),l=o.maps.length);let a=e.tr,c,d,h=[],m=[];return this.items.forEach((g,b)=>{if(!g.step){o||(o=this.remapping(r,b+1),l=o.maps.length),l--,m.push(g);return}if(o){m.push(new mr(g.map));let v=g.step.map(o.slice(l)),C;v&&a.maybeStep(v).doc&&(C=a.mapping.maps[a.mapping.maps.length-1],h.push(new mr(C,void 0,void 0,h.length+m.length))),l--,C&&o.appendMap(C,l)}else a.maybeStep(g.step);if(g.selection)return c=o?g.selection.map(o.slice(l)):g.selection,d=new sr(this.items.slice(0,r).append(m.reverse().concat(h)),this.eventCount-1),!1},this.items.length,0),{remaining:d,transform:a,selection:c}}addTransform(e,t,r,o){let l=[],a=this.eventCount,c=this.items,d=!o&&c.length?c.get(c.length-1):null;for(let m=0;m<e.steps.length;m++){let g=e.steps[m].invert(e.docs[m]),b=new mr(e.mapping.maps[m],g,t),v;(v=d&&d.merge(b))&&(b=v,m?l.pop():c=c.slice(0,c.length-1)),l.push(b),t&&(a++,t=void 0),o||(d=b)}let h=a-r.depth;return h>uT&&(c=aT(c,h),a-=h),new sr(c.append(l),a)}remapping(e,t){let r=new Sa;return this.items.forEach((o,l)=>{let a=o.mirrorOffset!=null&&l-o.mirrorOffset>=e?r.maps.length-o.mirrorOffset:void 0;r.appendMap(o.map,a)},e,t),r}addMaps(e){return this.eventCount==0?this:new sr(this.items.append(e.map(t=>new mr(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let r=[],o=Math.max(0,this.items.length-t),l=e.mapping,a=e.steps.length,c=this.eventCount;this.items.forEach(b=>{b.selection&&c--},o);let d=t;this.items.forEach(b=>{let v=l.getMirror(--d);if(v==null)return;a=Math.min(a,v);let C=l.maps[v];if(b.step){let S=e.steps[v].invert(e.docs[v]),M=b.selection&&b.selection.map(l.slice(d+1,v));M&&c++,r.push(new mr(C,S,M))}else r.push(new mr(C))},o);let h=[];for(let b=t;b<a;b++)h.push(new mr(l.maps[b]));let m=this.items.slice(0,o).append(h).append(r),g=new sr(m,c);return g.emptyItemCount()>lT&&(g=g.compress(this.items.length-r.length)),g}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),r=t.maps.length,o=[],l=0;return this.items.forEach((a,c)=>{if(c>=e)o.push(a),a.selection&&l++;else if(a.step){let d=a.step.map(t.slice(r)),h=d&&d.getMap();if(r--,h&&t.appendMap(h,r),d){let m=a.selection&&a.selection.map(t.slice(r));m&&l++;let g=new mr(h.invert(),d,m),b,v=o.length-1;(b=o.length&&o[v].merge(g))?o[v]=b:o.push(g)}}else a.map&&r--},this.items.length,0),new sr(zt.from(o.reverse()),l)}}sr.empty=new sr(zt.empty,0);function aT(n,e){let t;return n.forEach((r,o)=>{if(r.selection&&e--==0)return t=o,!1}),n.slice(t)}class mr{constructor(e,t,r,o){this.map=e,this.step=t,this.selection=r,this.mirrorOffset=o}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new mr(t.getMap().invert(),t,this.selection)}}}class Ti{constructor(e,t,r,o,l){this.done=e,this.undone=t,this.prevRanges=r,this.prevTime=o,this.prevComposition=l}}const uT=20;function cT(n,e,t,r){let o=t.getMeta(Ao),l;if(o)return o.historyState;t.getMeta(hT)&&(n=new Ti(n.done,n.undone,null,0,-1));let a=t.getMeta("appendedTransaction");if(t.steps.length==0)return n;if(a&&a.getMeta(Ao))return a.getMeta(Ao).redo?new Ti(n.done.addTransform(t,void 0,r,Mc(e)),n.undone,R4(t.mapping.maps),n.prevTime,n.prevComposition):new Ti(n.done,n.undone.addTransform(t,void 0,r,Mc(e)),null,n.prevTime,n.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let c=t.getMeta("composition"),d=n.prevTime==0||!a&&n.prevComposition!=c&&(n.prevTime<(t.time||0)-r.newGroupDelay||!fT(t,n.prevRanges)),h=a?$p(n.prevRanges,t.mapping):R4(t.mapping.maps);return new Ti(n.done.addTransform(t,d?e.selection.getBookmark():void 0,r,Mc(e)),sr.empty,h,t.time,c??n.prevComposition)}else return(l=t.getMeta("rebased"))?new Ti(n.done.rebased(t,l),n.undone.rebased(t,l),$p(n.prevRanges,t.mapping),n.prevTime,n.prevComposition):new Ti(n.done.addMaps(t.mapping.maps),n.undone.addMaps(t.mapping.maps),$p(n.prevRanges,t.mapping),n.prevTime,n.prevComposition)}function fT(n,e){if(!e)return!1;if(!n.docChanged)return!0;let t=!1;return n.mapping.maps[0].forEach((r,o)=>{for(let l=0;l<e.length;l+=2)r<=e[l+1]&&o>=e[l]&&(t=!0)}),t}function R4(n){let e=[];for(let t=n.length-1;t>=0&&e.length==0;t--)n[t].forEach((r,o,l,a)=>e.push(l,a));return e}function $p(n,e){if(!n)return null;let t=[];for(let r=0;r<n.length;r+=2){let o=e.map(n[r],1),l=e.map(n[r+1],-1);o<=l&&t.push(o,l)}return t}function dT(n,e,t){let r=Mc(e),o=Ao.get(e).spec.config,l=(t?n.undone:n.done).popEvent(e,r);if(!l)return null;let a=l.selection.resolve(l.transform.doc),c=(t?n.done:n.undone).addTransform(l.transform,e.selection.getBookmark(),o,r),d=new Ti(t?c:l.remaining,t?l.remaining:c,null,0,-1);return l.transform.setSelection(a).setMeta(Ao,{redo:t,historyState:d})}let Gp=!1,O4=null;function Mc(n){let e=n.plugins;if(O4!=e){Gp=!1,O4=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){Gp=!0;break}}return Gp}const Ao=new $t("history"),hT=new $t("closeHistory");function pT(n={}){return n={depth:n.depth||100,newGroupDelay:n.newGroupDelay||500},new pt({key:Ao,state:{init(){return new Ti(sr.empty,sr.empty,null,0,-1)},apply(e,t,r){return cT(t,r,e,n)}},config:n,props:{handleDOMEvents:{beforeinput(e,t){let r=t.inputType,o=r=="historyUndo"?b5:r=="historyRedo"?v5:null;return o?(t.preventDefault(),o(e.state,e.dispatch)):!1}}}})}function y5(n,e){return(t,r)=>{let o=Ao.getState(t);if(!o||(n?o.undone:o.done).eventCount==0)return!1;if(r){let l=dT(o,t,n);l&&r(e?l.scrollIntoView():l)}return!0}}const b5=y5(!1,!0),v5=y5(!0,!0),mT=xt.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:n,dispatch:e})=>b5(n,e),redo:()=>({state:n,dispatch:e})=>v5(n,e)}},addProseMirrorPlugins(){return[pT(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),gT=nn.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:n}){return["hr",rt(this.options.HTMLAttributes,n)]},addCommands(){return{setHorizontalRule:()=>({chain:n,state:e})=>{const{selection:t}=e,{$from:r,$to:o}=t,l=n();return r.parentOffset===0?l.insertContentAt({from:Math.max(r.pos-1,0),to:o.pos},{type:this.name}):nr(t)?l.insertContentAt(o.pos,{type:this.name}):l.insertContent({type:this.name}),l.command(({tr:a,dispatch:c})=>{var d;if(c){const{$to:h}=a.selection,m=h.end();if(h.nodeAfter)h.nodeAfter.isTextblock?a.setSelection(ve.create(a.doc,h.pos+1)):h.nodeAfter.isBlock?a.setSelection(ce.create(a.doc,h.pos)):a.setSelection(ve.create(a.doc,h.pos));else{const g=(d=h.parent.type.contentMatch.defaultType)===null||d===void 0?void 0:d.create();g&&(a.insert(m,g),a.setSelection(ve.create(a.doc,m+1)))}a.scrollIntoView()}return!0}).run()}}},addInputRules(){return[a5({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),yT=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,bT=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,vT=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,CT=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,xT=_n.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:n=>n.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:n=>n.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:n}){return["em",rt(this.options.HTMLAttributes,n),0]},addCommands(){return{setItalic:()=>({commands:n})=>n.setMark(this.name),toggleItalic:()=>({commands:n})=>n.toggleMark(this.name),unsetItalic:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Ho({find:yT,type:this.type}),Ho({find:vT,type:this.type})]},addPasteRules(){return[Vi({find:bT,type:this.type}),Vi({find:CT,type:this.type})]}}),ST=nn.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:n}){return["li",rt(this.options.HTMLAttributes,n),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),ET="listItem",N4="textStyle",D4=/^(\d+)\.\s$/,wT=nn.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:n=>n.hasAttribute("start")?parseInt(n.getAttribute("start")||"",10):1},type:{default:null,parseHTML:n=>n.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:n}){const{start:e,...t}=n;return e===1?["ol",rt(this.options.HTMLAttributes,t),0]:["ol",rt(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleOrderedList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(ET,this.editor.getAttributes(N4)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let n=$s({find:D4,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(n=$s({find:D4,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(N4)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[n]}}),MT=nn.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:n}){return["p",rt(this.options.HTMLAttributes,n),0]},addCommands(){return{setParagraph:()=>({commands:n})=>n.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),TT=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,kT=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,AT=_n.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["s",rt(this.options.HTMLAttributes,n),0]},addCommands(){return{setStrike:()=>({commands:n})=>n.setMark(this.name),toggleStrike:()=>({commands:n})=>n.toggleMark(this.name),unsetStrike:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Ho({find:TT,type:this.type})]},addPasteRules(){return[Vi({find:kT,type:this.type})]}}),RT=nn.create({name:"text",group:"inline"}),C5=xt.create({name:"starterKit",addExtensions(){const n=[];return this.options.bold!==!1&&n.push(jM.configure(this.options.bold)),this.options.blockquote!==!1&&n.push(DM.configure(this.options.blockquote)),this.options.bulletList!==!1&&n.push(VM.configure(this.options.bulletList)),this.options.code!==!1&&n.push(qM.configure(this.options.code)),this.options.codeBlock!==!1&&n.push(KM.configure(this.options.codeBlock)),this.options.document!==!1&&n.push($M.configure(this.options.document)),this.options.dropcursor!==!1&&n.push(YM.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&n.push(rT.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&n.push(iT.configure(this.options.hardBreak)),this.options.heading!==!1&&n.push(oT.configure(this.options.heading)),this.options.history!==!1&&n.push(mT.configure(this.options.history)),this.options.horizontalRule!==!1&&n.push(gT.configure(this.options.horizontalRule)),this.options.italic!==!1&&n.push(xT.configure(this.options.italic)),this.options.listItem!==!1&&n.push(ST.configure(this.options.listItem)),this.options.orderedList!==!1&&n.push(wT.configure(this.options.orderedList)),this.options.paragraph!==!1&&n.push(MT.configure(this.options.paragraph)),this.options.strike!==!1&&n.push(AT.configure(this.options.strike)),this.options.text!==!1&&n.push(RT.configure(this.options.text)),n}}),OT=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,NT=nn.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:n}){return["img",rt(this.options.HTMLAttributes,n)]},addCommands(){return{setImage:n=>({commands:e})=>e.insertContent({type:this.name,attrs:n})}},addInputRules(){return[a5({find:OT,type:this.type,getAttributes:n=>{const[,,e,t,r]=n;return{src:t,alt:e,title:r}}})]}}),DT=/^\s*(\[([( |x])?\])\s$/,LT=nn.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList"}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:n=>{const e=n.getAttribute("data-checked");return e===""||e==="true"},renderHTML:n=>({"data-checked":n.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:n,HTMLAttributes:e}){return["li",rt(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:n.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const n={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...n,Tab:()=>this.editor.commands.sinkListItem(this.name)}:n},addNodeView(){return({node:n,HTMLAttributes:e,getPos:t,editor:r})=>{const o=document.createElement("li"),l=document.createElement("label"),a=document.createElement("span"),c=document.createElement("input"),d=document.createElement("div");return l.contentEditable="false",c.type="checkbox",c.addEventListener("mousedown",h=>h.preventDefault()),c.addEventListener("change",h=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){c.checked=!c.checked;return}const{checked:m}=h.target;r.isEditable&&typeof t=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:g})=>{const b=t();if(typeof b!="number")return!1;const v=g.doc.nodeAt(b);return g.setNodeMarkup(b,void 0,{...v?.attrs,checked:m}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(n,m)||(c.checked=!c.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([h,m])=>{o.setAttribute(h,m)}),o.dataset.checked=n.attrs.checked,c.checked=n.attrs.checked,l.append(c,a),o.append(l,d),Object.entries(e).forEach(([h,m])=>{o.setAttribute(h,m)}),{dom:o,contentDOM:d,update:h=>h.type!==this.type?!1:(o.dataset.checked=h.attrs.checked,c.checked=h.attrs.checked,!0)}}},addInputRules(){return[$s({find:DT,type:this.type,getAttributes:n=>({checked:n[n.length-1]==="x"})})]}}),HT=nn.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:n}){return["ul",rt(this.options.HTMLAttributes,n,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:n})=>n.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}}),x5=xt.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:n=>{const e=n.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:n=>n.textAlign?{style:`text-align: ${n.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:n=>({commands:e})=>this.options.alignments.includes(n)?this.options.types.map(t=>e.updateAttributes(t,{textAlign:n})).every(t=>t):!1,unsetTextAlign:()=>({commands:n})=>this.options.types.map(e=>n.resetAttributes(e,"textAlign")).every(e=>e),toggleTextAlign:n=>({editor:e,commands:t})=>this.options.alignments.includes(n)?e.isActive({textAlign:n})?t.unsetTextAlign():t.setTextAlign(n):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),zT=n=>mt({find:/--$/,replace:n??"—"}),BT=n=>mt({find:/\.\.\.$/,replace:n??"…"}),jT=n=>mt({find:/(?:^|[\s{[(<'"\u2018\u201C])(")$/,replace:n??"“"}),IT=n=>mt({find:/"$/,replace:n??"”"}),VT=n=>mt({find:/(?:^|[\s{[(<'"\u2018\u201C])(')$/,replace:n??"‘"}),_T=n=>mt({find:/'$/,replace:n??"’"}),UT=n=>mt({find:/<-$/,replace:n??"←"}),qT=n=>mt({find:/->$/,replace:n??"→"}),PT=n=>mt({find:/\(c\)$/,replace:n??"©"}),FT=n=>mt({find:/\(tm\)$/,replace:n??"™"}),KT=n=>mt({find:/\(sm\)$/,replace:n??"℠"}),$T=n=>mt({find:/\(r\)$/,replace:n??"®"}),GT=n=>mt({find:/(?:^|\s)(1\/2)\s$/,replace:n??"½"}),ZT=n=>mt({find:/\+\/-$/,replace:n??"±"}),YT=n=>mt({find:/!=$/,replace:n??"≠"}),JT=n=>mt({find:/<<$/,replace:n??"«"}),QT=n=>mt({find:/>>$/,replace:n??"»"}),XT=n=>mt({find:/\d+\s?([*x])\s?\d+$/,replace:n??"×"}),WT=n=>mt({find:/\^2$/,replace:n??"²"}),ek=n=>mt({find:/\^3$/,replace:n??"³"}),tk=n=>mt({find:/(?:^|\s)(1\/4)\s$/,replace:n??"¼"}),nk=n=>mt({find:/(?:^|\s)(3\/4)\s$/,replace:n??"¾"}),S5=xt.create({name:"typography",addOptions(){return{closeDoubleQuote:"”",closeSingleQuote:"’",copyright:"©",ellipsis:"…",emDash:"—",laquo:"«",leftArrow:"←",multiplication:"×",notEqual:"≠",oneHalf:"½",oneQuarter:"¼",openDoubleQuote:"“",openSingleQuote:"‘",plusMinus:"±",raquo:"»",registeredTrademark:"®",rightArrow:"→",servicemark:"℠",superscriptThree:"³",superscriptTwo:"²",threeQuarters:"¾",trademark:"™"}},addInputRules(){const n=[];return this.options.emDash!==!1&&n.push(zT(this.options.emDash)),this.options.ellipsis!==!1&&n.push(BT(this.options.ellipsis)),this.options.openDoubleQuote!==!1&&n.push(jT(this.options.openDoubleQuote)),this.options.closeDoubleQuote!==!1&&n.push(IT(this.options.closeDoubleQuote)),this.options.openSingleQuote!==!1&&n.push(VT(this.options.openSingleQuote)),this.options.closeSingleQuote!==!1&&n.push(_T(this.options.closeSingleQuote)),this.options.leftArrow!==!1&&n.push(UT(this.options.leftArrow)),this.options.rightArrow!==!1&&n.push(qT(this.options.rightArrow)),this.options.copyright!==!1&&n.push(PT(this.options.copyright)),this.options.trademark!==!1&&n.push(FT(this.options.trademark)),this.options.servicemark!==!1&&n.push(KT(this.options.servicemark)),this.options.registeredTrademark!==!1&&n.push($T(this.options.registeredTrademark)),this.options.oneHalf!==!1&&n.push(GT(this.options.oneHalf)),this.options.plusMinus!==!1&&n.push(ZT(this.options.plusMinus)),this.options.notEqual!==!1&&n.push(YT(this.options.notEqual)),this.options.laquo!==!1&&n.push(JT(this.options.laquo)),this.options.raquo!==!1&&n.push(QT(this.options.raquo)),this.options.multiplication!==!1&&n.push(XT(this.options.multiplication)),this.options.superscriptTwo!==!1&&n.push(WT(this.options.superscriptTwo)),this.options.superscriptThree!==!1&&n.push(ek(this.options.superscriptThree)),this.options.oneQuarter!==!1&&n.push(tk(this.options.oneQuarter)),this.options.threeQuarters!==!1&&n.push(nk(this.options.threeQuarters)),n}}),rk=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,ik=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,E5=_n.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:n=>n.getAttribute("data-color")||n.style.backgroundColor,renderHTML:n=>n.color?{"data-color":n.color,style:`background-color: ${n.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:n}){return["mark",rt(this.options.HTMLAttributes,n),0]},addCommands(){return{setHighlight:n=>({commands:e})=>e.setMark(this.name,n),toggleHighlight:n=>({commands:e})=>e.toggleMark(this.name,n),unsetHighlight:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[Ho({find:rk,type:this.type})]},addPasteRules(){return[Vi({find:ik,type:this.type})]}}),w5=_n.create({name:"subscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sub"},{style:"vertical-align",getAttrs(n){return n!=="sub"?!1:null}}]},renderHTML({HTMLAttributes:n}){return["sub",rt(this.options.HTMLAttributes,n),0]},addCommands(){return{setSubscript:()=>({commands:n})=>n.setMark(this.name),toggleSubscript:()=>({commands:n})=>n.toggleMark(this.name),unsetSubscript:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-,":()=>this.editor.commands.toggleSubscript()}}}),M5=_n.create({name:"superscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sup"},{style:"vertical-align",getAttrs(n){return n!=="super"?!1:null}}]},renderHTML({HTMLAttributes:n}){return["sup",rt(this.options.HTMLAttributes,n),0]},addCommands(){return{setSuperscript:()=>({commands:n})=>n.setMark(this.name),toggleSuperscript:()=>({commands:n})=>n.toggleMark(this.name),unsetSuperscript:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-.":()=>this.editor.commands.toggleSuperscript()}}}),T5=_n.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["u",rt(this.options.HTMLAttributes,n),0]},addCommands(){return{setUnderline:()=>({commands:n})=>n.setMark(this.name),toggleUnderline:()=>({commands:n})=>n.toggleMark(this.name),unsetUnderline:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),ok="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mögensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",sk="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",Gs=(n,e)=>{for(const t in e)n[t]=e[t];return n},I1="numeric",V1="ascii",_1="alpha",ca="asciinumeric",oa="alphanumeric",U1="domain",k5="emoji",lk="scheme",ak="slashscheme",Zp="whitespace";function uk(n,e){return n in e||(e[n]=[]),e[n]}function Co(n,e,t){e[I1]&&(e[ca]=!0,e[oa]=!0),e[V1]&&(e[ca]=!0,e[_1]=!0),e[ca]&&(e[oa]=!0),e[_1]&&(e[oa]=!0),e[oa]&&(e[U1]=!0),e[k5]&&(e[U1]=!0);for(const r in e){const o=uk(r,t);o.indexOf(n)<0&&o.push(n)}}function ck(n,e){const t={};for(const r in e)e[r].indexOf(n)>=0&&(t[r]=!0);return t}function Sn(n=null){this.j={},this.jr=[],this.jd=null,this.t=n}Sn.groups={};Sn.prototype={accepts(){return!!this.t},go(n){const e=this,t=e.j[n];if(t)return t;for(let r=0;r<e.jr.length;r++){const o=e.jr[r][0],l=e.jr[r][1];if(l&&o.test(n))return l}return e.jd},has(n,e=!1){return e?n in this.j:!!this.go(n)},ta(n,e,t,r){for(let o=0;o<n.length;o++)this.tt(n[o],e,t,r)},tr(n,e,t,r){r=r||Sn.groups;let o;return e&&e.j?o=e:(o=new Sn(e),t&&r&&Co(e,t,r)),this.jr.push([n,o]),o},ts(n,e,t,r){let o=this;const l=n.length;if(!l)return o;for(let a=0;a<l-1;a++)o=o.tt(n[a]);return o.tt(n[l-1],e,t,r)},tt(n,e,t,r){r=r||Sn.groups;const o=this;if(e&&e.j)return o.j[n]=e,e;const l=e;let a,c=o.go(n);if(c?(a=new Sn,Gs(a.j,c.j),a.jr.push.apply(a.jr,c.jr),a.jd=c.jd,a.t=c.t):a=new Sn,l){if(r)if(a.t&&typeof a.t=="string"){const d=Gs(ck(a.t,r),t);Co(l,d,r)}else t&&Co(l,t,r);a.t=l}return o.j[n]=a,a}};const ke=(n,e,t,r,o)=>n.ta(e,t,r,o),dt=(n,e,t,r,o)=>n.tr(e,t,r,o),L4=(n,e,t,r,o)=>n.ts(e,t,r,o),W=(n,e,t,r,o)=>n.tt(e,t,r,o),Fr="WORD",q1="UWORD",A5="ASCIINUMERICAL",R5="ALPHANUMERICAL",Ra="LOCALHOST",P1="TLD",F1="UTLD",Tc="SCHEME",Hs="SLASH_SCHEME",Hm="NUM",K1="WS",zm="NL",fa="OPENBRACE",da="CLOSEBRACE",Fc="OPENBRACKET",Kc="CLOSEBRACKET",$c="OPENPAREN",Gc="CLOSEPAREN",Zc="OPENANGLEBRACKET",Yc="CLOSEANGLEBRACKET",Jc="FULLWIDTHLEFTPAREN",Qc="FULLWIDTHRIGHTPAREN",Xc="LEFTCORNERBRACKET",Wc="RIGHTCORNERBRACKET",ef="LEFTWHITECORNERBRACKET",tf="RIGHTWHITECORNERBRACKET",nf="FULLWIDTHLESSTHAN",rf="FULLWIDTHGREATERTHAN",of="AMPERSAND",sf="APOSTROPHE",lf="ASTERISK",ki="AT",af="BACKSLASH",uf="BACKTICK",cf="CARET",Oi="COLON",Bm="COMMA",ff="DOLLAR",gr="DOT",df="EQUALS",jm="EXCLAMATION",Qn="HYPHEN",ha="PERCENT",hf="PIPE",pf="PLUS",mf="POUND",pa="QUERY",Im="QUOTE",O5="FULLWIDTHMIDDLEDOT",Vm="SEMI",yr="SLASH",ma="TILDE",gf="UNDERSCORE",N5="EMOJI",yf="SYM";var D5=Object.freeze({__proto__:null,ALPHANUMERICAL:R5,AMPERSAND:of,APOSTROPHE:sf,ASCIINUMERICAL:A5,ASTERISK:lf,AT:ki,BACKSLASH:af,BACKTICK:uf,CARET:cf,CLOSEANGLEBRACKET:Yc,CLOSEBRACE:da,CLOSEBRACKET:Kc,CLOSEPAREN:Gc,COLON:Oi,COMMA:Bm,DOLLAR:ff,DOT:gr,EMOJI:N5,EQUALS:df,EXCLAMATION:jm,FULLWIDTHGREATERTHAN:rf,FULLWIDTHLEFTPAREN:Jc,FULLWIDTHLESSTHAN:nf,FULLWIDTHMIDDLEDOT:O5,FULLWIDTHRIGHTPAREN:Qc,HYPHEN:Qn,LEFTCORNERBRACKET:Xc,LEFTWHITECORNERBRACKET:ef,LOCALHOST:Ra,NL:zm,NUM:Hm,OPENANGLEBRACKET:Zc,OPENBRACE:fa,OPENBRACKET:Fc,OPENPAREN:$c,PERCENT:ha,PIPE:hf,PLUS:pf,POUND:mf,QUERY:pa,QUOTE:Im,RIGHTCORNERBRACKET:Wc,RIGHTWHITECORNERBRACKET:tf,SCHEME:Tc,SEMI:Vm,SLASH:yr,SLASH_SCHEME:Hs,SYM:yf,TILDE:ma,TLD:P1,UNDERSCORE:gf,UTLD:F1,UWORD:q1,WORD:Fr,WS:K1});const qr=/[a-z]/,Ql=/\p{L}/u,Yp=/\p{Emoji}/u,Pr=/\d/,Jp=/\s/,H4="\r",Qp=`
`,fk="️",dk="‍",Xp="￼";let dc=null,hc=null;function hk(n=[]){const e={};Sn.groups=e;const t=new Sn;dc==null&&(dc=z4(ok)),hc==null&&(hc=z4(sk)),W(t,"'",sf),W(t,"{",fa),W(t,"}",da),W(t,"[",Fc),W(t,"]",Kc),W(t,"(",$c),W(t,")",Gc),W(t,"<",Zc),W(t,">",Yc),W(t,"（",Jc),W(t,"）",Qc),W(t,"「",Xc),W(t,"」",Wc),W(t,"『",ef),W(t,"』",tf),W(t,"＜",nf),W(t,"＞",rf),W(t,"&",of),W(t,"*",lf),W(t,"@",ki),W(t,"`",uf),W(t,"^",cf),W(t,":",Oi),W(t,",",Bm),W(t,"$",ff),W(t,".",gr),W(t,"=",df),W(t,"!",jm),W(t,"-",Qn),W(t,"%",ha),W(t,"|",hf),W(t,"+",pf),W(t,"#",mf),W(t,"?",pa),W(t,'"',Im),W(t,"/",yr),W(t,";",Vm),W(t,"~",ma),W(t,"_",gf),W(t,"\\",af),W(t,"・",O5);const r=dt(t,Pr,Hm,{[I1]:!0});dt(r,Pr,r);const o=dt(r,qr,A5,{[ca]:!0}),l=dt(r,Ql,R5,{[oa]:!0}),a=dt(t,qr,Fr,{[V1]:!0});dt(a,Pr,o),dt(a,qr,a),dt(o,Pr,o),dt(o,qr,o);const c=dt(t,Ql,q1,{[_1]:!0});dt(c,qr),dt(c,Pr,l),dt(c,Ql,c),dt(l,Pr,l),dt(l,qr),dt(l,Ql,l);const d=W(t,Qp,zm,{[Zp]:!0}),h=W(t,H4,K1,{[Zp]:!0}),m=dt(t,Jp,K1,{[Zp]:!0});W(t,Xp,m),W(h,Qp,d),W(h,Xp,m),dt(h,Jp,m),W(m,H4),W(m,Qp),dt(m,Jp,m),W(m,Xp,m);const g=dt(t,Yp,N5,{[k5]:!0});W(g,"#"),dt(g,Yp,g),W(g,fk,g);const b=W(g,dk);W(b,"#"),dt(b,Yp,g);const v=[[qr,a],[Pr,o]],C=[[qr,null],[Ql,c],[Pr,l]];for(let S=0;S<dc.length;S++)Ei(t,dc[S],P1,Fr,v);for(let S=0;S<hc.length;S++)Ei(t,hc[S],F1,q1,C);Co(P1,{tld:!0,ascii:!0},e),Co(F1,{utld:!0,alpha:!0},e),Ei(t,"file",Tc,Fr,v),Ei(t,"mailto",Tc,Fr,v),Ei(t,"http",Hs,Fr,v),Ei(t,"https",Hs,Fr,v),Ei(t,"ftp",Hs,Fr,v),Ei(t,"ftps",Hs,Fr,v),Co(Tc,{scheme:!0,ascii:!0},e),Co(Hs,{slashscheme:!0,ascii:!0},e),n=n.sort((S,M)=>S[0]>M[0]?1:-1);for(let S=0;S<n.length;S++){const M=n[S][0],O=n[S][1]?{[lk]:!0}:{[ak]:!0};M.indexOf("-")>=0?O[U1]=!0:qr.test(M)?Pr.test(M)?O[ca]=!0:O[V1]=!0:O[I1]=!0,L4(t,M,M,O)}return L4(t,"localhost",Ra,{ascii:!0}),t.jd=new Sn(yf),{start:t,tokens:Gs({groups:e},D5)}}function L5(n,e){const t=pk(e.replace(/[A-Z]/g,c=>c.toLowerCase())),r=t.length,o=[];let l=0,a=0;for(;a<r;){let c=n,d=null,h=0,m=null,g=-1,b=-1;for(;a<r&&(d=c.go(t[a]));)c=d,c.accepts()?(g=0,b=0,m=c):g>=0&&(g+=t[a].length,b++),h+=t[a].length,l+=t[a].length,a++;l-=g,a-=b,h-=g,o.push({t:m.t,v:e.slice(l-h,l),s:l-h,e:l})}return o}function pk(n){const e=[],t=n.length;let r=0;for(;r<t;){let o=n.charCodeAt(r),l,a=o<55296||o>56319||r+1===t||(l=n.charCodeAt(r+1))<56320||l>57343?n[r]:n.slice(r,r+2);e.push(a),r+=a.length}return e}function Ei(n,e,t,r,o){let l;const a=e.length;for(let c=0;c<a-1;c++){const d=e[c];n.j[d]?l=n.j[d]:(l=new Sn(r),l.jr=o.slice(),n.j[d]=l),n=l}return l=new Sn(t),l.jr=o.slice(),n.j[e[a-1]]=l,l}function z4(n){const e=[],t=[];let r=0,o="0123456789";for(;r<n.length;){let l=0;for(;o.indexOf(n[r+l])>=0;)l++;if(l>0){e.push(t.join(""));for(let a=parseInt(n.substring(r,r+l),10);a>0;a--)t.pop();r+=l}else t.push(n[r]),r++}return e}const Oa={defaultProtocol:"http",events:null,format:B4,formatHref:B4,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function _m(n,e=null){let t=Gs({},Oa);n&&(t=Gs(t,n instanceof _m?n.o:n));const r=t.ignoreTags,o=[];for(let l=0;l<r.length;l++)o.push(r[l].toUpperCase());this.o=t,e&&(this.defaultRender=e),this.ignoreTags=o}_m.prototype={o:Oa,ignoreTags:[],defaultRender(n){return n},check(n){return this.get("validate",n.toString(),n)},get(n,e,t){const r=e!=null;let o=this.o[n];return o&&(typeof o=="object"?(o=t.t in o?o[t.t]:Oa[n],typeof o=="function"&&r&&(o=o(e,t))):typeof o=="function"&&r&&(o=o(e,t.t,t)),o)},getObj(n,e,t){let r=this.o[n];return typeof r=="function"&&e!=null&&(r=r(e,t.t,t)),r},render(n){const e=n.render(this);return(this.get("render",null,n)||this.defaultRender)(e,n.t,n)}};function B4(n){return n}function H5(n,e){this.t="token",this.v=n,this.tk=e}H5.prototype={isLink:!1,toString(){return this.v},toHref(n){return this.toString()},toFormattedString(n){const e=this.toString(),t=n.get("truncate",e,this),r=n.get("format",e,this);return t&&r.length>t?r.substring(0,t)+"…":r},toFormattedHref(n){return n.get("formatHref",this.toHref(n.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(n=Oa.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(n),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(n){return{type:this.t,value:this.toFormattedString(n),isLink:this.isLink,href:this.toFormattedHref(n),start:this.startIndex(),end:this.endIndex()}},validate(n){return n.get("validate",this.toString(),this)},render(n){const e=this,t=this.toHref(n.get("defaultProtocol")),r=n.get("formatHref",t,this),o=n.get("tagName",t,e),l=this.toFormattedString(n),a={},c=n.get("className",t,e),d=n.get("target",t,e),h=n.get("rel",t,e),m=n.getObj("attributes",t,e),g=n.getObj("events",t,e);return a.href=r,c&&(a.class=c),d&&(a.target=d),h&&(a.rel=h),m&&Gs(a,m),{tagName:o,attributes:a,content:l,eventListeners:g}}};function Kf(n,e){class t extends H5{constructor(o,l){super(o,l),this.t=n}}for(const r in e)t.prototype[r]=e[r];return t.t=n,t}const j4=Kf("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),I4=Kf("text"),mk=Kf("nl"),pc=Kf("url",{isLink:!0,toHref(n=Oa.defaultProtocol){return this.hasProtocol()?this.v:`${n}://${this.v}`},hasProtocol(){const n=this.tk;return n.length>=2&&n[0].t!==Ra&&n[1].t===Oi}}),Jn=n=>new Sn(n);function gk({groups:n}){const e=n.domain.concat([of,lf,ki,af,uf,cf,ff,df,Qn,Hm,ha,hf,pf,mf,yr,yf,ma,gf]),t=[sf,Oi,Bm,gr,jm,ha,pa,Im,Vm,Zc,Yc,fa,da,Kc,Fc,$c,Gc,Jc,Qc,Xc,Wc,ef,tf,nf,rf],r=[of,sf,lf,af,uf,cf,ff,df,Qn,fa,da,ha,hf,pf,mf,pa,yr,yf,ma,gf],o=Jn(),l=W(o,ma);ke(l,r,l),ke(l,n.domain,l);const a=Jn(),c=Jn(),d=Jn();ke(o,n.domain,a),ke(o,n.scheme,c),ke(o,n.slashscheme,d),ke(a,r,l),ke(a,n.domain,a);const h=W(a,ki);W(l,ki,h),W(c,ki,h),W(d,ki,h);const m=W(l,gr);ke(m,r,l),ke(m,n.domain,l);const g=Jn();ke(h,n.domain,g),ke(g,n.domain,g);const b=W(g,gr);ke(b,n.domain,g);const v=Jn(j4);ke(b,n.tld,v),ke(b,n.utld,v),W(h,Ra,v);const C=W(g,Qn);W(C,Qn,C),ke(C,n.domain,g),ke(v,n.domain,g),W(v,gr,b),W(v,Qn,C);const S=W(v,Oi);ke(S,n.numeric,j4);const M=W(a,Qn),k=W(a,gr);W(M,Qn,M),ke(M,n.domain,a),ke(k,r,l),ke(k,n.domain,a);const O=Jn(pc);ke(k,n.tld,O),ke(k,n.utld,O),ke(O,n.domain,a),ke(O,r,l),W(O,gr,k),W(O,Qn,M),W(O,ki,h);const D=W(O,Oi),P=Jn(pc);ke(D,n.numeric,P);const I=Jn(pc),Q=Jn();ke(I,e,I),ke(I,t,Q),ke(Q,e,I),ke(Q,t,Q),W(O,yr,I),W(P,yr,I);const te=W(c,Oi),X=W(d,Oi),le=W(X,yr),ne=W(le,yr);ke(c,n.domain,a),W(c,gr,k),W(c,Qn,M),ke(d,n.domain,a),W(d,gr,k),W(d,Qn,M),ke(te,n.domain,I),W(te,yr,I),W(te,pa,I),ke(ne,n.domain,I),ke(ne,e,I),W(ne,yr,I);const me=[[fa,da],[Fc,Kc],[$c,Gc],[Zc,Yc],[Jc,Qc],[Xc,Wc],[ef,tf],[nf,rf]];for(let he=0;he<me.length;he++){const[xe,re]=me[he],$=W(I,xe);W(Q,xe,$),W($,re,I);const H=Jn(pc);ke($,e,H);const U=Jn();ke($,t),ke(H,e,H),ke(H,t,U),ke(U,e,H),ke(U,t,U),W(H,re,I),W(U,re,I)}return W(o,Ra,O),W(o,zm,mk),{start:o,tokens:D5}}function yk(n,e,t){let r=t.length,o=0,l=[],a=[];for(;o<r;){let c=n,d=null,h=null,m=0,g=null,b=-1;for(;o<r&&!(d=c.go(t[o].t));)a.push(t[o++]);for(;o<r&&(h=d||c.go(t[o].t));)d=null,c=h,c.accepts()?(b=0,g=c):b>=0&&b++,o++,m++;if(b<0)o-=m,o<r&&(a.push(t[o]),o++);else{a.length>0&&(l.push(Wp(I4,e,a)),a=[]),o-=b,m-=b;const v=g.t,C=t.slice(o-m,o);l.push(Wp(v,e,C))}}return a.length>0&&l.push(Wp(I4,e,a)),l}function Wp(n,e,t){const r=t[0].s,o=t[t.length-1].e,l=e.slice(r,o);return new n(l,t)}const bk=typeof console<"u"&&console&&console.warn||(()=>{}),vk="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",it={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function Ck(){return Sn.groups={},it.scanner=null,it.parser=null,it.tokenQueue=[],it.pluginQueue=[],it.customSchemes=[],it.initialized=!1,it}function V4(n,e=!1){if(it.initialized&&bk(`linkifyjs: already initialized - will not register custom scheme "${n}" ${vk}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(n))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);it.customSchemes.push([n,e])}function xk(){it.scanner=hk(it.customSchemes);for(let n=0;n<it.tokenQueue.length;n++)it.tokenQueue[n][1]({scanner:it.scanner});it.parser=gk(it.scanner.tokens);for(let n=0;n<it.pluginQueue.length;n++)it.pluginQueue[n][1]({scanner:it.scanner,parser:it.parser});return it.initialized=!0,it}function Um(n){return it.initialized||xk(),yk(it.parser.start,n,L5(it.scanner.start,n))}Um.scan=L5;function z5(n,e=null,t=null){if(e&&typeof e=="object"){if(t)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);t=e,e=null}const r=new _m(t),o=Um(n),l=[];for(let a=0;a<o.length;a++){const c=o[a];c.isLink&&(!e||c.t===e)&&r.check(c)&&l.push(c.toFormattedObject(r))}return l}function Sk(n){return n.length===1?n[0].isLink:n.length===3&&n[1].isLink?["()","[]"].includes(n[0].value+n[2].value):!1}function Ek(n){return new pt({key:new $t("autolink"),appendTransaction:(e,t,r)=>{const o=e.some(h=>h.docChanged)&&!t.doc.eq(r.doc),l=e.some(h=>h.getMeta("preventAutolink"));if(!o||l)return;const{tr:a}=r,c=vw(t.doc,[...e]);if(kw(c).forEach(({newRange:h})=>{const m=xw(r.doc,h,v=>v.isTextblock);let g,b;if(m.length>1?(g=m[0],b=r.doc.textBetween(g.pos,g.pos+g.node.nodeSize,void 0," ")):m.length&&r.doc.textBetween(h.from,h.to," "," ").endsWith(" ")&&(g=m[0],b=r.doc.textBetween(g.pos,h.to,void 0," ")),g&&b){const v=b.split(" ").filter(k=>k!=="");if(v.length<=0)return!1;const C=v[v.length-1],S=g.pos+b.lastIndexOf(C);if(!C)return!1;const M=Um(C).map(k=>k.toObject(n.defaultProtocol));if(!Sk(M))return!1;M.filter(k=>k.isLink).map(k=>({...k,from:S+k.start+1,to:S+k.end+1})).filter(k=>r.schema.marks.code?!r.doc.rangeHasMark(k.from,k.to,r.schema.marks.code):!0).filter(k=>n.validate(k.value)).filter(k=>n.shouldAutoLink(k.value)).forEach(k=>{Rm(k.from,k.to,r.doc).some(O=>O.mark.type===n.type)||a.addMark(k.from,k.to,n.type.create({href:k.href}))})}}),!!a.steps.length)return a}})}function wk(n){return new pt({key:new $t("handleClickLink"),props:{handleClick:(e,t,r)=>{var o,l;if(r.button!==0||!e.editable)return!1;let a=r.target;const c=[];for(;a.nodeName!=="DIV";)c.push(a),a=a.parentNode;if(!c.find(b=>b.nodeName==="A"))return!1;const d=l5(e.state,n.type.name),h=r.target,m=(o=h?.href)!==null&&o!==void 0?o:d.href,g=(l=h?.target)!==null&&l!==void 0?l:d.target;return h&&m?(window.open(m,g),!0):!1}}})}function Mk(n){return new pt({key:new $t("handlePasteLink"),props:{handlePaste:(e,t,r)=>{const{state:o}=e,{selection:l}=o,{empty:a}=l;if(a)return!1;let c="";r.content.forEach(h=>{c+=h.textContent});const d=z5(c,{defaultProtocol:n.defaultProtocol}).find(h=>h.isLink&&h.value===c);return!c||!d?!1:n.editor.commands.setMark(n.type,{href:d.href})}}})}const Tk=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g;function co(n,e){const t=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const o=typeof r=="string"?r:r.scheme;o&&t.push(o)}),!n||n.replace(Tk,"").match(new RegExp(`^(?:(?:${t.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}const kk=_n.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(n=>{if(typeof n=="string"){V4(n);return}V4(n.scheme,n.optionalSlashes)})},onDestroy(){Ck()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(n,e)=>!!co(n,e.protocols),validate:n=>!!n,shouldAutoLink:n=>!!n}},addAttributes(){return{href:{default:null,parseHTML(n){return n.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:n=>{const e=n.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:t=>!!co(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:n}){return this.options.isAllowedUri(n.href,{defaultValidate:e=>!!co(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",rt(this.options.HTMLAttributes,n),0]:["a",rt(this.options.HTMLAttributes,{...n,href:""}),0]},addCommands(){return{setLink:n=>({chain:e})=>{const{href:t}=n;return this.options.isAllowedUri(t,{defaultValidate:r=>!!co(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,n).setMeta("preventAutolink",!0).run():!1},toggleLink:n=>({chain:e})=>{const{href:t}=n;return this.options.isAllowedUri(t,{defaultValidate:r=>!!co(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().toggleMark(this.name,n,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run():!1},unsetLink:()=>({chain:n})=>n().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Vi({find:n=>{const e=[];if(n){const{protocols:t,defaultProtocol:r}=this.options,o=z5(n).filter(l=>l.isLink&&this.options.isAllowedUri(l.value,{defaultValidate:a=>!!co(a,t),protocols:t,defaultProtocol:r}));o.length&&o.forEach(l=>e.push({text:l.value,data:{href:l.href},index:l.start}))}return e},type:this.type,getAttributes:n=>{var e;return{href:(e=n.data)===null||e===void 0?void 0:e.href}}})]},addProseMirrorPlugins(){const n=[],{protocols:e,defaultProtocol:t}=this.options;return this.options.autolink&&n.push(Ek({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:o=>!!co(o,e),protocols:e,defaultProtocol:t}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&n.push(wk({type:this.type})),this.options.linkOnPaste&&n.push(Mk({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),n}}),B5=kk.extend({inclusive:!1,parseHTML(){return[{tag:'a[href]:not([data-type="button"]):not([href *= "javascript:" i])'}]},addProseMirrorPlugins(){const{editor:n}=this;return[...this.parent?.()||[],new pt({props:{handleKeyDown:(e,t)=>{const{selection:r}=n.state;return t.key==="Escape"&&r.empty!==!0&&n.commands.focus(r.to,{scrollIntoView:!1}),!1},handleClick(e,t){const{schema:r,doc:o,tr:l}=e.state;let a;if(r.marks.link&&(a=_f(o.resolve(t),r.marks.link)),!a)return;const{from:c,to:d}=a,h=Math.min(c,d),m=Math.max(c,d);if(t<h||t>m)return;const g=o.resolve(h),b=o.resolve(m),v=l.setSelection(new ve(g,b));e.dispatch(v)}}})]}}),j5=xt.create({name:"selection",addProseMirrorPlugins(){const{editor:n}=this;return[new pt({key:new $t("selection"),props:{decorations(e){return e.selection.empty||n.isFocused===!0||!n.isEditable||nr(e.selection)?null:bt.create(e.doc,[Tn.inline(e.selection.from,e.selection.to,{class:"selection"})])}}})]}});function _4({types:n,node:e}){return e?Array.isArray(n)?n.includes(e.type):e.type===n:!1}const I5=xt.create({name:"trailingNode",addOptions(){return{node:"paragraph",notAfter:["paragraph"]}},addProseMirrorPlugins(){const n=new $t(this.name),e=Object.entries(this.editor.schema.nodes).map(([,t])=>t).filter(t=>this.options.notAfter.includes(t.name));return[new pt({key:n,appendTransaction:(t,r,o)=>{const{doc:l,tr:a,schema:c}=o,d=n.getState(o),h=l.content.size,m=c.nodes[this.options.node];return d&&m?a.insert(h,m.create()):null},state:{init:(t,r)=>{const o=r.tr.doc.lastChild;return!_4({node:o,types:e})},apply:(t,r)=>{if(!t.docChanged)return r;const o=t.doc.lastChild;return!_4({node:o,types:e})}}})]}});function $f(){return typeof window<"u"}function Fi(n){return V5(n)?(n.nodeName||"").toLowerCase():"#document"}function An(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Sr(n){var e;return(e=(V5(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function V5(n){return $f()?n instanceof Node||n instanceof An(n).Node:!1}function nt(n){return $f()?n instanceof Element||n instanceof An(n).Element:!1}function vt(n){return $f()?n instanceof HTMLElement||n instanceof An(n).HTMLElement:!1}function $1(n){return!$f()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof An(n).ShadowRoot}function Ua(n){const{overflow:e,overflowX:t,overflowY:r,display:o}=tr(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(o)}function Ak(n){return["table","td","th"].includes(Fi(n))}function Gf(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function qm(n){const e=Zf(),t=nt(n)?tr(n):n;return["transform","translate","scale","rotate","perspective"].some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function Rk(n){let e=Wr(n);for(;vt(e)&&!Xr(e);){if(qm(e))return e;if(Gf(e))return null;e=Wr(e)}return null}function Zf(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Xr(n){return["html","body","#document"].includes(Fi(n))}function tr(n){return An(n).getComputedStyle(n)}function Yf(n){return nt(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Wr(n){if(Fi(n)==="html")return n;const e=n.assignedSlot||n.parentNode||$1(n)&&n.host||Sr(n);return $1(e)?e.host:e}function _5(n){const e=Wr(n);return Xr(e)?n.ownerDocument?n.ownerDocument.body:n.body:vt(e)&&Ua(e)?e:_5(e)}function ji(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const o=_5(n),l=o===((r=n.ownerDocument)==null?void 0:r.body),a=An(o);if(l){const c=G1(a);return e.concat(a,a.visualViewport||[],Ua(o)?o:[],c&&t?ji(c):[])}return e.concat(o,ji(o,[],t))}function G1(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}const bf=Math.min,Ro=Math.max,vf=Math.round,js=Math.floor,vr=n=>({x:n,y:n}),Ok={left:"right",right:"left",bottom:"top",top:"bottom"},Nk={start:"end",end:"start"};function U4(n,e,t){return Ro(n,bf(e,t))}function Zs(n,e){return typeof n=="function"?n(e):n}function _i(n){return n.split("-")[0]}function Jf(n){return n.split("-")[1]}function Pm(n){return n==="x"?"y":"x"}function U5(n){return n==="y"?"height":"width"}function Zr(n){return["top","bottom"].includes(_i(n))?"y":"x"}function q5(n){return Pm(Zr(n))}function Dk(n,e,t){t===void 0&&(t=!1);const r=Jf(n),o=q5(n),l=U5(o);let a=o==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(a=Cf(a)),[a,Cf(a)]}function Lk(n){const e=Cf(n);return[Z1(n),e,Z1(e)]}function Z1(n){return n.replace(/start|end/g,e=>Nk[e])}function Hk(n,e,t){const r=["left","right"],o=["right","left"],l=["top","bottom"],a=["bottom","top"];switch(n){case"top":case"bottom":return t?e?o:r:e?r:o;case"left":case"right":return e?l:a;default:return[]}}function zk(n,e,t,r){const o=Jf(n);let l=Hk(_i(n),t==="start",r);return o&&(l=l.map(a=>a+"-"+o),e&&(l=l.concat(l.map(Z1)))),l}function Cf(n){return n.replace(/left|right|bottom|top/g,e=>Ok[e])}function Bk(n){return{top:0,right:0,bottom:0,left:0,...n}}function jk(n){return typeof n!="number"?Bk(n):{top:n,right:n,bottom:n,left:n}}function xf(n){const{x:e,y:t,width:r,height:o}=n;return{width:r,height:o,top:t,left:e,right:e+r,bottom:t+o,x:e,y:t}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Ik=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Sf=Ik.join(","),P5=typeof Element>"u",Ys=P5?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Ef=!P5&&Element.prototype.getRootNode?function(n){var e;return n==null||(e=n.getRootNode)===null||e===void 0?void 0:e.call(n)}:function(n){return n?.ownerDocument},wf=function n(e,t){var r;t===void 0&&(t=!0);var o=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),l=o===""||o==="true",a=l||t&&e&&n(e.parentNode);return a},Vk=function(e){var t,r=e==null||(t=e.getAttribute)===null||t===void 0?void 0:t.call(e,"contenteditable");return r===""||r==="true"},F5=function(e,t,r){if(wf(e))return[];var o=Array.prototype.slice.apply(e.querySelectorAll(Sf));return t&&Ys.call(e,Sf)&&o.unshift(e),o=o.filter(r),o},K5=function n(e,t,r){for(var o=[],l=Array.from(e);l.length;){var a=l.shift();if(!wf(a,!1))if(a.tagName==="SLOT"){var c=a.assignedElements(),d=c.length?c:a.children,h=n(d,!0,r);r.flatten?o.push.apply(o,h):o.push({scopeParent:a,candidates:h})}else{var m=Ys.call(a,Sf);m&&r.filter(a)&&(t||!e.includes(a))&&o.push(a);var g=a.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(a),b=!wf(g,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(a));if(g&&b){var v=n(g===!0?a.children:g.children,!0,r);r.flatten?o.push.apply(o,v):o.push({scopeParent:a,candidates:v})}else l.unshift.apply(l,a.children)}}return o},$5=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},G5=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||Vk(e))&&!$5(e)?0:e.tabIndex},_k=function(e,t){var r=G5(e);return r<0&&t&&!$5(e)?0:r},Uk=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},Z5=function(e){return e.tagName==="INPUT"},qk=function(e){return Z5(e)&&e.type==="hidden"},Pk=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return t},Fk=function(e,t){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===t)return e[r]},Kk=function(e){if(!e.name)return!0;var t=e.form||Ef(e),r=function(c){return t.querySelectorAll('input[type="radio"][name="'+c+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=r(window.CSS.escape(e.name));else try{o=r(e.name)}catch(a){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",a.message),!1}var l=Fk(o,e.form);return!l||l===e},$k=function(e){return Z5(e)&&e.type==="radio"},Gk=function(e){return $k(e)&&!Kk(e)},Zk=function(e){var t,r=e&&Ef(e),o=(t=r)===null||t===void 0?void 0:t.host,l=!1;if(r&&r!==e){var a,c,d;for(l=!!((a=o)!==null&&a!==void 0&&(c=a.ownerDocument)!==null&&c!==void 0&&c.contains(o)||e!=null&&(d=e.ownerDocument)!==null&&d!==void 0&&d.contains(e));!l&&o;){var h,m,g;r=Ef(o),o=(h=r)===null||h===void 0?void 0:h.host,l=!!((m=o)!==null&&m!==void 0&&(g=m.ownerDocument)!==null&&g!==void 0&&g.contains(o))}}return l},q4=function(e){var t=e.getBoundingClientRect(),r=t.width,o=t.height;return r===0&&o===0},Yk=function(e,t){var r=t.displayCheck,o=t.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var l=Ys.call(e,"details>summary:first-of-type"),a=l?e.parentElement:e;if(Ys.call(a,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof o=="function"){for(var c=e;e;){var d=e.parentElement,h=Ef(e);if(d&&!d.shadowRoot&&o(d)===!0)return q4(e);e.assignedSlot?e=e.assignedSlot:!d&&h!==e.ownerDocument?e=h.host:e=d}e=c}if(Zk(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return q4(e);return!1},Jk=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var r=0;r<t.children.length;r++){var o=t.children.item(r);if(o.tagName==="LEGEND")return Ys.call(t,"fieldset[disabled] *")?!0:!o.contains(e)}return!0}t=t.parentElement}return!1},Y1=function(e,t){return!(t.disabled||wf(t)||qk(t)||Yk(t,e)||Pk(t)||Jk(t))},J1=function(e,t){return!(Gk(t)||G5(t)<0||!Y1(e,t))},Qk=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},Xk=function n(e){var t=[],r=[];return e.forEach(function(o,l){var a=!!o.scopeParent,c=a?o.scopeParent:o,d=_k(c,a),h=a?n(o.candidates):c;d===0?a?t.push.apply(t,h):t.push(c):r.push({documentOrder:l,tabIndex:d,item:o,isScope:a,content:h})}),r.sort(Uk).reduce(function(o,l){return l.isScope?o.push.apply(o,l.content):o.push(l.content),o},[]).concat(t)},Qf=function(e,t){t=t||{};var r;return t.getShadowRoot?r=K5([e],t.includeContainer,{filter:J1.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:Qk}):r=F5(e,t.includeContainer,J1.bind(null,t)),Xk(r)},Wk=function(e,t){t=t||{};var r;return t.getShadowRoot?r=K5([e],t.includeContainer,{filter:Y1.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):r=F5(e,t.includeContainer,Y1.bind(null,t)),r},Y5=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return Ys.call(e,Sf)===!1?!1:J1(t,e)};function J5(){const n=navigator.userAgentData;return n!=null&&n.platform?n.platform:navigator.platform}function Q5(){const n=navigator.userAgentData;return n&&Array.isArray(n.brands)?n.brands.map(e=>{let{brand:t,version:r}=e;return t+"/"+r}).join(" "):navigator.userAgent}function X5(){return/apple/i.test(navigator.vendor)}function Q1(){const n=/android/i;return n.test(J5())||n.test(Q5())}function eA(){return J5().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function W5(){return Q5().includes("jsdom/")}const P4="data-floating-ui-focusable",tA="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])",e1="ArrowLeft",t1="ArrowRight",nA="ArrowUp",rA="ArrowDown";function br(n){let e=n.activeElement;for(;((t=e)==null||(t=t.shadowRoot)==null?void 0:t.activeElement)!=null;){var t;e=e.shadowRoot.activeElement}return e}function Ut(n,e){if(!n||!e)return!1;const t=e.getRootNode==null?void 0:e.getRootNode();if(n.contains(e))return!0;if(t&&$1(t)){let r=e;for(;r;){if(n===r)return!0;r=r.parentNode||r.host}}return!1}function $r(n){return"composedPath"in n?n.composedPath()[0]:n.target}function n1(n,e){if(e==null)return!1;if("composedPath"in n)return n.composedPath().includes(e);const t=n;return t.target!=null&&e.contains(t.target)}function iA(n){return n.matches("html,body")}function Kt(n){return n?.ownerDocument||document}function Fm(n){return vt(n)&&n.matches(tA)}function X1(n){return n?n.getAttribute("role")==="combobox"&&Fm(n):!1}function oA(n){if(!n||W5())return!0;try{return n.matches(":focus-visible")}catch{return!0}}function Mf(n){return n?n.hasAttribute(P4)?n:n.querySelector("["+P4+"]")||n:null}function Vs(n,e){let t=n.filter(o=>{var l;return o.parentId===e&&((l=o.context)==null?void 0:l.open)}),r=t;for(;r.length;)r=n.filter(o=>{var l;return(l=r)==null?void 0:l.some(a=>{var c;return o.parentId===a.id&&((c=o.context)==null?void 0:c.open)})}),t=t.concat(r);return t}function sA(n,e){let t,r=-1;function o(l,a){a>r&&(t=l,r=a),Vs(n,l).forEach(d=>{o(d.id,a+1)})}return o(e,0),n.find(l=>l.id===t)}function F4(n,e){var t;let r=[],o=(t=n.find(l=>l.id===e))==null?void 0:t.parentId;for(;o;){const l=n.find(a=>a.id===o);o=l?.parentId,l&&(r=r.concat(l))}return r}function qt(n){n.preventDefault(),n.stopPropagation()}function lA(n){return"nativeEvent"in n}function ev(n){return n.mozInputSource===0&&n.isTrusted?!0:Q1()&&n.pointerType?n.type==="click"&&n.buttons===1:n.detail===0&&!n.pointerType}function tv(n){return W5()?!1:!Q1()&&n.width===0&&n.height===0||Q1()&&n.width===1&&n.height===1&&n.pressure===0&&n.detail===0&&n.pointerType==="mouse"||n.width<1&&n.height<1&&n.pressure===0&&n.detail===0&&n.pointerType==="touch"}function Na(n,e){const t=["mouse","pen"];return e||t.push("",void 0),t.includes(n)}var aA=typeof document<"u",uA=function(){},tt=aA?w.useLayoutEffect:uA;const cA={...x3};function Mn(n){const e=w.useRef(n);return tt(()=>{e.current=n}),e}const fA=cA.useInsertionEffect,dA=fA||(n=>n());function Ct(n){const e=w.useRef(()=>{});return dA(()=>{e.current=n}),w.useCallback(function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return e.current==null?void 0:e.current(...r)},[])}function mc(n,e,t){return Math.floor(n/e)!==t}function ga(n,e){return e<0||e>=n.current.length}function r1(n,e){return Wt(n,{disabledIndices:e})}function K4(n,e){return Wt(n,{decrement:!0,startingIndex:n.current.length,disabledIndices:e})}function Wt(n,e){let{startingIndex:t=-1,decrement:r=!1,disabledIndices:o,amount:l=1}=e===void 0?{}:e,a=t;do a+=r?-l:l;while(a>=0&&a<=n.current.length-1&&kc(n,a,o));return a}function hA(n,e){let{event:t,orientation:r,loop:o,rtl:l,cols:a,disabledIndices:c,minIndex:d,maxIndex:h,prevIndex:m,stopEvent:g=!1}=e,b=m;if(t.key===nA){if(g&&qt(t),m===-1)b=h;else if(b=Wt(n,{startingIndex:b,amount:a,decrement:!0,disabledIndices:c}),o&&(m-a<d||b<0)){const v=m%a,C=h%a,S=h-(C-v);C===v?b=h:b=C>v?S:S-a}ga(n,b)&&(b=m)}if(t.key===rA&&(g&&qt(t),m===-1?b=d:(b=Wt(n,{startingIndex:m,amount:a,disabledIndices:c}),o&&m+a>h&&(b=Wt(n,{startingIndex:m%a-a,amount:a,disabledIndices:c}))),ga(n,b)&&(b=m)),r==="both"){const v=js(m/a);t.key===(l?e1:t1)&&(g&&qt(t),m%a!==a-1?(b=Wt(n,{startingIndex:m,disabledIndices:c}),o&&mc(b,a,v)&&(b=Wt(n,{startingIndex:m-m%a-1,disabledIndices:c}))):o&&(b=Wt(n,{startingIndex:m-m%a-1,disabledIndices:c})),mc(b,a,v)&&(b=m)),t.key===(l?t1:e1)&&(g&&qt(t),m%a!==0?(b=Wt(n,{startingIndex:m,decrement:!0,disabledIndices:c}),o&&mc(b,a,v)&&(b=Wt(n,{startingIndex:m+(a-m%a),decrement:!0,disabledIndices:c}))):o&&(b=Wt(n,{startingIndex:m+(a-m%a),decrement:!0,disabledIndices:c})),mc(b,a,v)&&(b=m));const C=js(h/a)===v;ga(n,b)&&(o&&C?b=t.key===(l?t1:e1)?h:Wt(n,{startingIndex:m-m%a-1,disabledIndices:c}):b=m)}return b}function pA(n,e,t){const r=[];let o=0;return n.forEach((l,a)=>{let{width:c,height:d}=l,h=!1;for(t&&(o=0);!h;){const m=[];for(let g=0;g<c;g++)for(let b=0;b<d;b++)m.push(o+g+b*e);o%e+c<=e&&m.every(g=>r[g]==null)?(m.forEach(g=>{r[g]=a}),h=!0):o++}}),[...r]}function mA(n,e,t,r,o){if(n===-1)return-1;const l=t.indexOf(n),a=e[n];switch(o){case"tl":return l;case"tr":return a?l+a.width-1:l;case"bl":return a?l+(a.height-1)*r:l;case"br":return t.lastIndexOf(n)}}function gA(n,e){return e.flatMap((t,r)=>n.includes(t)?[r]:[])}function kc(n,e,t){if(typeof t=="function")return t(e);if(t)return t.includes(e);const r=n.current[e];return r==null||r.hasAttribute("disabled")||r.getAttribute("aria-disabled")==="true"}const qa=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function nv(n,e){const t=Qf(n,qa()),r=t.length;if(r===0)return;const o=br(Kt(n)),l=t.indexOf(o),a=l===-1?e===1?0:r-1:l+e;return t[a]}function rv(n){return nv(Kt(n).body,1)||n}function iv(n){return nv(Kt(n).body,-1)||n}function ya(n,e){const t=e||n.currentTarget,r=n.relatedTarget;return!r||!Ut(t,r)}function yA(n){Qf(n,qa()).forEach(t=>{t.dataset.tabindex=t.getAttribute("tabindex")||"",t.setAttribute("tabindex","-1")})}function $4(n){n.querySelectorAll("[data-tabindex]").forEach(t=>{const r=t.dataset.tabindex;delete t.dataset.tabindex,r?t.setAttribute("tabindex",r):t.removeAttribute("tabindex")})}function G4(n,e,t){let{reference:r,floating:o}=n;const l=Zr(e),a=q5(e),c=U5(a),d=_i(e),h=l==="y",m=r.x+r.width/2-o.width/2,g=r.y+r.height/2-o.height/2,b=r[c]/2-o[c]/2;let v;switch(d){case"top":v={x:m,y:r.y-o.height};break;case"bottom":v={x:m,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:g};break;case"left":v={x:r.x-o.width,y:g};break;default:v={x:r.x,y:r.y}}switch(Jf(e)){case"start":v[a]-=b*(t&&h?-1:1);break;case"end":v[a]+=b*(t&&h?-1:1);break}return v}const bA=async(n,e,t)=>{const{placement:r="bottom",strategy:o="absolute",middleware:l=[],platform:a}=t,c=l.filter(Boolean),d=await(a.isRTL==null?void 0:a.isRTL(e));let h=await a.getElementRects({reference:n,floating:e,strategy:o}),{x:m,y:g}=G4(h,r,d),b=r,v={},C=0;for(let S=0;S<c.length;S++){const{name:M,fn:k}=c[S],{x:O,y:D,data:P,reset:I}=await k({x:m,y:g,initialPlacement:r,placement:b,strategy:o,middlewareData:v,rects:h,platform:a,elements:{reference:n,floating:e}});m=O??m,g=D??g,v={...v,[M]:{...v[M],...P}},I&&C<=50&&(C++,typeof I=="object"&&(I.placement&&(b=I.placement),I.rects&&(h=I.rects===!0?await a.getElementRects({reference:n,floating:e,strategy:o}):I.rects),{x:m,y:g}=G4(h,b,d)),S=-1)}return{x:m,y:g,placement:b,strategy:o,middlewareData:v}};async function ov(n,e){var t;e===void 0&&(e={});const{x:r,y:o,platform:l,rects:a,elements:c,strategy:d}=n,{boundary:h="clippingAncestors",rootBoundary:m="viewport",elementContext:g="floating",altBoundary:b=!1,padding:v=0}=Zs(e,n),C=jk(v),M=c[b?g==="floating"?"reference":"floating":g],k=xf(await l.getClippingRect({element:(t=await(l.isElement==null?void 0:l.isElement(M)))==null||t?M:M.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(c.floating)),boundary:h,rootBoundary:m,strategy:d})),O=g==="floating"?{x:r,y:o,width:a.floating.width,height:a.floating.height}:a.reference,D=await(l.getOffsetParent==null?void 0:l.getOffsetParent(c.floating)),P=await(l.isElement==null?void 0:l.isElement(D))?await(l.getScale==null?void 0:l.getScale(D))||{x:1,y:1}:{x:1,y:1},I=xf(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:O,offsetParent:D,strategy:d}):O);return{top:(k.top-I.top+C.top)/P.y,bottom:(I.bottom-k.bottom+C.bottom)/P.y,left:(k.left-I.left+C.left)/P.x,right:(I.right-k.right+C.right)/P.x}}const vA=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:o,middlewareData:l,rects:a,initialPlacement:c,platform:d,elements:h}=e,{mainAxis:m=!0,crossAxis:g=!0,fallbackPlacements:b,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:S=!0,...M}=Zs(n,e);if((t=l.arrow)!=null&&t.alignmentOffset)return{};const k=_i(o),O=Zr(c),D=_i(c)===c,P=await(d.isRTL==null?void 0:d.isRTL(h.floating)),I=b||(D||!S?[Cf(c)]:Lk(c)),Q=C!=="none";!b&&Q&&I.push(...zk(c,S,C,P));const te=[c,...I],X=await ov(e,M),le=[];let ne=((r=l.flip)==null?void 0:r.overflows)||[];if(m&&le.push(X[k]),g){const re=Dk(o,a,P);le.push(X[re[0]],X[re[1]])}if(ne=[...ne,{placement:o,overflows:le}],!le.every(re=>re<=0)){var me,he;const re=(((me=l.flip)==null?void 0:me.index)||0)+1,$=te[re];if($&&(!(g==="alignment"?O!==Zr($):!1)||ne.every(z=>z.overflows[0]>0&&Zr(z.placement)===O)))return{data:{index:re,overflows:ne},reset:{placement:$}};let H=(he=ne.filter(U=>U.overflows[0]<=0).sort((U,z)=>U.overflows[1]-z.overflows[1])[0])==null?void 0:he.placement;if(!H)switch(v){case"bestFit":{var xe;const U=(xe=ne.filter(z=>{if(Q){const Y=Zr(z.placement);return Y===O||Y==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(Y=>Y>0).reduce((Y,A)=>Y+A,0)]).sort((z,Y)=>z[1]-Y[1])[0])==null?void 0:xe[0];U&&(H=U);break}case"initialPlacement":H=c;break}if(o!==H)return{reset:{placement:H}}}return{}}}};async function CA(n,e){const{placement:t,platform:r,elements:o}=n,l=await(r.isRTL==null?void 0:r.isRTL(o.floating)),a=_i(t),c=Jf(t),d=Zr(t)==="y",h=["left","top"].includes(a)?-1:1,m=l&&d?-1:1,g=Zs(e,n);let{mainAxis:b,crossAxis:v,alignmentAxis:C}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return c&&typeof C=="number"&&(v=c==="end"?C*-1:C),d?{x:v*m,y:b*h}:{x:b*h,y:v*m}}const xA=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:o,y:l,placement:a,middlewareData:c}=e,d=await CA(e,n);return a===((t=c.offset)==null?void 0:t.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:o+d.x,y:l+d.y,data:{...d,placement:a}}}}},SA=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:o}=e,{mainAxis:l=!0,crossAxis:a=!1,limiter:c={fn:M=>{let{x:k,y:O}=M;return{x:k,y:O}}},...d}=Zs(n,e),h={x:t,y:r},m=await ov(e,d),g=Zr(_i(o)),b=Pm(g);let v=h[b],C=h[g];if(l){const M=b==="y"?"top":"left",k=b==="y"?"bottom":"right",O=v+m[M],D=v-m[k];v=U4(O,v,D)}if(a){const M=g==="y"?"top":"left",k=g==="y"?"bottom":"right",O=C+m[M],D=C-m[k];C=U4(O,C,D)}const S=c.fn({...e,[b]:v,[g]:C});return{...S,data:{x:S.x-t,y:S.y-r,enabled:{[b]:l,[g]:a}}}}}},EA=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:o,rects:l,middlewareData:a}=e,{offset:c=0,mainAxis:d=!0,crossAxis:h=!0}=Zs(n,e),m={x:t,y:r},g=Zr(o),b=Pm(g);let v=m[b],C=m[g];const S=Zs(c,e),M=typeof S=="number"?{mainAxis:S,crossAxis:0}:{mainAxis:0,crossAxis:0,...S};if(d){const D=b==="y"?"height":"width",P=l.reference[b]-l.floating[D]+M.mainAxis,I=l.reference[b]+l.reference[D]-M.mainAxis;v<P?v=P:v>I&&(v=I)}if(h){var k,O;const D=b==="y"?"width":"height",P=["top","left"].includes(_i(o)),I=l.reference[g]-l.floating[D]+(P&&((k=a.offset)==null?void 0:k[g])||0)+(P?0:M.crossAxis),Q=l.reference[g]+l.reference[D]+(P?0:((O=a.offset)==null?void 0:O[g])||0)-(P?M.crossAxis:0);C<I?C=I:C>Q&&(C=Q)}return{[b]:v,[g]:C}}}};function sv(n){const e=tr(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const o=vt(n),l=o?n.offsetWidth:t,a=o?n.offsetHeight:r,c=vf(t)!==l||vf(r)!==a;return c&&(t=l,r=a),{width:t,height:r,$:c}}function Km(n){return nt(n)?n:n.contextElement}function _s(n){const e=Km(n);if(!vt(e))return vr(1);const t=e.getBoundingClientRect(),{width:r,height:o,$:l}=sv(e);let a=(l?vf(t.width):t.width)/r,c=(l?vf(t.height):t.height)/o;return(!a||!Number.isFinite(a))&&(a=1),(!c||!Number.isFinite(c))&&(c=1),{x:a,y:c}}const wA=vr(0);function lv(n){const e=An(n);return!Zf()||!e.visualViewport?wA:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function MA(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==An(n)?!1:e}function zo(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const o=n.getBoundingClientRect(),l=Km(n);let a=vr(1);e&&(r?nt(r)&&(a=_s(r)):a=_s(n));const c=MA(l,t,r)?lv(l):vr(0);let d=(o.left+c.x)/a.x,h=(o.top+c.y)/a.y,m=o.width/a.x,g=o.height/a.y;if(l){const b=An(l),v=r&&nt(r)?An(r):r;let C=b,S=G1(C);for(;S&&r&&v!==C;){const M=_s(S),k=S.getBoundingClientRect(),O=tr(S),D=k.left+(S.clientLeft+parseFloat(O.paddingLeft))*M.x,P=k.top+(S.clientTop+parseFloat(O.paddingTop))*M.y;d*=M.x,h*=M.y,m*=M.x,g*=M.y,d+=D,h+=P,C=An(S),S=G1(C)}}return xf({width:m,height:g,x:d,y:h})}function $m(n,e){const t=Yf(n).scrollLeft;return e?e.left+t:zo(Sr(n)).left+t}function av(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),o=r.left+e.scrollLeft-(t?0:$m(n,r)),l=r.top+e.scrollTop;return{x:o,y:l}}function TA(n){let{elements:e,rect:t,offsetParent:r,strategy:o}=n;const l=o==="fixed",a=Sr(r),c=e?Gf(e.floating):!1;if(r===a||c&&l)return t;let d={scrollLeft:0,scrollTop:0},h=vr(1);const m=vr(0),g=vt(r);if((g||!g&&!l)&&((Fi(r)!=="body"||Ua(a))&&(d=Yf(r)),vt(r))){const v=zo(r);h=_s(r),m.x=v.x+r.clientLeft,m.y=v.y+r.clientTop}const b=a&&!g&&!l?av(a,d,!0):vr(0);return{width:t.width*h.x,height:t.height*h.y,x:t.x*h.x-d.scrollLeft*h.x+m.x+b.x,y:t.y*h.y-d.scrollTop*h.y+m.y+b.y}}function kA(n){return Array.from(n.getClientRects())}function AA(n){const e=Sr(n),t=Yf(n),r=n.ownerDocument.body,o=Ro(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),l=Ro(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-t.scrollLeft+$m(n);const c=-t.scrollTop;return tr(r).direction==="rtl"&&(a+=Ro(e.clientWidth,r.clientWidth)-o),{width:o,height:l,x:a,y:c}}function RA(n,e){const t=An(n),r=Sr(n),o=t.visualViewport;let l=r.clientWidth,a=r.clientHeight,c=0,d=0;if(o){l=o.width,a=o.height;const h=Zf();(!h||h&&e==="fixed")&&(c=o.offsetLeft,d=o.offsetTop)}return{width:l,height:a,x:c,y:d}}function OA(n,e){const t=zo(n,!0,e==="fixed"),r=t.top+n.clientTop,o=t.left+n.clientLeft,l=vt(n)?_s(n):vr(1),a=n.clientWidth*l.x,c=n.clientHeight*l.y,d=o*l.x,h=r*l.y;return{width:a,height:c,x:d,y:h}}function Z4(n,e,t){let r;if(e==="viewport")r=RA(n,t);else if(e==="document")r=AA(Sr(n));else if(nt(e))r=OA(e,t);else{const o=lv(n);r={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return xf(r)}function uv(n,e){const t=Wr(n);return t===e||!nt(t)||Xr(t)?!1:tr(t).position==="fixed"||uv(t,e)}function NA(n,e){const t=e.get(n);if(t)return t;let r=ji(n,[],!1).filter(c=>nt(c)&&Fi(c)!=="body"),o=null;const l=tr(n).position==="fixed";let a=l?Wr(n):n;for(;nt(a)&&!Xr(a);){const c=tr(a),d=qm(a);!d&&c.position==="fixed"&&(o=null),(l?!d&&!o:!d&&c.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Ua(a)&&!d&&uv(n,a))?r=r.filter(m=>m!==a):o=c,a=Wr(a)}return e.set(n,r),r}function DA(n){let{element:e,boundary:t,rootBoundary:r,strategy:o}=n;const a=[...t==="clippingAncestors"?Gf(e)?[]:NA(e,this._c):[].concat(t),r],c=a[0],d=a.reduce((h,m)=>{const g=Z4(e,m,o);return h.top=Ro(g.top,h.top),h.right=bf(g.right,h.right),h.bottom=bf(g.bottom,h.bottom),h.left=Ro(g.left,h.left),h},Z4(e,c,o));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function LA(n){const{width:e,height:t}=sv(n);return{width:e,height:t}}function HA(n,e,t){const r=vt(e),o=Sr(e),l=t==="fixed",a=zo(n,!0,l,e);let c={scrollLeft:0,scrollTop:0};const d=vr(0);function h(){d.x=$m(o)}if(r||!r&&!l)if((Fi(e)!=="body"||Ua(o))&&(c=Yf(e)),r){const v=zo(e,!0,l,e);d.x=v.x+e.clientLeft,d.y=v.y+e.clientTop}else o&&h();l&&!r&&o&&h();const m=o&&!r&&!l?av(o,c):vr(0),g=a.left+c.scrollLeft-d.x-m.x,b=a.top+c.scrollTop-d.y-m.y;return{x:g,y:b,width:a.width,height:a.height}}function i1(n){return tr(n).position==="static"}function Y4(n,e){if(!vt(n)||tr(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Sr(n)===t&&(t=t.ownerDocument.body),t}function cv(n,e){const t=An(n);if(Gf(n))return t;if(!vt(n)){let o=Wr(n);for(;o&&!Xr(o);){if(nt(o)&&!i1(o))return o;o=Wr(o)}return t}let r=Y4(n,e);for(;r&&Ak(r)&&i1(r);)r=Y4(r,e);return r&&Xr(r)&&i1(r)&&!qm(r)?t:r||Rk(n)||t}const zA=async function(n){const e=this.getOffsetParent||cv,t=this.getDimensions,r=await t(n.floating);return{reference:HA(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function BA(n){return tr(n).direction==="rtl"}const jA={convertOffsetParentRelativeRectToViewportRelativeRect:TA,getDocumentElement:Sr,getClippingRect:DA,getOffsetParent:cv,getElementRects:zA,getClientRects:kA,getDimensions:LA,getScale:_s,isElement:nt,isRTL:BA};function fv(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function IA(n,e){let t=null,r;const o=Sr(n);function l(){var c;clearTimeout(r),(c=t)==null||c.disconnect(),t=null}function a(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),l();const h=n.getBoundingClientRect(),{left:m,top:g,width:b,height:v}=h;if(c||e(),!b||!v)return;const C=js(g),S=js(o.clientWidth-(m+b)),M=js(o.clientHeight-(g+v)),k=js(m),D={rootMargin:-C+"px "+-S+"px "+-M+"px "+-k+"px",threshold:Ro(0,bf(1,d))||1};let P=!0;function I(Q){const te=Q[0].intersectionRatio;if(te!==d){if(!P)return a();te?a(!1,te):r=setTimeout(()=>{a(!1,1e-7)},1e3)}te===1&&!fv(h,n.getBoundingClientRect())&&a(),P=!1}try{t=new IntersectionObserver(I,{...D,root:o.ownerDocument})}catch{t=new IntersectionObserver(I,D)}t.observe(n)}return a(!0),l}function Gm(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:l=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,h=Km(n),m=o||l?[...h?ji(h):[],...ji(e)]:[];m.forEach(k=>{o&&k.addEventListener("scroll",t,{passive:!0}),l&&k.addEventListener("resize",t)});const g=h&&c?IA(h,t):null;let b=-1,v=null;a&&(v=new ResizeObserver(k=>{let[O]=k;O&&O.target===h&&v&&(v.unobserve(e),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var D;(D=v)==null||D.observe(e)})),t()}),h&&!d&&v.observe(h),v.observe(e));let C,S=d?zo(n):null;d&&M();function M(){const k=zo(n);S&&!fv(S,k)&&t(),S=k,C=requestAnimationFrame(M)}return t(),()=>{var k;m.forEach(O=>{o&&O.removeEventListener("scroll",t),l&&O.removeEventListener("resize",t)}),g?.(),(k=v)==null||k.disconnect(),v=null,d&&cancelAnimationFrame(C)}}const VA=xA,_A=SA,UA=vA,qA=EA,PA=(n,e,t)=>{const r=new Map,o={platform:jA,...t},l={...o.platform,_c:r};return bA(n,e,{...o,platform:l})};var FA=typeof document<"u",KA=function(){},Ac=FA?w.useLayoutEffect:KA;function Tf(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,o;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Tf(n[r],e[r]))return!1;return!0}if(o=Object.keys(n),t=o.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,o[r]))return!1;for(r=t;r--!==0;){const l=o[r];if(!(l==="_owner"&&n.$$typeof)&&!Tf(n[l],e[l]))return!1}return!0}return n!==n&&e!==e}function dv(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function J4(n,e){const t=dv(n);return Math.round(e*t)/t}function o1(n){const e=w.useRef(n);return Ac(()=>{e.current=n}),e}function $A(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:o,elements:{reference:l,floating:a}={},transform:c=!0,whileElementsMounted:d,open:h}=n,[m,g]=w.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[b,v]=w.useState(r);Tf(b,r)||v(r);const[C,S]=w.useState(null),[M,k]=w.useState(null),O=w.useCallback(z=>{z!==Q.current&&(Q.current=z,S(z))},[]),D=w.useCallback(z=>{z!==te.current&&(te.current=z,k(z))},[]),P=l||C,I=a||M,Q=w.useRef(null),te=w.useRef(null),X=w.useRef(m),le=d!=null,ne=o1(d),me=o1(o),he=o1(h),xe=w.useCallback(()=>{if(!Q.current||!te.current)return;const z={placement:e,strategy:t,middleware:b};me.current&&(z.platform=me.current),PA(Q.current,te.current,z).then(Y=>{const A={...Y,isPositioned:he.current!==!1};re.current&&!Tf(X.current,A)&&(X.current=A,Pf.flushSync(()=>{g(A)}))})},[b,e,t,me,he]);Ac(()=>{h===!1&&X.current.isPositioned&&(X.current.isPositioned=!1,g(z=>({...z,isPositioned:!1})))},[h]);const re=w.useRef(!1);Ac(()=>(re.current=!0,()=>{re.current=!1}),[]),Ac(()=>{if(P&&(Q.current=P),I&&(te.current=I),P&&I){if(ne.current)return ne.current(P,I,xe);xe()}},[P,I,xe,ne,le]);const $=w.useMemo(()=>({reference:Q,floating:te,setReference:O,setFloating:D}),[O,D]),H=w.useMemo(()=>({reference:P,floating:I}),[P,I]),U=w.useMemo(()=>{const z={position:t,left:0,top:0};if(!H.floating)return z;const Y=J4(H.floating,m.x),A=J4(H.floating,m.y);return c?{...z,transform:"translate("+Y+"px, "+A+"px)",...dv(H.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:Y,top:A}},[t,c,H.floating,m.x,m.y]);return w.useMemo(()=>({...m,update:xe,refs:$,elements:H,floatingStyles:U}),[m,xe,$,H,U])}const Zm=(n,e)=>({...VA(n),options:[n,e]}),Ym=(n,e)=>({..._A(n),options:[n,e]}),GA=(n,e)=>({...qA(n),options:[n,e]}),Jm=(n,e)=>({...UA(n),options:[n,e]});function Io(n){const e=w.useRef(void 0),t=w.useCallback(r=>{const o=n.map(l=>{if(l!=null){if(typeof l=="function"){const a=l,c=a(r);return typeof c=="function"?c:()=>{a(null)}}return l.current=r,()=>{l.current=null}}});return()=>{o.forEach(l=>l?.())}},n);return w.useMemo(()=>n.every(r=>r==null)?null:r=>{e.current&&(e.current(),e.current=void 0),r!=null&&(e.current=t(r))},n)}function ZA(n,e){const t=n.compareDocumentPosition(e);return t&Node.DOCUMENT_POSITION_FOLLOWING||t&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:t&Node.DOCUMENT_POSITION_PRECEDING||t&Node.DOCUMENT_POSITION_CONTAINS?1:0}const hv=w.createContext({register:()=>{},unregister:()=>{},map:new Map,elementsRef:{current:[]}});function YA(n){const{children:e,elementsRef:t,labelsRef:r}=n,[o,l]=w.useState(()=>new Set),a=w.useCallback(h=>{l(m=>new Set(m).add(h))},[]),c=w.useCallback(h=>{l(m=>{const g=new Set(m);return g.delete(h),g})},[]),d=w.useMemo(()=>{const h=new Map;return Array.from(o.keys()).sort(ZA).forEach((g,b)=>{h.set(g,b)}),h},[o]);return x.jsx(hv.Provider,{value:w.useMemo(()=>({register:a,unregister:c,map:d,elementsRef:t,labelsRef:r}),[a,c,d,t,r]),children:e})}function JA(n){n===void 0&&(n={});const{label:e}=n,{register:t,unregister:r,map:o,elementsRef:l,labelsRef:a}=w.useContext(hv),[c,d]=w.useState(null),h=w.useRef(null),m=w.useCallback(g=>{if(h.current=g,c!==null&&(l.current[c]=g,a)){var b;const v=e!==void 0;a.current[c]=v?e:(b=g?.textContent)!=null?b:null}},[c,l,a,e]);return tt(()=>{const g=h.current;if(g)return t(g),()=>{r(g)}},[t,r]),tt(()=>{const g=h.current?o.get(h.current):null;g!=null&&d(g)},[o]),w.useMemo(()=>({ref:m,index:c??-1}),[c,m])}const QA="data-floating-ui-focusable",Q4="active",X4="selected",Pa="ArrowLeft",Fa="ArrowRight",pv="ArrowUp",Xf="ArrowDown",XA={...x3};let W4=!1,WA=0;const e3=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+WA++;function eR(){const[n,e]=w.useState(()=>W4?e3():void 0);return tt(()=>{n==null&&e(e3())},[]),w.useEffect(()=>{W4=!0},[]),n}const tR=XA.useId,Qm=tR||eR;function nR(){const n=new Map;return{emit(e,t){var r;(r=n.get(e))==null||r.forEach(o=>o(t))},on(e,t){n.has(e)||n.set(e,new Set),n.get(e).add(t)},off(e,t){var r;(r=n.get(e))==null||r.delete(t)}}}const rR=w.createContext(null),iR=w.createContext(null),Wf=()=>{var n;return((n=w.useContext(rR))==null?void 0:n.id)||null},Ka=()=>w.useContext(iR);function Bo(n){return"data-floating-ui-"+n}function an(n){n.current!==-1&&(clearTimeout(n.current),n.current=-1)}const t3=Bo("safe-polygon");function s1(n,e,t){if(t&&!Na(t))return 0;if(typeof n=="number")return n;if(typeof n=="function"){const r=n();return typeof r=="number"?r:r?.[e]}return n?.[e]}function l1(n){return typeof n=="function"?n():n}function oR(n,e){e===void 0&&(e={});const{open:t,onOpenChange:r,dataRef:o,events:l,elements:a}=n,{enabled:c=!0,delay:d=0,handleClose:h=null,mouseOnly:m=!1,restMs:g=0,move:b=!0}=e,v=Ka(),C=Wf(),S=Mn(h),M=Mn(d),k=Mn(t),O=Mn(g),D=w.useRef(),P=w.useRef(-1),I=w.useRef(),Q=w.useRef(-1),te=w.useRef(!0),X=w.useRef(!1),le=w.useRef(()=>{}),ne=w.useRef(!1),me=Ct(()=>{var U;const z=(U=o.current.openEvent)==null?void 0:U.type;return z?.includes("mouse")&&z!=="mousedown"});w.useEffect(()=>{if(!c)return;function U(z){let{open:Y}=z;Y||(an(P),an(Q),te.current=!0,ne.current=!1)}return l.on("openchange",U),()=>{l.off("openchange",U)}},[c,l]),w.useEffect(()=>{if(!c||!S.current||!t)return;function U(Y){me()&&r(!1,Y,"hover")}const z=Kt(a.floating).documentElement;return z.addEventListener("mouseleave",U),()=>{z.removeEventListener("mouseleave",U)}},[a.floating,t,r,c,S,me]);const he=w.useCallback(function(U,z,Y){z===void 0&&(z=!0),Y===void 0&&(Y="hover");const A=s1(M.current,"close",D.current);A&&!I.current?(an(P),P.current=window.setTimeout(()=>r(!1,U,Y),A)):z&&(an(P),r(!1,U,Y))},[M,r]),xe=Ct(()=>{le.current(),I.current=void 0}),re=Ct(()=>{if(X.current){const U=Kt(a.floating).body;U.style.pointerEvents="",U.removeAttribute(t3),X.current=!1}}),$=Ct(()=>o.current.openEvent?["click","mousedown"].includes(o.current.openEvent.type):!1);w.useEffect(()=>{if(!c)return;function U(q){if(an(P),te.current=!1,m&&!Na(D.current)||l1(O.current)>0&&!s1(M.current,"open"))return;const J=s1(M.current,"open",D.current);J?P.current=window.setTimeout(()=>{k.current||r(!0,q,"hover")},J):t||r(!0,q,"hover")}function z(q){if($()){re();return}le.current();const J=Kt(a.floating);if(an(Q),ne.current=!1,S.current&&o.current.floatingContext){t||an(P),I.current=S.current({...o.current.floatingContext,tree:v,x:q.clientX,y:q.clientY,onClose(){re(),xe(),$()||he(q,!0,"safe-polygon")}});const Ce=I.current;J.addEventListener("mousemove",Ce),le.current=()=>{J.removeEventListener("mousemove",Ce)};return}(D.current==="touch"?!Ut(a.floating,q.relatedTarget):!0)&&he(q)}function Y(q){$()||o.current.floatingContext&&(S.current==null||S.current({...o.current.floatingContext,tree:v,x:q.clientX,y:q.clientY,onClose(){re(),xe(),$()||he(q)}})(q))}function A(){an(P)}function F(q){$()||he(q,!1)}if(nt(a.domReference)){const q=a.domReference,J=a.floating;return t&&q.addEventListener("mouseleave",Y),b&&q.addEventListener("mousemove",U,{once:!0}),q.addEventListener("mouseenter",U),q.addEventListener("mouseleave",z),J&&(J.addEventListener("mouseleave",Y),J.addEventListener("mouseenter",A),J.addEventListener("mouseleave",F)),()=>{t&&q.removeEventListener("mouseleave",Y),b&&q.removeEventListener("mousemove",U),q.removeEventListener("mouseenter",U),q.removeEventListener("mouseleave",z),J&&(J.removeEventListener("mouseleave",Y),J.removeEventListener("mouseenter",A),J.removeEventListener("mouseleave",F))}}},[a,c,n,m,b,he,xe,re,r,t,k,v,M,S,o,$,O]),tt(()=>{var U;if(c&&t&&(U=S.current)!=null&&(U=U.__options)!=null&&U.blockPointerEvents&&me()){X.current=!0;const Y=a.floating;if(nt(a.domReference)&&Y){var z;const A=Kt(a.floating).body;A.setAttribute(t3,"");const F=a.domReference,q=v==null||(z=v.nodesRef.current.find(J=>J.id===C))==null||(z=z.context)==null?void 0:z.elements.floating;return q&&(q.style.pointerEvents=""),A.style.pointerEvents="none",F.style.pointerEvents="auto",Y.style.pointerEvents="auto",()=>{A.style.pointerEvents="",F.style.pointerEvents="",Y.style.pointerEvents=""}}}},[c,t,C,a,v,S,me]),tt(()=>{t||(D.current=void 0,ne.current=!1,xe(),re())},[t,xe,re]),w.useEffect(()=>()=>{xe(),an(P),an(Q),re()},[c,a.domReference,xe,re]);const H=w.useMemo(()=>{function U(z){D.current=z.pointerType}return{onPointerDown:U,onPointerEnter:U,onMouseMove(z){const{nativeEvent:Y}=z;function A(){!te.current&&!k.current&&r(!0,Y,"hover")}m&&!Na(D.current)||t||l1(O.current)===0||ne.current&&z.movementX**2+z.movementY**2<2||(an(Q),D.current==="touch"?A():(ne.current=!0,Q.current=window.setTimeout(A,l1(O.current))))}}},[m,r,t,k,O]);return w.useMemo(()=>c?{reference:H}:{},[c,H])}const n3=()=>{},sR=w.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:n3,setState:n3,isInstantPhase:!1});function lR(n){const{children:e,delay:t,timeoutMs:r=0}=n,[o,l]=w.useReducer((d,h)=>({...d,...h}),{delay:t,timeoutMs:r,initialDelay:t,currentId:null,isInstantPhase:!1}),a=w.useRef(null),c=w.useCallback(d=>{l({currentId:d})},[]);return tt(()=>{o.currentId?a.current===null?a.current=o.currentId:o.isInstantPhase||l({isInstantPhase:!0}):(o.isInstantPhase&&l({isInstantPhase:!1}),a.current=null)},[o.currentId,o.isInstantPhase]),x.jsx(sR.Provider,{value:w.useMemo(()=>({...o,setState:l,setCurrentId:c}),[o,c]),children:e})}let r3=0;function ho(n,e){e===void 0&&(e={});const{preventScroll:t=!1,cancelPrevious:r=!0,sync:o=!1}=e;r&&cancelAnimationFrame(r3);const l=()=>n?.focus({preventScroll:t});o?l():r3=requestAnimationFrame(l)}function aR(n){return n?.ownerDocument||document}const Us={inert:new WeakMap,"aria-hidden":new WeakMap,none:new WeakMap};function i3(n){return n==="inert"?Us.inert:n==="aria-hidden"?Us["aria-hidden"]:Us.none}let gc=new WeakSet,yc={},a1=0;const uR=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,mv=n=>n&&(n.host||mv(n.parentNode)),cR=(n,e)=>e.map(t=>{if(n.contains(t))return t;const r=mv(t);return n.contains(r)?r:null}).filter(t=>t!=null);function fR(n,e,t,r){const o="data-floating-ui-inert",l=r?"inert":t?"aria-hidden":null,a=cR(e,n),c=new Set,d=new Set(a),h=[];yc[o]||(yc[o]=new WeakMap);const m=yc[o];a.forEach(g),b(e),c.clear();function g(v){!v||c.has(v)||(c.add(v),v.parentNode&&g(v.parentNode))}function b(v){!v||d.has(v)||[].forEach.call(v.children,C=>{if(Fi(C)!=="script")if(c.has(C))b(C);else{const S=l?C.getAttribute(l):null,M=S!==null&&S!=="false",k=i3(l),O=(k.get(C)||0)+1,D=(m.get(C)||0)+1;k.set(C,O),m.set(C,D),h.push(C),O===1&&M&&gc.add(C),D===1&&C.setAttribute(o,""),!M&&l&&C.setAttribute(l,l==="inert"?"":"true")}})}return a1++,()=>{h.forEach(v=>{const C=i3(l),M=(C.get(v)||0)-1,k=(m.get(v)||0)-1;C.set(v,M),m.set(v,k),M||(!gc.has(v)&&l&&v.removeAttribute(l),gc.delete(v)),k||v.removeAttribute(o)}),a1--,a1||(Us.inert=new WeakMap,Us["aria-hidden"]=new WeakMap,Us.none=new WeakMap,gc=new WeakSet,yc={})}}function o3(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);const r=aR(n[0]).body;return fR(n.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,e,t)}const ed={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0},kf=w.forwardRef(function(e,t){const[r,o]=w.useState();tt(()=>{X5()&&o("button")},[]);const l={ref:t,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[Bo("focus-guard")]:"",style:ed};return x.jsx("span",{...e,...l})}),gv=w.createContext(null),s3=Bo("portal");function dR(n){n===void 0&&(n={});const{id:e,root:t}=n,r=Qm(),o=yv(),[l,a]=w.useState(null),c=w.useRef(null);return tt(()=>()=>{l?.remove(),queueMicrotask(()=>{c.current=null})},[l]),tt(()=>{if(!r||c.current)return;const d=e?document.getElementById(e):null;if(!d)return;const h=document.createElement("div");h.id=r,h.setAttribute(s3,""),d.appendChild(h),c.current=h,a(h)},[e,r]),tt(()=>{if(t===null||!r||c.current)return;let d=t||o?.portalNode;d&&!nt(d)&&(d=d.current),d=d||document.body;let h=null;e&&(h=document.createElement("div"),h.id=e,d.appendChild(h));const m=document.createElement("div");m.id=r,m.setAttribute(s3,""),d=h||d,d.appendChild(m),c.current=m,a(m)},[e,t,r,o]),l}function Xm(n){const{children:e,id:t,root:r,preserveTabOrder:o=!0}=n,l=dR({id:t,root:r}),[a,c]=w.useState(null),d=w.useRef(null),h=w.useRef(null),m=w.useRef(null),g=w.useRef(null),b=a?.modal,v=a?.open,C=!!a&&!a.modal&&a.open&&o&&!!(r||l);return w.useEffect(()=>{if(!l||!o||b)return;function S(M){l&&ya(M)&&(M.type==="focusin"?$4:yA)(l)}return l.addEventListener("focusin",S,!0),l.addEventListener("focusout",S,!0),()=>{l.removeEventListener("focusin",S,!0),l.removeEventListener("focusout",S,!0)}},[l,o,b]),w.useEffect(()=>{l&&(v||$4(l))},[v,l]),x.jsxs(gv.Provider,{value:w.useMemo(()=>({preserveTabOrder:o,beforeOutsideRef:d,afterOutsideRef:h,beforeInsideRef:m,afterInsideRef:g,portalNode:l,setFocusManagerState:c}),[o,l]),children:[C&&l&&x.jsx(kf,{"data-type":"outside",ref:d,onFocus:S=>{if(ya(S,l)){var M;(M=m.current)==null||M.focus()}else{const k=a?a.domReference:null,O=iv(k);O?.focus()}}}),C&&l&&x.jsx("span",{"aria-owns":l.id,style:ed}),l&&Pf.createPortal(e,l),C&&l&&x.jsx(kf,{"data-type":"outside",ref:h,onFocus:S=>{if(ya(S,l)){var M;(M=g.current)==null||M.focus()}else{const k=a?a.domReference:null,O=rv(k);O?.focus(),a?.closeOnFocusOut&&a?.onOpenChange(!1,S.nativeEvent,"focus-out")}}})]})}const yv=()=>w.useContext(gv);function l3(n){return w.useMemo(()=>e=>{n.forEach(t=>{t&&(t.current=e)})},n)}const hR=20;let po=[];function pR(n){po=po.filter(e=>e.isConnected),n&&Fi(n)!=="body"&&(po.push(n),po.length>hR&&(po=po.slice(-20)))}function a3(){return po.slice().reverse().find(n=>n.isConnected)}function mR(n){const e=qa();return Y5(n,e)?n:Qf(n,e)[0]||n}function u3(n,e){var t;if(!e.current.includes("floating")&&!((t=n.getAttribute("role"))!=null&&t.includes("dialog")))return;const r=qa(),l=Wk(n,r).filter(c=>{const d=c.getAttribute("data-tabindex")||"";return Y5(c,r)||c.hasAttribute("data-tabindex")&&!d.startsWith("-")}),a=n.getAttribute("tabindex");e.current.includes("floating")||l.length===0?a!=="0"&&n.setAttribute("tabindex","0"):(a!=="-1"||n.hasAttribute("data-tabindex")&&n.getAttribute("data-tabindex")!=="-1")&&(n.setAttribute("tabindex","-1"),n.setAttribute("data-tabindex","-1"))}const gR=w.forwardRef(function(e,t){return x.jsx("button",{...e,type:"button",ref:t,tabIndex:-1,style:ed})});function bv(n){const{context:e,children:t,disabled:r=!1,order:o=["content"],guards:l=!0,initialFocus:a=0,returnFocus:c=!0,restoreFocus:d=!1,modal:h=!0,visuallyHiddenDismiss:m=!1,closeOnFocusOut:g=!0,outsideElementsInert:b=!1,getInsideElements:v=()=>[]}=n,{open:C,onOpenChange:S,events:M,dataRef:k,elements:{domReference:O,floating:D}}=e,P=Ct(()=>{var Se;return(Se=k.current.floatingContext)==null?void 0:Se.nodeId}),I=Ct(v),Q=typeof a=="number"&&a<0,te=X1(O)&&Q,X=uR(),le=X?l:!0,ne=!le||X&&b,me=Mn(o),he=Mn(a),xe=Mn(c),re=Ka(),$=yv(),H=w.useRef(null),U=w.useRef(null),z=w.useRef(!1),Y=w.useRef(!1),A=w.useRef(-1),F=$!=null,q=Mf(D),J=Ct(function(Se){return Se===void 0&&(Se=q),Se?Qf(Se,qa()):[]}),ie=Ct(Se=>{const Ne=J(Se);return me.current.map(Ee=>O&&Ee==="reference"?O:q&&Ee==="floating"?q:Ne).filter(Boolean).flat()});w.useEffect(()=>{if(r||!h)return;function Se(Ee){if(Ee.key==="Tab"){Ut(q,br(Kt(q)))&&J().length===0&&!te&&qt(Ee);const we=ie(),ut=$r(Ee);me.current[0]==="reference"&&ut===O&&(qt(Ee),Ee.shiftKey?ho(we[we.length-1]):ho(we[1])),me.current[1]==="floating"&&ut===q&&Ee.shiftKey&&(qt(Ee),ho(we[0]))}}const Ne=Kt(q);return Ne.addEventListener("keydown",Se),()=>{Ne.removeEventListener("keydown",Se)}},[r,O,q,h,me,te,J,ie]),w.useEffect(()=>{if(r||!D)return;function Se(Ne){const Ee=$r(Ne),ut=J().indexOf(Ee);ut!==-1&&(A.current=ut)}return D.addEventListener("focusin",Se),()=>{D.removeEventListener("focusin",Se)}},[r,D,J]),w.useEffect(()=>{if(r||!g)return;function Se(){Y.current=!0,setTimeout(()=>{Y.current=!1})}function Ne(Ee){const we=Ee.relatedTarget,ut=Ee.currentTarget,st=$r(Ee);queueMicrotask(()=>{const Xe=P(),Bt=!(Ut(O,we)||Ut(D,we)||Ut(we,D)||Ut($?.portalNode,we)||we!=null&&we.hasAttribute(Bo("focus-guard"))||re&&(Vs(re.nodesRef.current,Xe).find(_e=>{var Ye,Zt;return Ut((Ye=_e.context)==null?void 0:Ye.elements.floating,we)||Ut((Zt=_e.context)==null?void 0:Zt.elements.domReference,we)})||F4(re.nodesRef.current,Xe).find(_e=>{var Ye,Zt,de;return[(Ye=_e.context)==null?void 0:Ye.elements.floating,Mf((Zt=_e.context)==null?void 0:Zt.elements.floating)].includes(we)||((de=_e.context)==null?void 0:de.elements.domReference)===we})));if(ut===O&&q&&u3(q,me),d&&ut!==O&&!(st!=null&&st.isConnected)&&br(Kt(q))===Kt(q).body){vt(q)&&q.focus();const _e=A.current,Ye=J(),Zt=Ye[_e]||Ye[Ye.length-1]||q;vt(Zt)&&Zt.focus()}if(k.current.insideReactTree){k.current.insideReactTree=!1;return}(te||!h)&&we&&Bt&&!Y.current&&we!==a3()&&(z.current=!0,S(!1,Ee,"focus-out"))})}if(D&&vt(O))return O.addEventListener("focusout",Ne),O.addEventListener("pointerdown",Se),D.addEventListener("focusout",Ne),()=>{O.removeEventListener("focusout",Ne),O.removeEventListener("pointerdown",Se),D.removeEventListener("focusout",Ne)}},[r,O,D,q,h,re,$,S,g,d,J,te,P,me,k]);const Ce=w.useRef(null),oe=w.useRef(null),qe=l3([Ce,$?.beforeInsideRef]),He=l3([oe,$?.afterInsideRef]);w.useEffect(()=>{var Se,Ne;if(r||!D)return;const Ee=Array.from(($==null||(Se=$.portalNode)==null?void 0:Se.querySelectorAll("["+Bo("portal")+"]"))||[]),we=re?F4(re.nodesRef.current,P()):[],ut=re&&!h?we.map(_e=>{var Ye;return(Ye=_e.context)==null?void 0:Ye.elements.floating}):[],st=(Ne=we.find(_e=>{var Ye;return X1(((Ye=_e.context)==null?void 0:Ye.elements.domReference)||null)}))==null||(Ne=Ne.context)==null?void 0:Ne.elements.domReference,Xe=[D,st,...Ee,...ut,...I(),H.current,U.current,Ce.current,oe.current,$?.beforeOutsideRef.current,$?.afterOutsideRef.current,me.current.includes("reference")||te?O:null].filter(_e=>_e!=null),Bt=h||te?o3(Xe,!ne,ne):o3(Xe);return()=>{Bt()}},[r,O,D,h,me,$,te,le,ne,re,P,I]),tt(()=>{if(r||!vt(q))return;const Se=Kt(q),Ne=br(Se);queueMicrotask(()=>{const Ee=ie(q),we=he.current,ut=(typeof we=="number"?Ee[we]:we.current)||q,st=Ut(q,Ne);!Q&&!st&&C&&ho(ut,{preventScroll:ut===q})})},[r,C,q,Q,ie,he]),tt(()=>{if(r||!q)return;const Se=Kt(q),Ne=br(Se);pR(Ne);function Ee(st){let{reason:Xe,event:Bt,nested:_e}=st;if(["hover","safe-polygon"].includes(Xe)&&Bt.type==="mouseleave"&&(z.current=!0),Xe==="outside-press")if(_e)z.current=!1;else if(ev(Bt)||tv(Bt))z.current=!1;else{let Ye=!1;document.createElement("div").focus({get preventScroll(){return Ye=!0,!1}}),Ye?z.current=!1:z.current=!0}}M.on("openchange",Ee);const we=Se.createElement("span");we.setAttribute("tabindex","-1"),we.setAttribute("aria-hidden","true"),Object.assign(we.style,ed),F&&O&&O.insertAdjacentElement("afterend",we);function ut(){if(typeof xe.current=="boolean"){const st=O||a3();return st&&st.isConnected?st:we}return xe.current.current||we}return()=>{M.off("openchange",Ee);const st=br(Se),Xe=Ut(D,st)||re&&Vs(re.nodesRef.current,P()).some(_e=>{var Ye;return Ut((Ye=_e.context)==null?void 0:Ye.elements.floating,st)}),Bt=ut();queueMicrotask(()=>{const _e=mR(Bt);xe.current&&!z.current&&vt(_e)&&(!(_e!==st&&st!==Se.body)||Xe)&&_e.focus({preventScroll:!0}),we.remove()})}},[r,D,q,xe,k,M,re,F,O,P]),w.useEffect(()=>{queueMicrotask(()=>{z.current=!1})},[r]),tt(()=>{if(!r&&$)return $.setFocusManagerState({modal:h,closeOnFocusOut:g,open:C,onOpenChange:S,domReference:O}),()=>{$.setFocusManagerState(null)}},[r,$,h,C,S,g,O]),tt(()=>{r||q&&u3(q,me)},[r,q,me]);function Gt(Se){return r||!m||!h?null:x.jsx(gR,{ref:Se==="start"?H:U,onClick:Ne=>S(!1,Ne.nativeEvent),children:typeof m=="string"?m:"Dismiss"})}const On=!r&&le&&(h?!te:!0)&&(F||h);return x.jsxs(x.Fragment,{children:[On&&x.jsx(kf,{"data-type":"inside",ref:qe,onFocus:Se=>{if(h){const Ee=ie();ho(o[0]==="reference"?Ee[0]:Ee[Ee.length-1])}else if($!=null&&$.preserveTabOrder&&$.portalNode)if(z.current=!1,ya(Se,$.portalNode)){const Ee=rv(O);Ee?.focus()}else{var Ne;(Ne=$.beforeOutsideRef.current)==null||Ne.focus()}}}),!te&&Gt("start"),t,Gt("end"),On&&x.jsx(kf,{"data-type":"inside",ref:He,onFocus:Se=>{if(h)ho(ie()[0]);else if($!=null&&$.preserveTabOrder&&$.portalNode)if(g&&(z.current=!0),ya(Se,$.portalNode)){const Ee=iv(O);Ee?.focus()}else{var Ne;(Ne=$.afterOutsideRef.current)==null||Ne.focus()}}})]})}function c3(n){return vt(n.target)&&n.target.tagName==="BUTTON"}function yR(n){return vt(n.target)&&n.target.tagName==="A"}function f3(n){return Fm(n)}function vv(n,e){e===void 0&&(e={});const{open:t,onOpenChange:r,dataRef:o,elements:{domReference:l}}=n,{enabled:a=!0,event:c="click",toggle:d=!0,ignoreMouse:h=!1,keyboardHandlers:m=!0,stickIfOpen:g=!0}=e,b=w.useRef(),v=w.useRef(!1),C=w.useMemo(()=>({onPointerDown(S){b.current=S.pointerType},onMouseDown(S){const M=b.current;S.button===0&&c!=="click"&&(Na(M,!0)&&h||(t&&d&&(!(o.current.openEvent&&g)||o.current.openEvent.type==="mousedown")?r(!1,S.nativeEvent,"click"):(S.preventDefault(),r(!0,S.nativeEvent,"click"))))},onClick(S){const M=b.current;if(c==="mousedown"&&b.current){b.current=void 0;return}Na(M,!0)&&h||(t&&d&&(!(o.current.openEvent&&g)||o.current.openEvent.type==="click")?r(!1,S.nativeEvent,"click"):r(!0,S.nativeEvent,"click"))},onKeyDown(S){b.current=void 0,!(S.defaultPrevented||!m||c3(S))&&(S.key===" "&&!f3(l)&&(S.preventDefault(),v.current=!0),!yR(S)&&S.key==="Enter"&&r(!(t&&d),S.nativeEvent,"click"))},onKeyUp(S){S.defaultPrevented||!m||c3(S)||f3(l)||S.key===" "&&v.current&&(v.current=!1,r(!(t&&d),S.nativeEvent,"click"))}}),[o,l,c,h,m,r,t,g,d]);return w.useMemo(()=>a?{reference:C}:{},[a,C])}const bR={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},vR={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},d3=n=>{var e,t;return{escapeKey:typeof n=="boolean"?n:(e=n?.escapeKey)!=null?e:!1,outsidePress:typeof n=="boolean"?n:(t=n?.outsidePress)!=null?t:!0}};function Wm(n,e){e===void 0&&(e={});const{open:t,onOpenChange:r,elements:o,dataRef:l}=n,{enabled:a=!0,escapeKey:c=!0,outsidePress:d=!0,outsidePressEvent:h="pointerdown",referencePress:m=!1,referencePressEvent:g="pointerdown",ancestorScroll:b=!1,bubbles:v,capture:C}=e,S=Ka(),M=Ct(typeof d=="function"?d:()=>!1),k=typeof d=="function"?M:d,O=w.useRef(!1),{escapeKey:D,outsidePress:P}=d3(v),{escapeKey:I,outsidePress:Q}=d3(C),te=w.useRef(!1),X=w.useRef(-1),le=Ct($=>{var H;if(!t||!a||!c||$.key!=="Escape"||te.current)return;const U=(H=l.current.floatingContext)==null?void 0:H.nodeId,z=S?Vs(S.nodesRef.current,U):[];if(!D&&($.stopPropagation(),z.length>0)){let Y=!0;if(z.forEach(A=>{var F;if((F=A.context)!=null&&F.open&&!A.context.dataRef.current.__escapeKeyBubbles){Y=!1;return}}),!Y)return}r(!1,lA($)?$.nativeEvent:$,"escape-key")}),ne=Ct($=>{var H;const U=()=>{var z;le($),(z=$r($))==null||z.removeEventListener("keydown",U)};(H=$r($))==null||H.addEventListener("keydown",U)}),me=Ct($=>{var H;const U=l.current.insideReactTree;l.current.insideReactTree=!1;const z=O.current;if(O.current=!1,h==="click"&&z||U||typeof k=="function"&&!k($))return;const Y=$r($),A="["+Bo("inert")+"]",F=Kt(o.floating).querySelectorAll(A);let q=nt(Y)?Y:null;for(;q&&!Xr(q);){const oe=Wr(q);if(Xr(oe)||!nt(oe))break;q=oe}if(F.length&&nt(Y)&&!iA(Y)&&!Ut(Y,o.floating)&&Array.from(F).every(oe=>!Ut(q,oe)))return;if(vt(Y)&&re){const oe=Xr(Y),qe=tr(Y),He=/auto|scroll/,Gt=oe||He.test(qe.overflowX),On=oe||He.test(qe.overflowY),Se=Gt&&Y.clientWidth>0&&Y.scrollWidth>Y.clientWidth,Ne=On&&Y.clientHeight>0&&Y.scrollHeight>Y.clientHeight,Ee=qe.direction==="rtl",we=Ne&&(Ee?$.offsetX<=Y.offsetWidth-Y.clientWidth:$.offsetX>Y.clientWidth),ut=Se&&$.offsetY>Y.clientHeight;if(we||ut)return}const J=(H=l.current.floatingContext)==null?void 0:H.nodeId,ie=S&&Vs(S.nodesRef.current,J).some(oe=>{var qe;return n1($,(qe=oe.context)==null?void 0:qe.elements.floating)});if(n1($,o.floating)||n1($,o.domReference)||ie)return;const Ce=S?Vs(S.nodesRef.current,J):[];if(Ce.length>0){let oe=!0;if(Ce.forEach(qe=>{var He;if((He=qe.context)!=null&&He.open&&!qe.context.dataRef.current.__outsidePressBubbles){oe=!1;return}}),!oe)return}r(!1,$,"outside-press")}),he=Ct($=>{var H;const U=()=>{var z;me($),(z=$r($))==null||z.removeEventListener(h,U)};(H=$r($))==null||H.addEventListener(h,U)});w.useEffect(()=>{if(!t||!a)return;l.current.__escapeKeyBubbles=D,l.current.__outsidePressBubbles=P;let $=-1;function H(F){r(!1,F,"ancestor-scroll")}function U(){window.clearTimeout($),te.current=!0}function z(){$=window.setTimeout(()=>{te.current=!1},Zf()?5:0)}const Y=Kt(o.floating);c&&(Y.addEventListener("keydown",I?ne:le,I),Y.addEventListener("compositionstart",U),Y.addEventListener("compositionend",z)),k&&Y.addEventListener(h,Q?he:me,Q);let A=[];return b&&(nt(o.domReference)&&(A=ji(o.domReference)),nt(o.floating)&&(A=A.concat(ji(o.floating))),!nt(o.reference)&&o.reference&&o.reference.contextElement&&(A=A.concat(ji(o.reference.contextElement)))),A=A.filter(F=>{var q;return F!==((q=Y.defaultView)==null?void 0:q.visualViewport)}),A.forEach(F=>{F.addEventListener("scroll",H,{passive:!0})}),()=>{c&&(Y.removeEventListener("keydown",I?ne:le,I),Y.removeEventListener("compositionstart",U),Y.removeEventListener("compositionend",z)),k&&Y.removeEventListener(h,Q?he:me,Q),A.forEach(F=>{F.removeEventListener("scroll",H)}),window.clearTimeout($)}},[l,o,c,k,h,t,r,b,a,D,P,le,I,ne,me,Q,he]),w.useEffect(()=>{l.current.insideReactTree=!1},[l,k,h]);const xe=w.useMemo(()=>({onKeyDown:le,...m&&{[bR[g]]:$=>{r(!1,$.nativeEvent,"reference-press")},...g!=="click"&&{onClick($){r(!1,$.nativeEvent,"reference-press")}}}}),[le,r,m,g]),re=w.useMemo(()=>({onKeyDown:le,onMouseDown(){O.current=!0},onMouseUp(){O.current=!0},[vR[h]]:()=>{l.current.insideReactTree=!0},onBlurCapture(){S||(an(X),l.current.insideReactTree=!0,X.current=window.setTimeout(()=>{l.current.insideReactTree=!1}))}}),[le,h,l,S]);return w.useMemo(()=>a?{reference:xe,floating:re}:{},[a,xe,re])}function CR(n){const{open:e=!1,onOpenChange:t,elements:r}=n,o=Qm(),l=w.useRef({}),[a]=w.useState(()=>nR()),c=Wf()!=null,[d,h]=w.useState(r.reference),m=Ct((v,C,S)=>{l.current.openEvent=v?C:void 0,a.emit("openchange",{open:v,event:C,reason:S,nested:c}),t?.(v,C,S)}),g=w.useMemo(()=>({setPositionReference:h}),[]),b=w.useMemo(()=>({reference:d||r.reference||null,floating:r.floating||null,domReference:r.reference}),[d,r.reference,r.floating]);return w.useMemo(()=>({dataRef:l,open:e,onOpenChange:m,elements:b,events:a,floatingId:o,refs:g}),[e,m,b,a,o,g])}function e0(n){n===void 0&&(n={});const{nodeId:e}=n,t=CR({...n,elements:{reference:null,floating:null,...n.elements}}),r=n.rootContext||t,o=r.elements,[l,a]=w.useState(null),[c,d]=w.useState(null),m=o?.domReference||l,g=w.useRef(null),b=Ka();tt(()=>{m&&(g.current=m)},[m]);const v=$A({...n,elements:{...o,...c&&{reference:c}}}),C=w.useCallback(D=>{const P=nt(D)?{getBoundingClientRect:()=>D.getBoundingClientRect(),getClientRects:()=>D.getClientRects(),contextElement:D}:D;d(P),v.refs.setReference(P)},[v.refs]),S=w.useCallback(D=>{(nt(D)||D===null)&&(g.current=D,a(D)),(nt(v.refs.reference.current)||v.refs.reference.current===null||D!==null&&!nt(D))&&v.refs.setReference(D)},[v.refs]),M=w.useMemo(()=>({...v.refs,setReference:S,setPositionReference:C,domReference:g}),[v.refs,S,C]),k=w.useMemo(()=>({...v.elements,domReference:m}),[v.elements,m]),O=w.useMemo(()=>({...v,...r,refs:M,elements:k,nodeId:e}),[v,M,k,e,r]);return tt(()=>{r.dataRef.current.floatingContext=O;const D=b?.nodesRef.current.find(P=>P.id===e);D&&(D.context=O)}),w.useMemo(()=>({...v,context:O,refs:M,elements:k}),[v,M,k,O])}function u1(){return eA()&&X5()}function xR(n,e){e===void 0&&(e={});const{open:t,onOpenChange:r,events:o,dataRef:l,elements:a}=n,{enabled:c=!0,visibleOnly:d=!0}=e,h=w.useRef(!1),m=w.useRef(-1),g=w.useRef(!0);w.useEffect(()=>{if(!c)return;const v=An(a.domReference);function C(){!t&&vt(a.domReference)&&a.domReference===br(Kt(a.domReference))&&(h.current=!0)}function S(){g.current=!0}function M(){g.current=!1}return v.addEventListener("blur",C),u1()&&(v.addEventListener("keydown",S,!0),v.addEventListener("pointerdown",M,!0)),()=>{v.removeEventListener("blur",C),u1()&&(v.removeEventListener("keydown",S,!0),v.removeEventListener("pointerdown",M,!0))}},[a.domReference,t,c]),w.useEffect(()=>{if(!c)return;function v(C){let{reason:S}=C;(S==="reference-press"||S==="escape-key")&&(h.current=!0)}return o.on("openchange",v),()=>{o.off("openchange",v)}},[o,c]),w.useEffect(()=>()=>{an(m)},[]);const b=w.useMemo(()=>({onMouseLeave(){h.current=!1},onFocus(v){if(h.current)return;const C=$r(v.nativeEvent);if(d&&nt(C)){if(u1()&&!v.relatedTarget){if(!g.current&&!Fm(C))return}else if(!oA(C))return}r(!0,v.nativeEvent,"focus")},onBlur(v){h.current=!1;const C=v.relatedTarget,S=v.nativeEvent,M=nt(C)&&C.hasAttribute(Bo("focus-guard"))&&C.getAttribute("data-type")==="outside";m.current=window.setTimeout(()=>{var k;const O=br(a.domReference?a.domReference.ownerDocument:document);!C&&O===a.domReference||Ut((k=l.current.floatingContext)==null?void 0:k.refs.floating.current,O)||Ut(a.domReference,O)||M||r(!1,S,"focus")})}}),[l,a.domReference,r,d]);return w.useMemo(()=>c?{reference:b}:{},[c,b])}function c1(n,e,t){const r=new Map,o=t==="item";let l=n;if(o&&n){const{[Q4]:a,[X4]:c,...d}=n;l=d}return{...t==="floating"&&{tabIndex:-1,[QA]:""},...l,...e.map(a=>{const c=a?a[t]:null;return typeof c=="function"?n?c(n):null:c}).concat(n).reduce((a,c)=>(c&&Object.entries(c).forEach(d=>{let[h,m]=d;if(!(o&&[Q4,X4].includes(h)))if(h.indexOf("on")===0){if(r.has(h)||r.set(h,[]),typeof m=="function"){var g;(g=r.get(h))==null||g.push(m),a[h]=function(){for(var b,v=arguments.length,C=new Array(v),S=0;S<v;S++)C[S]=arguments[S];return(b=r.get(h))==null?void 0:b.map(M=>M(...C)).find(M=>M!==void 0)}}}else a[h]=m}),a),{})}}function t0(n){n===void 0&&(n=[]);const e=n.map(c=>c?.reference),t=n.map(c=>c?.floating),r=n.map(c=>c?.item),o=w.useCallback(c=>c1(c,n,"reference"),e),l=w.useCallback(c=>c1(c,n,"floating"),t),a=w.useCallback(c=>c1(c,n,"item"),r);return w.useMemo(()=>({getReferenceProps:o,getFloatingProps:l,getItemProps:a}),[o,l,a])}const SR="Escape";function td(n,e,t){switch(n){case"vertical":return e;case"horizontal":return t;default:return e||t}}function bc(n,e){return td(e,n===pv||n===Xf,n===Pa||n===Fa)}function f1(n,e,t){return td(e,n===Xf,t?n===Pa:n===Fa)||n==="Enter"||n===" "||n===""}function h3(n,e,t){return td(e,t?n===Pa:n===Fa,n===Xf)}function p3(n,e,t,r){const o=t?n===Fa:n===Pa,l=n===pv;return e==="both"||e==="horizontal"&&r&&r>1?n===SR:td(e,o,l)}function ER(n,e){const{open:t,onOpenChange:r,elements:o,floatingId:l}=n,{listRef:a,activeIndex:c,onNavigate:d=()=>{},enabled:h=!0,selectedIndex:m=null,allowEscape:g=!1,loop:b=!1,nested:v=!1,rtl:C=!1,virtual:S=!1,focusItemOnOpen:M="auto",focusItemOnHover:k=!0,openOnArrowKeyDown:O=!0,disabledIndices:D=void 0,orientation:P="vertical",parentOrientation:I,cols:Q=1,scrollItemIntoView:te=!0,virtualItemRef:X,itemSizes:le,dense:ne=!1}=e,me=Mf(o.floating),he=Mn(me),xe=Wf(),re=Ka();tt(()=>{n.dataRef.current.orientation=P},[n,P]);const $=Ct(()=>{d(z.current===-1?null:z.current)}),H=X1(o.domReference),U=w.useRef(M),z=w.useRef(m??-1),Y=w.useRef(null),A=w.useRef(!0),F=w.useRef($),q=w.useRef(!!o.floating),J=w.useRef(t),ie=w.useRef(!1),Ce=w.useRef(!1),oe=Mn(D),qe=Mn(t),He=Mn(te),Gt=Mn(m),[On,Se]=w.useState(),[Ne,Ee]=w.useState(),we=Ct(()=>{function de(Ue){if(S){var ze;(ze=Ue.id)!=null&&ze.endsWith("-fui-option")&&(Ue.id=l+"-"+Math.random().toString(16).slice(2,10)),Se(Ue.id),re?.events.emit("virtualfocus",Ue),X&&(X.current=Ue)}else ho(Ue,{sync:ie.current,preventScroll:!0})}const Ie=a.current[z.current],ge=Ce.current;Ie&&de(Ie),(ie.current?Ue=>Ue():requestAnimationFrame)(()=>{const Ue=a.current[z.current]||Ie;if(!Ue)return;Ie||de(Ue);const ze=He.current;ze&&st&&(ge||!A.current)&&(Ue.scrollIntoView==null||Ue.scrollIntoView(typeof ze=="boolean"?{block:"nearest",inline:"nearest"}:ze))})});tt(()=>{h&&(t&&o.floating?U.current&&m!=null&&(Ce.current=!0,z.current=m,$()):q.current&&(z.current=-1,F.current()))},[h,t,o.floating,m,$]),tt(()=>{if(h&&t&&o.floating)if(c==null){if(ie.current=!1,Gt.current!=null)return;if(q.current&&(z.current=-1,we()),(!J.current||!q.current)&&U.current&&(Y.current!=null||U.current===!0&&Y.current==null)){let de=0;const Ie=()=>{a.current[0]==null?(de<2&&(de?requestAnimationFrame:queueMicrotask)(Ie),de++):(z.current=Y.current==null||f1(Y.current,P,C)||v?r1(a,oe.current):K4(a,oe.current),Y.current=null,$())};Ie()}}else ga(a,c)||(z.current=c,we(),Ce.current=!1)},[h,t,o.floating,c,Gt,v,a,P,C,$,we,oe]),tt(()=>{var de;if(!h||o.floating||!re||S||!q.current)return;const Ie=re.nodesRef.current,ge=(de=Ie.find(ze=>ze.id===xe))==null||(de=de.context)==null?void 0:de.elements.floating,We=br(Kt(o.floating)),Ue=Ie.some(ze=>ze.context&&Ut(ze.context.elements.floating,We));ge&&!Ue&&A.current&&ge.focus({preventScroll:!0})},[h,o.floating,re,xe,S]),tt(()=>{if(!h||!re||!S||xe)return;function de(Ie){Ee(Ie.id),X&&(X.current=Ie)}return re.events.on("virtualfocus",de),()=>{re.events.off("virtualfocus",de)}},[h,re,S,xe,X]),tt(()=>{F.current=$,J.current=t,q.current=!!o.floating}),tt(()=>{t||(Y.current=null,U.current=M)},[t,M]);const ut=c!=null,st=w.useMemo(()=>{function de(ge){if(!qe.current)return;const We=a.current.indexOf(ge);We!==-1&&z.current!==We&&(z.current=We,$())}return{onFocus(ge){let{currentTarget:We}=ge;ie.current=!0,de(We)},onClick:ge=>{let{currentTarget:We}=ge;return We.focus({preventScroll:!0})},...k&&{onMouseMove(ge){let{currentTarget:We}=ge;ie.current=!0,Ce.current=!1,de(We)},onPointerLeave(ge){let{pointerType:We}=ge;if(!(!A.current||We==="touch")&&(ie.current=!0,z.current=-1,$(),!S)){var Ue;(Ue=he.current)==null||Ue.focus({preventScroll:!0})}}}}},[qe,he,k,a,$,S]),Xe=w.useCallback(()=>{var de;return I??(re==null||(de=re.nodesRef.current.find(Ie=>Ie.id===xe))==null||(de=de.context)==null||(de=de.dataRef)==null?void 0:de.current.orientation)},[xe,re,I]),Bt=Ct(de=>{if(A.current=!1,ie.current=!0,de.which===229||!qe.current&&de.currentTarget===he.current)return;if(v&&p3(de.key,P,C,Q)){bc(de.key,Xe())||qt(de),r(!1,de.nativeEvent,"list-navigation"),vt(o.domReference)&&(S?re?.events.emit("virtualfocus",o.domReference):o.domReference.focus());return}const Ie=z.current,ge=r1(a,D),We=K4(a,D);if(H||(de.key==="Home"&&(qt(de),z.current=ge,$()),de.key==="End"&&(qt(de),z.current=We,$())),Q>1){const Ue=le||Array.from({length:a.current.length},()=>({width:1,height:1})),ze=pA(Ue,Q,ne),pn=ze.findIndex(mn=>mn!=null&&!kc(a,mn,D)),Rt=ze.reduce((mn,Er,wr)=>Er!=null&&!kc(a,Er,D)?wr:mn,-1),Ki=ze[hA({current:ze.map(mn=>mn!=null?a.current[mn]:null)},{event:de,orientation:P,loop:b,rtl:C,cols:Q,disabledIndices:gA([...(typeof D!="function"?D:null)||a.current.map((mn,Er)=>kc(a,Er,D)?Er:void 0),void 0],ze),minIndex:pn,maxIndex:Rt,prevIndex:mA(z.current>We?ge:z.current,Ue,ze,Q,de.key===Xf?"bl":de.key===(C?Pa:Fa)?"tr":"tl"),stopEvent:!0})];if(Ki!=null&&(z.current=Ki,$()),P==="both")return}if(bc(de.key,P)){if(qt(de),t&&!S&&br(de.currentTarget.ownerDocument)===de.currentTarget){z.current=f1(de.key,P,C)?ge:We,$();return}f1(de.key,P,C)?b?z.current=Ie>=We?g&&Ie!==a.current.length?-1:ge:Wt(a,{startingIndex:Ie,disabledIndices:D}):z.current=Math.min(We,Wt(a,{startingIndex:Ie,disabledIndices:D})):b?z.current=Ie<=ge?g&&Ie!==-1?a.current.length:We:Wt(a,{startingIndex:Ie,decrement:!0,disabledIndices:D}):z.current=Math.max(ge,Wt(a,{startingIndex:Ie,decrement:!0,disabledIndices:D})),ga(a,z.current)&&(z.current=-1),$()}}),_e=w.useMemo(()=>S&&t&&ut&&{"aria-activedescendant":Ne||On},[S,t,ut,Ne,On]),Ye=w.useMemo(()=>({"aria-orientation":P==="both"?void 0:P,...H?{}:_e,onKeyDown:Bt,onPointerMove(){A.current=!0}}),[_e,Bt,P,H]),Zt=w.useMemo(()=>{function de(ge){M==="auto"&&ev(ge.nativeEvent)&&(U.current=!0)}function Ie(ge){U.current=M,M==="auto"&&tv(ge.nativeEvent)&&(U.current=!0)}return{..._e,onKeyDown(ge){A.current=!1;const We=ge.key.startsWith("Arrow"),Ue=["Home","End"].includes(ge.key),ze=We||Ue,pn=h3(ge.key,P,C),Rt=p3(ge.key,P,C,Q),Ki=h3(ge.key,Xe(),C),mn=bc(ge.key,P),Er=(v?Ki:mn)||ge.key==="Enter"||ge.key.trim()==="";if(S&&t){const Mr=re?.nodesRef.current.find(_o=>_o.parentId==null),gn=re&&Mr?sA(re.nodesRef.current,Mr.id):null;if(ze&&gn&&X){const _o=new KeyboardEvent("keydown",{key:ge.key,bubbles:!0});if(pn||Rt){var wr,$i;const Ga=((wr=gn.context)==null?void 0:wr.elements.domReference)===ge.currentTarget,Xs=Rt&&!Ga?($i=gn.context)==null?void 0:$i.elements.domReference:pn?a.current.find(Uo=>Uo?.id===On):null;Xs&&(qt(ge),Xs.dispatchEvent(_o),Ee(void 0))}if((mn||Ue)&&gn.context&&gn.context.open&&gn.parentId&&ge.currentTarget!==gn.context.elements.domReference){var ur;qt(ge),(ur=gn.context.elements.domReference)==null||ur.dispatchEvent(_o);return}}return Bt(ge)}if(!(!t&&!O&&We)){if(Er){const Mr=bc(ge.key,Xe());Y.current=v&&Mr?null:ge.key}if(v){Ki&&(qt(ge),t?(z.current=r1(a,oe.current),$()):r(!0,ge.nativeEvent,"list-navigation"));return}mn&&(m!=null&&(z.current=m),qt(ge),!t&&O?r(!0,ge.nativeEvent,"list-navigation"):Bt(ge),t&&$())}},onFocus(){t&&!S&&(z.current=-1,$())},onPointerDown:Ie,onPointerEnter:Ie,onMouseDown:de,onClick:de}},[On,_e,Q,Bt,oe,M,a,v,$,r,t,O,P,Xe,C,m,re,S,X]);return w.useMemo(()=>h?{reference:Zt,floating:Ye,item:st}:{},[h,Zt,Ye,st])}const wR=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function n0(n,e){var t,r;e===void 0&&(e={});const{open:o,elements:l,floatingId:a}=n,{enabled:c=!0,role:d="dialog"}=e,h=Qm(),m=((t=l.domReference)==null?void 0:t.id)||h,g=w.useMemo(()=>{var O;return((O=Mf(l.floating))==null?void 0:O.id)||a},[l.floating,a]),b=(r=wR.get(d))!=null?r:d,C=Wf()!=null,S=w.useMemo(()=>b==="tooltip"||d==="label"?{["aria-"+(d==="label"?"labelledby":"describedby")]:o?g:void 0}:{"aria-expanded":o?"true":"false","aria-haspopup":b==="alertdialog"?"dialog":b,"aria-controls":o?g:void 0,...b==="listbox"&&{role:"combobox"},...b==="menu"&&{id:m},...b==="menu"&&C&&{role:"menuitem"},...d==="select"&&{"aria-autocomplete":"none"},...d==="combobox"&&{"aria-autocomplete":"list"}},[b,g,C,o,m,d]),M=w.useMemo(()=>{const O={id:g,...b&&{role:b}};return b==="tooltip"||d==="label"?O:{...O,...b==="menu"&&{"aria-labelledby":m}}},[b,g,m,d]),k=w.useCallback(O=>{let{active:D,selected:P}=O;const I={role:"option",...D&&{id:g+"-fui-option"}};switch(d){case"select":return{...I,"aria-selected":D&&P};case"combobox":return{...I,"aria-selected":P}}return{}},[g,d]);return w.useMemo(()=>c?{reference:S,floating:M,item:k}:{},[c,S,M,k])}function MR(n,e){var t;const{open:r,dataRef:o}=n,{listRef:l,activeIndex:a,onMatch:c,onTypingChange:d,enabled:h=!0,findMatch:m=null,resetMs:g=750,ignoreKeys:b=[],selectedIndex:v=null}=e,C=w.useRef(-1),S=w.useRef(""),M=w.useRef((t=v??a)!=null?t:-1),k=w.useRef(null),O=Ct(c),D=Ct(d),P=Mn(m),I=Mn(b);tt(()=>{r&&(an(C),k.current=null,S.current="")},[r]),tt(()=>{if(r&&S.current===""){var ne;M.current=(ne=v??a)!=null?ne:-1}},[r,v,a]);const Q=Ct(ne=>{ne?o.current.typing||(o.current.typing=ne,D(ne)):o.current.typing&&(o.current.typing=ne,D(ne))}),te=Ct(ne=>{function me(H,U,z){const Y=P.current?P.current(U,z):U.find(A=>A?.toLocaleLowerCase().indexOf(z.toLocaleLowerCase())===0);return Y?H.indexOf(Y):-1}const he=l.current;if(S.current.length>0&&S.current[0]!==" "&&(me(he,he,S.current)===-1?Q(!1):ne.key===" "&&qt(ne)),he==null||I.current.includes(ne.key)||ne.key.length!==1||ne.ctrlKey||ne.metaKey||ne.altKey)return;r&&ne.key!==" "&&(qt(ne),Q(!0)),he.every(H=>{var U,z;return H?((U=H[0])==null?void 0:U.toLocaleLowerCase())!==((z=H[1])==null?void 0:z.toLocaleLowerCase()):!0})&&S.current===ne.key&&(S.current="",M.current=k.current),S.current+=ne.key,an(C),C.current=window.setTimeout(()=>{S.current="",M.current=k.current,Q(!1)},g);const re=M.current,$=me(he,[...he.slice((re||0)+1),...he.slice(0,(re||0)+1)],S.current);$!==-1?(O($),k.current=$):ne.key!==" "&&(S.current="",Q(!1))}),X=w.useMemo(()=>({onKeyDown:te}),[te]),le=w.useMemo(()=>({onKeyDown:te,onKeyUp(ne){ne.key===" "&&Q(!1)}}),[te,Q]);return w.useMemo(()=>h?{reference:X,floating:le}:{},[h,X,le])}function TR({initialOpen:n=!1,placement:e="top",open:t,onOpenChange:r,delay:o=600,closeDelay:l=0}={}){const[a,c]=w.useState(n),d=t??a,h=r??c,m=e0({placement:e,open:d,onOpenChange:h,whileElementsMounted:Gm,middleware:[Zm(4),Jm({crossAxis:e.includes("-"),fallbackAxisSideDirection:"start",padding:4}),Ym({padding:4})]}),g=m.context,b=oR(g,{mouseOnly:!0,move:!1,restMs:o,enabled:t==null,delay:{close:l}}),v=xR(g,{enabled:t==null}),C=Wm(g),S=n0(g,{role:"tooltip"}),M=t0([b,v,C,S]);return w.useMemo(()=>({open:d,setOpen:h,...M,...m}),[d,h,M,m])}const W1=w.createContext(null);function Cv(){const n=w.useContext(W1);if(n==null)throw new Error("Tooltip components must be wrapped in <TooltipProvider />");return n}function xv({children:n,...e}){const t=TR(e);return e.useDelayGroup?x.jsx(lR,{delay:{open:e.delay??0,close:e.closeDelay??0},timeoutMs:e.timeout,children:x.jsx(W1.Provider,{value:t,children:n})}):x.jsx(W1.Provider,{value:t,children:n})}const Sv=w.forwardRef(function({children:e,asChild:t=!1,...r},o){const l=Cv(),a=w.isValidElement(e)?parseInt(w.version,10)>=19?e.props.ref:e.ref:void 0,c=Io([l.refs.setReference,o,a]);if(t&&w.isValidElement(e)){const d={"data-tooltip-state":l.open?"open":"closed"};return w.cloneElement(e,l.getReferenceProps({ref:c,...r,...typeof e.props=="object"?e.props:{},...d}))}return x.jsx("button",{ref:c,"data-tooltip-state":l.open?"open":"closed",...l.getReferenceProps(r),children:e})}),Ev=w.forwardRef(function({style:e,children:t,portal:r=!0,portalProps:o={},...l},a){const c=Cv(),d=Io([c.refs.setFloating,a]);if(!c.open)return null;const h=x.jsx("div",{ref:d,style:{...c.floatingStyles,...e},...c.getFloatingProps(l),className:"tiptap-tooltip",children:t});return r?x.jsx(Xm,{...o,children:h}):h});xv.displayName="Tooltip";Sv.displayName="TooltipTrigger";Ev.displayName="TooltipContent";const kR={ctrl:"⌘",alt:"⌥",shift:"⇧"},AR=(n,e)=>{if(e){const t=n.toLowerCase();return kR[t]||n.toUpperCase()}return n.charAt(0).toUpperCase()+n.slice(1)},RR=(n,e)=>n?n.split("-").map(t=>t.trim()).map(t=>AR(t,e)):[],OR=({shortcuts:n})=>n.length===0?null:x.jsx("div",{children:n.map((e,t)=>x.jsxs(w.Fragment,{children:[t>0&&x.jsx("kbd",{children:"+"}),x.jsx("kbd",{children:e})]},t))}),Ze=w.forwardRef(({className:n="",children:e,tooltip:t,showTooltip:r=!0,shortcutKeys:o,"aria-label":l,...a},c)=>{const d=w.useMemo(()=>typeof navigator<"u"&&navigator.platform.toLowerCase().includes("mac"),[]),h=w.useMemo(()=>RR(o,d),[o,d]);return!t||!r?x.jsx("button",{className:`tiptap-button ${n}`.trim(),ref:c,"aria-label":l,...a,children:e}):x.jsxs(xv,{delay:200,children:[x.jsx(Sv,{className:`tiptap-button ${n}`.trim(),ref:c,"aria-label":l,...a,children:e}),x.jsxs(Ev,{children:[t,x.jsx(OR,{shortcuts:h})]})]})});Ze.displayName="Button";const Da=w.forwardRef(({orientation:n="horizontal",size:e,className:t="",style:r={},...o},l)=>{const a={...r,...n==="horizontal"&&!e&&{flex:1},...e&&{width:n==="vertical"?"1px":e,height:n==="horizontal"?"1px":e}};return x.jsx("div",{ref:l,...o,className:t,style:a})});Da.displayName="Spacer";const Vo=w.forwardRef(({decorative:n,orientation:e="vertical",className:t="",...r},o)=>{const a=n?{role:"none"}:{"aria-orientation":e==="vertical"?e:void 0,role:"separator"};return x.jsx("div",{className:`tiptap-separator ${t}`.trim(),"data-orientation":e,...a,...r,ref:o})});Vo.displayName="Separator";const r0=n=>e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})},i0=(n,e)=>{w.useEffect(()=>{const t=n.current;if(!t)return;let r=!0;r&&requestAnimationFrame(e);const o=new MutationObserver(()=>{r&&requestAnimationFrame(e)});return o.observe(t,{childList:!0,subtree:!0,attributes:!0}),()=>{r=!1,o.disconnect()}},[n,e])},NR=n=>{w.useEffect(()=>{const e=n.current;if(!e)return;const t=()=>Array.from(e.querySelectorAll('button:not([disabled]), [role="button"]:not([disabled]), [tabindex="0"]:not([disabled])')),r=(d,h,m)=>{d.preventDefault();let g=h;g>=m.length?g=0:g<0&&(g=m.length-1),m[g]?.focus()},o=d=>{const h=t();if(!h.length)return;const m=document.activeElement,g=h.indexOf(m);if(!e.contains(m))return;const v={ArrowRight:()=>r(d,g+1,h),ArrowDown:()=>r(d,g+1,h),ArrowLeft:()=>r(d,g-1,h),ArrowUp:()=>r(d,g-1,h),Home:()=>r(d,0,h),End:()=>r(d,h.length-1,h)}[d.key];v&&v()},l=d=>{const h=d.target;e.contains(h)&&h.setAttribute("data-focus-visible","true")},a=d=>{const h=d.target;e.contains(h)&&h.removeAttribute("data-focus-visible")};return e.addEventListener("keydown",o),e.addEventListener("focus",l,!0),e.addEventListener("blur",a,!0),t().forEach(d=>{d.addEventListener("focus",l),d.addEventListener("blur",a)}),()=>{e.removeEventListener("keydown",o),e.removeEventListener("focus",l,!0),e.removeEventListener("blur",a,!0),t().forEach(h=>{h.removeEventListener("focus",l),h.removeEventListener("blur",a)})}},[n])},DR=n=>{const[e,t]=w.useState(!0),r=w.useRef(!1);w.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[]);const o=w.useCallback(()=>{if(!r.current)return;const l=n.current;if(!l)return;const a=Array.from(l.children).some(c=>c instanceof HTMLElement&&c.getAttribute("role")==="group"?c.children.length>0:!1);t(a)},[n]);return i0(n,o),e},LR=n=>{const[e,t]=w.useState(!0),r=w.useRef(!1);w.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[]);const o=w.useCallback(()=>{if(!r.current)return;const l=n.current;if(!l)return;const a=Array.from(l.children).some(c=>c instanceof HTMLElement);t(a)},[n]);return i0(n,o),e},HR=n=>{const[e,t]=w.useState(!0),r=w.useRef(!1);w.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[]);const o=w.useCallback(()=>{if(!r.current)return;const l=n.current;if(!l)return;const a=l.previousElementSibling,c=l.nextElementSibling;if(!a||!c){t(!1);return}const d=a.getAttribute("role")==="group"&&c.getAttribute("role")==="group",h=a.children.length>0&&c.children.length>0;t(d&&h)},[n]);return i0(n,o),e},o0=w.forwardRef(({children:n,className:e,variant:t="fixed",...r},o)=>{const l=w.useRef(null),a=DR(l);return NR(l),a?x.jsx("div",{ref:r0([l,o]),role:"toolbar","aria-label":"toolbar","data-variant":t,className:`f-tiptap-editor-toolbar ${e||""}`,...r,children:n}):null});o0.displayName="Toolbar";const En=w.forwardRef(({children:n,className:e,...t},r)=>{const o=w.useRef(null);return LR(o)?x.jsx("div",{ref:r0([o,r]),role:"group",className:`f-tiptap-editor-toolbar__group ${e||""}`,...t,children:n}):null});En.displayName="ToolbarGroup";const wn=w.forwardRef(({...n},e)=>{const t=w.useRef(null);return HR(t)?x.jsx(Vo,{ref:r0([t,e]),orientation:"vertical",decorative:!0,...n}):null});wn.displayName="ToolbarSeparator";const wv=w.memo(({className:n,...e})=>x.jsx("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:x.jsx("path",{d:"M18.7071 6.70711C19.0976 6.31658 19.0976 5.68342 18.7071 5.29289C18.3166 4.90237 17.6834 4.90237 17.2929 5.29289L12 10.5858L6.70711 5.29289C6.31658 4.90237 5.68342 4.90237 5.29289 5.29289C4.90237 5.68342 4.90237 6.31658 5.29289 6.70711L10.5858 12L5.29289 17.2929C4.90237 17.6834 4.90237 18.3166 5.29289 18.7071C5.68342 19.0976 6.31658 19.0976 6.70711 18.7071L12 13.4142L17.2929 18.7071C17.6834 19.0976 18.3166 19.0976 18.7071 18.7071C19.0976 18.3166 19.0976 17.6834 18.7071 17.2929L13.4142 12L18.7071 6.70711Z",fill:"currentColor"})}));wv.displayName="CloseIcon";function zR(n){const[e,t]=w.useState(null),r=async a=>{if(a.size>n.maxSize){const h=new Error(`File size exceeds maximum allowed (${n.maxSize/1024/1024}MB)`);return n.onError?.(h),null}const c=new AbortController,d={id:crypto.randomUUID(),file:a,progress:0,status:"uploading",abortController:c};t(d);try{if(!n.upload)throw new Error("Upload function is not defined");const h=await n.upload(a,m=>{t(g=>g?{...g,progress:m.progress}:null)},c.signal);if(!h)throw new Error("Upload failed: No URL returned");return c.signal.aborted?null:(t(m=>m?{...m,status:"success",url:h,progress:100}:null),n.onSuccess?.(h),h)}catch(h){return c.signal.aborted||(t(m=>m?{...m,status:"error",progress:0}:null),n.onError?.(h instanceof Error?h:new Error("Upload failed"))),null}};return{fileItem:e,uploadFiles:async a=>{if(!a||a.length===0)return n.onError?.(new Error("No files to upload")),null;if(n.limit&&a.length>n.limit)return n.onError?.(new Error(`Maximum ${n.limit} file${n.limit===1?"":"s"} allowed`)),null;const c=a[0];return c?r(c):(n.onError?.(new Error("File is undefined")),null)},clearFileItem:()=>{e&&(e.abortController&&e.abortController.abort(),e.url&&URL.revokeObjectURL(e.url),t(null))}}}const Mv=()=>x.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",className:"tiptap-image-upload-icon",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[x.jsx("path",{d:"M11.1953 4.41771C10.3478 4.08499 9.43578 3.94949 8.5282 4.02147C7.62062 4.09345 6.74133 4.37102 5.95691 4.83316C5.1725 5.2953 4.50354 5.92989 4.00071 6.68886C3.49788 7.44783 3.17436 8.31128 3.05465 9.2138C2.93495 10.1163 3.0222 11.0343 3.3098 11.8981C3.5974 12.7619 4.07781 13.5489 4.71463 14.1995C5.10094 14.5942 5.09414 15.2274 4.69945 15.6137C4.30476 16 3.67163 15.9932 3.28532 15.5985C2.43622 14.731 1.79568 13.6816 1.41221 12.5299C1.02875 11.3781 0.91241 10.1542 1.07201 8.95084C1.23162 7.74748 1.66298 6.59621 2.33343 5.58425C3.00387 4.57229 3.89581 3.72617 4.9417 3.10998C5.98758 2.4938 7.15998 2.1237 8.37008 2.02773C9.58018 1.93176 10.7963 2.11243 11.9262 2.55605C13.0561 2.99968 14.0703 3.69462 14.8919 4.58825C15.5423 5.29573 16.0585 6.11304 16.4177 7.00002H17.4999C18.6799 6.99991 19.8288 7.37933 20.7766 8.08222C21.7245 8.78515 22.4212 9.7743 22.7637 10.9036C23.1062 12.0328 23.0765 13.2423 22.6788 14.3534C22.2812 15.4644 21.5367 16.4181 20.5554 17.0736C20.0962 17.3803 19.4752 17.2567 19.1684 16.7975C18.8617 16.3382 18.9853 15.7172 19.4445 15.4105C20.069 14.9934 20.5427 14.3865 20.7958 13.6794C21.0488 12.9724 21.0678 12.2027 20.8498 11.4841C20.6318 10.7655 20.1885 10.136 19.5853 9.6887C18.9821 9.24138 18.251 8.99993 17.5001 9.00002H15.71C15.2679 9.00002 14.8783 8.70973 14.7518 8.28611C14.4913 7.41374 14.0357 6.61208 13.4195 5.94186C12.8034 5.27164 12.0427 4.75043 11.1953 4.41771Z",fill:"currentColor"}),x.jsx("path",{d:"M11 14.4142V21C11 21.5523 11.4477 22 12 22C12.5523 22 13 21.5523 13 21V14.4142L15.2929 16.7071C15.6834 17.0976 16.3166 17.0976 16.7071 16.7071C17.0976 16.3166 17.0976 15.6834 16.7071 15.2929L12.7078 11.2936C12.7054 11.2912 12.703 11.2888 12.7005 11.2864C12.5208 11.1099 12.2746 11.0008 12.003 11L12 11L11.997 11C11.8625 11.0004 11.7343 11.0273 11.6172 11.0759C11.502 11.1236 11.3938 11.1937 11.2995 11.2864C11.297 11.2888 11.2946 11.2912 11.2922 11.2936L7.29289 15.2929C6.90237 15.6834 6.90237 16.3166 7.29289 16.7071C7.68342 17.0976 8.31658 17.0976 8.70711 16.7071L11 14.4142Z",fill:"currentColor"})]}),BR=()=>x.jsx("svg",{width:"43",height:"57",viewBox:"0 0 43 57",fill:"currentColor",className:"tiptap-image-upload-dropzone-rect-primary",xmlns:"http://www.w3.org/2000/svg",children:x.jsx("path",{d:"M0.75 10.75C0.75 5.64137 4.89137 1.5 10 1.5H32.3431C33.2051 1.5 34.0317 1.84241 34.6412 2.4519L40.2981 8.10876C40.9076 8.71825 41.25 9.5449 41.25 10.4069V46.75C41.25 51.8586 37.1086 56 32 56H10C4.89137 56 0.75 51.8586 0.75 46.75V10.75Z",fill:"currentColor",fillOpacity:"0.11",stroke:"currentColor",strokeWidth:"1.5"})}),jR=()=>x.jsx("svg",{width:"10",height:"10",className:"tiptap-image-upload-dropzone-rect-secondary",viewBox:"0 0 10 10",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:x.jsx("path",{d:"M0 0.75H0.343146C1.40401 0.75 2.42143 1.17143 3.17157 1.92157L8.82843 7.57843C9.57857 8.32857 10 9.34599 10 10.4069V10.75H4C1.79086 10.75 0 8.95914 0 6.75V0.75Z",fill:"currentColor"})}),IR=({onFile:n,children:e})=>{const[t,r]=w.useState(!1),o=c=>{r(!1),c.preventDefault(),c.stopPropagation();const d=Array.from(c.dataTransfer.files);n(d)},l=c=>{c.preventDefault(),r(!0)},a=c=>{c.preventDefault(),r(!1)};return x.jsx("div",{className:`tiptap-image-upload-dragger ${t?"tiptap-image-upload-dragger-active":""}`,onDrop:o,onDragOver:l,onDragLeave:a,children:e})},VR=({file:n,progress:e,status:t,onRemove:r})=>{const o=l=>{if(l===0)return"0 Bytes";const a=1024,c=["Bytes","KB","MB","GB"],d=Math.floor(Math.log(l)/Math.log(a));return`${parseFloat((l/Math.pow(a,d)).toFixed(2))} ${c[d]}`};return x.jsxs("div",{className:"tiptap-image-upload-preview",children:[t==="uploading"&&x.jsx("div",{className:"tiptap-image-upload-progress",style:{width:`${e}%`}}),x.jsxs("div",{className:"tiptap-image-upload-preview-content",children:[x.jsxs("div",{className:"tiptap-image-upload-file-info",children:[x.jsx("div",{className:"tiptap-image-upload-file-icon",children:x.jsx(Mv,{})}),x.jsxs("div",{className:"tiptap-image-upload-details",children:[x.jsx("span",{className:"tiptap-image-upload-text",children:n.name}),x.jsx("span",{className:"tiptap-image-upload-subtext",children:o(n.size)})]})]}),x.jsxs("div",{className:"tiptap-image-upload-actions",children:[t==="uploading"&&x.jsxs("span",{className:"tiptap-image-upload-progress-text",children:[e,"%"]}),x.jsx("button",{className:"tiptap-image-upload-close-btn",onClick:l=>{l.stopPropagation(),r()},children:x.jsx(wv,{})})]})]})]})},_R=({maxSize:n})=>x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"tiptap-image-upload-dropzone",children:[x.jsx(BR,{}),x.jsx(jR,{}),x.jsx("div",{className:"tiptap-image-upload-icon-container",children:x.jsx(Mv,{})})]}),x.jsxs("div",{className:"tiptap-image-upload-content",children:[x.jsxs("span",{className:"tiptap-image-upload-text",children:[x.jsx("em",{children:"Click to upload"})," or drag and drop"]}),x.jsxs("span",{className:"tiptap-image-upload-subtext",children:["Maximum file size ",n/1024/1024,"MB."]})]})]}),UR=n=>{const{accept:e,limit:t,maxSize:r}=n.node.attrs,o=w.useRef(null),l=n.extension,a={maxSize:r,limit:t,accept:e,upload:l.options.upload,onSuccess:l.options.onSuccess,onError:l.options.onError},{fileItem:c,uploadFiles:d,clearFileItem:h}=zR(a),m=v=>{const C=v.target.files;if(!C||C.length===0){l.options.onError?.(new Error("No file selected"));return}g(Array.from(C))},g=async v=>{const C=await d(v);if(C){const S=n.getPos(),M=v[0]?.name.replace(/\.[^/.]+$/,"")||"unknown";n.editor.chain().focus().deleteRange({from:S,to:S+1}).insertContentAt(S,[{type:"image",attrs:{src:C,alt:M,title:M}}]).run()}},b=()=>{o.current&&!c&&(o.current.value="",o.current.click())};return x.jsxs(p5,{className:"tiptap-image-upload",tabIndex:0,onClick:b,children:[!c&&x.jsx(IR,{onFile:g,children:x.jsx(_R,{maxSize:r})}),c&&x.jsx(VR,{file:c.file,progress:c.progress,status:c.status,onRemove:h}),x.jsx("input",{ref:o,name:"file",accept:e,type:"file",onChange:m,onClick:v=>v.stopPropagation()})]})},qR=nn.create({name:"imageUpload",group:"block",draggable:!0,selectable:!0,atom:!0,addOptions(){return{accept:"image/*",limit:1,maxSize:0,upload:void 0,onError:void 0,onSuccess:void 0}},addAttributes(){return{accept:{default:this.options.accept},limit:{default:this.options.limit},maxSize:{default:this.options.maxSize}}},parseHTML(){return[{tag:'div[data-type="image-upload"]'}]},renderHTML({HTMLAttributes:n}){return["div",rt({"data-type":"image-upload"},n)]},addNodeView(){return m5(UR)},addCommands(){return{setImageUploadNode:(n={})=>({commands:e})=>e.insertContent({type:this.name,attrs:n})}},addKeyboardShortcuts(){return{Enter:({editor:n})=>{const{selection:e}=n.state,{nodeAfter:t}=e.$from;if(t&&t.type.name==="imageUpload"&&n.isActive("imageUpload")){const r=n.view.nodeDOM(e.$from.pos);if(r&&r instanceof HTMLElement){const o=r.firstChild;if(o&&o instanceof HTMLElement)return o.click(),!0}}return!1}}}}),Tv=w.createContext(null);function kv(){const n=w.useContext(Tv);if(!n)throw new Error("Popover components must be wrapped in <Popover />");return n}function PR({initialOpen:n=!1,modal:e,open:t,onOpenChange:r,side:o="bottom",align:l="center",sideOffset:a=4,alignOffset:c=0}={}){const[d,h]=w.useState(n),[m,g]=w.useState(),[b,v]=w.useState(),[C,S]=w.useState(`${o}-${l}`),[M,k]=w.useState({sideOffset:a,alignOffset:c}),O=t??d,D=r??h,P=w.useMemo(()=>[Zm({mainAxis:M.sideOffset,crossAxis:M.alignOffset}),Jm({fallbackAxisSideDirection:"end",crossAxis:!1}),Ym({limiter:GA({offset:M.sideOffset})})],[M.sideOffset,M.alignOffset]),I=e0({placement:C,open:O,onOpenChange:D,whileElementsMounted:Gm,middleware:P}),Q=t0([vv(I.context),Wm(I.context),n0(I.context)]),te=w.useCallback((X,le,ne,me)=>{S(`${X}-${le}`),(ne!==void 0||me!==void 0)&&k({sideOffset:ne??M.sideOffset,alignOffset:me??M.alignOffset})},[M.sideOffset,M.alignOffset]);return w.useMemo(()=>({open:O,setOpen:D,...Q,...I,modal:e,labelId:m,descriptionId:b,setLabelId:g,setDescriptionId:v,updatePosition:te}),[O,D,Q,I,e,m,b,te])}function s0({children:n,modal:e=!1,...t}){const r=PR({modal:e,...t});return x.jsx(Tv.Provider,{value:r,children:n})}const nd=w.forwardRef(function({children:e,asChild:t=!1,...r},o){const l=kv(),a=w.isValidElement(e)?parseInt(w.version,10)>=19?e.props.ref:e.ref:void 0,c=Io([l.refs.setReference,o,a]);return t&&w.isValidElement(e)?w.cloneElement(e,l.getReferenceProps({ref:c,...r,...e.props,"data-state":l.open?"open":"closed"})):x.jsx("button",{ref:c,"data-state":l.open?"open":"closed",...l.getReferenceProps(r),children:e})}),rd=w.forwardRef(function({className:e,side:t="bottom",align:r="center",sideOffset:o,alignOffset:l,style:a,portal:c=!0,portalProps:d={},asChild:h=!1,children:m,...g},b){const v=kv(),C=w.isValidElement(m)?parseInt(w.version,10)>=19?m.props.ref:m.ref:void 0,S=Io([v.refs.setFloating,b,C]);if(w.useEffect(()=>{v.updatePosition(t,r,o,l)},[v,t,r,o,l]),!v.context.open)return null;const M={ref:S,style:{position:v.strategy,top:v.y??0,left:v.x??0,...a},"aria-labelledby":v.labelId,"aria-describedby":v.descriptionId,className:`tiptap-popover ${e||""}`,"data-side":t,"data-align":r,"data-state":v.context.open?"open":"closed",...v.getFloatingProps(g)},k=h&&w.isValidElement(m)?w.cloneElement(m,{...M,...m.props}):x.jsx("div",{...M,children:m}),O=x.jsx(bv,{context:v.context,modal:v.modal,children:k});return c?x.jsx(Xm,{...d,children:O}):O});nd.displayName="PopoverTrigger";rd.displayName="PopoverContent";const $a=w.memo(({className:n,...e})=>x.jsxs("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.8159 21H11.1841C10.9072 21 10.6478 20.8616 10.4969 20.6343C10.346 20.407 10.3244 20.1188 10.4394 19.8708L10.8045 19.0156C11.0696 18.4636 11.0186 17.8184 10.6683 17.3164C10.3181 16.8145 9.72183 16.5364 9.09901 16.5734C8.476 16.6104 7.91775 16.9571 7.63604 17.4938L7.36396 18.0062C7.24896 18.2542 6.98962 18.4221 6.70219 18.4518C6.41477 18.4815 6.12535 18.3695 5.94721 18.1514L4.84869 16.8486C4.67054 16.6305 4.62917 16.3367 4.73916 16.0797C4.84915 15.8227 5.09135 15.6422 5.36827 15.6062L6.24173 15.4938C6.86455 15.4071 7.40265 14.9929 7.68436 14.4062C7.96608 13.8196 7.94604 13.1304 7.63604 12.5562C7.32604 11.9821 6.76392 11.6105 6.14099 11.5734C5.518 11.5364 4.91871 11.8428 4.63604 12.3438L4.30396 12.9062C4.18896 13.1542 3.92962 13.3221 3.64219 13.3518C3.35477 13.3815 3.06535 13.2695 2.88721 13.0514L1.94869 11.8486C1.77054 11.6305 1.72917 11.3367 1.83916 11.0797C1.94915 10.8227 2.19135 10.6422 2.46827 10.6062L3.34173 10.4938C3.96455 10.4071 4.50265 9.99294 4.78436 9.40625C5.06608 8.81956 5.04604 8.13044 4.73604 7.55625C4.42604 6.98206 3.86392 6.61044 3.24099 6.57344C2.618 6.53644 2.01871 6.84279 1.73604 7.34375L1.46396 7.85625C1.34896 8.10425 1.08962 8.27213 0.802186 8.30181C0.514754 8.33148 0.225332 8.21948 0.0471854 8.00135L-0.85134 6.69865C-1.02949 6.48052 -1.07086 6.18669 -1.03916 5.92972C-1.00747 5.67274 -0.826704 5.49213 -0.549206 5.45622L0.324236 5.34375C0.947054 5.257 1.48516 4.84283 1.76687 4.25614C2.04858 3.66945 2.02854 2.98033 1.71854 2.40614C1.40854 1.83195 0.846424 1.46033 0.223493 1.42333C-0.399496 1.38633 -0.998788 1.69268 -1.28146 2.19364L-1.5533 2.70614C-1.6683 2.95414 -1.92764 3.122 -2.21507 3.15168C-2.5025 3.18135 -2.79192 3.06935 -2.97006 2.85122L-3.86858 1.54849C-4.04673 1.33036 -4.0881 1.03653 -4.0564 0.779558C-4.02471 0.522582 -3.84931 0.341969 -3.57182 0.305993L-2.69838 0.193524C-2.07556 0.106778 -1.53746 -0.307387 -1.25574 -0.894082C-0.974032 -1.48078 -0.994072 -2.1699 -1.30407 -2.74408C-1.61407 -3.31827 -2.17619 -3.68989 -2.79912 -3.72689C-3.42211 -3.76389 -4.0214 -3.45754 -4.30407 -2.95658L-4.57595 -2.44408C-4.69095 -2.19608 -4.95029 -2.0282 -5.23772 -1.99852C-5.52515 -1.96885 -5.81457 -2.08085 -5.99272 -2.29898L-6.89124 -3.60171C-7.06939 -3.81984 -7.11076 -4.11366 -7.07906 -4.37064C-7.04737 -4.62762 -6.87197 -4.80823 -6.59448 -4.84421L-5.72104 -4.95668C-5.09822 -5.04343 -4.56012 -5.4576 -4.2784 -6.04429C-3.99669 -6.63098 -4.01673 -7.3201 -4.32673 -7.89429C-4.63673 -8.46848 -5.19885 -8.8401 -5.82178 -8.8771C-6.44477 -8.9141 -7.04406 -8.60775 -7.32673 -8.10679L-7.59861 -7.59429C-7.71361 -7.34629 -7.97295 -7.17841 -8.26038 -7.14873C-8.54781 -7.11906 -8.83723 -7.23106 -9.01538 -7.44919L-9.9139 -8.75192C-10.091 -8.97005 -10.1324 -9.26388 -10.1007 -9.52085C-10.069 -9.77783 -9.89363 -9.95844 -9.61614 -9.99442L-8.7427 -10.1069C-8.11988 -10.1936 -7.58178 -10.6078 -7.30006 -11.1945C-7.01835 -11.7812 -7.03839 -12.4703 -7.34839 -13.0445C-7.65839 -13.6187 -8.22051 -13.9903 -8.84344 -14.0273C-9.46643 -14.0643 -10.0657 -13.758 -10.3484 -13.2571L-10.6203 -12.7446C-10.7353 -12.4966 -10.9946 -12.3287 -11.282 -12.299C-11.5695 -12.2693 -11.8589 -12.3813 -12.037 -12.5995L-12.9356 -13.9022C-13.1137 -14.1203 -13.1551 -14.4142 -13.1234 -14.6711C-13.0917 -14.9281 -12.9163 -15.1087 -12.6388 -15.1447L-11.7654 -15.2572C-11.1425 -15.3439 -10.6044 -15.7581 -10.3227 -16.3448C-10.041 -16.9315 -10.061 -17.6206 -10.371 -18.1948C-10.681 -18.769 -11.2432 -19.1406 -11.8661 -19.1776C-12.4891 -19.2146 -13.0884 -18.9083 -13.371 -18.4073L-13.6429 -17.8948C-13.7579 -17.6468 -14.0173 -17.4789 -14.3047 -17.4492C-14.5921 -17.4195 -14.8815 -17.5315 -15.0597 -17.7497L-15.9582 -19.0524C-16.1363 -19.2705 -16.1777 -19.5644 -16.146 -19.8213C-16.1143 -20.0783 -15.9389 -20.2589 -15.6614 -20.2949L-14.788 -20.4074C-14.1651 -20.4941 -13.627 -20.9083 -13.3453 -21.495C-13.0636 -22.0817 -13.0836 -22.7708 -13.3936 -23.345C-13.7036 -23.9192 -14.2657 -24.2908 -14.8887 -24.3278C-15.5117 -24.3648 -16.111 -24.0585 -16.3936 -23.5575L-16.6655 -23.045C-16.7805 -22.797 -17.0398 -22.6291 -17.3273 -22.5994C-17.6147 -22.5697 -17.9041 -22.6817 -18.0823 -22.8999L-18.9808 -24.2026C-19.1589 -24.4207 -19.2003 -24.7145 -19.1686 -24.9715C-19.1369 -25.2285 -18.9615 -25.4091 -18.684 -25.4451L-17.8106 -25.5576C-17.1877 -25.6443 -16.6496 -26.0585 -16.3679 -26.6452C-16.0862 -27.2319 -16.1062 -27.921 -16.4162 -28.4952C-16.7262 -29.0694 -17.2883 -29.441 -17.9113 -29.478C-18.5343 -29.515 -19.1336 -29.2087 -19.4162 -28.7077L-19.6881 -28.1952C-19.8031 -27.9472 -20.0624 -27.7793 -20.3499 -27.7496C-20.6373 -27.7199 -20.9267 -27.8319 -21.1049 -28.0501L-22.0034 -29.3528C-22.1815 -29.5709 -22.2229 -29.8647 -22.1912 -30.1217C-22.1595 -30.3787 -21.9841 -30.5593 -21.7066 -30.5953L-20.8332 -30.7078Z",fill:"currentColor"}),x.jsx("circle",{cx:"12",cy:"12",r:"3",fill:"currentColor"})]}));$a.displayName="SettingsIcon";const Av=w.memo(({className:n,...e})=>x.jsx("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.7071 6.29289C21.0976 6.68342 21.0976 7.31658 20.7071 7.70711L10.7071 17.7071C10.3166 18.0976 9.68342 18.0976 9.29289 17.7071L4.29289 12.7071C3.90237 12.3166 3.90237 11.6834 4.29289 11.2929C4.68342 10.9024 5.31658 10.9024 5.70711 11.2929L10 15.5858L19.2929 6.29289C19.6834 5.90237 20.3166 5.90237 20.7071 6.29289Z",fill:"currentColor"})}));Av.displayName="CheckIcon";const Rv=w.memo(({className:n,...e})=>x.jsx("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.7071 5.29289C19.0976 5.68342 19.0976 6.31658 18.7071 6.70711L13.4142 12L18.7071 17.2929C19.0976 17.6834 19.0976 18.3166 18.7071 18.7071C18.3166 19.0976 17.6834 19.0976 17.2929 18.7071L12 13.4142L6.70711 18.7071C6.31658 19.0976 5.68342 19.0976 5.29289 18.7071C4.90237 18.3166 4.90237 17.6834 5.29289 17.2929L10.5858 12L5.29289 6.70711C4.90237 6.31658 4.90237 5.68342 5.29289 5.29289C5.68342 4.90237 6.31658 4.90237 6.70711 5.29289L12 10.5858L17.2929 5.29289C17.6834 4.90237 18.3166 4.90237 18.7071 5.29289Z",fill:"currentColor"})}));Rv.displayName="XIcon";const FR=({attributes:n,onSave:e,onCancel:t})=>{const[r,o]=w.useState(n.title||""),[l,a]=w.useState(n.content||""),[c,d]=w.useState(n.blockType||""),[h,m]=w.useState(n.apiUrl||"/api/folio-blocks");w.useEffect(()=>{o(n.title||""),a(n.content||""),d(n.blockType||""),m(n.apiUrl||"/api/folio-blocks")},[n]);const g=()=>{e({title:r.trim(),content:l.trim(),blockType:c.trim(),apiUrl:h.trim()})},b=C=>{C.key==="Enter"&&(C.metaKey||C.ctrlKey)?(C.preventDefault(),g()):C.key==="Escape"&&(C.preventDefault(),t())},v=r.trim().length>0&&c.trim().length>0;return x.jsxs("div",{className:"folio-tiptap-block-dialog-content",children:[x.jsx("div",{className:"folio-tiptap-block-dialog-header",children:x.jsx("h3",{className:"folio-tiptap-block-dialog-title",children:"Configure Folio Block"})}),x.jsxs("div",{className:"folio-tiptap-block-dialog-body",children:[x.jsxs("div",{className:"folio-tiptap-block-dialog-field",children:[x.jsx("label",{htmlFor:"folio-block-title",className:"folio-tiptap-block-dialog-label",children:"Title *"}),x.jsx("input",{id:"folio-block-title",type:"text",placeholder:"Enter block title...",value:r,onChange:C=>o(C.target.value),onKeyDown:b,className:"tiptap-input",autoFocus:!0})]}),x.jsxs("div",{className:"folio-tiptap-block-dialog-field",children:[x.jsx("label",{htmlFor:"folio-block-type",className:"folio-tiptap-block-dialog-label",children:"Block Type *"}),x.jsxs("select",{id:"folio-block-type",value:c,onChange:C=>d(C.target.value),onKeyDown:b,className:"tiptap-input",children:[x.jsx("option",{value:"",children:"Select block type..."}),x.jsx("option",{value:"hero",children:"Hero Section"}),x.jsx("option",{value:"gallery",children:"Image Gallery"}),x.jsx("option",{value:"testimonial",children:"Testimonial"}),x.jsx("option",{value:"cta",children:"Call to Action"}),x.jsx("option",{value:"feature",children:"Feature Block"}),x.jsx("option",{value:"custom",children:"Custom Block"})]})]}),x.jsxs("div",{className:"folio-tiptap-block-dialog-field",children:[x.jsx("label",{htmlFor:"folio-block-content",className:"folio-tiptap-block-dialog-label",children:"Content"}),x.jsx("textarea",{id:"folio-block-content",placeholder:"Enter block content or configuration...",value:l,onChange:C=>a(C.target.value),onKeyDown:b,className:"tiptap-input folio-tiptap-block-dialog-textarea",rows:4})]}),x.jsxs("div",{className:"folio-tiptap-block-dialog-field",children:[x.jsx("label",{htmlFor:"folio-block-api-url",className:"folio-tiptap-block-dialog-label",children:"API URL"}),x.jsx("input",{id:"folio-block-api-url",type:"url",placeholder:"/api/folio-blocks",value:h,onChange:C=>m(C.target.value),onKeyDown:b,className:"tiptap-input"})]})]}),x.jsx(Vo,{}),x.jsx("div",{className:"folio-tiptap-block-dialog-footer",children:x.jsxs("div",{className:"tiptap-button-group","data-orientation":"horizontal",children:[x.jsxs(Ze,{type:"button",onClick:t,"data-style":"ghost",title:"Cancel",children:[x.jsx(Rv,{className:"tiptap-button-icon"}),"Cancel"]}),x.jsxs(Ze,{type:"button",onClick:g,disabled:!v,"data-style":"primary",title:"Save block (Ctrl/Cmd + Enter)",children:[x.jsx(Av,{className:"tiptap-button-icon"}),"Save Block"]})]})})]})},KR=({isOpen:n,onOpenChange:e,attributes:t,onSave:r,onCancel:o,children:l})=>{const a=d=>{r(d),e(!1)},c=()=>{o(),e(!1)};return x.jsxs(s0,{open:n,onOpenChange:e,children:[x.jsx(nd,{asChild:!0,children:l||x.jsx(Ze,{"data-style":"ghost",title:"Configure Folio Block",children:x.jsx($a,{className:"tiptap-button-icon"})})}),x.jsx(rd,{side:"top",align:"start",sideOffset:8,className:"folio-tiptap-block-dialog-popover",children:x.jsx(FR,{attributes:t,onSave:a,onCancel:c})})]})},l0=w.memo(({className:n,...e})=>x.jsxs("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 3C3.44772 3 3 3.44772 3 4V8C3 8.55228 3.44772 9 4 9H8C8.55228 9 9 8.55228 9 8V4C9 3.44772 8.55228 3 8 3H4ZM5 5V7H7V5H5Z",fill:"currentColor"}),x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 3C15.4477 3 15 3.44772 15 4V8C15 8.55228 15.4477 9 16 9H20C20.5523 9 21 8.55228 21 8V4C21 3.44772 20.5523 3 20 3H16ZM17 5V7H19V5H17Z",fill:"currentColor"}),x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 15C3.44772 15 3 15.4477 3 16V20C3 20.5523 3.44772 21 4 21H8C8.55228 21 9 20.5523 9 20V16C9 15.4477 8.55228 15 8 15H4ZM5 17V19H7V17H5Z",fill:"currentColor"}),x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 15C15.4477 15 15 15.4477 15 16V20C15 20.5523 15.4477 21 16 21H20C20.5523 21 21 20.5523 21 20V16C21 15.4477 20.5523 15 20 15H16ZM17 17V19H19V17H17Z",fill:"currentColor"})]}));l0.displayName="BlocksIcon";const Ov=w.memo(({className:n,...e})=>x.jsxs("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2C12.5523 2 13 2.44772 13 3V6C13 6.55228 12.5523 7 12 7C11.4477 7 11 6.55228 11 6V3C11 2.44772 11.4477 2 12 2Z",fill:"currentColor",opacity:"0.2"}),x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.9497 4.22183C17.3402 4.61236 17.3402 5.24552 16.9497 5.63604L14.8284 7.75736C14.4379 8.14789 13.8047 8.14789 13.4142 7.75736C13.0237 7.36684 13.0237 6.73367 13.4142 6.34315L15.5355 4.22183C15.926 3.8313 16.5592 3.8313 16.9497 4.22183Z",fill:"currentColor",opacity:"0.3"}),x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22 12C22 12.5523 21.5523 13 21 13H18C17.4477 13 17 12.5523 17 12C17 11.4477 17.4477 11 18 11H21C21.5523 11 22 11.4477 22 12Z",fill:"currentColor",opacity:"0.4"}),x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.7782 16.9497C20.1687 16.5592 20.1687 15.926 19.7782 15.5355L17.6569 13.4142C17.2663 13.0237 16.6332 13.0237 16.2426 13.4142C15.8521 13.8047 15.8521 14.4379 16.2426 14.8284L18.364 16.9497C18.7545 17.3402 19.3876 17.3402 19.7782 16.9497Z",fill:"currentColor",opacity:"0.5"}),x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 17C12.5523 17 13 17.4477 13 18V21C13 21.5523 12.5523 22 12 22C11.4477 22 11 21.5523 11 21V18C11 17.4477 11.4477 17 12 17Z",fill:"currentColor",opacity:"0.6"}),x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.05025 19.7782C7.44078 20.1687 7.44078 20.8019 7.05025 21.1924C6.65973 21.5829 6.02656 21.5829 5.63604 21.1924L3.51472 19.0711C3.12419 18.6805 3.12419 18.0474 3.51472 17.6569C3.90524 17.2663 4.53841 17.2663 4.92893 17.6569L7.05025 19.7782Z",fill:"currentColor",opacity:"0.7"}),x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 12C7 12.5523 6.55228 13 6 13H3C2.44772 13 2 12.5523 2 12C2 11.4477 2.44772 11 3 11H6C6.55228 11 7 11.4477 7 12Z",fill:"currentColor",opacity:"0.8"}),x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.22183 7.05025C4.61236 7.44078 5.24552 7.44078 5.63604 7.05025L7.75736 4.92893C8.14789 4.53841 8.14789 3.90524 7.75736 3.51472C7.36684 3.12419 6.73367 3.12419 6.34315 3.51472L4.22183 5.63604C3.8313 6.02656 3.8313 6.65973 4.22183 7.05025Z",fill:"currentColor",opacity:"0.9"})]}));Ov.displayName="LoaderIcon";const Nv=w.memo(({className:n,...e})=>x.jsxs("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2ZM4 12C4 7.58172 7.58172 4 12 4C16.4183 4 20 7.58172 20 12C20 16.4183 16.4183 20 12 20C7.58172 20 4 16.4183 4 12Z",fill:"currentColor"}),x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 7C12.5523 7 13 7.44772 13 8V12C13 12.5523 12.5523 13 12 13C11.4477 13 11 12.5523 11 12V8C11 7.44772 11.4477 7 12 7Z",fill:"currentColor"}),x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 15C12.5523 15 13 15.4477 13 16C13 16.5523 12.5523 17 12 17C11.4477 17 11 16.5523 11 16C11 15.4477 11.4477 15 12 15Z",fill:"currentColor"})]}));Nv.displayName="AlertCircleIcon";const $R=async n=>{await new Promise(l=>setTimeout(l,1e3));const{title:e,content:t,blockType:r}=n;if(!r)throw new Error("Block type is required");let o="";switch(r){case"hero":o=`
        <div class="folio-block folio-block-hero">
          <h1>${e||"Hero Title"}</h1>
          <p>${t||"This is a hero section with compelling content that draws visitors in."}</p>
          <button class="btn btn-primary">Get Started</button>
        </div>
      `;break;case"gallery":o=`
        <div class="folio-block folio-block-gallery">
          <h2>${e||"Image Gallery"}</h2>
          <div class="gallery-grid">
            <div class="gallery-item">📷 Image 1</div>
            <div class="gallery-item">📷 Image 2</div>
            <div class="gallery-item">📷 Image 3</div>
            <div class="gallery-item">📷 Image 4</div>
          </div>
          ${t?`<p>${t}</p>`:""}
        </div>
      `;break;case"testimonial":o=`
        <div class="folio-block folio-block-testimonial">
          <h3>${e||"Customer Testimonial"}</h3>
          <blockquote>
            "${t||"This product has completely transformed our workflow. Highly recommended!"}"
          </blockquote>
          <cite>— Happy Customer</cite>
        </div>
      `;break;case"cta":o=`
        <div class="folio-block folio-block-cta">
          <h2>${e||"Ready to Get Started?"}</h2>
          <p>${t||"Join thousands of satisfied customers today."}</p>
          <div class="cta-buttons">
            <button class="btn btn-primary">Start Free Trial</button>
            <button class="btn btn-secondary">Learn More</button>
          </div>
        </div>
      `;break;case"feature":o=`
        <div class="folio-block folio-block-feature">
          <h3>${e||"Amazing Feature"}</h3>
          <div class="feature-content">
            <div class="feature-icon">⭐</div>
            <div class="feature-text">
              <p>${t||"This feature will help you accomplish your goals more efficiently than ever before."}</p>
            </div>
          </div>
        </div>
      `;break;case"custom":o=`
        <div class="folio-block folio-block-custom">
          <h3>${e||"Custom Block"}</h3>
          <div class="custom-content">
            ${t||"<p>This is a custom block with your own content and styling.</p>"}
          </div>
        </div>
      `;break;default:o=`
        <div class="folio-block folio-block-default">
          <h3>${e||"Folio Block"}</h3>
          <p>${t||"This is a generic Folio block."}</p>
        </div>
      `}return{html:o,success:!0}},GR=(n,e)=>{const[t,r]=w.useState(!1),[o,l]=w.useState(null),[a,c]=w.useState(""),d=w.useCallback(async()=>{if(!(!e||!n.title&&!n.blockType)){r(!0),l(null);try{const h=await $R(n);if(h.success)c(h.html);else throw new Error(h.error||"Failed to load content")}catch(h){const m=h instanceof Error?h.message:"Unknown error occurred";l(m),console.error("Failed to load Folio block content:",h)}finally{r(!1)}}},[n,e]);return w.useEffect(()=>{d()},[d]),{loading:t,error:o,htmlContent:a,reload:d}},m3=({onConfigure:n,attributes:e})=>x.jsx("div",{className:"folio-tiptap-block-placeholder",children:x.jsxs("div",{className:"folio-tiptap-block-placeholder-content",children:[x.jsx("div",{className:"folio-tiptap-block-placeholder-icon",children:x.jsx(l0,{})}),x.jsx("h4",{className:"folio-tiptap-block-placeholder-title",children:e.title||"Folio Block"}),x.jsx("p",{className:"folio-tiptap-block-placeholder-description",children:e.blockType?`Block Type: ${e.blockType}`:"Click to configure this Folio block"}),x.jsxs(Ze,{onClick:n,"data-style":"primary",className:"folio-tiptap-block-configure-btn",children:[x.jsx($a,{className:"tiptap-button-icon"}),e.title?"Edit Block":"Configure Block"]})]})}),ZR=({htmlContent:n,onEdit:e,attributes:t})=>x.jsxs("div",{className:"folio-tiptap-block-content",children:[x.jsxs("div",{className:"folio-tiptap-block-header",children:[x.jsx("span",{className:"folio-tiptap-block-title",children:t.title||"Folio Block"}),x.jsx(Ze,{onClick:e,"data-style":"ghost",className:"folio-tiptap-block-edit-btn",title:"Edit block",children:x.jsx($a,{className:"tiptap-button-icon"})})]}),x.jsx("div",{className:"folio-tiptap-block-rendered-content",dangerouslySetInnerHTML:{__html:n}})]}),YR=()=>x.jsxs("div",{className:"folio-tiptap-block-loading",children:[x.jsx(Ov,{className:"folio-tiptap-block-loading-icon"}),x.jsx("span",{className:"folio-tiptap-block-loading-text",children:"Loading block content..."})]}),JR=({error:n,onRetry:e,onConfigure:t})=>x.jsx("div",{className:"folio-tiptap-block-error",children:x.jsxs("div",{className:"folio-tiptap-block-error-content",children:[x.jsx(Nv,{className:"folio-tiptap-block-error-icon"}),x.jsx("h4",{className:"folio-tiptap-block-error-title",children:"Failed to load block"}),x.jsx("p",{className:"folio-tiptap-block-error-message",children:n}),x.jsxs("div",{className:"folio-tiptap-block-error-actions",children:[x.jsx(Ze,{onClick:e,"data-style":"ghost",children:"Retry"}),x.jsxs(Ze,{onClick:t,"data-style":"primary",children:[x.jsx($a,{className:"tiptap-button-icon"}),"Configure"]})]})]})}),QR=n=>{const{node:e,updateAttributes:t}=n,r=e.attrs,[o,l]=w.useState(!1),a=!r.title&&!r.blockType;w.useEffect(()=>{a&&l(!0)},[a]);const c=r.title||r.blockType,{loading:d,error:h,htmlContent:m,reload:g}=GR(r,!!c),b=M=>{t(M),l(!1)},v=()=>{if(a){const M=n.getPos();n.editor.chain().focus().deleteRange({from:M,to:M+1}).run()}l(!1)},C=()=>{l(!0)},S=()=>c?d?x.jsx(YR,{}):h?x.jsx(JR,{error:h,onRetry:g,onConfigure:C}):m?x.jsx(ZR,{htmlContent:m,onEdit:C,attributes:r}):x.jsx(m3,{onConfigure:C,attributes:r}):x.jsx(m3,{onConfigure:C,attributes:r});return x.jsx(p5,{className:"folio-tiptap-block-wrapper",children:x.jsx(KR,{isOpen:o,onOpenChange:l,attributes:r,onSave:b,onCancel:v,children:x.jsx("div",{className:"folio-tiptap-block",children:S()})})})},XR=nn.create({name:"folioTiptapBlock",group:"block",draggable:!0,selectable:!0,atom:!0,addOptions(){return console.log("FolioTiptapBlock extension loading..."),{apiUrl:"/api/folio-blocks",onError:void 0,onSuccess:void 0}},addAttributes(){return{title:{default:"",parseHTML:n=>n.getAttribute("data-title"),renderHTML:n=>n.title?{"data-title":n.title}:{}},content:{default:"",parseHTML:n=>n.getAttribute("data-content"),renderHTML:n=>n.content?{"data-content":n.content}:{}},blockType:{default:"",parseHTML:n=>n.getAttribute("data-block-type"),renderHTML:n=>n.blockType?{"data-block-type":n.blockType}:{}},apiUrl:{default:this.options.apiUrl,parseHTML:n=>n.getAttribute("data-api-url"),renderHTML:n=>n.apiUrl?{"data-api-url":n.apiUrl}:{}},htmlContent:{default:"",parseHTML:n=>n.innerHTML,renderHTML:n=>({})}}},parseHTML(){return[{tag:'div[data-type="folio-tiptap-block"]'}]},renderHTML({HTMLAttributes:n}){return["div",rt({"data-type":"folio-tiptap-block",class:"folio-tiptap-block-wrapper"},n),0]},addNodeView(){return m5(QR)},addCommands(){return console.log("FolioTiptapBlock commands registered"),{setFolioTiptapBlock:(n={})=>({commands:e})=>{console.log("setFolioTiptapBlock command called with attributes:",n);const t=e.insertContent({type:this.name,attrs:{...n,apiUrl:n.apiUrl||this.options.apiUrl}});return console.log("insertContent result:",t),t}}},addKeyboardShortcuts(){return{Enter:({editor:n})=>{const{selection:e}=n.state,{nodeAfter:t}=e.$from;if(t&&t.type.name==="folioTiptapBlock"&&n.isActive("folioTiptapBlock")){const r=n.view.nodeDOM(e.$from.pos);if(r&&r instanceof HTMLElement){const o=r.firstChild;if(o&&o instanceof HTMLElement)return o.click(),!0}}return!1}}}});function rn(n){const{editor:e}=wM();return w.useMemo(()=>n||e,[n,e])}const a0=w.memo(({className:n,...e})=>x.jsx("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.29289 8.29289C5.68342 7.90237 6.31658 7.90237 6.70711 8.29289L12 13.5858L17.2929 8.29289C17.6834 7.90237 18.3166 7.90237 18.7071 8.29289C19.0976 8.68342 19.0976 9.31658 18.7071 9.70711L12.7071 15.7071C12.3166 16.0976 11.6834 16.0976 11.2929 15.7071L5.29289 9.70711C4.90237 9.31658 4.90237 8.68342 5.29289 8.29289Z",fill:"currentColor"})}));a0.displayName="ChevronDownIcon";const em=w.memo(({className:n,...e})=>x.jsx("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:x.jsx("path",{d:"M6 3C6.55228 3 7 3.44772 7 4V11H17V4C17 3.44772 17.4477 3 18 3C18.5523 3 19 3.44772 19 4V20C19 20.5523 18.5523 21 18 21C17.4477 21 17 20.5523 17 20V13H7V20C7 20.5523 6.55228 21 6 21C5.44772 21 5 20.5523 5 20V4C5 3.44772 5.44772 3 6 3Z",fill:"currentColor"})}));em.displayName="HeadingIcon";const tm=5*1024*1024,id=(n,e)=>e?.schema?e.schema.spec.marks.get(n)!==void 0:!1,Qs=(n,e)=>e?.schema?e.schema.spec.nodes.get(n)!==void 0:!1;function WR(n){return!!n&&n.content.size===0}function eO(n){const{editor:e,node:t,nodePos:r}=n;if(!e||!e.state?.doc)return null;const o=t!=null,l=r!=null;if(!o&&!l)return null;if(l)try{const d=e.state.doc.nodeAt(r);if(d)return{pos:r,node:d}}catch(d){return console.error("Error checking node at position:",d),null}let a=-1,c=null;return e.state.doc.descendants((d,h)=>d===t?(a=h,c=d,!1):!0),a!==-1&&c!==null?{pos:a,node:c}:null}const tO=async(n,e,t)=>{if(!n)throw new Error("No file provided");if(n.size>tm)throw new Error(`File size exceeds maximum allowed (${tm/(1024*1024)}MB)`);for(let r=0;r<=100;r+=10){if(t?.aborted)throw new Error("Upload cancelled");await new Promise(o=>setTimeout(o,500)),e?.({progress:r})}return"/images/placeholder-image.png"},Dv=w.memo(({className:n,...e})=>x.jsxs("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[x.jsx("path",{d:"M5 6C5 5.44772 4.55228 5 4 5C3.44772 5 3 5.44772 3 6V18C3 18.5523 3.44772 19 4 19C4.55228 19 5 18.5523 5 18V13H11V18C11 18.5523 11.4477 19 12 19C12.5523 19 13 18.5523 13 18V6C13 5.44772 12.5523 5 12 5C11.4477 5 11 5.44772 11 6V11H5V6Z",fill:"currentColor"}),x.jsx("path",{d:"M21.0001 10C21.0001 9.63121 20.7971 9.29235 20.472 9.11833C20.1468 8.94431 19.7523 8.96338 19.4454 9.16795L16.4454 11.168C15.9859 11.4743 15.8617 12.0952 16.1681 12.5547C16.4744 13.0142 17.0953 13.1384 17.5548 12.8321L19.0001 11.8685V18C19.0001 18.5523 19.4478 19 20.0001 19C20.5524 19 21.0001 18.5523 21.0001 18V10Z",fill:"currentColor"})]}));Dv.displayName="HeadingOneIcon";const Lv=w.memo(({className:n,...e})=>x.jsxs("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[x.jsx("path",{d:"M5 6C5 5.44772 4.55228 5 4 5C3.44772 5 3 5.44772 3 6V18C3 18.5523 3.44772 19 4 19C4.55228 19 5 18.5523 5 18V13H11V18C11 18.5523 11.4477 19 12 19C12.5523 19 13 18.5523 13 18V6C13 5.44772 12.5523 5 12 5C11.4477 5 11 5.44772 11 6V11H5V6Z",fill:"currentColor"}),x.jsx("path",{d:"M22.0001 12C22.0001 10.7611 21.1663 9.79297 20.0663 9.42632C18.9547 9.05578 17.6171 9.28724 16.4001 10.2C15.9582 10.5314 15.8687 11.1582 16.2001 11.6C16.5314 12.0418 17.1582 12.1314 17.6001 11.8C18.383 11.2128 19.0455 11.1942 19.4338 11.3237C19.8339 11.457 20.0001 11.7389 20.0001 12C20.0001 12.4839 19.8554 12.7379 19.6537 12.9481C19.4275 13.1837 19.1378 13.363 18.7055 13.6307C18.6313 13.6767 18.553 13.7252 18.4701 13.777C17.9572 14.0975 17.3128 14.5261 16.8163 15.2087C16.3007 15.9177 16.0001 16.8183 16.0001 18C16.0001 18.5523 16.4478 19 17.0001 19H21.0001C21.5523 19 22.0001 18.5523 22.0001 18C22.0001 17.4477 21.5523 17 21.0001 17H18.131C18.21 16.742 18.3176 16.5448 18.4338 16.385C18.6873 16.0364 19.0429 15.7775 19.5301 15.473C19.5898 15.4357 19.6536 15.3966 19.7205 15.3556C20.139 15.0992 20.6783 14.7687 21.0964 14.3332C21.6447 13.7621 22.0001 13.0161 22.0001 12Z",fill:"currentColor"})]}));Lv.displayName="HeadingTwoIcon";const Hv=w.memo(({className:n,...e})=>x.jsxs("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[x.jsx("path",{d:"M4 5C4.55228 5 5 5.44772 5 6V11H11V6C11 5.44772 11.4477 5 12 5C12.5523 5 13 5.44772 13 6V18C13 18.5523 12.5523 19 12 19C11.4477 19 11 18.5523 11 18V13H5V18C5 18.5523 4.55228 19 4 19C3.44772 19 3 18.5523 3 18V6C3 5.44772 3.44772 5 4 5Z",fill:"currentColor"}),x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.4608 11.2169C19.1135 11.0531 18.5876 11.0204 18.0069 11.3619C17.5309 11.642 16.918 11.4831 16.638 11.007C16.358 10.531 16.5169 9.91809 16.9929 9.63807C18.1123 8.97962 19.3364 8.94691 20.314 9.40808C21.2839 9.86558 21.9999 10.818 21.9999 12C21.9999 12.7957 21.6838 13.5587 21.1212 14.1213C20.5586 14.6839 19.7956 15 18.9999 15C18.4476 15 17.9999 14.5523 17.9999 14C17.9999 13.4477 18.4476 13 18.9999 13C19.2651 13 19.5195 12.8947 19.707 12.7071C19.8946 12.5196 19.9999 12.2652 19.9999 12C19.9999 11.6821 19.8159 11.3844 19.4608 11.2169Z",fill:"currentColor"}),x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.0001 14C18.0001 13.4477 18.4478 13 19.0001 13C19.7957 13 20.5588 13.3161 21.1214 13.8787C21.684 14.4413 22.0001 15.2043 22.0001 16C22.0001 17.2853 21.2767 18.3971 20.1604 18.8994C19.0257 19.41 17.642 19.2315 16.4001 18.3C15.9582 17.9686 15.8687 17.3418 16.2001 16.9C16.5314 16.4582 17.1582 16.3686 17.6001 16.7C18.3581 17.2685 18.9744 17.24 19.3397 17.0756C19.7234 16.9029 20.0001 16.5147 20.0001 16C20.0001 15.7348 19.8947 15.4804 19.7072 15.2929C19.5196 15.1054 19.2653 15 19.0001 15C18.4478 15 18.0001 14.5523 18.0001 14Z",fill:"currentColor"})]}));Hv.displayName="HeadingThreeIcon";const zv=w.memo(({className:n,...e})=>x.jsxs("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[x.jsx("path",{d:"M4 5C4.55228 5 5 5.44772 5 6V11H11V6C11 5.44772 11.4477 5 12 5C12.5523 5 13 5.44772 13 6V18C13 18.5523 12.5523 19 12 19C11.4477 19 11 18.5523 11 18V13H5V18C5 18.5523 4.55228 19 4 19C3.44772 19 3 18.5523 3 18V6C3 5.44772 3.44772 5 4 5Z",fill:"currentColor"}),x.jsx("path",{d:"M17 9C17.5523 9 18 9.44772 18 10V13H20V10C20 9.44772 20.4477 9 21 9C21.5523 9 22 9.44772 22 10V18C22 18.5523 21.5523 19 21 19C20.4477 19 20 18.5523 20 18V15H17C16.4477 15 16 14.5523 16 14V10C16 9.44772 16.4477 9 17 9Z",fill:"currentColor"})]}));zv.displayName="HeadingFourIcon";const Bv=w.memo(({className:n,...e})=>x.jsxs("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[x.jsx("path",{d:"M5 6C5 5.44772 4.55228 5 4 5C3.44772 5 3 5.44772 3 6V18C3 18.5523 3.44772 19 4 19C4.55228 19 5 18.5523 5 18V13H11V18C11 18.5523 11.4477 19 12 19C12.5523 19 13 18.5523 13 18V6C13 5.44772 12.5523 5 12 5C11.4477 5 11 5.44772 11 6V11H5V6Z",fill:"currentColor"}),x.jsx("path",{d:"M16 10C16 9.44772 16.4477 9 17 9H21C21.5523 9 22 9.44772 22 10C22 10.5523 21.5523 11 21 11H18V12H18.3C20.2754 12 22 13.4739 22 15.5C22 17.5261 20.2754 19 18.3 19C17.6457 19 17.0925 18.8643 16.5528 18.5944C16.0588 18.3474 15.8586 17.7468 16.1055 17.2528C16.3525 16.7588 16.9532 16.5586 17.4472 16.8056C17.7074 16.9357 17.9542 17 18.3 17C19.3246 17 20 16.2739 20 15.5C20 14.7261 19.3246 14 18.3 14H17C16.4477 14 16 13.5523 16 13L16 12.9928V10Z",fill:"currentColor"})]}));Bv.displayName="HeadingFiveIcon";const jv=w.memo(({className:n,...e})=>x.jsxs("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[x.jsx("path",{d:"M5 6C5 5.44772 4.55228 5 4 5C3.44772 5 3 5.44772 3 6V18C3 18.5523 3.44772 19 4 19C4.55228 19 5 18.5523 5 18V13H11V18C11 18.5523 11.4477 19 12 19C12.5523 19 13 18.5523 13 18V6C13 5.44772 12.5523 5 12 5C11.4477 5 11 5.44772 11 6V11H5V6Z",fill:"currentColor"}),x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.7071 9.29289C21.0976 9.68342 21.0976 10.3166 20.7071 10.7071C19.8392 11.575 19.2179 12.2949 18.7889 13.0073C18.8587 13.0025 18.929 13 19 13C20.6569 13 22 14.3431 22 16C22 17.6569 20.6569 19 19 19C17.3431 19 16 17.6569 16 16C16 14.6007 16.2837 13.4368 16.8676 12.3419C17.4384 11.2717 18.2728 10.3129 19.2929 9.29289C19.6834 8.90237 20.3166 8.90237 20.7071 9.29289ZM19 17C18.4477 17 18 16.5523 18 16C18 15.4477 18.4477 15 19 15C19.5523 15 20 15.4477 20 16C20 16.5523 19.5523 17 19 17Z",fill:"currentColor"})]}));jv.displayName="HeadingSixIcon";const Iv={1:Dv,2:Lv,3:Hv,4:zv,5:Bv,6:jv},nO={1:"Ctrl-Alt-1",2:"Ctrl-Alt-2",3:"Ctrl-Alt-3",4:"Ctrl-Alt-4",5:"Ctrl-Alt-5",6:"Ctrl-Alt-6"};function rO(n,e){if(!n)return!1;try{return n.can().toggleNode("heading","paragraph",{level:e})}catch{return!1}}function iO(n,e){return n?n.isActive("heading",{level:e}):!1}function oO(n,e){n&&(n.isActive("heading",{level:e})?n.chain().focus().setNode("paragraph").run():n.chain().focus().toggleNode("heading","paragraph",{level:e}).run())}function sO(n,e,t=!1){return!!(!n||t||!rO(n,e))}function lO(n){const{editor:e,hideWhenUnavailable:t,headingInSchema:r}=n;return!(!r||!e||t&&nr(e.state.selection))}function Vv(n){return`Heading ${n}`}function aO(n,e,t=!1){const r=Qs("heading",n),o=sO(n,e,t),l=iO(n,e),a=Iv[e],c=nO[e],d=Vv(e);return{headingInSchema:r,isDisabled:o,isActive:l,Icon:a,shortcutKey:c,formattedName:d}}const _v=w.forwardRef(({editor:n,level:e,text:t,hideWhenUnavailable:r=!1,className:o="",disabled:l,onClick:a,children:c,...d},h)=>{const m=rn(n),{headingInSchema:g,isDisabled:b,isActive:v,Icon:C,shortcutKey:S,formattedName:M}=aO(m,e,l),k=w.useCallback(D=>{a?.(D),!D.defaultPrevented&&!b&&m&&oO(m,e)},[a,b,m,e]);return!w.useMemo(()=>lO({editor:m,hideWhenUnavailable:r,headingInSchema:g}),[m,e,r,g])||!m||!m.isEditable?null:x.jsx(Ze,{type:"button",className:o.trim(),disabled:b,"data-style":"ghost","data-active-state":v?"on":"off","data-disabled":b,role:"button",tabIndex:-1,"aria-label":M,"aria-pressed":v,tooltip:M,shortcutKeys:S,onClick:k,...d,ref:h,children:c||x.jsxs(x.Fragment,{children:[x.jsx(C,{className:"tiptap-button-icon"}),t&&x.jsx("span",{className:"tiptap-button-text",children:t})]})})});_v.displayName="HeadingButton";const Uv=w.createContext(null);function u0(){const n=w.useContext(Uv);if(!n)throw new Error("DropdownMenu components must be wrapped in <DropdownMenu />");return n}function uO({initialOpen:n=!1,open:e,onOpenChange:t,side:r="bottom",align:o="start"}){const[l,a]=w.useState(n),[c,d]=w.useState(`${r}-${o}`),[h,m]=w.useState(null),g=e??l,b=t??a,v=w.useRef([]),C=w.useRef([]),S=e0({open:g,onOpenChange:b,placement:c,middleware:[Zm({mainAxis:4}),Jm(),Ym({padding:4})],whileElementsMounted:Gm}),{context:M}=S,k=t0([vv(M,{event:"mousedown",toggle:!0,ignoreMouse:!1}),n0(M,{role:"menu"}),Wm(M,{outsidePress:!0,outsidePressEvent:"mousedown"}),ER(M,{listRef:v,activeIndex:h,onNavigate:m,loop:!0}),MR(M,{listRef:C,onMatch:g?m:void 0,activeIndex:h})]),O=w.useCallback((D,P)=>{d(`${D}-${P}`)},[]);return w.useMemo(()=>({open:g,setOpen:b,activeIndex:h,setActiveIndex:m,elementsRef:v,labelsRef:C,updatePosition:O,...k,...S}),[g,b,h,k,S,O])}function qv({children:n,...e}){const t=uO(e);return x.jsx(Uv.Provider,{value:t,children:x.jsx(YA,{elementsRef:t.elementsRef,labelsRef:t.labelsRef,children:n})})}const c0=w.forwardRef(({children:n,asChild:e=!1,...t},r)=>{const o=u0(),l=w.isValidElement(n)?parseInt(w.version,10)>=19?n.props.ref:n.ref:void 0,a=Io([o.refs.setReference,r,l]);if(e&&w.isValidElement(n)){const c={"data-state":o.open?"open":"closed"};return w.cloneElement(n,o.getReferenceProps({ref:a,...t,...typeof n.props=="object"?n.props:{},"aria-expanded":o.open,"aria-haspopup":"menu",...c}))}return x.jsx("button",{ref:a,"aria-expanded":o.open,"aria-haspopup":"menu","data-state":o.open?"open":"closed",...o.getReferenceProps(t),children:n})});c0.displayName="DropdownMenuTrigger";const f0=w.forwardRef(({style:n,className:e,orientation:t="vertical",side:r="bottom",align:o="start",portal:l=!0,portalProps:a={},...c},d)=>{const h=u0(),m=Io([h.refs.setFloating,d]);if(w.useEffect(()=>{h.updatePosition(r,o)},[h,r,o]),!h.open)return null;const g=x.jsx(bv,{context:h.context,modal:!1,initialFocus:0,returnFocus:!0,children:x.jsx("div",{ref:m,className:`tiptap-dropdown-menu ${e||""}`,style:{position:h.strategy,top:h.y??0,left:h.x??0,outline:"none",...n},"aria-orientation":t,"data-orientation":t,"data-state":h.open?"open":"closed","data-side":r,"data-align":o,...h.getFloatingProps(c),children:c.children})});return l?x.jsx(Xm,{...a,children:g}):g});f0.displayName="DropdownMenuContent";const d0=w.forwardRef(({children:n,disabled:e,asChild:t=!1,onSelect:r,className:o,...l},a)=>{const c=u0(),d=JA({label:e?null:n?.toString()}),h=c.activeIndex===d.index,m=w.useCallback(b=>{e||(r?.(),l.onClick?.(b),c.setOpen(!1))},[c,e,r,l]),g={ref:Io([d.ref,a]),role:"menuitem",className:o,tabIndex:h?0:-1,"data-highlighted":h,"aria-disabled":e,...c.getItemProps({...l,onClick:m})};if(t&&w.isValidElement(n)){const b=n.props,v={...g,...typeof n.props=="object"?n.props:{}},C={onClick:S=>{m(S),b.onClick?.(S)}};return w.cloneElement(n,{...v,...C})}return x.jsx("div",{...g,children:n})});d0.displayName="DropdownMenuItem";const h0=w.forwardRef(({children:n,label:e,className:t,...r},o)=>x.jsx("div",{...r,ref:o,role:"group","aria-label":e,className:`tiptap-button-group ${t||""}`,children:n}));h0.displayName="DropdownMenuGroup";const cO=w.forwardRef(({className:n,...e},t)=>x.jsx(Vo,{ref:t,className:`tiptap-dropdown-menu-separator ${n||""}`,...e}));cO.displayName=Vo.displayName;function Pv({editor:n,levels:e=[1,2,3,4,5,6],hideWhenUnavailable:t=!1,onOpenChange:r,...o}){const[l,a]=w.useState(!1),c=rn(n),d=Qs("heading",c),h=w.useCallback(S=>{a(S),r?.(S)},[r]),m=w.useCallback(()=>{if(!c)return x.jsx(em,{className:"tiptap-button-icon"});const S=e.find(k=>c.isActive("heading",{level:k}));if(!S)return x.jsx(em,{className:"tiptap-button-icon"});const M=Iv[S];return x.jsx(M,{className:"tiptap-button-icon"})},[c,e]),g=w.useCallback(()=>c?e.some(S=>c.can().toggleNode("heading","paragraph",{level:S})):!1,[c,e]),b=!g(),v=c?.isActive("heading")??!1;return!w.useMemo(()=>!(!d||!c||t&&(nr(c.state.selection)||!g())),[d,c,t,g])||!c||!c.isEditable?null:x.jsxs(qv,{open:l,onOpenChange:h,children:[x.jsx(c0,{asChild:!0,children:x.jsxs(Ze,{type:"button",disabled:b,"data-style":"ghost","data-active-state":v?"on":"off","data-disabled":b,role:"button",tabIndex:-1,"aria-label":"Format text as heading","aria-pressed":v,tooltip:"Heading",...o,children:[m(),x.jsx(a0,{className:"tiptap-button-dropdown-small"})]})}),x.jsx(f0,{children:x.jsx(h0,{children:e.map(S=>x.jsx(d0,{asChild:!0,children:x.jsx(_v,{editor:c,level:S,text:Vv(S),tooltip:""})},`heading-${S}`))})})]})}const Fv=w.memo(({className:n,...e})=>x.jsx("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 2C20 1.44772 19.5523 1 19 1C18.4477 1 18 1.44772 18 2V4H16C15.4477 4 15 4.44772 15 5C15 5.55228 15.4477 6 16 6H18V8C18 8.55228 18.4477 9 19 9C19.5523 9 20 8.55228 20 8V6H22C22.5523 6 23 5.55228 23 5C23 4.44772 22.5523 4 22 4H20V2ZM5 4C4.73478 4 4.48043 4.10536 4.29289 4.29289C4.10536 4.48043 4 4.73478 4 5V19C4 19.2652 4.10536 19.5196 4.29289 19.7071C4.48043 19.8946 4.73478 20 5 20H5.58579L14.379 11.2068C14.9416 10.6444 15.7045 10.3284 16.5 10.3284C17.2955 10.3284 18.0584 10.6444 18.621 11.2068L20 12.5858V12C20 11.4477 20.4477 11 21 11C21.5523 11 22 11.4477 22 12V14.998C22 14.9994 22 15.0007 22 15.002V19C22 19.7957 21.6839 20.5587 21.1213 21.1213C20.5587 21.6839 19.7957 22 19 22H6.00219C6.00073 22 5.99927 22 5.99781 22H5C4.20435 22 3.44129 21.6839 2.87868 21.1213C2.31607 20.5587 2 19.7957 2 19V5C2 4.20435 2.31607 3.44129 2.87868 2.87868C3.44129 2.31607 4.20435 2 5 2H12C12.5523 2 13 2.44772 13 3C13 3.55228 12.5523 4 12 4H5ZM8.41422 20H19C19.2652 20 19.5196 19.8946 19.7071 19.7071C19.8946 19.5196 20 19.2652 20 19V15.4142L17.207 12.6212C17.0195 12.4338 16.7651 12.3284 16.5 12.3284C16.2349 12.3284 15.9806 12.4337 15.7931 12.6211L8.41422 20ZM6.87868 6.87868C7.44129 6.31607 8.20435 6 9 6C9.79565 6 10.5587 6.31607 11.1213 6.87868C11.6839 7.44129 12 8.20435 12 9C12 9.79565 11.6839 10.5587 11.1213 11.1213C10.5587 11.6839 9.79565 12 9 12C8.20435 12 7.44129 11.6839 6.87868 11.1213C6.31607 10.5587 6 9.79565 6 9C6 8.20435 6.31607 7.44129 6.87868 6.87868ZM9 8C8.73478 8 8.48043 8.10536 8.29289 8.29289C8.10536 8.48043 8 8.73478 8 9C8 9.26522 8.10536 9.51957 8.29289 9.70711C8.48043 9.89464 8.73478 10 9 10C9.26522 10 9.51957 9.89464 9.70711 9.70711C9.89464 9.51957 10 9.26522 10 9C10 8.73478 9.89464 8.48043 9.70711 8.29289C9.51957 8.10536 9.26522 8 9 8Z",fill:"currentColor"})}));Fv.displayName="ImagePlusIcon";function fO(n,e){return n?n.isActive(e):!1}function dO(n,e){return n?n.chain().focus().insertContent({type:e}).run():!1}function hO(n,e="imageUpload",t=!1){const r=fO(n,e),o=w.useCallback(()=>t?!1:dO(n,e),[n,e,t]);return{isActive:r,handleInsertImage:o}}const Kv=w.forwardRef(({editor:n,extensionName:e="imageUpload",text:t,className:r="",disabled:o,onClick:l,children:a,...c},d)=>{const h=rn(n),{isActive:m,handleInsertImage:g}=hO(h,e,o),b=w.useCallback(v=>{l?.(v),!v.defaultPrevented&&!o&&g()},[l,o,g]);return!h||!h.isEditable?null:x.jsx(Ze,{ref:d,type:"button",className:r.trim(),"data-style":"ghost","data-active-state":m?"on":"off",role:"button",tabIndex:-1,"aria-label":"Add image","aria-pressed":m,tooltip:"Add image",onClick:b,...c,children:a||x.jsxs(x.Fragment,{children:[x.jsx(Fv,{className:"tiptap-button-icon"}),t&&x.jsx("span",{className:"tiptap-button-text",children:t})]})})});Kv.displayName="ImageUploadButton";function pO(n,e){return n?n.isActive(e):!1}function mO(n,e){if(!n)return console.log("No editor available for insertFolioBlock"),!1;console.log("Inserting FolioTiptapBlock using custom command"),console.log("Available commands:",Object.keys(n.commands));try{const t=n.chain().focus().setFolioTiptapBlock().run();return console.log("setFolioTiptapBlock result:",t),t}catch(t){return console.error("Error inserting FolioTiptapBlock:",t),!1}}function gO(n,e="folioTiptapBlock",t=!1){const r=pO(n,e),o=w.useCallback(()=>t?!1:mO(n),[n,e,t]);return{isActive:r,handleInsertBlock:o}}const $v=w.forwardRef(({editor:n,extensionName:e="folioTiptapBlock",text:t,className:r="",disabled:o,onClick:l,children:a,...c},d)=>{const h=rn(n),{isActive:m,handleInsertBlock:g}=gO(h,e,o),b=w.useCallback(v=>{if(console.log("FolioTiptapBlock button clicked!"),console.log("Editor available:",!!h),console.log("Editor editable:",h?.isEditable),console.log("Disabled:",o),l?.(v),!v.defaultPrevented&&!o){console.log("Attempting to insert FolioTiptapBlock...");const C=g();console.log("Insert result:",C)}},[l,o,g]);return!h||!h.isEditable?null:x.jsx(Ze,{ref:d,type:"button",className:r.trim(),"data-style":"ghost","data-active-state":m?"on":"off",role:"button",tabIndex:-1,"aria-label":"Add Folio Block","aria-pressed":m,tooltip:"Add Folio Block",onClick:b,...c,children:a||x.jsxs(x.Fragment,{children:[x.jsx(l0,{className:"tiptap-button-icon"}),t&&x.jsx("span",{className:"tiptap-button-text",children:t})]})})});$v.displayName="FolioTiptapBlockButton";const od=w.memo(({className:n,...e})=>x.jsxs("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 6C7 5.44772 7.44772 5 8 5H21C21.5523 5 22 5.44772 22 6C22 6.55228 21.5523 7 21 7H8C7.44772 7 7 6.55228 7 6Z",fill:"currentColor"}),x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 12C7 11.4477 7.44772 11 8 11H21C21.5523 11 22 11.4477 22 12C22 12.5523 21.5523 13 21 13H8C7.44772 13 7 12.5523 7 12Z",fill:"currentColor"}),x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 18C7 17.4477 7.44772 17 8 17H21C21.5523 17 22 17.4477 22 18C22 18.5523 21.5523 19 21 19H8C7.44772 19 7 18.5523 7 18Z",fill:"currentColor"}),x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 6C2 5.44772 2.44772 5 3 5H3.01C3.56228 5 4.01 5.44772 4.01 6C4.01 6.55228 3.56228 7 3.01 7H3C2.44772 7 2 6.55228 2 6Z",fill:"currentColor"}),x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 12C2 11.4477 2.44772 11 3 11H3.01C3.56228 11 4.01 11.4477 4.01 12C4.01 12.5523 3.56228 13 3.01 13H3C2.44772 13 2 12.5523 2 12Z",fill:"currentColor"}),x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 18C2 17.4477 2.44772 17 3 17H3.01C3.56228 17 4.01 17.4477 4.01 18C4.01 18.5523 3.56228 19 3.01 19H3C2.44772 19 2 18.5523 2 18Z",fill:"currentColor"})]}));od.displayName="ListIcon";const Gv=w.memo(({className:n,...e})=>x.jsxs("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 6C9 5.44772 9.44772 5 10 5H21C21.5523 5 22 5.44772 22 6C22 6.55228 21.5523 7 21 7H10C9.44772 7 9 6.55228 9 6Z",fill:"currentColor"}),x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 12C9 11.4477 9.44772 11 10 11H21C21.5523 11 22 11.4477 22 12C22 12.5523 21.5523 13 21 13H10C9.44772 13 9 12.5523 9 12Z",fill:"currentColor"}),x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 18C9 17.4477 9.44772 17 10 17H21C21.5523 17 22 17.4477 22 18C22 18.5523 21.5523 19 21 19H10C9.44772 19 9 18.5523 9 18Z",fill:"currentColor"}),x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 6C3 5.44772 3.44772 5 4 5H5C5.55228 5 6 5.44772 6 6V10C6 10.5523 5.55228 11 5 11C4.44772 11 4 10.5523 4 10V7C3.44772 7 3 6.55228 3 6Z",fill:"currentColor"}),x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 10C3 9.44772 3.44772 9 4 9H6C6.55228 9 7 9.44772 7 10C7 10.5523 6.55228 11 6 11H4C3.44772 11 3 10.5523 3 10Z",fill:"currentColor"}),x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.82219 13.0431C6.54543 13.4047 6.99997 14.1319 6.99997 15C6.99997 15.5763 6.71806 16.0426 6.48747 16.35C6.31395 16.5814 6.1052 16.8044 5.91309 17H5.99997C6.55226 17 6.99997 17.4477 6.99997 18C6.99997 18.5523 6.55226 19 5.99997 19H3.99997C3.44769 19 2.99997 18.5523 2.99997 18C2.99997 17.4237 3.28189 16.9575 3.51247 16.65C3.74323 16.3424 4.03626 16.0494 4.26965 15.8161C4.27745 15.8083 4.2852 15.8006 4.29287 15.7929C4.55594 15.5298 4.75095 15.3321 4.88748 15.15C4.96287 15.0495 4.99021 14.9922 4.99911 14.9714C4.99535 14.9112 4.9803 14.882 4.9739 14.8715C4.96613 14.8588 4.95382 14.845 4.92776 14.8319C4.87723 14.8067 4.71156 14.7623 4.44719 14.8944C3.95321 15.1414 3.35254 14.9412 3.10555 14.4472C2.85856 13.9533 3.05878 13.3526 3.55276 13.1056C4.28839 12.7378 5.12272 12.6934 5.82219 13.0431Z",fill:"currentColor"})]}));Gv.displayName="ListOrderedIcon";const Zv=w.memo(({className:n,...e})=>x.jsxs("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 6C2 4.89543 2.89543 4 4 4H8C9.10457 4 10 4.89543 10 6V10C10 11.1046 9.10457 12 8 12H4C2.89543 12 2 11.1046 2 10V6ZM8 6H4V10H8V6Z",fill:"currentColor"}),x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.70711 14.2929C10.0976 14.6834 10.0976 15.3166 9.70711 15.7071L5.70711 19.7071C5.31658 20.0976 4.68342 20.0976 4.29289 19.7071L2.29289 17.7071C1.90237 17.3166 1.90237 16.6834 2.29289 16.2929C2.68342 15.9024 3.31658 15.9024 3.70711 16.2929L5 17.5858L8.29289 14.2929C8.68342 13.9024 9.31658 13.9024 9.70711 14.2929Z",fill:"currentColor"}),x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 6C12 5.44772 12.4477 5 13 5H21C21.5523 5 22 5.44772 22 6C22 6.55228 21.5523 7 21 7H13C12.4477 7 12 6.55228 12 6Z",fill:"currentColor"}),x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 12C12 11.4477 12.4477 11 13 11H21C21.5523 11 22 11.4477 22 12C22 12.5523 21.5523 13 21 13H13C12.4477 13 12 12.5523 12 12Z",fill:"currentColor"}),x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 18C12 17.4477 12.4477 17 13 17H21C21.5523 17 22 17.4477 22 18C22 18.5523 21.5523 19 21 19H13C12.4477 19 12 18.5523 12 18Z",fill:"currentColor"})]}));Zv.displayName="ListTodoIcon";const Yv=[{label:"Bullet List",type:"bulletList",icon:od},{label:"Ordered List",type:"orderedList",icon:Gv},{label:"Task List",type:"taskList",icon:Zv}],yO={bulletList:"Ctrl-Shift-8",orderedList:"Ctrl-Shift-7",taskList:"Ctrl-Shift-9"};function Jv(n,e){if(!n)return!1;switch(e){case"bulletList":return n.can().toggleBulletList();case"orderedList":return n.can().toggleOrderedList();case"taskList":return n.can().toggleList("taskList","taskItem");default:return!1}}function p0(n,e){if(!n)return!1;switch(e){case"bulletList":return n.isActive("bulletList");case"orderedList":return n.isActive("orderedList");case"taskList":return n.isActive("taskList");default:return!1}}function bO(n,e){if(n)switch(e){case"bulletList":n.chain().focus().toggleBulletList().run();break;case"orderedList":n.chain().focus().toggleOrderedList().run();break;case"taskList":n.chain().focus().toggleList("taskList","taskItem").run();break}}function vO(n){return Yv.find(e=>e.type===n)}function CO(n){const{editor:e,type:t,hideWhenUnavailable:r,listInSchema:o}=n;return!(!o||!e||r&&(nr(e.state.selection)||!Jv(e,t)))}function xO(n,e){const t=Qs(e,n),r=vO(e),o=p0(n,e),l=yO[e];return{listInSchema:t,listOption:r,isActive:o,shortcutKey:l}}const Qv=w.forwardRef(({editor:n,type:e,hideWhenUnavailable:t=!1,className:r="",onClick:o,text:l,children:a,...c},d)=>{const h=rn(n),{listInSchema:m,listOption:g,isActive:b,shortcutKey:v}=xO(h,e),C=g?.icon||od,S=w.useCallback(k=>{o?.(k),!k.defaultPrevented&&h&&bO(h,e)},[o,h,e]);return!w.useMemo(()=>CO({editor:h,type:e,hideWhenUnavailable:t,listInSchema:m}),[h,e,t,m])||!h||!h.isEditable?null:x.jsx(Ze,{type:"button",className:r.trim(),"data-style":"ghost","data-active-state":b?"on":"off",role:"button",tabIndex:-1,"aria-label":g?.label||e,"aria-pressed":b,tooltip:g?.label||e,shortcutKeys:v,onClick:S,...c,ref:d,children:a||x.jsxs(x.Fragment,{children:[x.jsx(C,{className:"tiptap-button-icon"}),l&&x.jsx("span",{className:"tiptap-button-text",children:l})]})})});Qv.displayName="ListButton";function SO(n,e){return n?e.some(t=>Jv(n,t)):!1}function EO(n,e){return n?e.some(t=>p0(n,t)):!1}function wO(n){return Yv.filter(e=>!e.type||n.includes(e.type))}function MO(n){const{editor:e,hideWhenUnavailable:t,listInSchema:r,canToggleAny:o}=n;return!(!r||!e||t&&(nr(e.state.selection)||!o))}function TO(n,e){const[t,r]=w.useState(!1),o=e.some(h=>Qs(h,n)),l=w.useMemo(()=>wO(e),[e]),a=SO(n,e),c=EO(n,e),d=w.useCallback((h,m)=>{r(h),m?.(h)},[]);return{isOpen:t,setIsOpen:r,listInSchema:o,filteredLists:l,canToggleAny:a,isAnyActive:c,handleOpenChange:d}}function kO(n,e){return w.useCallback(()=>{const t=e.find(r=>p0(n,r.type));return t?x.jsx(t.icon,{className:"tiptap-button-icon"}):x.jsx(od,{className:"tiptap-button-icon"})},[n,e])}function Xv({editor:n,types:e=["bulletList","orderedList","taskList"],hideWhenUnavailable:t=!1,onOpenChange:r,...o}){const l=rn(n),{isOpen:a,listInSchema:c,filteredLists:d,canToggleAny:h,isAnyActive:m,handleOpenChange:g}=TO(l,e),b=kO(l,d),v=w.useMemo(()=>MO({editor:l,hideWhenUnavailable:t,listInSchema:c,canToggleAny:h}),[l,e,t,c,h]),C=w.useCallback(S=>g(S,r),[g,r]);return!v||!l||!l.isEditable?null:x.jsxs(qv,{open:a,onOpenChange:C,children:[x.jsx(c0,{asChild:!0,children:x.jsxs(Ze,{type:"button","data-style":"ghost","data-active-state":m?"on":"off",role:"button",tabIndex:-1,"aria-label":"List options",tooltip:"List",...o,children:[b(),x.jsx(a0,{className:"tiptap-button-dropdown-small"})]})}),x.jsx(f0,{children:x.jsx(h0,{children:d.map(S=>x.jsx(d0,{asChild:!0,children:x.jsx(Qv,{editor:l,type:S.type,text:S.label,hideWhenUnavailable:t,tooltip:""})},S.type))})})]})}const Wv=w.memo(({className:n,...e})=>x.jsxs("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 6C8 5.44772 8.44772 5 9 5H16C16.5523 5 17 5.44772 17 6C17 6.55228 16.5523 7 16 7H9C8.44772 7 8 6.55228 8 6Z",fill:"currentColor"}),x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 3C4.55228 3 5 3.44772 5 4L5 20C5 20.5523 4.55229 21 4 21C3.44772 21 3 20.5523 3 20L3 4C3 3.44772 3.44772 3 4 3Z",fill:"currentColor"}),x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 12C8 11.4477 8.44772 11 9 11H20C20.5523 11 21 11.4477 21 12C21 12.5523 20.5523 13 20 13H9C8.44772 13 8 12.5523 8 12Z",fill:"currentColor"}),x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 18C8 17.4477 8.44772 17 9 17H16C16.5523 17 17 17.4477 17 18C17 18.5523 16.5523 19 16 19H9C8.44772 19 8 18.5523 8 18Z",fill:"currentColor"})]}));Wv.displayName="BlockQuoteIcon";function AO(n){if(!n)return!1;try{return n.can().toggleWrap("blockquote")}catch{return!1}}function RO(n){return n?n.isActive("blockquote"):!1}function OO(n){return n?n.chain().focus().toggleWrap("blockquote").run():!1}function NO(n,e,t=!1){return!!(!n||t||!e)}function DO(n){const{editor:e,hideWhenUnavailable:t,nodeInSchema:r,canToggle:o}=n;return!r||!e||t&&(nr(e.state.selection)||!o)?!1:!!e?.isEditable}function LO(n,e=!1,t=!1){const r=Qs("blockquote",n),o=AO(n),l=NO(n,o,e),a=RO(n),c=w.useMemo(()=>DO({editor:n,hideWhenUnavailable:t,nodeInSchema:r,canToggle:o}),[n,t,r,o]),d=w.useCallback(()=>!l&&n?OO(n):!1,[n,l]);return{nodeInSchema:r,canToggle:o,isDisabled:l,isActive:a,shouldShow:c,handleToggle:d,shortcutKey:"Ctrl-Shift-b",label:"Blockquote"}}const m0=w.forwardRef(({editor:n,text:e,hideWhenUnavailable:t=!1,className:r="",disabled:o,onClick:l,children:a,...c},d)=>{const h=rn(n),{isDisabled:m,isActive:g,shouldShow:b,handleToggle:v,shortcutKey:C,label:S}=LO(h,o,t),M=w.useCallback(k=>{l?.(k),!k.defaultPrevented&&!m&&v()},[l,m,v]);return!b||!h||!h.isEditable?null:x.jsx(Ze,{type:"button",className:r.trim(),disabled:m,"data-style":"ghost","data-active-state":g?"on":"off","data-disabled":m,role:"button",tabIndex:-1,"aria-label":"blockquote","aria-pressed":g,tooltip:S,shortcutKeys:C,onClick:M,...c,ref:d,children:a||x.jsxs(x.Fragment,{children:[x.jsx(Wv,{className:"tiptap-button-icon"}),e&&x.jsx("span",{className:"tiptap-button-text",children:e})]})})});m0.displayName="BlockQuoteButton";const e9=w.memo(({className:n,...e})=>x.jsxs("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.70711 2.29289C7.09763 2.68342 7.09763 3.31658 6.70711 3.70711L4.41421 6L6.70711 8.29289C7.09763 8.68342 7.09763 9.31658 6.70711 9.70711C6.31658 10.0976 5.68342 10.0976 5.29289 9.70711L2.29289 6.70711C1.90237 6.31658 1.90237 5.68342 2.29289 5.29289L5.29289 2.29289C5.68342 1.90237 6.31658 1.90237 6.70711 2.29289Z",fill:"currentColor"}),x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.2929 2.29289C10.6834 1.90237 11.3166 1.90237 11.7071 2.29289L14.7071 5.29289C15.0976 5.68342 15.0976 6.31658 14.7071 6.70711L11.7071 9.70711C11.3166 10.0976 10.6834 10.0976 10.2929 9.70711C9.90237 9.31658 9.90237 8.68342 10.2929 8.29289L12.5858 6L10.2929 3.70711C9.90237 3.31658 9.90237 2.68342 10.2929 2.29289Z",fill:"currentColor"}),x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17 4C17 3.44772 17.4477 3 18 3H19C20.6569 3 22 4.34315 22 6V18C22 19.6569 20.6569 21 19 21H5C3.34315 21 2 19.6569 2 18V12C2 11.4477 2.44772 11 3 11C3.55228 11 4 11.4477 4 12V18C4 18.5523 4.44772 19 5 19H19C19.5523 19 20 18.5523 20 18V6C20 5.44772 19.5523 5 19 5H18C17.4477 5 17 4.55228 17 4Z",fill:"currentColor"})]}));e9.displayName="CodeBlockIcon";function HO(n){if(!n)return!1;try{return n.can().toggleNode("codeBlock","paragraph")}catch{return!1}}function zO(n){return n?n.isActive("codeBlock"):!1}function BO(n){return n?n.chain().focus().toggleNode("codeBlock","paragraph").run():!1}function jO(n,e,t=!1){return!!(!n||t||!e)}function IO(n){const{editor:e,hideWhenUnavailable:t,nodeInSchema:r,canToggle:o}=n;return!r||!e||t&&(nr(e.state.selection)||!o)?!1:!!e?.isEditable}function VO(n,e=!1,t=!1){const r=Qs("codeBlock",n),o=HO(n),l=jO(n,o,e),a=zO(n),c=w.useMemo(()=>IO({editor:n,hideWhenUnavailable:t,nodeInSchema:r,canToggle:o}),[n,t,r,o]),d=w.useCallback(()=>!l&&n?BO(n):!1,[n,l]);return{nodeInSchema:r,canToggle:o,isDisabled:l,isActive:a,shouldShow:c,handleToggle:d,shortcutKey:"Ctrl-Alt-c",label:"Code Block"}}const g0=w.forwardRef(({editor:n,text:e,hideWhenUnavailable:t=!1,className:r="",disabled:o,onClick:l,children:a,...c},d)=>{const h=rn(n),{isDisabled:m,isActive:g,shouldShow:b,handleToggle:v,shortcutKey:C,label:S}=VO(h,o,t),M=w.useCallback(k=>{l?.(k),!k.defaultPrevented&&!m&&v()},[l,m,v]);return!b||!h||!h.isEditable?null:x.jsx(Ze,{type:"button",className:r.trim(),disabled:m,"data-style":"ghost","data-active-state":g?"on":"off","data-disabled":m,role:"button",tabIndex:-1,"aria-label":"codeBlock","aria-pressed":g,tooltip:S,shortcutKeys:C,onClick:M,...c,ref:d,children:a||x.jsxs(x.Fragment,{children:[x.jsx(e9,{className:"tiptap-button-icon"}),e&&x.jsx("span",{className:"tiptap-button-text",children:e})]})})});g0.displayName="CodeBlockButton";function _O({editor:n,containerRef:e,query:t,items:r,onSelect:o,onClose:l,orientation:a="vertical",autoSelectFirstItem:c=!0}){const[d,h]=w.useState(c?0:-1);return w.useEffect(()=>{const m=b=>{if(!r.length)return!1;const v=()=>h(S=>S===-1?0:(S+1)%r.length),C=()=>h(S=>S===-1?r.length-1:(S-1+r.length)%r.length);switch(b.key){case"ArrowUp":return a==="horizontal"?!1:(b.preventDefault(),C(),!0);case"ArrowDown":return a==="horizontal"?!1:(b.preventDefault(),v(),!0);case"ArrowLeft":return a==="vertical"?!1:(b.preventDefault(),C(),!0);case"ArrowRight":return a==="vertical"?!1:(b.preventDefault(),v(),!0);case"Tab":return b.preventDefault(),b.shiftKey?C():v(),!0;case"Home":return b.preventDefault(),h(0),!0;case"End":return b.preventDefault(),h(r.length-1),!0;case"Enter":return b.isComposing?!1:(b.preventDefault(),d!==-1&&r[d]&&o?.(r[d]),!0);case"Escape":return b.preventDefault(),l?.(),!0;default:return!1}};let g=null;if(n?g=n.view.dom:e?.current&&(g=e.current),g)return g.addEventListener("keydown",m,!0),()=>{g?.removeEventListener("keydown",m,!0)}},[n,e,r,d,o,l,a]),w.useEffect(()=>{t&&h(c?0:-1)},[t,c]),{selectedIndex:r.length?d:void 0,setSelectedIndex:h}}const t9=w.memo(({className:n,...e})=>x.jsx("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.43471 4.01458C4.34773 4.06032 4.26607 4.11977 4.19292 4.19292C4.11977 4.26607 4.06032 4.34773 4.01458 4.43471C2.14611 6.40628 1 9.0693 1 12C1 18.0751 5.92487 23 12 23C14.9306 23 17.5936 21.854 19.5651 19.9856C19.6522 19.9398 19.7339 19.8803 19.8071 19.8071C19.8803 19.7339 19.9398 19.6522 19.9856 19.5651C21.854 17.5936 23 14.9306 23 12C23 5.92487 18.0751 1 12 1C9.0693 1 6.40628 2.14611 4.43471 4.01458ZM6.38231 4.9681C7.92199 3.73647 9.87499 3 12 3C16.9706 3 21 7.02944 21 12C21 14.125 20.2635 16.078 19.0319 17.6177L6.38231 4.9681ZM17.6177 19.0319C16.078 20.2635 14.125 21 12 21C7.02944 21 3 16.9706 3 12C3 9.87499 3.73647 7.92199 4.9681 6.38231L17.6177 19.0319Z",fill:"currentColor"})}));t9.displayName="BanIcon";const sd=w.memo(({className:n,...e})=>x.jsx("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.7072 4.70711C15.0977 4.31658 15.0977 3.68342 14.7072 3.29289C14.3167 2.90237 13.6835 2.90237 13.293 3.29289L8.69294 7.89286L8.68594 7.9C8.13626 8.46079 7.82837 9.21474 7.82837 10C7.82837 10.2306 7.85491 10.4584 7.90631 10.6795L2.29289 16.2929C2.10536 16.4804 2 16.7348 2 17V20C2 20.5523 2.44772 21 3 21H12C12.2652 21 12.5196 20.8946 12.7071 20.7071L15.3205 18.0937C15.5416 18.1452 15.7695 18.1717 16.0001 18.1717C16.7853 18.1717 17.5393 17.8639 18.1001 17.3142L22.7072 12.7071C23.0977 12.3166 23.0977 11.6834 22.7072 11.2929C22.3167 10.9024 21.6835 10.9024 21.293 11.2929L16.6971 15.8887C16.5105 16.0702 16.2605 16.1717 16.0001 16.1717C15.7397 16.1717 15.4897 16.0702 15.303 15.8887L10.1113 10.697C9.92992 10.5104 9.82837 10.2604 9.82837 10C9.82837 9.73963 9.92992 9.48958 10.1113 9.30297L14.7072 4.70711ZM13.5858 17L9.00004 12.4142L4 17.4142V19H11.5858L13.5858 17Z",fill:"currentColor"})}));sd.displayName="HighlighterIcon";function y0(n){if(!n)return!1;try{return n.can().setMark("highlight")}catch{return!1}}function UO(n,e){return n?n.isActive("highlight",{color:e}):!1}function qO(n,e,t,r){if(n)try{const o=n.chain().focus();if(WR(t))o.toggleMark("highlight",{color:e}).run();else if(r!=null&&r!==-1)o.setNodeSelection(r).toggleMark("highlight",{color:e}).run();else if(t){const l=eO({editor:n,node:t});l?o.setNodeSelection(l.pos).toggleMark("highlight",{color:e}).run():o.toggleMark("highlight",{color:e}).run()}else o.toggleMark("highlight",{color:e}).run();n.chain().setMeta("hideDragHandle",!0).run()}catch(o){console.error("Failed to apply highlight:",o)}}function PO(n,e=!1){return!n||e?!0:n.isActive("code")||n.isActive("codeBlock")||n.isActive("imageUpload")||!y0(n)}function FO(n,e,t){return!(!t||!n||e&&(nr(n.state.selection)||!y0(n)))}function KO(n,e,t=!1,r=!1){const o=id("highlight",n),l=PO(n,t),a=UO(n,e),c=w.useMemo(()=>FO(n,r,o),[n,r,o]);return{highlightInSchema:o,isDisabled:l,isActive:a,shouldShow:c}}const n9=w.forwardRef(({editor:n,node:e,nodePos:t,color:r,text:o,hideWhenUnavailable:l=!1,className:a="",disabled:c,onClick:d,onApplied:h,children:m,style:g,...b},v)=>{const C=rn(n),{isDisabled:S,isActive:M,shouldShow:k}=KO(C,r,c,l),O=w.useCallback(P=>{d?.(P),!P.defaultPrevented&&!S&&C&&(qO(C,r,e,t),h?.(r))},[r,C,S,e,t,d,h]),D=w.useMemo(()=>({...g,"--highlight-color":r}),[r,g]);return!k||!C||!C.isEditable?null:x.jsx(Ze,{type:"button",className:a.trim(),disabled:S,"data-style":"ghost","data-active-state":M?"on":"off","data-disabled":S,role:"button",tabIndex:-1,"aria-label":`${r} highlight color`,"aria-pressed":M,onClick:O,style:D,...b,ref:v,children:m||x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"tiptap-button-highlight",style:{"--highlight-color":r}}),o&&x.jsx("span",{className:"tiptap-button-text",children:o})]})})});n9.displayName="ColorHighlightButton";const r9=[{label:"Green",value:"var(--tt-color-highlight-green)",border:"var(--tt-color-highlight-green-contrast)"},{label:"Blue",value:"var(--tt-color-highlight-blue)",border:"var(--tt-color-highlight-blue-contrast)"},{label:"Red",value:"var(--tt-color-highlight-red)",border:"var(--tt-color-highlight-red-contrast)"},{label:"Purple",value:"var(--tt-color-highlight-purple)",border:"var(--tt-color-highlight-purple-contrast)"},{label:"Yellow",value:"var(--tt-color-highlight-yellow)",border:"var(--tt-color-highlight-yellow-contrast)"}],ld=w.forwardRef(({className:n,children:e,...t},r)=>x.jsx(Ze,{type:"button",className:n,"data-style":"ghost","data-appearance":"default",role:"button",tabIndex:-1,"aria-label":"Highlight text",tooltip:"Highlight",ref:r,...t,children:e||x.jsx(sd,{className:"tiptap-button-icon"})}));ld.displayName="ColorHighlightPopoverButton";function b0({editor:n,colors:e=r9,onClose:t}){const r=rn(n),o=w.useRef(null),l=w.useCallback(()=>{r&&(r.chain().focus().unsetMark("highlight").run(),t?.())},[r,t]),a=w.useMemo(()=>[...e,{label:"Remove highlight",value:"none"}],[e]),{selectedIndex:c}=_O({containerRef:o,items:a,orientation:"both",onSelect:d=>{d.value==="none"&&l(),t?.()},onClose:t,autoSelectFirstItem:!1});return x.jsxs("div",{ref:o,className:"tiptap-color-highlight-content",tabIndex:0,children:[x.jsx("div",{className:"tiptap-button-group","data-orientation":"horizontal",children:e.map((d,h)=>x.jsx(n9,{editor:r,color:d.value,"aria-label":`${d.label} highlight color`,tabIndex:h===c?0:-1,"data-highlighted":c===h,onClick:t},d.value))}),x.jsx(Vo,{}),x.jsx("div",{className:"tiptap-button-group",children:x.jsx(Ze,{onClick:l,"aria-label":"Remove highlight",tabIndex:c===e.length?0:-1,type:"button",role:"menuitem","data-style":"ghost","data-highlighted":c===e.length,children:x.jsx(t9,{className:"tiptap-button-icon"})})})]})}function i9({editor:n,colors:e=r9,hideWhenUnavailable:t=!1,...r}){const o=rn(n),[l,a]=w.useState(!1),[c,d]=w.useState(!1),h=id("highlight",o);w.useEffect(()=>{if(!o)return;const b=()=>{let v=!1;(!h||!o)&&(v=!0),(o.isActive("code")||o.isActive("codeBlock")||o.isActive("imageUpload"))&&(v=!0),d(v)};return o.on("selectionUpdate",b),o.on("update",b),()=>{o.off("selectionUpdate",b),o.off("update",b)}},[o,h]);const m=o?.isActive("highlight")??!1;return!w.useMemo(()=>!t||!o?!0:!(nr(o.state.selection)||!y0(o)),[t,o])||!o||!o.isEditable?null:x.jsxs(s0,{open:l,onOpenChange:a,children:[x.jsx(nd,{asChild:!0,children:x.jsx(ld,{disabled:c,"data-active-state":m?"on":"off","data-disabled":c,"aria-pressed":m,...r})}),x.jsx(rd,{"aria-label":"Highlight colors",children:x.jsx(b0,{editor:o,colors:e,onClose:()=>a(!1)})})]})}const o9=w.memo(({className:n,...e})=>x.jsx("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 4C21 3.44772 20.5523 3 20 3C19.4477 3 19 3.44772 19 4V11C19 11.7956 18.6839 12.5587 18.1213 13.1213C17.5587 13.6839 16.7956 14 16 14H6.41421L9.70711 10.7071C10.0976 10.3166 10.0976 9.68342 9.70711 9.29289C9.31658 8.90237 8.68342 8.90237 8.29289 9.29289L3.29289 14.2929C2.90237 14.6834 2.90237 15.3166 3.29289 15.7071L8.29289 20.7071C8.68342 21.0976 9.31658 21.0976 9.70711 20.7071C10.0976 20.3166 10.0976 19.6834 9.70711 19.2929L6.41421 16H16C17.3261 16 18.5979 15.4732 19.5355 14.5355C20.4732 13.5979 21 12.3261 21 11V4Z",fill:"currentColor"})}));o9.displayName="CornerDownLeftIcon";const s9=w.memo(({className:n,...e})=>x.jsxs("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[x.jsx("path",{d:"M14 3C14 2.44772 14.4477 2 15 2H21C21.5523 2 22 2.44772 22 3V9C22 9.55228 21.5523 10 21 10C20.4477 10 20 9.55228 20 9V5.41421L10.7071 14.7071C10.3166 15.0976 9.68342 15.0976 9.29289 14.7071C8.90237 14.3166 8.90237 13.6834 9.29289 13.2929L18.5858 4H15C14.4477 4 14 3.55228 14 3Z",fill:"currentColor"}),x.jsx("path",{d:"M4.29289 7.29289C4.48043 7.10536 4.73478 7 5 7H11C11.5523 7 12 6.55228 12 6C12 5.44772 11.5523 5 11 5H5C4.20435 5 3.44129 5.31607 2.87868 5.87868C2.31607 6.44129 2 7.20435 2 8V19C2 19.7957 2.31607 20.5587 2.87868 21.1213C3.44129 21.6839 4.20435 22 5 22H16C16.7957 22 17.5587 21.6839 18.1213 21.1213C18.6839 20.5587 19 19.7957 19 19V13C19 12.4477 18.5523 12 18 12C17.4477 12 17 12.4477 17 13V19C17 19.2652 16.8946 19.5196 16.7071 19.7071C16.5196 19.8946 16.2652 20 16 20H5C4.73478 20 4.48043 19.8946 4.29289 19.7071C4.10536 19.5196 4 19.2652 4 19V8C4 7.73478 4.10536 7.48043 4.29289 7.29289Z",fill:"currentColor"})]}));s9.displayName="ExternalLinkIcon";const ad=w.memo(({className:n,...e})=>x.jsxs("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[x.jsx("path",{d:"M16.9958 1.06669C15.4226 1.05302 13.907 1.65779 12.7753 2.75074L12.765 2.76086L11.045 4.47086C10.6534 4.86024 10.6515 5.49341 11.0409 5.88507C11.4303 6.27673 12.0634 6.27858 12.4551 5.88919L14.1697 4.18456C14.9236 3.45893 15.9319 3.05752 16.9784 3.06662C18.0272 3.07573 19.0304 3.49641 19.772 4.23804C20.5137 4.97967 20.9344 5.98292 20.9435 7.03171C20.9526 8.07776 20.5515 9.08563 19.8265 9.83941L16.833 12.8329C16.4274 13.2386 15.9393 13.5524 15.4019 13.7529C14.8645 13.9533 14.2903 14.0359 13.7181 13.9949C13.146 13.9539 12.5894 13.7904 12.0861 13.5154C11.5827 13.2404 11.1444 12.8604 10.8008 12.401C10.47 11.9588 9.84333 11.8685 9.40108 12.1993C8.95883 12.5301 8.86849 13.1568 9.1993 13.599C9.71464 14.288 10.3721 14.858 11.1272 15.2705C11.8822 15.683 12.7171 15.9283 13.5753 15.9898C14.4334 16.0513 15.2948 15.9274 16.1009 15.6267C16.907 15.326 17.639 14.8555 18.2473 14.247L21.2472 11.2471L21.2593 11.2347C22.3523 10.1031 22.9571 8.58751 22.9434 7.01433C22.9297 5.44115 22.2987 3.93628 21.1863 2.82383C20.0738 1.71138 18.5689 1.08036 16.9958 1.06669Z",fill:"currentColor"}),x.jsx("path",{d:"M10.4247 8.0102C9.56657 7.94874 8.70522 8.07256 7.89911 8.37326C7.09305 8.67395 6.36096 9.14458 5.75272 9.753L2.75285 12.7529L2.74067 12.7653C1.64772 13.8969 1.04295 15.4125 1.05662 16.9857C1.07029 18.5589 1.70131 20.0637 2.81376 21.1762C3.9262 22.2886 5.43108 22.9196 7.00426 22.9333C8.57744 22.947 10.0931 22.3422 11.2247 21.2493L11.2371 21.2371L12.9471 19.5271C13.3376 19.1366 13.3376 18.5034 12.9471 18.1129C12.5565 17.7223 11.9234 17.7223 11.5328 18.1129L9.82932 19.8164C9.07555 20.5414 8.06768 20.9425 7.02164 20.9334C5.97285 20.9243 4.9696 20.5036 4.22797 19.762C3.48634 19.0203 3.06566 18.0171 3.05655 16.9683C3.04746 15.9222 3.44851 14.9144 4.17355 14.1606L7.16719 11.167C7.5727 10.7613 8.06071 10.4476 8.59811 10.2471C9.13552 10.0467 9.70976 9.96412 10.2819 10.0051C10.854 10.0461 11.4106 10.2096 11.9139 10.4846C12.4173 10.7596 12.8556 11.1397 13.1992 11.599C13.53 12.0412 14.1567 12.1316 14.5989 11.8007C15.0412 11.4699 15.1315 10.8433 14.8007 10.401C14.2854 9.71205 13.6279 9.14198 12.8729 8.72948C12.1178 8.31697 11.2829 8.07166 10.4247 8.0102Z",fill:"currentColor"})]}));ad.displayName="LinkIcon";const l9=w.memo(({className:n,...e})=>x.jsx("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 5V4C7 3.17477 7.40255 2.43324 7.91789 1.91789C8.43324 1.40255 9.17477 1 10 1H14C14.8252 1 15.5668 1.40255 16.0821 1.91789C16.5975 2.43324 17 3.17477 17 4V5H21C21.5523 5 22 5.44772 22 6C22 6.55228 21.5523 7 21 7H20V20C20 20.8252 19.5975 21.5668 19.0821 22.0821C18.5668 22.5975 17.8252 23 17 23H7C6.17477 23 5.43324 22.5975 4.91789 22.0821C4.40255 21.5668 4 20.8252 4 20V7H3C2.44772 7 2 6.55228 2 6C2 5.44772 2.44772 5 3 5H7ZM9 4C9 3.82523 9.09745 3.56676 9.33211 3.33211C9.56676 3.09745 9.82523 3 10 3H14C14.1748 3 14.4332 3.09745 14.6679 3.33211C14.9025 3.56676 15 3.82523 15 4V5H9V4ZM6 7V20C6 20.1748 6.09745 20.4332 6.33211 20.6679C6.56676 20.9025 6.82523 21 7 21H17C17.1748 21 17.4332 20.9025 17.6679 20.6679C17.9025 20.4332 18 20.1748 18 20V7H6Z",fill:"currentColor"})}));l9.displayName="TrashIcon";const a9=n=>{const{editor:e,onSetLink:t,onLinkActive:r}=n,[o,l]=w.useState("");w.useEffect(()=>{if(!e)return;const{href:d}=e.getAttributes("link");e.isActive("link")&&!o&&(l(d||""),r?.())},[e,r,o]),w.useEffect(()=>{if(!e)return;const d=()=>{const{href:h}=e.getAttributes("link");l(h||""),e.isActive("link")&&!o&&r?.()};return e.on("selectionUpdate",d),()=>{e.off("selectionUpdate",d)}},[e,r,o]);const a=w.useCallback(()=>{if(!o||!e)return;const{from:d,to:h}=e.state.selection,m=e.state.doc.textBetween(d,h);e.chain().focus().extendMarkRange("link").insertContent({type:"text",text:m||o,marks:[{type:"link",attrs:{href:o}}]}).run(),t?.()},[e,t,o]),c=w.useCallback(()=>{e&&(e.chain().focus().unsetMark("link",{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),l(""))},[e]);return{url:o,setUrl:l,setLink:a,removeLink:c,isActive:e?.isActive("link")||!1}},ud=w.forwardRef(({className:n,children:e,...t},r)=>x.jsx(Ze,{type:"button",className:n,"data-style":"ghost",role:"button",tabIndex:-1,"aria-label":"Link",tooltip:"Link",ref:r,...t,children:e||x.jsx(ad,{className:"tiptap-button-icon"})})),u9=({editor:n})=>{const e=rn(n),t=a9({editor:e});return x.jsx(c9,{...t})},c9=({url:n,setUrl:e,setLink:t,removeLink:r,isActive:o})=>{const l=a=>{a.key==="Enter"&&(a.preventDefault(),t())};return x.jsxs(x.Fragment,{children:[x.jsx("input",{type:"url",placeholder:"Paste a link...",value:n,onChange:a=>e(a.target.value),onKeyDown:l,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",className:"tiptap-input tiptap-input-clamp"}),x.jsx("div",{className:"tiptap-button-group","data-orientation":"horizontal",children:x.jsx(Ze,{type:"button",onClick:t,title:"Apply link",disabled:!n&&!o,"data-style":"ghost",children:x.jsx(o9,{className:"tiptap-button-icon"})})}),x.jsx(Vo,{}),x.jsxs("div",{className:"tiptap-button-group","data-orientation":"horizontal",children:[x.jsx(Ze,{type:"button",onClick:()=>window.open(n,"_blank"),title:"Open in new window",disabled:!n&&!o,"data-style":"ghost",children:x.jsx(s9,{className:"tiptap-button-icon"})}),x.jsx(Ze,{type:"button",onClick:r,title:"Remove link",disabled:!n&&!o,"data-style":"ghost",children:x.jsx(l9,{className:"tiptap-button-icon"})})]})]})};function f9({editor:n,hideWhenUnavailable:e=!1,onOpenChange:t,autoOpenOnLinkActive:r=!0,...o}){const l=rn(n),a=id("link",l),[c,d]=w.useState(!1),g=a9({editor:l,onSetLink:()=>{d(!1)},onLinkActive:()=>d(r)}),b=w.useMemo(()=>!l||l.isActive("codeBlock")?!0:!l.can().setLink?.({href:""}),[l]),v=w.useMemo(()=>{if(!l)return!1;try{return l.can().setMark("link")}catch{return!1}},[l]),C=l?.isActive("link")??!1,S=w.useCallback(k=>{d(k),t?.(k)},[t]);return!w.useMemo(()=>!(!a||!l||e&&(nr(l.state.selection)||!v)),[a,e,l,v])||!l||!l.isEditable?null:x.jsxs(s0,{open:c,onOpenChange:S,children:[x.jsx(nd,{asChild:!0,children:x.jsx(ud,{disabled:b,"data-active-state":C?"on":"off","data-disabled":b,...o})}),x.jsx(rd,{children:x.jsx(c9,{...g})})]})}ud.displayName="LinkButton";const d9=w.memo(({className:n,...e})=>x.jsx("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 2.5C5.17157 2.5 4.5 3.17157 4.5 4V20C4.5 20.8284 5.17157 21.5 6 21.5H15C16.4587 21.5 17.8576 20.9205 18.8891 19.8891C19.9205 18.8576 20.5 17.4587 20.5 16C20.5 14.5413 19.9205 13.1424 18.8891 12.1109C18.6781 11.9 18.4518 11.7079 18.2128 11.5359C19.041 10.5492 19.5 9.29829 19.5 8C19.5 6.54131 18.9205 5.14236 17.8891 4.11091C16.8576 3.07946 15.4587 2.5 14 2.5H6ZM14 10.5C14.663 10.5 15.2989 10.2366 15.7678 9.76777C16.2366 9.29893 16.5 8.66304 16.5 8C16.5 7.33696 16.2366 6.70107 15.7678 6.23223C15.2989 5.76339 14.663 5.5 14 5.5H7.5V10.5H14ZM7.5 18.5V13.5H15C15.663 13.5 16.2989 13.7634 16.7678 14.2322C17.2366 14.7011 17.5 15.337 17.5 16C17.5 16.663 17.2366 17.2989 16.7678 17.7678C16.2989 18.2366 15.663 18.5 15 18.5H7.5Z",fill:"currentColor"})}));d9.displayName="BoldIcon";const h9=w.memo(({className:n,...e})=>x.jsxs("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[x.jsx("path",{d:"M15.4545 4.2983C15.6192 3.77115 15.3254 3.21028 14.7983 3.04554C14.2712 2.88081 13.7103 3.1746 13.5455 3.70175L8.54554 19.7017C8.38081 20.2289 8.6746 20.7898 9.20175 20.9545C9.72889 21.1192 10.2898 20.8254 10.4545 20.2983L15.4545 4.2983Z",fill:"currentColor"}),x.jsx("path",{d:"M6.70711 7.29289C7.09763 7.68342 7.09763 8.31658 6.70711 8.70711L3.41421 12L6.70711 15.2929C7.09763 15.6834 7.09763 16.3166 6.70711 16.7071C6.31658 17.0976 5.68342 17.0976 5.29289 16.7071L1.29289 12.7071C0.902369 12.3166 0.902369 11.6834 1.29289 11.2929L5.29289 7.29289C5.68342 6.90237 6.31658 6.90237 6.70711 7.29289Z",fill:"currentColor"}),x.jsx("path",{d:"M17.2929 7.29289C17.6834 6.90237 18.3166 6.90237 18.7071 7.29289L22.7071 11.2929C23.0976 11.6834 23.0976 12.3166 22.7071 12.7071L18.7071 16.7071C18.3166 17.0976 17.6834 17.0976 17.2929 16.7071C16.9024 16.3166 16.9024 15.6834 17.2929 15.2929L20.5858 12L17.2929 8.70711C16.9024 8.31658 16.9024 7.68342 17.2929 7.29289Z",fill:"currentColor"})]}));h9.displayName="Code2Icon";const p9=w.memo(({className:n,...e})=>x.jsx("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:x.jsx("path",{d:"M15.0222 3H19C19.5523 3 20 3.44772 20 4C20 4.55228 19.5523 5 19 5H15.693L10.443 19H14C14.5523 19 15 19.4477 15 20C15 20.5523 14.5523 21 14 21H9.02418C9.00802 21.0004 8.99181 21.0004 8.97557 21H5C4.44772 21 4 20.5523 4 20C4 19.4477 4.44772 19 5 19H8.30704L13.557 5H10C9.44772 5 9 4.55228 9 4C9 3.44772 9.44772 3 10 3H14.9782C14.9928 2.99968 15.0075 2.99967 15.0222 3Z",fill:"currentColor"})}));p9.displayName="ItalicIcon";const m9=w.memo(({className:n,...e})=>x.jsxs("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[x.jsx("path",{d:"M9.00039 3H16.0001C16.5524 3 17.0001 3.44772 17.0001 4C17.0001 4.55229 16.5524 5 16.0001 5H9.00011C8.68006 4.99983 8.36412 5.07648 8.07983 5.22349C7.79555 5.37051 7.55069 5.5836 7.36585 5.84487C7.181 6.10614 7.06155 6.40796 7.01754 6.72497C6.97352 7.04198 7.00623 7.36492 7.11292 7.66667C7.29701 8.18737 7.02414 8.75872 6.50344 8.94281C5.98274 9.1269 5.4114 8.85403 5.2273 8.33333C5.01393 7.72984 4.94851 7.08396 5.03654 6.44994C5.12456 5.81592 5.36346 5.21229 5.73316 4.68974C6.10285 4.1672 6.59256 3.74101 7.16113 3.44698C7.72955 3.15303 8.36047 2.99975 9.00039 3Z",fill:"currentColor"}),x.jsx("path",{d:"M18 13H20C20.5523 13 21 12.5523 21 12C21 11.4477 20.5523 11 20 11H4C3.44772 11 3 11.4477 3 12C3 12.5523 3.44772 13 4 13H14C14.7956 13 15.5587 13.3161 16.1213 13.8787C16.6839 14.4413 17 15.2044 17 16C17 16.7956 16.6839 17.5587 16.1213 18.1213C15.5587 18.6839 14.7956 19 14 19H6C5.44772 19 5 19.4477 5 20C5 20.5523 5.44772 21 6 21H14C15.3261 21 16.5979 20.4732 17.5355 19.5355C18.4732 18.5979 19 17.3261 19 16C19 14.9119 18.6453 13.8604 18 13Z",fill:"currentColor"})]}));m9.displayName="StrikeIcon";const g9=w.memo(({className:n,...e})=>x.jsxs("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.29289 7.29289C3.68342 6.90237 4.31658 6.90237 4.70711 7.29289L12.7071 15.2929C13.0976 15.6834 13.0976 16.3166 12.7071 16.7071C12.3166 17.0976 11.6834 17.0976 11.2929 16.7071L3.29289 8.70711C2.90237 8.31658 2.90237 7.68342 3.29289 7.29289Z",fill:"currentColor"}),x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.7071 7.29289C13.0976 7.68342 13.0976 8.31658 12.7071 8.70711L4.70711 16.7071C4.31658 17.0976 3.68342 17.0976 3.29289 16.7071C2.90237 16.3166 2.90237 15.6834 3.29289 15.2929L11.2929 7.29289C11.6834 6.90237 12.3166 6.90237 12.7071 7.29289Z",fill:"currentColor"}),x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.4079 14.3995C18.0284 14.0487 18.7506 13.9217 19.4536 14.0397C20.1566 14.1578 20.7977 14.5138 21.2696 15.0481L21.2779 15.0574L21.2778 15.0575C21.7439 15.5988 22 16.2903 22 17C22 18.0823 21.3962 18.8401 20.7744 19.3404C20.194 19.8073 19.4858 20.141 18.9828 20.378C18.9638 20.387 18.9451 20.3958 18.9266 20.4045C18.4473 20.6306 18.2804 20.7817 18.1922 20.918C18.1773 20.9412 18.1619 20.9681 18.1467 21H21C21.5523 21 22 21.4477 22 22C22 22.5523 21.5523 23 21 23H17C16.4477 23 16 22.5523 16 22C16 21.1708 16.1176 20.4431 16.5128 19.832C16.9096 19.2184 17.4928 18.8695 18.0734 18.5956C18.6279 18.334 19.138 18.0901 19.5207 17.7821C19.8838 17.49 20 17.2477 20 17C20 16.7718 19.9176 16.5452 19.7663 16.3672C19.5983 16.1792 19.3712 16.0539 19.1224 16.0121C18.8722 15.9701 18.6152 16.015 18.3942 16.1394C18.1794 16.2628 18.0205 16.4549 17.9422 16.675C17.7572 17.1954 17.1854 17.4673 16.665 17.2822C16.1446 17.0972 15.8728 16.5254 16.0578 16.005C16.2993 15.3259 16.7797 14.7584 17.4039 14.4018L17.4079 14.3995L17.4079 14.3995Z",fill:"currentColor"})]}));g9.displayName="SubscriptIcon";const y9=w.memo(({className:n,...e})=>x.jsxs("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.7071 7.29289C13.0976 7.68342 13.0976 8.31658 12.7071 8.70711L4.70711 16.7071C4.31658 17.0976 3.68342 17.0976 3.29289 16.7071C2.90237 16.3166 2.90237 15.6834 3.29289 15.2929L11.2929 7.29289C11.6834 6.90237 12.3166 6.90237 12.7071 7.29289Z",fill:"currentColor"}),x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.29289 7.29289C3.68342 6.90237 4.31658 6.90237 4.70711 7.29289L12.7071 15.2929C13.0976 15.6834 13.0976 16.3166 12.7071 16.7071C12.3166 17.0976 11.6834 17.0976 11.2929 16.7071L3.29289 8.70711C2.90237 8.31658 2.90237 7.68342 3.29289 7.29289Z",fill:"currentColor"}),x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.405 1.40657C18.0246 1.05456 18.7463 0.92634 19.4492 1.04344C20.1521 1.16054 20.7933 1.51583 21.2652 2.0497L21.2697 2.05469L21.2696 2.05471C21.7431 2.5975 22 3.28922 22 4.00203C22 5.08579 21.3952 5.84326 20.7727 6.34289C20.1966 6.80531 19.4941 7.13675 18.9941 7.37261C18.9714 7.38332 18.9491 7.39383 18.9273 7.40415C18.4487 7.63034 18.2814 7.78152 18.1927 7.91844C18.1778 7.94155 18.1625 7.96834 18.1473 8.00003H21C21.5523 8.00003 22 8.44774 22 9.00003C22 9.55231 21.5523 10 21 10H17C16.4477 10 16 9.55231 16 9.00003C16 8.17007 16.1183 7.44255 16.5138 6.83161C16.9107 6.21854 17.4934 5.86971 18.0728 5.59591C18.6281 5.33347 19.1376 5.09075 19.5208 4.78316C19.8838 4.49179 20 4.25026 20 4.00203C20 3.77192 19.9178 3.54865 19.7646 3.37182C19.5968 3.18324 19.3696 3.05774 19.1205 3.01625C18.8705 2.97459 18.6137 3.02017 18.3933 3.14533C18.1762 3.26898 18.0191 3.45826 17.9406 3.67557C17.7531 4.19504 17.18 4.46414 16.6605 4.27662C16.141 4.0891 15.8719 3.51596 16.0594 2.99649C16.303 2.3219 16.7817 1.76125 17.4045 1.40689L17.405 1.40657Z",fill:"currentColor"})]}));y9.displayName="SuperscriptIcon";const b9=w.memo(({className:n,...e})=>x.jsx("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 4C7 3.44772 6.55228 3 6 3C5.44772 3 5 3.44772 5 4V10C5 11.8565 5.7375 13.637 7.05025 14.9497C8.36301 16.2625 10.1435 17 12 17C13.8565 17 15.637 16.2625 16.9497 14.9497C18.2625 13.637 19 11.8565 19 10V4C19 3.44772 18.5523 3 18 3C17.4477 3 17 3.44772 17 4V10C17 11.3261 16.4732 12.5979 15.5355 13.5355C14.5979 14.4732 13.3261 15 12 15C10.6739 15 9.40215 14.4732 8.46447 13.5355C7.52678 12.5979 7 11.3261 7 10V4ZM4 19C3.44772 19 3 19.4477 3 20C3 20.5523 3.44772 21 4 21H20C20.5523 21 21 20.5523 21 20C21 19.4477 20.5523 19 20 19H4Z",fill:"currentColor"})}));b9.displayName="UnderlineIcon";const $O={bold:d9,italic:p9,underline:b9,strike:m9,code:h9,superscript:y9,subscript:g9},GO={bold:"Ctrl-b",italic:"Ctrl-i",underline:"Ctrl-u",strike:"Ctrl-Shift-s",code:"Ctrl-e",superscript:"Ctrl-.",subscript:"Ctrl-,"};function v9(n,e){if(!n)return!1;try{return n.can().toggleMark(e)}catch{return!1}}function ZO(n,e){return n?n.isActive(e):!1}function YO(n,e){n&&n.chain().focus().toggleMark(e).run()}function JO(n,e,t=!1){return!!(!n||t||n.isActive("codeBlock")||!v9(n,e))}function QO(n){const{editor:e,type:t,hideWhenUnavailable:r,markInSchema:o}=n;return!(!o||!e||r&&(nr(e.state.selection)||!v9(e,t)))}function XO(n){return n.charAt(0).toUpperCase()+n.slice(1)}function WO(n,e,t=!1){const r=id(e,n),o=JO(n,e,t),l=ZO(n,e),a=$O[e],c=GO[e],d=XO(e);return{markInSchema:r,isDisabled:o,isActive:l,Icon:a,shortcutKey:c,formattedName:d}}const un=w.forwardRef(({editor:n,type:e,text:t,hideWhenUnavailable:r=!1,className:o="",disabled:l,onClick:a,children:c,...d},h)=>{const m=rn(n),{markInSchema:g,isDisabled:b,isActive:v,Icon:C,shortcutKey:S,formattedName:M}=WO(m,e,l),k=w.useCallback(D=>{a?.(D),!D.defaultPrevented&&!b&&m&&YO(m,e)},[a,b,m,e]);return!w.useMemo(()=>QO({editor:m,type:e,hideWhenUnavailable:r,markInSchema:g}),[m,e,r,g])||!m||!m.isEditable?null:x.jsx(Ze,{type:"button",className:o.trim(),disabled:b,"data-style":"ghost","data-active-state":v?"on":"off","data-disabled":b,role:"button",tabIndex:-1,"aria-label":e,"aria-pressed":v,tooltip:M,shortcutKeys:S,onClick:k,...d,ref:h,children:c||x.jsxs(x.Fragment,{children:[x.jsx(C,{className:"tiptap-button-icon"}),t&&x.jsx("span",{className:"tiptap-button-text",children:t})]})})});un.displayName="MarkButton";const C9=w.memo(({className:n,...e})=>x.jsxs("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 6C2 5.44772 2.44772 5 3 5H21C21.5523 5 22 5.44772 22 6C22 6.55228 21.5523 7 21 7H3C2.44772 7 2 6.55228 2 6Z",fill:"currentColor"}),x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 12C6 11.4477 6.44772 11 7 11H17C17.5523 11 18 11.4477 18 12C18 12.5523 17.5523 13 17 13H7C6.44772 13 6 12.5523 6 12Z",fill:"currentColor"}),x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 18C4 17.4477 4.44772 17 5 17H19C19.5523 17 20 17.4477 20 18C20 18.5523 19.5523 19 19 19H5C4.44772 19 4 18.5523 4 18Z",fill:"currentColor"})]}));C9.displayName="AlignCenterIcon";const x9=w.memo(({className:n,...e})=>x.jsxs("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 6C2 5.44772 2.44772 5 3 5H21C21.5523 5 22 5.44772 22 6C22 6.55228 21.5523 7 21 7H3C2.44772 7 2 6.55228 2 6Z",fill:"currentColor"}),x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 12C2 11.4477 2.44772 11 3 11H21C21.5523 11 22 11.4477 22 12C22 12.5523 21.5523 13 21 13H3C2.44772 13 2 12.5523 2 12Z",fill:"currentColor"}),x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 18C2 17.4477 2.44772 17 3 17H21C21.5523 17 22 17.4477 22 18C22 18.5523 21.5523 19 21 19H3C2.44772 19 2 18.5523 2 18Z",fill:"currentColor"})]}));x9.displayName="AlignJustifyIcon";const S9=w.memo(({className:n,...e})=>x.jsxs("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 6C2 5.44772 2.44772 5 3 5H21C21.5523 5 22 5.44772 22 6C22 6.55228 21.5523 7 21 7H3C2.44772 7 2 6.55228 2 6Z",fill:"currentColor"}),x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 12C2 11.4477 2.44772 11 3 11H15C15.5523 11 16 11.4477 16 12C16 12.5523 15.5523 13 15 13H3C2.44772 13 2 12.5523 2 12Z",fill:"currentColor"}),x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 18C2 17.4477 2.44772 17 3 17H17C17.5523 17 18 17.4477 18 18C18 18.5523 17.5523 19 17 19H3C2.44772 19 2 18.5523 2 18Z",fill:"currentColor"})]}));S9.displayName="AlignLeftIcon";const E9=w.memo(({className:n,...e})=>x.jsxs("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 6C2 5.44772 2.44772 5 3 5H21C21.5523 5 22 5.44772 22 6C22 6.55228 21.5523 7 21 7H3C2.44772 7 2 6.55228 2 6Z",fill:"currentColor"}),x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 12C8 11.4477 8.44772 11 9 11H21C21.5523 11 22 11.4477 22 12C22 12.5523 21.5523 13 21 13H9C8.44772 13 8 12.5523 8 12Z",fill:"currentColor"}),x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 18C6 17.4477 6.44772 17 7 17H21C21.5523 17 22 17.4477 22 18C22 18.5523 21.5523 19 21 19H7C6.44772 19 6 18.5523 6 18Z",fill:"currentColor"})]}));E9.displayName="AlignRightIcon";const eN={left:S9,center:C9,right:E9,justify:x9},tN={left:"Ctrl-Shift-l",center:"Ctrl-Shift-e",right:"Ctrl-Shift-r",justify:"Ctrl-Shift-j"},nN={left:"Align left",center:"Align center",right:"Align right",justify:"Align justify"};function rN(n){return"setTextAlign"in n}function iN(n){if(!n)return!1;const e=n.extensionManager.extensions.some(t=>t.name==="textAlign");return e||console.warn("TextAlign extension is not available. Make sure it is included in your editor configuration."),e}function oN(n,e,t){if(!n||!t)return!1;try{return n.can().setTextAlign(e)}catch{return!1}}function sN(n,e){return n?n.isActive({textAlign:e}):!1}function lN(n,e){if(!n)return!1;const t=n.chain().focus();return rN(t)?t.setTextAlign(e).run():!1}function aN(n,e,t,r=!1){return!!(!n||!e||r||!t)}function uN(n,e,t){return!(!n?.isEditable||t&&!e)}function cN(n,e,t=!1,r=!1){const o=w.useMemo(()=>iN(n),[n]),l=w.useMemo(()=>oN(n,e,o),[n,e,o]),a=aN(n,o,l,t),c=sN(n,e),d=w.useCallback(()=>!o||!n||a?!1:lN(n,e),[o,n,a,e]),h=w.useMemo(()=>uN(n,l,r),[n,l,r]),m=eN[e],g=tN[e],b=nN[e];return{alignAvailable:o,canAlign:l,isDisabled:a,isActive:c,handleAlignment:d,shouldShow:h,Icon:m,shortcutKey:g,label:b}}const Yr=w.forwardRef(({editor:n,align:e,text:t,hideWhenUnavailable:r=!1,className:o="",disabled:l,onClick:a,children:c,...d},h)=>{const m=rn(n),{isDisabled:g,isActive:b,handleAlignment:v,shouldShow:C,Icon:S,shortcutKey:M,label:k}=cN(m,e,l,r),O=w.useCallback(D=>{a?.(D),!D.defaultPrevented&&!l&&v()},[a,l,v]);return!C||!m||!m.isEditable?null:x.jsx(Ze,{type:"button",className:o.trim(),disabled:g,"data-style":"ghost","data-active-state":b?"on":"off","data-disabled":g,role:"button",tabIndex:-1,"aria-label":k,"aria-pressed":b,tooltip:k,shortcutKeys:M,onClick:O,...d,ref:h,children:c||x.jsxs(x.Fragment,{children:[x.jsx(S,{className:"tiptap-button-icon"}),t&&x.jsx("span",{className:"tiptap-button-text",children:t})]})})});Yr.displayName="TextAlignButton";const w9=w.memo(({className:n,...e})=>x.jsx("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.7071 2.29289C15.3166 1.90237 14.6834 1.90237 14.2929 2.29289C13.9024 2.68342 13.9024 3.31658 14.2929 3.70711L17.5858 7H9.5C7.77609 7 6.12279 7.68482 4.90381 8.90381C3.68482 10.1228 3 11.7761 3 13.5C3 14.3536 3.16813 15.1988 3.49478 15.9874C3.82144 16.7761 4.30023 17.4926 4.90381 18.0962C6.12279 19.3152 7.77609 20 9.5 20H13C13.5523 20 14 19.5523 14 19C14 18.4477 13.5523 18 13 18H9.5C8.30653 18 7.16193 17.5259 6.31802 16.682C5.90016 16.2641 5.56869 15.768 5.34254 15.2221C5.1164 14.6761 5 14.0909 5 13.5C5 12.3065 5.47411 11.1619 6.31802 10.318C7.16193 9.47411 8.30653 9 9.5 9H17.5858L14.2929 12.2929C13.9024 12.6834 13.9024 13.3166 14.2929 13.7071C14.6834 14.0976 15.3166 14.0976 15.7071 13.7071L20.7071 8.70711C21.0976 8.31658 21.0976 7.68342 20.7071 7.29289L15.7071 2.29289Z",fill:"currentColor"})}));w9.displayName="Redo2Icon";const M9=w.memo(({className:n,...e})=>x.jsx("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.70711 3.70711C10.0976 3.31658 10.0976 2.68342 9.70711 2.29289C9.31658 1.90237 8.68342 1.90237 8.29289 2.29289L3.29289 7.29289C2.90237 7.68342 2.90237 8.31658 3.29289 8.70711L8.29289 13.7071C8.68342 14.0976 9.31658 14.0976 9.70711 13.7071C10.0976 13.3166 10.0976 12.6834 9.70711 12.2929L6.41421 9H14.5C15.0909 9 15.6761 9.1164 16.2221 9.34254C16.768 9.56869 17.2641 9.90016 17.682 10.318C18.0998 10.7359 18.4313 11.232 18.6575 11.7779C18.8836 12.3239 19 12.9091 19 13.5C19 14.0909 18.8836 14.6761 18.6575 15.2221C18.4313 15.768 18.0998 16.2641 17.682 16.682C17.2641 17.0998 16.768 17.4313 16.2221 17.6575C15.6761 17.8836 15.0909 18 14.5 18H11C10.4477 18 10 18.4477 10 19C10 19.5523 10.4477 20 11 20H14.5C15.3536 20 16.1988 19.8319 16.9874 19.5052C17.7761 19.1786 18.4926 18.6998 19.0962 18.0962C19.6998 17.4926 20.1786 16.7761 20.5052 15.9874C20.8319 15.1988 21 14.3536 21 13.5C21 12.6464 20.8319 11.8012 20.5052 11.0126C20.1786 10.2239 19.6998 9.50739 19.0962 8.90381C18.4926 8.30022 17.7761 7.82144 16.9874 7.49478C16.1988 7.16813 15.3536 7 14.5 7H6.41421L9.70711 3.70711Z",fill:"currentColor"})}));M9.displayName="Undo2Icon";const fN={undo:M9,redo:w9},dN={undo:"Ctrl-z",redo:"Ctrl-Shift-z"},hN={undo:"Undo",redo:"Redo"};function T9(n,e){return n?e==="undo"?n.can().undo():n.can().redo():!1}function pN(n,e){if(!n)return!1;const t=n.chain().focus();return e==="undo"?t.undo().run():t.redo().run()}function mN(n,e,t=!1){return t?!0:!T9(n,e)}function gN(n,e,t=!1){const r=w.useMemo(()=>T9(n,e),[n,e]),o=mN(n,e,t),l=w.useCallback(()=>{!n||o||pN(n,e)},[n,e,o]),a=fN[e],c=hN[e],d=dN[e];return{canExecute:r,isDisabled:o,handleAction:l,Icon:a,actionLabel:c,shortcutKey:d}}const La=w.forwardRef(({editor:n,action:e,text:t,className:r="",disabled:o,onClick:l,children:a,...c},d)=>{const h=rn(n),{isDisabled:m,handleAction:g,Icon:b,actionLabel:v,shortcutKey:C}=gN(h,e,o),S=w.useCallback(M=>{l?.(M),!M.defaultPrevented&&!o&&g()},[l,o,g]);return!h||!h.isEditable?null:x.jsx(Ze,{ref:d,type:"button",className:r.trim(),disabled:m,"data-style":"ghost","data-disabled":m,role:"button",tabIndex:-1,"aria-label":v,tooltip:v,shortcutKeys:C,onClick:S,...c,children:a||x.jsxs(x.Fragment,{children:[x.jsx(b,{className:"tiptap-button-icon"}),t&&x.jsx("span",{className:"tiptap-button-text",children:t})]})})});La.displayName="UndoRedoButton";const v0=w.memo(({className:n,...e})=>x.jsx("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:x.jsx("path",{d:"M12.7071 5.70711C13.0976 5.31658 13.0976 4.68342 12.7071 4.29289C12.3166 3.90237 11.6834 3.90237 11.2929 4.29289L4.29289 11.2929C3.90237 11.6834 3.90237 12.3166 4.29289 12.7071L11.2929 19.7071C11.6834 20.0976 12.3166 20.0976 12.7071 19.7071C13.0976 19.3166 13.0976 18.6834 12.7071 18.2929L7.41421 13L19 13C19.5523 13 20 12.5523 20 12C20 11.4477 19.5523 11 19 11L7.41421 11L12.7071 5.70711Z",fill:"currentColor"})}));v0.displayName="ArrowLeftIcon";const d1=768;function k9(){const[n,e]=w.useState(void 0);return w.useEffect(()=>{const t=window.matchMedia(`(max-width: ${d1-1}px)`),r=()=>{e(window.innerWidth<d1)};return t.addEventListener("change",r),e(window.innerWidth<d1),()=>t.removeEventListener("change",r)},[]),!!n}function C0(){const[n,e]=w.useState({width:0,height:0,offsetTop:0});return w.useEffect(()=>{t();function t(){if(typeof window>"u")return;const o=window.visualViewport;if(!o)return;const{width:l=0,height:a=0,offsetTop:c=0}=o;e(d=>l===d.width&&a===d.height&&c===d.offsetTop?d:{width:l,height:a,offsetTop:c})}const r=window.visualViewport;return r&&(r.addEventListener("resize",t),r.addEventListener("scroll",t)),()=>{r&&(r.removeEventListener("resize",t),r.removeEventListener("scroll",t))}},[]),n}function A9({editor:n,overlayHeight:e=0,elementRef:t=null}){const{height:r}=C0(),[o,l]=w.useState({x:0,y:0,width:0,height:0}),a=w.useCallback(()=>{const c=t?.current??document.body,{x:d,y:h,width:m,height:g}=c.getBoundingClientRect();l({x:d,y:h,width:m,height:g})},[t]);return w.useEffect(()=>{const c=t?.current??document.body;a();const d=new ResizeObserver(()=>{window.requestAnimationFrame(a)});return d.observe(c),window.addEventListener("scroll",a,{passive:!0}),()=>{d.disconnect(),window.removeEventListener("scroll",a)}},[t,a]),w.useEffect(()=>{(()=>{if(!n)return;const{state:d,view:h}=n;if(!h.hasFocus())return;const{from:m}=d.selection,g=h.coordsAtPos(m);if(r<o.height&&g&&!(r-g.top-e>0)){const v=g.top-r/2;window.scrollTo({top:v,behavior:"smooth"})}})()},[n,e,r,o.height]),o}function yN(){try{return VS}catch{return null}}function bN(n,e){if(n&&typeof n.serializeForClipboard=="function")return n.serializeForClipboard(e);const t=yN();if(t&&typeof t?.__serializeForClipboard=="function")return t.__serializeForClipboard(n,e);throw new Error("No supported clipboard serialization method found.")}function vN(n){const e=n.getBoundingClientRect(),t=n.closest('[role="dialog"]');if(t&&window.getComputedStyle(t).transform!=="none"){const r=t.getBoundingClientRect();return{top:e.top-r.top,left:e.left-r.left,width:e.width}}return{top:e.top,left:e.left,width:e.width}}function g3(n,e){const t=["li","p:not(:first-child)","pre","blockquote","h1","h2","h3","h4","h5","h6",...e.customNodes.map(r=>`[data-type=${r}]`)].join(", ");return document.elementsFromPoint(n.x,n.y).find(r=>r.parentElement?.matches?.(".ProseMirror")||r.matches(t))}function CN(n,e,t){const r=n.getBoundingClientRect();return e.posAtCoords({left:r.left+50+t.dragHandleWidth,top:r.top+1})?.inside}function y3(n,e){const t=e.state.doc.resolve(n);return t.depth>1?t.before(t.depth):n}function xN(n){let e="";function t(c,d){if(d.focus(),!c.dataTransfer)return;const h=g3({x:c.clientX+50+n.dragHandleWidth,y:c.clientY},n);if(!(h instanceof Element))return;let m=CN(h,d,n);if(m==null||m<0)return;m=y3(m,d);const{from:g,to:b}=d.state.selection,v=g-b,C=y3(g,d);let S=!1;const M=d.state.doc.resolve(C);if(M.node().type.name==="doc")S=!0;else{const I=ce.create(d.state.doc,M.before());S=!(m+1>=I.$from.pos&&m<=I.$to.pos)}let k=d.state.selection;if(!S&&v!==0&&!(d.state.selection instanceof ce)){const I=ce.create(d.state.doc,b-1);k=ve.create(d.state.doc,m,I.$to.pos)}else if(k=ce.create(d.state.doc,m),k.node.type.isInline||k.node.type.name==="tableRow"){let I=d.state.doc.resolve(k.from);k=ce.create(d.state.doc,I.before())}d.dispatch(d.state.tr.setSelection(k)),d.state.selection instanceof ce&&d.state.selection.node.type.name==="listItem"&&(e=h.parentElement.tagName);const O=d.state.selection.content(),{dom:D,text:P}=bN(d,O);c.dataTransfer.clearData(),c.dataTransfer.setData("text/html",D.innerHTML),c.dataTransfer.setData("text/plain",P),c.dataTransfer.effectAllowed="copyMove",c.dataTransfer.setDragImage(h,0,0),d.dragging={slice:O,move:c.ctrlKey}}let r=null;function o(){r&&r.classList.add("hide")}function l(){r&&r.classList.remove("hide")}function a(c){if(c.target instanceof Element){const d=c.relatedTarget;if(d?.classList.contains("tiptap")||d?.classList.contains("drag-handle"))return}o()}return new pt({key:new $t(n.pluginKey),view:c=>{const d=n.dragHandleSelector?document.querySelector(n.dragHandleSelector):null;r=d??document.createElement("div"),r.draggable=!0,r.dataset.dragHandle="",r.classList.add("drag-handle");function h(g){t(g,c)}r.addEventListener("dragstart",h);function m(g){o();let b=window.scrollY;g.clientY<n.scrollTreshold?window.scrollTo({top:b-30,behavior:"smooth"}):window.innerHeight-g.clientY<n.scrollTreshold&&window.scrollTo({top:b+30,behavior:"smooth"})}return r.addEventListener("drag",m),o(),d||c?.dom?.parentElement?.appendChild(r),c?.dom?.parentElement?.addEventListener("mouseout",a),{destroy:()=>{d||r?.remove?.(),r?.removeEventListener("drag",m),r?.removeEventListener("dragstart",h),r=null,c?.dom?.parentElement?.removeEventListener("mouseout",a)}}},props:{handleDOMEvents:{mousemove:(c,d)=>{if(!c.editable)return;const h=g3({x:d.clientX+50+n.dragHandleWidth,y:d.clientY},n),m=h?.closest(".not-draggable"),g=n.excludedTags.concat(["ol","ul"]).join(", ");if(!(h instanceof Element)||h.matches(g)||m){o();return}const b=window.getComputedStyle(h),v=parseInt(b.lineHeight,10),C=isNaN(v)?parseInt(b.fontSize)*1.2:v,S=parseInt(b.paddingTop,10),M=vN(h);M.top+=(C-24)/2,M.top+=S,h.matches("ul:not([data-type=taskList]) li, ol li")&&(M.left-=n.dragHandleWidth),M.width=n.dragHandleWidth,r&&(r.style.left=`${M.left-M.width}px`,r.style.top=`${M.top}px`,l())},keydown:()=>{o()},mousewheel:()=>{o()},dragstart:c=>{c.dom.classList.add("dragging")},drop:(c,d)=>{c.dom.classList.remove("dragging"),o();let h=null;const m=c.posAtCoords({left:d.clientX,top:d.clientY});if(!m||(c.state.selection instanceof ce&&(h=c.state.selection.node),!h))return;const b=c.state.doc.resolve(m.pos).parent.type.name==="listItem";if(c.state.selection instanceof ce&&c.state.selection.node.type.name==="listItem"&&!b&&e=="OL"){const v=c.state.schema.nodes.orderedList?.createAndFill(null,h),C=new se(ee.from(v),0,0);c.dragging={slice:C,move:d.ctrlKey}}},dragend:c=>{c.dom.classList.remove("dragging")}}}})}const R9=xt.create({name:"globalDragHandle",addOptions(){return{dragHandleWidth:20,scrollTreshold:100,excludedTags:[],customNodes:[]}},addProseMirrorPlugins(){return[xN({pluginKey:"globalDragHandle",dragHandleWidth:this.options.dragHandleWidth,scrollTreshold:this.options.scrollTreshold,dragHandleSelector:this.options.dragHandleSelector,excludedTags:this.options.excludedTags,customNodes:this.options.customNodes})]}});function O9(n,e,t){for(let r=0;;r++){if(r==n.childCount||r==e.childCount)return n.childCount==e.childCount?null:t;let o=n.child(r),l=e.child(r);if(o==l){t+=o.nodeSize;continue}if(!o.sameMarkup(l))return t;if(o.isText&&o.text!=l.text){for(let a=0;o.text[a]==l.text[a];a++)t++;return t}if(o.content.size||l.content.size){let a=O9(o.content,l.content,t+1);if(a!=null)return a}t+=o.nodeSize}}function N9(n,e,t,r){for(let o=n.childCount,l=e.childCount;;){if(o==0||l==0)return o==l?null:{a:t,b:r};let a=n.child(--o),c=e.child(--l),d=a.nodeSize;if(a==c){t-=d,r-=d;continue}if(!a.sameMarkup(c))return{a:t,b:r};if(a.isText&&a.text!=c.text){let h=0,m=Math.min(a.text.length,c.text.length);for(;h<m&&a.text[a.text.length-h-1]==c.text[c.text.length-h-1];)h++,t--,r--;return{a:t,b:r}}if(a.content.size||c.content.size){let h=N9(a.content,c.content,t-1,r-1);if(h)return h}t-=d,r-=d}}class at{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,t,r,o=0,l){for(let a=0,c=0;c<t;a++){let d=this.content[a],h=c+d.nodeSize;if(h>e&&r(d,o+c,l||null,a)!==!1&&d.content.size){let m=c+1;d.nodesBetween(Math.max(0,e-m),Math.min(d.content.size,t-m),r,o+m)}c=h}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,r,o){let l="",a=!0;return this.nodesBetween(e,t,(c,d)=>{let h=c.isText?c.text.slice(Math.max(e,d)-d,t-d):c.isLeaf?o?typeof o=="function"?o(c):o:c.type.spec.leafText?c.type.spec.leafText(c):"":"";c.isBlock&&(c.isLeaf&&h||c.isTextblock)&&r&&(a?a=!1:l+=r),l+=h},0),l}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,r=e.firstChild,o=this.content.slice(),l=0;for(t.isText&&t.sameMarkup(r)&&(o[o.length-1]=t.withText(t.text+r.text),l=1);l<e.content.length;l++)o.push(e.content[l]);return new at(o,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let r=[],o=0;if(t>e)for(let l=0,a=0;a<t;l++){let c=this.content[l],d=a+c.nodeSize;d>e&&((a<e||d>t)&&(c.isText?c=c.cut(Math.max(0,e-a),Math.min(c.text.length,t-a)):c=c.cut(Math.max(0,e-a-1),Math.min(c.content.size,t-a-1))),r.push(c),o+=c.nodeSize),a=d}return new at(r,o)}cutByIndex(e,t){return e==t?at.empty:e==0&&t==this.content.length?this:new at(this.content.slice(e,t))}replaceChild(e,t){let r=this.content[e];if(r==t)return this;let o=this.content.slice(),l=this.size+t.nodeSize-r.nodeSize;return o[e]=t,new at(o,l)}addToStart(e){return new at([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new at(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,r=0;t<this.content.length;t++){let o=this.content[t];e(o,r,t),r+=o.nodeSize}}findDiffStart(e,t=0){return O9(this,e,t)}findDiffEnd(e,t=this.size,r=e.size){return N9(this,e,t,r)}findIndex(e,t=-1){if(e==0)return vc(0,e);if(e==this.size)return vc(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,o=0;;r++){let l=this.child(r),a=o+l.nodeSize;if(a>=e)return a==e||t>0?vc(r+1,a):vc(r,o);o=a}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return at.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new at(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return at.empty;let t,r=0;for(let o=0;o<e.length;o++){let l=e[o];r+=l.nodeSize,o&&l.isText&&e[o-1].sameMarkup(l)?(t||(t=e.slice(0,o)),t[t.length-1]=l.withText(t[t.length-1].text+l.text)):t&&t.push(l)}return new at(t||e,r)}static from(e){if(!e)return at.empty;if(e instanceof at)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new at([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}at.empty=new at([],0);const h1={index:0,offset:0};function vc(n,e){return h1.index=n,h1.offset=e,h1}class SN extends Error{}class kt{constructor(e,t,r){this.content=e,this.openStart=t,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let r=L9(this.content,e+this.openStart,t);return r&&new kt(r,this.openStart,this.openEnd)}removeBetween(e,t){return new kt(D9(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return kt.empty;let r=t.openStart||0,o=t.openEnd||0;if(typeof r!="number"||typeof o!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new kt(at.fromJSON(e,t.content),r,o)}static maxOpen(e,t=!0){let r=0,o=0;for(let l=e.firstChild;l&&!l.isLeaf&&(t||!l.type.spec.isolating);l=l.firstChild)r++;for(let l=e.lastChild;l&&!l.isLeaf&&(t||!l.type.spec.isolating);l=l.lastChild)o++;return new kt(e,r,o)}}kt.empty=new kt(at.empty,0,0);function D9(n,e,t){let{index:r,offset:o}=n.findIndex(e),l=n.maybeChild(r),{index:a,offset:c}=n.findIndex(t);if(o==e||l.isText){if(c!=t&&!n.child(a).isText)throw new RangeError("Removing non-flat range");return n.cut(0,e).append(n.cut(t))}if(r!=a)throw new RangeError("Removing non-flat range");return n.replaceChild(r,l.copy(D9(l.content,e-o-1,t-o-1)))}function L9(n,e,t,r){let{index:o,offset:l}=n.findIndex(e),a=n.maybeChild(o);if(l==e||a.isText)return n.cut(0,e).append(t).append(n.cut(e));let c=L9(a.content,e-l-1,t);return c&&n.replaceChild(o,a.copy(c))}const H9=65535,z9=Math.pow(2,16);function EN(n,e){return n+e*z9}function b3(n){return n&H9}function wN(n){return(n-(n&H9))/z9}const B9=1,j9=2,Rc=4,I9=8;class v3{constructor(e,t,r){this.pos=e,this.delInfo=t,this.recover=r}get deleted(){return(this.delInfo&I9)>0}get deletedBefore(){return(this.delInfo&(B9|Rc))>0}get deletedAfter(){return(this.delInfo&(j9|Rc))>0}get deletedAcross(){return(this.delInfo&Rc)>0}}class In{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&In.empty)return In.empty}recover(e){let t=0,r=b3(e);if(!this.inverted)for(let o=0;o<r;o++)t+=this.ranges[o*3+2]-this.ranges[o*3+1];return this.ranges[r*3]+t+wN(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,r){let o=0,l=this.inverted?2:1,a=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let d=this.ranges[c]-(this.inverted?o:0);if(d>e)break;let h=this.ranges[c+l],m=this.ranges[c+a],g=d+h;if(e<=g){let b=h?e==d?-1:e==g?1:t:t,v=d+o+(b<0?0:m);if(r)return v;let C=e==(t<0?d:g)?null:EN(c/3,e-d),S=e==d?j9:e==g?B9:Rc;return(t<0?e!=d:e!=g)&&(S|=I9),new v3(v,S,C)}o+=m-h}return r?e+o:new v3(e+o,0,null)}touches(e,t){let r=0,o=b3(t),l=this.inverted?2:1,a=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let d=this.ranges[c]-(this.inverted?r:0);if(d>e)break;let h=this.ranges[c+l],m=d+h;if(e<=m&&c==o*3)return!0;r+=this.ranges[c+a]-h}return!1}forEach(e){let t=this.inverted?2:1,r=this.inverted?1:2;for(let o=0,l=0;o<this.ranges.length;o+=3){let a=this.ranges[o],c=a-(this.inverted?l:0),d=a+(this.inverted?0:l),h=this.ranges[o+t],m=this.ranges[o+r];e(c,c+h,d,d+m),l+=m-h}}invert(){return new In(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?In.empty:new In(e<0?[0,-e,0]:[0,0,e])}}In.empty=new In([]);const p1=Object.create(null);class on{getMap(){return In.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=p1[t.stepType];if(!r)throw new RangeError(`No step type ${t.stepType} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in p1)throw new RangeError("Duplicate use of step JSON ID "+e);return p1[e]=t,t.prototype.jsonID=e,t}}class wt{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new wt(e,null)}static fail(e){return new wt(null,e)}static fromReplace(e,t,r,o){try{return wt.ok(e.replace(t,r,o))}catch(l){if(l instanceof SN)return wt.fail(l.message);throw l}}}function x0(n,e,t){let r=[];for(let o=0;o<n.childCount;o++){let l=n.child(o);l.content.size&&(l=l.copy(x0(l.content,e,l))),l.isInline&&(l=e(l,t,o)),r.push(l)}return at.fromArray(r)}class xo extends on{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=e.resolve(this.from),o=r.node(r.sharedDepth(this.to)),l=new kt(x0(t.content,(a,c)=>!a.isAtom||!c.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),o),t.openStart,t.openEnd);return wt.fromReplace(e,this.from,this.to,l)}invert(){return new So(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new xo(t.pos,r.pos,this.mark)}merge(e){return e instanceof xo&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new xo(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new xo(t.from,t.to,e.markFromJSON(t.mark))}}on.jsonID("addMark",xo);class So extends on{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=new kt(x0(t.content,o=>o.mark(this.mark.removeFromSet(o.marks)),e),t.openStart,t.openEnd);return wt.fromReplace(e,this.from,this.to,r)}invert(){return new xo(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new So(t.pos,r.pos,this.mark)}merge(e){return e instanceof So&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new So(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new So(t.from,t.to,e.markFromJSON(t.mark))}}on.jsonID("removeMark",So);class Eo extends on{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return wt.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return wt.fromReplace(e,this.pos,this.pos+1,new kt(at.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let r=this.mark.addToSet(t.marks);if(r.length==t.marks.length){for(let o=0;o<t.marks.length;o++)if(!t.marks[o].isInSet(r))return new Eo(this.pos,t.marks[o]);return new Eo(this.pos,this.mark)}}return new Ha(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Eo(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Eo(t.pos,e.markFromJSON(t.mark))}}on.jsonID("addNodeMark",Eo);class Ha extends on{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return wt.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return wt.fromReplace(e,this.pos,this.pos+1,new kt(at.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new Eo(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Ha(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Ha(t.pos,e.markFromJSON(t.mark))}}on.jsonID("removeNodeMark",Ha);class Ai extends on{constructor(e,t,r,o=!1){super(),this.from=e,this.to=t,this.slice=r,this.structure=o}apply(e){return this.structure&&nm(e,this.from,this.to)?wt.fail("Structure replace would overwrite content"):wt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new In([this.from,this.to-this.from,this.slice.size])}invert(e){return new Ai(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deletedAcross&&r.deletedAcross?null:new Ai(t.pos,Math.max(t.pos,r.pos),this.slice)}merge(e){if(!(e instanceof Ai)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?kt.empty:new kt(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Ai(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?kt.empty:new kt(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Ai(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Ai(t.from,t.to,kt.fromJSON(e,t.slice),!!t.structure)}}on.jsonID("replace",Ai);class ba extends on{constructor(e,t,r,o,l,a,c=!1){super(),this.from=e,this.to=t,this.gapFrom=r,this.gapTo=o,this.slice=l,this.insert=a,this.structure=c}apply(e){if(this.structure&&(nm(e,this.from,this.gapFrom)||nm(e,this.gapTo,this.to)))return wt.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return wt.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,t.content);return r?wt.fromReplace(e,this.from,this.to,r):wt.fail("Content does not fit in gap")}getMap(){return new In([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new ba(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),o=e.map(this.gapFrom,-1),l=e.map(this.gapTo,1);return t.deletedAcross&&r.deletedAcross||o<t.pos||l>r.pos?null:new ba(t.pos,r.pos,o,l,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new ba(t.from,t.to,t.gapFrom,t.gapTo,kt.fromJSON(e,t.slice),t.insert,!!t.structure)}}on.jsonID("replaceAround",ba);function nm(n,e,t){let r=n.resolve(e),o=t-e,l=r.depth;for(;o>0&&l>0&&r.indexAfter(l)==r.node(l).childCount;)l--,o--;if(o>0){let a=r.node(l).maybeChild(r.indexAfter(l));for(;o>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,o--}}return!1}function MN(n,e){let t=n.resolve(e),r=t.index();return TN(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(r,r+1)}function TN(n,e){return!!(n&&e&&!n.isLeaf&&n.canAppend(e))}class va extends on{constructor(e,t,r){super(),this.pos=e,this.attr=t,this.value=r}apply(e){let t=e.nodeAt(this.pos);if(!t)return wt.fail("No node at attribute step's position");let r=Object.create(null);for(let l in t.attrs)r[l]=t.attrs[l];r[this.attr]=this.value;let o=t.type.create(r,null,t.marks);return wt.fromReplace(e,this.pos,this.pos+1,new kt(at.from(o),0,t.isLeaf?0:1))}getMap(){return In.empty}invert(e){return new va(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new va(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new va(t.pos,t.attr,t.value)}}on.jsonID("attr",va);class Af extends on{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let o in e.attrs)t[o]=e.attrs[o];t[this.attr]=this.value;let r=e.type.create(t,e.content,e.marks);return wt.ok(r)}getMap(){return In.empty}invert(e){return new Af(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Af(t.attr,t.value)}}on.jsonID("docAttr",Af);let za=class extends Error{};za=function n(e){let t=Error.call(this,e);return t.__proto__=n.prototype,t};za.prototype=Object.create(Error.prototype);za.prototype.constructor=za;za.prototype.name="TransformError";function kN(n,e,t){let r=[];for(let a=0;a<n.mapping.maps.length;a++){let c=n.mapping.maps[a];if(c){for(let d=0;d<r.length;d++)r[d]=c.map(r[d]);c.forEach((d,h,m,g)=>r.push(m,g))}}let o=[];for(let a=0;a<r.length;a+=2){let c=r[a],d=r[a+1],h=n.doc.resolve(c),m=h.sharedDepth(d),g=h.node(m);for(let b=h.indexAfter(m),v=h.after(m+1);v<=d;++b){let C=g.maybeChild(b);if(!C)break;if(b&&o.indexOf(v)==-1){let S=g.child(b-1);S.type==C.type&&t.includes(S.type)&&o.push(v)}v+=C.nodeSize}}let l=!1;o.sort((a,c)=>a-c);for(let a=o.length-1;a>=0;a--)MN(n.doc,o[a])&&(e.join(o[a]),l=!0);return l}const V9=xt.create({name:"autoJoiner",addOptions(){return{elementsToJoin:[]}},addProseMirrorPlugins(){const n=new $t(this.name),e=[this.editor.schema.nodes.bulletList,this.editor.schema.nodes.orderedList];return this.options.elementsToJoin.forEach(t=>{const r=At(t,this.editor.schema);e.push(r)}),[new pt({key:n,appendTransaction(t,r,o){let l=o.tr,a=!1;for(const c of t)a=kN(c,l,e)||a;if(a)return l}})]}}),AN=({onHighlighterClick:n,onLinkClick:e,isMobile:t})=>x.jsxs(x.Fragment,{children:[x.jsx(Da,{}),x.jsxs(En,{children:[x.jsx(La,{action:"undo"}),x.jsx(La,{action:"redo"})]}),x.jsx(wn,{}),x.jsxs(En,{children:[x.jsx(Pv,{levels:[1,2,3,4]}),x.jsx(Xv,{types:["bulletList","orderedList","taskList"]}),x.jsx(m0,{}),x.jsx(g0,{})]}),x.jsx(wn,{}),x.jsxs(En,{children:[x.jsx(un,{type:"bold"}),x.jsx(un,{type:"italic"}),x.jsx(un,{type:"strike"}),x.jsx(un,{type:"code"}),x.jsx(un,{type:"underline"}),t?x.jsx(ld,{onClick:n}):x.jsx(i9,{}),t?x.jsx(ud,{onClick:e}):x.jsx(f9,{})]}),x.jsx(wn,{}),x.jsxs(En,{children:[x.jsx(un,{type:"superscript"}),x.jsx(un,{type:"subscript"})]}),x.jsx(wn,{}),x.jsxs(En,{children:[x.jsx(Yr,{align:"left"}),x.jsx(Yr,{align:"center"}),x.jsx(Yr,{align:"right"}),x.jsx(Yr,{align:"justify"})]}),x.jsx(wn,{}),x.jsxs(En,{children:[x.jsx(Kv,{text:"Add"}),x.jsx($v,{})]}),x.jsx(Da,{}),t&&x.jsx(wn,{})]}),RN=({type:n,onBack:e})=>x.jsxs(x.Fragment,{children:[x.jsx(En,{children:x.jsxs(Ze,{"data-style":"ghost",onClick:e,children:[x.jsx(v0,{className:"tiptap-button-icon"}),n==="highlighter"?x.jsx(sd,{className:"tiptap-button-icon"}):x.jsx(ad,{className:"tiptap-button-icon"})]})}),x.jsx(wn,{}),n==="highlighter"?x.jsx(b0,{}):x.jsx(u9,{})]});function ON({onCreate:n,onUpdate:e,defaultContent:t}){const r=k9(),o=C0(),[l,a]=w.useState("main"),c=w.useRef(null),d=d5({onUpdate:e,onCreate:n,content:t,immediatelyRender:!1,editorProps:{attributes:{autocomplete:"off",autocorrect:"off",autocapitalize:"off","aria-label":"Main content area, start typing to enter text."}},extensions:[C5,x5.configure({types:["heading","paragraph"]}),T5,HT,LT.configure({nested:!0}),E5.configure({multicolor:!0}),NT,S5,M5,w5,j5,qR.configure({accept:"image/*",maxSize:tm,limit:3,upload:tO,onError:m=>console.error("Upload failed:",m)}),I5,B5.configure({openOnClick:!1}),XR.configure({apiUrl:"/api/folio-blocks",onError:m=>console.error("Folio block error:",m),onSuccess:m=>console.log("Folio block loaded:",m)}),R9.configure({dragHandleWidth:20,scrollTreshold:100}),V9.configure({elementsToJoin:["bulletList","orderedList"]})]}),h=A9({editor:d,overlayHeight:c.current?.getBoundingClientRect().height??0});return w.useEffect(()=>{!r&&l!=="main"&&a("main")},[r,l]),x.jsx(Ff.Provider,{value:{editor:d},children:x.jsxs("div",{className:"f-tiptap-editor f-tiptap-editor--block",children:[x.jsx(o0,{ref:c,style:r?{bottom:`calc(100% - ${o.height-h.y}px)`}:{},children:l==="main"?x.jsx(AN,{onHighlighterClick:()=>a("highlighter"),onLinkClick:()=>a("link"),isMobile:r}):x.jsx(RN,{type:l==="highlighter"?"highlighter":"link",onBack:()=>a("main")})}),x.jsx("div",{className:"f-tiptap-editor__content-wrap",children:x.jsx(c5,{editor:d,role:"presentation",className:"f-tiptap-editor__content f-tiptap-styles"})})]})})}const NN=({onHighlighterClick:n,onLinkClick:e,isMobile:t})=>x.jsxs(x.Fragment,{children:[x.jsx(Da,{}),x.jsxs(En,{children:[x.jsx(La,{action:"undo"}),x.jsx(La,{action:"redo"})]}),x.jsx(wn,{}),x.jsxs(En,{children:[x.jsx(Pv,{levels:[1,2,3,4]}),x.jsx(Xv,{types:["bulletList","orderedList"]}),x.jsx(m0,{}),x.jsx(g0,{})]}),x.jsx(wn,{}),x.jsxs(En,{children:[x.jsx(un,{type:"bold"}),x.jsx(un,{type:"italic"}),x.jsx(un,{type:"strike"}),x.jsx(un,{type:"code"}),x.jsx(un,{type:"underline"}),t?x.jsx(ld,{onClick:n}):x.jsx(i9,{}),t?x.jsx(ud,{onClick:e}):x.jsx(f9,{})]}),x.jsx(wn,{}),x.jsxs(En,{children:[x.jsx(un,{type:"superscript"}),x.jsx(un,{type:"subscript"})]}),x.jsx(wn,{}),x.jsxs(En,{children:[x.jsx(Yr,{align:"left"}),x.jsx(Yr,{align:"center"}),x.jsx(Yr,{align:"right"}),x.jsx(Yr,{align:"justify"})]}),x.jsx(Da,{}),t&&x.jsx(wn,{})]}),DN=({type:n,onBack:e})=>x.jsxs(x.Fragment,{children:[x.jsx(En,{children:x.jsxs(Ze,{"data-style":"ghost",onClick:e,children:[x.jsx(v0,{className:"tiptap-button-icon"}),n==="highlighter"?x.jsx(sd,{className:"tiptap-button-icon"}):x.jsx(ad,{className:"tiptap-button-icon"})]})}),x.jsx(wn,{}),n==="highlighter"?x.jsx(b0,{}):x.jsx(u9,{})]});function LN({onCreate:n,onUpdate:e,defaultContent:t}){const r=k9(),o=C0(),[l,a]=w.useState("main"),c=w.useRef(null),d=d5({onUpdate:e,onCreate:n,content:t,immediatelyRender:!1,editorProps:{attributes:{autocomplete:"off",autocorrect:"off",autocapitalize:"off","aria-label":"Main content area, start typing to enter text."}},extensions:[C5,x5.configure({types:["heading","paragraph"]}),T5,E5.configure({multicolor:!0}),S5,M5,w5,j5,I5,B5.configure({openOnClick:!1}),R9.configure({dragHandleWidth:20,scrollTreshold:100}),V9.configure({elementsToJoin:["bulletList","orderedList"]})]}),h=A9({editor:d,overlayHeight:c.current?.getBoundingClientRect().height??0});return w.useEffect(()=>{!r&&l!=="main"&&a("main")},[r,l]),x.jsx(Ff.Provider,{value:{editor:d},children:x.jsxs("div",{className:"f-tiptap-editor f-tiptap-editor--rich-text",children:[x.jsx(o0,{ref:c,style:r?{bottom:`calc(100% - ${o.height-h.y}px)`}:{},children:l==="main"?x.jsx(NN,{onHighlighterClick:()=>a("highlighter"),onLinkClick:()=>a("link"),isMobile:r}):x.jsx(DN,{type:l==="highlighter"?"highlighter":"link",onBack:()=>a("main")})}),x.jsx("div",{className:"f-tiptap-editor__content-wrap",children:x.jsx(c5,{editor:d,role:"presentation",className:"f-tiptap-editor__content f-tiptap-styles"})})]})})}function HN({onCreate:n,onUpdate:e,defaultContent:t,type:r}){switch(r){case"rich-text":return x.jsx(LN,{onCreate:n,onUpdate:e,defaultContent:t});case"block":return x.jsx(ON,{onCreate:n,onUpdate:e,defaultContent:t});default:throw new Error(`Unknown editor type: ${r}`)}}window.Folio=window.Folio||{};window.Folio.Tiptap=window.Folio.Tiptap||{};window.Folio.Tiptap.root=window.Folio.Tiptap.root||null;window.Folio.Tiptap.init=n=>{if(window.Folio.Tiptap.root)throw new Error("Tiptap editor is already initialized");if(!n.node)throw new Error("Node is required");const e=l=>l.view.dom.closest(".f-tiptap-editor").clientHeight,t=({editor:l})=>{window.top.postMessage({type:"f-tiptap:created",height:e(l)},"*"),n.onCreate&&n.onCreate({editor:l})},r=({editor:l})=>{window.top.postMessage({type:"f-tiptap:updated",content:l.getJSON(),height:e(l)},"*"),n.onUpdate&&n.onUpdate({editor:l})},o=l8.createRoot(n.node);return o.render(x.jsx(w.StrictMode,{children:x.jsx(HN,{onCreate:t,onUpdate:r,defaultContent:n.content,type:n.type})})),o};window.Folio.Tiptap.destroy=n=>{n&&n.unmount()};window.addEventListener("message",n=>{if(n.origin===window.origin&&n.data){if(n.data.type==="f-input-tiptap:start"){if(!window.Folio.Tiptap.root){const e=document.querySelector(".f-tiptap-iframe-content");if(!e)throw new Error("Node not found for Tiptap editor");if(n.data.stylesheetPath){const t=document.createElement("link");t.rel="stylesheet",t.href=n.data.stylesheetPath,document.head.insertBefore(t,document.head.firstChild)}e.classList.toggle("f-tiptap-iframe-content--console-aside",!!n.data.windowWidth&&n.data.windowWidth>=1700),window.Folio.Tiptap.init({node:e,type:e.dataset.tiptapType==="block"?"block":"rich-text",content:n.data.content})}}else if(n.data.type==="f-input-tiptap:window-resize"){const e=document.querySelector(".f-tiptap-iframe-content");e&&e.classList.toggle("f-tiptap-iframe-content--console-aside",!!n.data.windowWidth&&n.data.windowWidth>=1700)}}});window.top.postMessage({type:"f-tiptap:javascript-evaluated"},"*");
//# sourceMappingURL=folio-tiptap.js.map
