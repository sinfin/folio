function Cx(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const l=Object.getOwnPropertyDescriptor(r,s);l&&Object.defineProperty(n,s,l.get?l:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=t(s);fetch(s.href,l)}})();function u7(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var fp={exports:{}},Gl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eb;function Sx(){if(eb)return Gl;eb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,s,l){var a=null;if(l!==void 0&&(a=""+l),s.key!==void 0&&(a=""+s.key),"key"in s){l={};for(var c in s)c!=="key"&&(l[c]=s[c])}else l=s;return s=l.ref,{$$typeof:n,type:r,key:a,ref:s!==void 0?s:null,props:l}}return Gl.Fragment=e,Gl.jsx=t,Gl.jsxs=t,Gl}var tb;function xx(){return tb||(tb=1,fp.exports=Sx()),fp.exports}var T=xx(),dp={exports:{}},Me={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nb;function Ex(){if(nb)return Me;nb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function b(k){return k===null||typeof k!="object"?null:(k=g&&k[g]||k["@@iterator"],typeof k=="function"?k:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,S={};function w(k,F,q){this.props=k,this.context=F,this.refs=S,this.updater=q||v}w.prototype.isReactComponent={},w.prototype.setState=function(k,F){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,F,"setState")},w.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function A(){}A.prototype=w.prototype;function R(k,F,q){this.props=k,this.context=F,this.refs=S,this.updater=q||v}var D=R.prototype=new A;D.constructor=R,C(D,w.prototype),D.isPureReactComponent=!0;var P=Array.isArray,j={H:null,A:null,T:null,S:null,V:null},Q=Object.prototype.hasOwnProperty;function te(k,F,q,J,ie,Ce){return q=Ce.ref,{$$typeof:n,type:k,key:F,ref:q!==void 0?q:null,props:Ce}}function X(k,F){return te(k.type,F,void 0,void 0,void 0,k.props)}function le(k){return typeof k=="object"&&k!==null&&k.$$typeof===n}function ne(k){var F={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(q){return F[q]})}var me=/\/+/g;function he(k,F){return typeof k=="object"&&k!==null&&k.key!=null?ne(""+k.key):F.toString(36)}function Se(){}function re(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(Se,Se):(k.status="pending",k.then(function(F){k.status==="pending"&&(k.status="fulfilled",k.value=F)},function(F){k.status==="pending"&&(k.status="rejected",k.reason=F)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function $(k,F,q,J,ie){var Ce=typeof k;(Ce==="undefined"||Ce==="boolean")&&(k=null);var se=!1;if(k===null)se=!0;else switch(Ce){case"bigint":case"string":case"number":se=!0;break;case"object":switch(k.$$typeof){case n:case e:se=!0;break;case m:return se=k._init,$(se(k._payload),F,q,J,ie)}}if(se)return ie=ie(k),se=J===""?"."+he(k,0):J,P(ie)?(q="",se!=null&&(q=se.replace(me,"$&/")+"/"),$(ie,F,q,"",function(Gt){return Gt})):ie!=null&&(le(ie)&&(ie=X(ie,q+(ie.key==null||k&&k.key===ie.key?"":(""+ie.key).replace(me,"$&/")+"/")+se)),F.push(ie)),1;se=0;var qe=J===""?".":J+":";if(P(k))for(var ze=0;ze<k.length;ze++)J=k[ze],Ce=qe+he(J,ze),se+=$(J,F,q,Ce,ie);else if(ze=b(k),typeof ze=="function")for(k=ze.call(k),ze=0;!(J=k.next()).done;)J=J.value,Ce=qe+he(J,ze++),se+=$(J,F,q,Ce,ie);else if(Ce==="object"){if(typeof k.then=="function")return $(re(k),F,q,J,ie);throw F=String(k),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return se}function z(k,F,q){if(k==null)return k;var J=[],ie=0;return $(k,J,"","",function(Ce){return F.call(q,Ce,ie++)}),J}function U(k){if(k._status===-1){var F=k._result;F=F(),F.then(function(q){(k._status===0||k._status===-1)&&(k._status=1,k._result=q)},function(q){(k._status===0||k._status===-1)&&(k._status=2,k._result=q)}),k._status===-1&&(k._status=0,k._result=F)}if(k._status===1)return k._result.default;throw k._result}var H=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function Z(){}return Me.Children={map:z,forEach:function(k,F,q){z(k,function(){F.apply(this,arguments)},q)},count:function(k){var F=0;return z(k,function(){F++}),F},toArray:function(k){return z(k,function(F){return F})||[]},only:function(k){if(!le(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Me.Component=w,Me.Fragment=t,Me.Profiler=s,Me.PureComponent=R,Me.StrictMode=r,Me.Suspense=d,Me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,Me.__COMPILER_RUNTIME={__proto__:null,c:function(k){return j.H.useMemoCache(k)}},Me.cache=function(k){return function(){return k.apply(null,arguments)}},Me.cloneElement=function(k,F,q){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var J=C({},k.props),ie=k.key,Ce=void 0;if(F!=null)for(se in F.ref!==void 0&&(Ce=void 0),F.key!==void 0&&(ie=""+F.key),F)!Q.call(F,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&F.ref===void 0||(J[se]=F[se]);var se=arguments.length-2;if(se===1)J.children=q;else if(1<se){for(var qe=Array(se),ze=0;ze<se;ze++)qe[ze]=arguments[ze+2];J.children=qe}return te(k.type,ie,void 0,void 0,Ce,J)},Me.createContext=function(k){return k={$$typeof:a,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:l,_context:k},k},Me.createElement=function(k,F,q){var J,ie={},Ce=null;if(F!=null)for(J in F.key!==void 0&&(Ce=""+F.key),F)Q.call(F,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ie[J]=F[J]);var se=arguments.length-2;if(se===1)ie.children=q;else if(1<se){for(var qe=Array(se),ze=0;ze<se;ze++)qe[ze]=arguments[ze+2];ie.children=qe}if(k&&k.defaultProps)for(J in se=k.defaultProps,se)ie[J]===void 0&&(ie[J]=se[J]);return te(k,Ce,void 0,void 0,null,ie)},Me.createRef=function(){return{current:null}},Me.forwardRef=function(k){return{$$typeof:c,render:k}},Me.isValidElement=le,Me.lazy=function(k){return{$$typeof:m,_payload:{_status:-1,_result:k},_init:U}},Me.memo=function(k,F){return{$$typeof:h,type:k,compare:F===void 0?null:F}},Me.startTransition=function(k){var F=j.T,q={};j.T=q;try{var J=k(),ie=j.S;ie!==null&&ie(q,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(Z,H)}catch(Ce){H(Ce)}finally{j.T=F}},Me.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},Me.use=function(k){return j.H.use(k)},Me.useActionState=function(k,F,q){return j.H.useActionState(k,F,q)},Me.useCallback=function(k,F){return j.H.useCallback(k,F)},Me.useContext=function(k){return j.H.useContext(k)},Me.useDebugValue=function(){},Me.useDeferredValue=function(k,F){return j.H.useDeferredValue(k,F)},Me.useEffect=function(k,F,q){var J=j.H;if(typeof q=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(k,F)},Me.useId=function(){return j.H.useId()},Me.useImperativeHandle=function(k,F,q){return j.H.useImperativeHandle(k,F,q)},Me.useInsertionEffect=function(k,F){return j.H.useInsertionEffect(k,F)},Me.useLayoutEffect=function(k,F){return j.H.useLayoutEffect(k,F)},Me.useMemo=function(k,F){return j.H.useMemo(k,F)},Me.useOptimistic=function(k,F){return j.H.useOptimistic(k,F)},Me.useReducer=function(k,F,q){return j.H.useReducer(k,F,q)},Me.useRef=function(k){return j.H.useRef(k)},Me.useState=function(k){return j.H.useState(k)},Me.useSyncExternalStore=function(k,F,q){return j.H.useSyncExternalStore(k,F,q)},Me.useTransition=function(){return j.H.useTransition()},Me.version="19.1.0",Me}var rb;function J1(){return rb||(rb=1,dp.exports=Ex()),dp.exports}var E=J1();const zt=u7(E),c7=Cx({__proto__:null,default:zt},[E]);var hp={exports:{}},Yl={},pp={exports:{}},mp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ib;function wx(){return ib||(ib=1,function(n){function e(z,U){var H=z.length;z.push(U);e:for(;0<H;){var Z=H-1>>>1,k=z[Z];if(0<s(k,U))z[Z]=U,z[H]=k,H=Z;else break e}}function t(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var U=z[0],H=z.pop();if(H!==U){z[0]=H;e:for(var Z=0,k=z.length,F=k>>>1;Z<F;){var q=2*(Z+1)-1,J=z[q],ie=q+1,Ce=z[ie];if(0>s(J,H))ie<k&&0>s(Ce,J)?(z[Z]=Ce,z[ie]=H,Z=ie):(z[Z]=J,z[q]=H,Z=q);else if(ie<k&&0>s(Ce,H))z[Z]=Ce,z[ie]=H,Z=ie;else break e}}return U}function s(z,U){var H=z.sortIndex-U.sortIndex;return H!==0?H:z.id-U.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var a=Date,c=a.now();n.unstable_now=function(){return a.now()-c}}var d=[],h=[],m=1,g=null,b=3,v=!1,C=!1,S=!1,w=!1,A=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function P(z){for(var U=t(h);U!==null;){if(U.callback===null)r(h);else if(U.startTime<=z)r(h),U.sortIndex=U.expirationTime,e(d,U);else break;U=t(h)}}function j(z){if(S=!1,P(z),!C)if(t(d)!==null)C=!0,Q||(Q=!0,he());else{var U=t(h);U!==null&&$(j,U.startTime-z)}}var Q=!1,te=-1,X=5,le=-1;function ne(){return w?!0:!(n.unstable_now()-le<X)}function me(){if(w=!1,Q){var z=n.unstable_now();le=z;var U=!0;try{e:{C=!1,S&&(S=!1,R(te),te=-1),v=!0;var H=b;try{t:{for(P(z),g=t(d);g!==null&&!(g.expirationTime>z&&ne());){var Z=g.callback;if(typeof Z=="function"){g.callback=null,b=g.priorityLevel;var k=Z(g.expirationTime<=z);if(z=n.unstable_now(),typeof k=="function"){g.callback=k,P(z),U=!0;break t}g===t(d)&&r(d),P(z)}else r(d);g=t(d)}if(g!==null)U=!0;else{var F=t(h);F!==null&&$(j,F.startTime-z),U=!1}}break e}finally{g=null,b=H,v=!1}U=void 0}}finally{U?he():Q=!1}}}var he;if(typeof D=="function")he=function(){D(me)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,re=Se.port2;Se.port1.onmessage=me,he=function(){re.postMessage(null)}}else he=function(){A(me,0)};function $(z,U){te=A(function(){z(n.unstable_now())},U)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(z){z.callback=null},n.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<z?Math.floor(1e3/z):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(z){switch(b){case 1:case 2:case 3:var U=3;break;default:U=b}var H=b;b=U;try{return z()}finally{b=H}},n.unstable_requestPaint=function(){w=!0},n.unstable_runWithPriority=function(z,U){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var H=b;b=z;try{return U()}finally{b=H}},n.unstable_scheduleCallback=function(z,U,H){var Z=n.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?Z+H:Z):H=Z,z){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=H+k,z={id:m++,callback:U,priorityLevel:z,startTime:H,expirationTime:k,sortIndex:-1},H>Z?(z.sortIndex=H,e(h,z),t(d)===null&&z===t(h)&&(S?(R(te),te=-1):S=!0,$(j,H-Z))):(z.sortIndex=k,e(d,z),C||v||(C=!0,Q||(Q=!0,he()))),z},n.unstable_shouldYield=ne,n.unstable_wrapCallback=function(z){var U=b;return function(){var H=b;b=U;try{return z.apply(this,arguments)}finally{b=H}}}}(mp)),mp}var sb;function Mx(){return sb||(sb=1,pp.exports=wx()),pp.exports}var gp={exports:{}},Qt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ob;function Tx(){if(ob)return Qt;ob=1;var n=J1();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(d,h,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:g==null?null:""+g,children:d,containerInfo:h,implementation:m}}var a=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Qt.createPortal=function(d,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return l(d,h,null,m)},Qt.flushSync=function(d){var h=a.T,m=r.p;try{if(a.T=null,r.p=2,d)return d()}finally{a.T=h,r.p=m,r.d.f()}},Qt.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(d,h))},Qt.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Qt.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var m=h.as,g=c(m,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,v=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?r.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:b,fetchPriority:v}):m==="script"&&r.d.X(d,{crossOrigin:g,integrity:b,fetchPriority:v,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Qt.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=c(h.as,h.crossOrigin);r.d.M(d,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(d)},Qt.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,g=c(m,h.crossOrigin);r.d.L(d,m,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Qt.preloadModule=function(d,h){if(typeof d=="string")if(h){var m=c(h.as,h.crossOrigin);r.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(d)},Qt.requestFormReset=function(d){r.d.r(d)},Qt.unstable_batchedUpdates=function(d,h){return d(h)},Qt.useFormState=function(d,h,m){return a.H.useFormState(d,h,m)},Qt.useFormStatus=function(){return a.H.useHostTransitionStatus()},Qt.version="19.1.0",Qt}var lb;function f7(){if(lb)return gp.exports;lb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),gp.exports=Tx(),gp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ab;function Ax(){if(ab)return Yl;ab=1;var n=Mx(),e=J1(),t=f7();function r(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function a(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function c(i){if(l(i)!==i)throw Error(r(188))}function d(i){var o=i.alternate;if(!o){if(o=l(i),o===null)throw Error(r(188));return o!==i?null:i}for(var u=i,f=o;;){var p=u.return;if(p===null)break;var y=p.alternate;if(y===null){if(f=p.return,f!==null){u=f;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===u)return c(p),i;if(y===f)return c(p),o;y=y.sibling}throw Error(r(188))}if(u.return!==f.return)u=p,f=y;else{for(var x=!1,M=p.child;M;){if(M===u){x=!0,u=p,f=y;break}if(M===f){x=!0,f=p,u=y;break}M=M.sibling}if(!x){for(M=y.child;M;){if(M===u){x=!0,u=y,f=p;break}if(M===f){x=!0,f=y,u=p;break}M=M.sibling}if(!x)throw Error(r(189))}}if(u.alternate!==f)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?i:o}function h(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=h(i),o!==null)return o;i=i.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),D=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),le=Symbol.for("react.activity"),ne=Symbol.for("react.memo_cache_sentinel"),me=Symbol.iterator;function he(i){return i===null||typeof i!="object"?null:(i=me&&i[me]||i["@@iterator"],typeof i=="function"?i:null)}var Se=Symbol.for("react.client.reference");function re(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===Se?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case C:return"Fragment";case w:return"Profiler";case S:return"StrictMode";case j:return"Suspense";case Q:return"SuspenseList";case le:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case v:return"Portal";case D:return(i.displayName||"Context")+".Provider";case R:return(i._context.displayName||"Context")+".Consumer";case P:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case te:return o=i.displayName||null,o!==null?o:re(i.type)||"Memo";case X:o=i._payload,i=i._init;try{return re(i(o))}catch{}}return null}var $=Array.isArray,z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},Z=[],k=-1;function F(i){return{current:i}}function q(i){0>k||(i.current=Z[k],Z[k]=null,k--)}function J(i,o){k++,Z[k]=i.current,i.current=o}var ie=F(null),Ce=F(null),se=F(null),qe=F(null);function ze(i,o){switch(J(se,o),J(Ce,i),J(ie,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?ky(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=ky(o),i=Oy(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}q(ie),J(ie,i)}function Gt(){q(ie),q(Ce),q(se)}function An(i){i.memoizedState!==null&&J(qe,i);var o=ie.current,u=Oy(o,i.type);o!==u&&(J(Ce,i),J(ie,u))}function xe(i){Ce.current===i&&(q(ie),q(Ce)),qe.current===i&&(q(qe),ql._currentValue=H)}var Ne=Object.prototype.hasOwnProperty,Ee=n.unstable_scheduleCallback,we=n.unstable_cancelCallback,at=n.unstable_shouldYield,st=n.unstable_requestPaint,Qe=n.unstable_now,Bt=n.unstable_getCurrentPriorityLevel,_e=n.unstable_ImmediatePriority,Ye=n.unstable_UserBlockingPriority,Yt=n.unstable_NormalPriority,de=n.unstable_LowPriority,je=n.unstable_IdlePriority,ge=n.log,Xe=n.unstable_setDisableYieldValue,Ue=null,He=null;function pn(i){if(typeof ge=="function"&&Xe(i),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(Ue,i)}catch{}}var Ot=Math.clz32?Math.clz32:Cr,Fi=Math.log,mn=Math.LN2;function Cr(i){return i>>>=0,i===0?32:31-(Fi(i)/mn|0)|0}var Sr=256,Ki=4194304;function or(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function xr(i,o,u){var f=i.pendingLanes;if(f===0)return 0;var p=0,y=i.suspendedLanes,x=i.pingedLanes;i=i.warmLanes;var M=f&134217727;return M!==0?(f=M&~y,f!==0?p=or(f):(x&=M,x!==0?p=or(x):u||(u=M&~i,u!==0&&(p=or(u))))):(M=f&~y,M!==0?p=or(M):x!==0?p=or(x):u||(u=f&~i,u!==0&&(p=or(u)))),p===0?0:o!==0&&o!==p&&(o&y)===0&&(y=p&-p,u=o&-o,y>=u||y===32&&(u&4194048)!==0)?o:p}function gn(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function js(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fa(){var i=Sr;return Sr<<=1,(Sr&4194048)===0&&(Sr=256),i}function Qo(){var i=Ki;return Ki<<=1,(Ki&62914560)===0&&(Ki=4194304),i}function Vs(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function Xo(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function aS(i,o,u,f,p,y){var x=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var M=i.entanglements,O=i.expirationTimes,I=i.hiddenUpdates;for(u=x&~u;0<u;){var K=31-Ot(u),Y=1<<K;M[K]=0,O[K]=-1;var V=I[K];if(V!==null)for(I[K]=null,K=0;K<V.length;K++){var _=V[K];_!==null&&(_.lane&=-536870913)}u&=~Y}f!==0&&hg(i,f,0),y!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=y&~(x&~o))}function hg(i,o,u){i.pendingLanes|=o,i.suspendedLanes&=~o;var f=31-Ot(o);i.entangledLanes|=o,i.entanglements[f]=i.entanglements[f]|1073741824|u&4194090}function pg(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var f=31-Ot(u),p=1<<f;p&o|i[f]&o&&(i[f]|=o),u&=~p}}function td(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function nd(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function mg(){var i=U.p;return i!==0?i:(i=window.event,i===void 0?32:Yy(i.type))}function uS(i,o){var u=U.p;try{return U.p=i,o()}finally{U.p=u}}var Jr=Math.random().toString(36).slice(2),Zt="__reactFiber$"+Jr,yn="__reactProps$"+Jr,_s="__reactContainer$"+Jr,rd="__reactEvents$"+Jr,cS="__reactListeners$"+Jr,fS="__reactHandles$"+Jr,gg="__reactResources$"+Jr,Wo="__reactMarker$"+Jr;function id(i){delete i[Zt],delete i[yn],delete i[rd],delete i[cS],delete i[fS]}function Us(i){var o=i[Zt];if(o)return o;for(var u=i.parentNode;u;){if(o=u[_s]||u[Zt]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=Ly(i);i!==null;){if(u=i[Zt])return u;i=Ly(i)}return o}i=u,u=i.parentNode}return null}function qs(i){if(i=i[Zt]||i[_s]){var o=i.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return i}return null}function el(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(r(33))}function Ps(i){var o=i[gg];return o||(o=i[gg]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Rt(i){i[Wo]=!0}var yg=new Set,bg={};function $i(i,o){Fs(i,o),Fs(i+"Capture",o)}function Fs(i,o){for(bg[i]=o,i=0;i<o.length;i++)yg.add(o[i])}var dS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vg={},Cg={};function hS(i){return Ne.call(Cg,i)?!0:Ne.call(vg,i)?!1:dS.test(i)?Cg[i]=!0:(vg[i]=!0,!1)}function Ka(i,o,u){if(hS(o))if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var f=o.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+u)}}function $a(i,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+u)}}function Er(i,o,u,f){if(f===null)i.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(o,u,""+f)}}var sd,Sg;function Ks(i){if(sd===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);sd=o&&o[1]||"",Sg=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+sd+i+Sg}var od=!1;function ld(i,o){if(!i||od)return"";od=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(o){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(_){var V=_}Reflect.construct(i,[],Y)}else{try{Y.call()}catch(_){V=_}i.call(Y.prototype)}}else{try{throw Error()}catch(_){V=_}(Y=i())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(_){if(_&&V&&typeof _.stack=="string")return[_.stack,V.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=f.DetermineComponentFrameRoot(),x=y[0],M=y[1];if(x&&M){var O=x.split(`
`),I=M.split(`
`);for(p=f=0;f<O.length&&!O[f].includes("DetermineComponentFrameRoot");)f++;for(;p<I.length&&!I[p].includes("DetermineComponentFrameRoot");)p++;if(f===O.length||p===I.length)for(f=O.length-1,p=I.length-1;1<=f&&0<=p&&O[f]!==I[p];)p--;for(;1<=f&&0<=p;f--,p--)if(O[f]!==I[p]){if(f!==1||p!==1)do if(f--,p--,0>p||O[f]!==I[p]){var K=`
`+O[f].replace(" at new "," at ");return i.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",i.displayName)),K}while(1<=f&&0<=p);break}}}finally{od=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?Ks(u):""}function pS(i){switch(i.tag){case 26:case 27:case 5:return Ks(i.type);case 16:return Ks("Lazy");case 13:return Ks("Suspense");case 19:return Ks("SuspenseList");case 0:case 15:return ld(i.type,!1);case 11:return ld(i.type.render,!1);case 1:return ld(i.type,!0);case 31:return Ks("Activity");default:return""}}function xg(i){try{var o="";do o+=pS(i),i=i.return;while(i);return o}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function jn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Eg(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function mS(i){var o=Eg(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),f=""+i[o];if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,y=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return p.call(this)},set:function(x){f=""+x,y.call(this,x)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(x){f=""+x},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Ga(i){i._valueTracker||(i._valueTracker=mS(i))}function wg(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),f="";return i&&(f=Eg(i)?i.checked?"true":"false":i.value),i=f,i!==u?(o.setValue(i),!0):!1}function Ya(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var gS=/[\n"\\]/g;function Vn(i){return i.replace(gS,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function ad(i,o,u,f,p,y,x,M){i.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?i.type=x:i.removeAttribute("type"),o!=null?x==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+jn(o)):i.value!==""+jn(o)&&(i.value=""+jn(o)):x!=="submit"&&x!=="reset"||i.removeAttribute("value"),o!=null?ud(i,x,jn(o)):u!=null?ud(i,x,jn(u)):f!=null&&i.removeAttribute("value"),p==null&&y!=null&&(i.defaultChecked=!!y),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?i.name=""+jn(M):i.removeAttribute("name")}function Mg(i,o,u,f,p,y,x,M){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),o!=null||u!=null){if(!(y!=="submit"&&y!=="reset"||o!=null))return;u=u!=null?""+jn(u):"",o=o!=null?""+jn(o):u,M||o===i.value||(i.value=o),i.defaultValue=o}f=f??p,f=typeof f!="function"&&typeof f!="symbol"&&!!f,i.checked=M?i.checked:!!f,i.defaultChecked=!!f,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(i.name=x)}function ud(i,o,u){o==="number"&&Ya(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function $s(i,o,u,f){if(i=i.options,o){o={};for(var p=0;p<u.length;p++)o["$"+u[p]]=!0;for(u=0;u<i.length;u++)p=o.hasOwnProperty("$"+i[u].value),i[u].selected!==p&&(i[u].selected=p),p&&f&&(i[u].defaultSelected=!0)}else{for(u=""+jn(u),o=null,p=0;p<i.length;p++){if(i[p].value===u){i[p].selected=!0,f&&(i[p].defaultSelected=!0);return}o!==null||i[p].disabled||(o=i[p])}o!==null&&(o.selected=!0)}}function Tg(i,o,u){if(o!=null&&(o=""+jn(o),o!==i.value&&(i.value=o),u==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=u!=null?""+jn(u):""}function Ag(i,o,u,f){if(o==null){if(f!=null){if(u!=null)throw Error(r(92));if($(f)){if(1<f.length)throw Error(r(93));f=f[0]}u=f}u==null&&(u=""),o=u}u=jn(o),i.defaultValue=u,f=i.textContent,f===u&&f!==""&&f!==null&&(i.value=f)}function Gs(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var yS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kg(i,o,u){var f=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":f?i.setProperty(o,u):typeof u!="number"||u===0||yS.has(o)?o==="float"?i.cssFloat=u:i[o]=(""+u).trim():i[o]=u+"px"}function Og(i,o,u){if(o!=null&&typeof o!="object")throw Error(r(62));if(i=i.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||o!=null&&o.hasOwnProperty(f)||(f.indexOf("--")===0?i.setProperty(f,""):f==="float"?i.cssFloat="":i[f]="");for(var p in o)f=o[p],o.hasOwnProperty(p)&&u[p]!==f&&kg(i,p,f)}else for(var y in o)o.hasOwnProperty(y)&&kg(i,y,o[y])}function cd(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Za(i){return vS.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var fd=null;function dd(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ys=null,Zs=null;function Rg(i){var o=qs(i);if(o&&(i=o.stateNode)){var u=i[yn]||null;e:switch(i=o.stateNode,o.type){case"input":if(ad(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Vn(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var f=u[o];if(f!==i&&f.form===i.form){var p=f[yn]||null;if(!p)throw Error(r(90));ad(f,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(o=0;o<u.length;o++)f=u[o],f.form===i.form&&wg(f)}break e;case"textarea":Tg(i,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&$s(i,!!u.multiple,o,!1)}}}var hd=!1;function Ng(i,o,u){if(hd)return i(o,u);hd=!0;try{var f=i(o);return f}finally{if(hd=!1,(Ys!==null||Zs!==null)&&(zu(),Ys&&(o=Ys,i=Zs,Zs=Ys=null,Rg(o),i)))for(o=0;o<i.length;o++)Rg(i[o])}}function tl(i,o){var u=i.stateNode;if(u===null)return null;var f=u[yn]||null;if(f===null)return null;u=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var wr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pd=!1;if(wr)try{var nl={};Object.defineProperty(nl,"passive",{get:function(){pd=!0}}),window.addEventListener("test",nl,nl),window.removeEventListener("test",nl,nl)}catch{pd=!1}var Qr=null,md=null,Ja=null;function Dg(){if(Ja)return Ja;var i,o=md,u=o.length,f,p="value"in Qr?Qr.value:Qr.textContent,y=p.length;for(i=0;i<u&&o[i]===p[i];i++);var x=u-i;for(f=1;f<=x&&o[u-f]===p[y-f];f++);return Ja=p.slice(i,1<f?1-f:void 0)}function Qa(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Xa(){return!0}function Lg(){return!1}function bn(i){function o(u,f,p,y,x){this._reactName=u,this._targetInst=p,this.type=f,this.nativeEvent=y,this.target=x,this.currentTarget=null;for(var M in i)i.hasOwnProperty(M)&&(u=i[M],this[M]=u?u(y):y[M]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Xa:Lg,this.isPropagationStopped=Lg,this}return m(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Xa)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Xa)},persist:function(){},isPersistent:Xa}),o}var Gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wa=bn(Gi),rl=m({},Gi,{view:0,detail:0}),CS=bn(rl),gd,yd,il,eu=m({},rl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vd,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==il&&(il&&i.type==="mousemove"?(gd=i.screenX-il.screenX,yd=i.screenY-il.screenY):yd=gd=0,il=i),gd)},movementY:function(i){return"movementY"in i?i.movementY:yd}}),zg=bn(eu),SS=m({},eu,{dataTransfer:0}),xS=bn(SS),ES=m({},rl,{relatedTarget:0}),bd=bn(ES),wS=m({},Gi,{animationName:0,elapsedTime:0,pseudoElement:0}),MS=bn(wS),TS=m({},Gi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),AS=bn(TS),kS=m({},Gi,{data:0}),Hg=bn(kS),OS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},RS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},NS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function DS(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=NS[i])?!!o[i]:!1}function vd(){return DS}var LS=m({},rl,{key:function(i){if(i.key){var o=OS[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Qa(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?RS[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vd,charCode:function(i){return i.type==="keypress"?Qa(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Qa(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),zS=bn(LS),HS=m({},eu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bg=bn(HS),BS=m({},rl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vd}),IS=bn(BS),jS=m({},Gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),VS=bn(jS),_S=m({},eu,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),US=bn(_S),qS=m({},Gi,{newState:0,oldState:0}),PS=bn(qS),FS=[9,13,27,32],Cd=wr&&"CompositionEvent"in window,sl=null;wr&&"documentMode"in document&&(sl=document.documentMode);var KS=wr&&"TextEvent"in window&&!sl,Ig=wr&&(!Cd||sl&&8<sl&&11>=sl),jg=" ",Vg=!1;function _g(i,o){switch(i){case"keyup":return FS.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ug(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Js=!1;function $S(i,o){switch(i){case"compositionend":return Ug(o);case"keypress":return o.which!==32?null:(Vg=!0,jg);case"textInput":return i=o.data,i===jg&&Vg?null:i;default:return null}}function GS(i,o){if(Js)return i==="compositionend"||!Cd&&_g(i,o)?(i=Dg(),Ja=md=Qr=null,Js=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Ig&&o.locale!=="ko"?null:o.data;default:return null}}var YS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qg(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!YS[i.type]:o==="textarea"}function Pg(i,o,u,f){Ys?Zs?Zs.push(f):Zs=[f]:Ys=f,o=_u(o,"onChange"),0<o.length&&(u=new Wa("onChange","change",null,u,f),i.push({event:u,listeners:o}))}var ol=null,ll=null;function ZS(i){Ey(i,0)}function tu(i){var o=el(i);if(wg(o))return i}function Fg(i,o){if(i==="change")return o}var Kg=!1;if(wr){var Sd;if(wr){var xd="oninput"in document;if(!xd){var $g=document.createElement("div");$g.setAttribute("oninput","return;"),xd=typeof $g.oninput=="function"}Sd=xd}else Sd=!1;Kg=Sd&&(!document.documentMode||9<document.documentMode)}function Gg(){ol&&(ol.detachEvent("onpropertychange",Yg),ll=ol=null)}function Yg(i){if(i.propertyName==="value"&&tu(ll)){var o=[];Pg(o,ll,i,dd(i)),Ng(ZS,o)}}function JS(i,o,u){i==="focusin"?(Gg(),ol=o,ll=u,ol.attachEvent("onpropertychange",Yg)):i==="focusout"&&Gg()}function QS(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return tu(ll)}function XS(i,o){if(i==="click")return tu(o)}function WS(i,o){if(i==="input"||i==="change")return tu(o)}function e5(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var kn=typeof Object.is=="function"?Object.is:e5;function al(i,o){if(kn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),f=Object.keys(o);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var p=u[f];if(!Ne.call(o,p)||!kn(i[p],o[p]))return!1}return!0}function Zg(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Jg(i,o){var u=Zg(i);i=0;for(var f;u;){if(u.nodeType===3){if(f=i+u.textContent.length,i<=o&&f>=o)return{node:u,offset:o-i};i=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Zg(u)}}function Qg(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Qg(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Xg(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=Ya(i.document);o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=Ya(i.document)}return o}function Ed(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var t5=wr&&"documentMode"in document&&11>=document.documentMode,Qs=null,wd=null,ul=null,Md=!1;function Wg(i,o,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Md||Qs==null||Qs!==Ya(f)||(f=Qs,"selectionStart"in f&&Ed(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),ul&&al(ul,f)||(ul=f,f=_u(wd,"onSelect"),0<f.length&&(o=new Wa("onSelect","select",null,o,u),i.push({event:o,listeners:f}),o.target=Qs)))}function Yi(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var Xs={animationend:Yi("Animation","AnimationEnd"),animationiteration:Yi("Animation","AnimationIteration"),animationstart:Yi("Animation","AnimationStart"),transitionrun:Yi("Transition","TransitionRun"),transitionstart:Yi("Transition","TransitionStart"),transitioncancel:Yi("Transition","TransitionCancel"),transitionend:Yi("Transition","TransitionEnd")},Td={},e0={};wr&&(e0=document.createElement("div").style,"AnimationEvent"in window||(delete Xs.animationend.animation,delete Xs.animationiteration.animation,delete Xs.animationstart.animation),"TransitionEvent"in window||delete Xs.transitionend.transition);function Zi(i){if(Td[i])return Td[i];if(!Xs[i])return i;var o=Xs[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in e0)return Td[i]=o[u];return i}var t0=Zi("animationend"),n0=Zi("animationiteration"),r0=Zi("animationstart"),n5=Zi("transitionrun"),r5=Zi("transitionstart"),i5=Zi("transitioncancel"),i0=Zi("transitionend"),s0=new Map,Ad="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ad.push("scrollEnd");function er(i,o){s0.set(i,o),$i(o,[i])}var o0=new WeakMap;function _n(i,o){if(typeof i=="object"&&i!==null){var u=o0.get(i);return u!==void 0?u:(o={value:i,source:o,stack:xg(o)},o0.set(i,o),o)}return{value:i,source:o,stack:xg(o)}}var Un=[],Ws=0,kd=0;function nu(){for(var i=Ws,o=kd=Ws=0;o<i;){var u=Un[o];Un[o++]=null;var f=Un[o];Un[o++]=null;var p=Un[o];Un[o++]=null;var y=Un[o];if(Un[o++]=null,f!==null&&p!==null){var x=f.pending;x===null?p.next=p:(p.next=x.next,x.next=p),f.pending=p}y!==0&&l0(u,p,y)}}function ru(i,o,u,f){Un[Ws++]=i,Un[Ws++]=o,Un[Ws++]=u,Un[Ws++]=f,kd|=f,i.lanes|=f,i=i.alternate,i!==null&&(i.lanes|=f)}function Od(i,o,u,f){return ru(i,o,u,f),iu(i)}function eo(i,o){return ru(i,null,null,o),iu(i)}function l0(i,o,u){i.lanes|=u;var f=i.alternate;f!==null&&(f.lanes|=u);for(var p=!1,y=i.return;y!==null;)y.childLanes|=u,f=y.alternate,f!==null&&(f.childLanes|=u),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(p=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,p&&o!==null&&(p=31-Ot(u),i=y.hiddenUpdates,f=i[p],f===null?i[p]=[o]:f.push(o),o.lane=u|536870912),y):null}function iu(i){if(50<zl)throw zl=0,Hh=null,Error(r(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var to={};function s5(i,o,u,f){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(i,o,u,f){return new s5(i,o,u,f)}function Rd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Mr(i,o){var u=i.alternate;return u===null?(u=On(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function a0(i,o){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,o=u.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function su(i,o,u,f,p,y){var x=0;if(f=i,typeof i=="function")Rd(i)&&(x=1);else if(typeof i=="string")x=lx(i,u,ie.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case le:return i=On(31,u,o,p),i.elementType=le,i.lanes=y,i;case C:return Ji(u.children,p,y,o);case S:x=8,p|=24;break;case w:return i=On(12,u,o,p|2),i.elementType=w,i.lanes=y,i;case j:return i=On(13,u,o,p),i.elementType=j,i.lanes=y,i;case Q:return i=On(19,u,o,p),i.elementType=Q,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case A:case D:x=10;break e;case R:x=9;break e;case P:x=11;break e;case te:x=14;break e;case X:x=16,f=null;break e}x=29,u=Error(r(130,i===null?"null":typeof i,"")),f=null}return o=On(x,u,o,p),o.elementType=i,o.type=f,o.lanes=y,o}function Ji(i,o,u,f){return i=On(7,i,f,o),i.lanes=u,i}function Nd(i,o,u){return i=On(6,i,null,o),i.lanes=u,i}function Dd(i,o,u){return o=On(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var no=[],ro=0,ou=null,lu=0,qn=[],Pn=0,Qi=null,Tr=1,Ar="";function Xi(i,o){no[ro++]=lu,no[ro++]=ou,ou=i,lu=o}function u0(i,o,u){qn[Pn++]=Tr,qn[Pn++]=Ar,qn[Pn++]=Qi,Qi=i;var f=Tr;i=Ar;var p=32-Ot(f)-1;f&=~(1<<p),u+=1;var y=32-Ot(o)+p;if(30<y){var x=p-p%5;y=(f&(1<<x)-1).toString(32),f>>=x,p-=x,Tr=1<<32-Ot(o)+p|u<<p|f,Ar=y+i}else Tr=1<<y|u<<p|f,Ar=i}function Ld(i){i.return!==null&&(Xi(i,1),u0(i,1,0))}function zd(i){for(;i===ou;)ou=no[--ro],no[ro]=null,lu=no[--ro],no[ro]=null;for(;i===Qi;)Qi=qn[--Pn],qn[Pn]=null,Ar=qn[--Pn],qn[Pn]=null,Tr=qn[--Pn],qn[Pn]=null}var rn=null,ut=null,Ve=!1,Wi=null,lr=!1,Hd=Error(r(519));function es(i){var o=Error(r(418,""));throw dl(_n(o,i)),Hd}function c0(i){var o=i.stateNode,u=i.type,f=i.memoizedProps;switch(o[Zt]=i,o[yn]=f,u){case"dialog":Le("cancel",o),Le("close",o);break;case"iframe":case"object":case"embed":Le("load",o);break;case"video":case"audio":for(u=0;u<Bl.length;u++)Le(Bl[u],o);break;case"source":Le("error",o);break;case"img":case"image":case"link":Le("error",o),Le("load",o);break;case"details":Le("toggle",o);break;case"input":Le("invalid",o),Mg(o,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),Ga(o);break;case"select":Le("invalid",o);break;case"textarea":Le("invalid",o),Ag(o,f.value,f.defaultValue,f.children),Ga(o)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||f.suppressHydrationWarning===!0||Ay(o.textContent,u)?(f.popover!=null&&(Le("beforetoggle",o),Le("toggle",o)),f.onScroll!=null&&Le("scroll",o),f.onScrollEnd!=null&&Le("scrollend",o),f.onClick!=null&&(o.onclick=Uu),o=!0):o=!1,o||es(i)}function f0(i){for(rn=i.return;rn;)switch(rn.tag){case 5:case 13:lr=!1;return;case 27:case 3:lr=!0;return;default:rn=rn.return}}function cl(i){if(i!==rn)return!1;if(!Ve)return f0(i),Ve=!0,!1;var o=i.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||Qh(i.type,i.memoizedProps)),u=!u),u&&ut&&es(i),f0(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8)if(u=i.data,u==="/$"){if(o===0){ut=nr(i.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++;i=i.nextSibling}ut=null}}else o===27?(o=ut,hi(i.type)?(i=tp,tp=null,ut=i):ut=o):ut=rn?nr(i.stateNode.nextSibling):null;return!0}function fl(){ut=rn=null,Ve=!1}function d0(){var i=Wi;return i!==null&&(Sn===null?Sn=i:Sn.push.apply(Sn,i),Wi=null),i}function dl(i){Wi===null?Wi=[i]:Wi.push(i)}var Bd=F(null),ts=null,kr=null;function Xr(i,o,u){J(Bd,o._currentValue),o._currentValue=u}function Or(i){i._currentValue=Bd.current,q(Bd)}function Id(i,o,u){for(;i!==null;){var f=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),i===u)break;i=i.return}}function jd(i,o,u,f){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var y=p.dependencies;if(y!==null){var x=p.child;y=y.firstContext;e:for(;y!==null;){var M=y;y=p;for(var O=0;O<o.length;O++)if(M.context===o[O]){y.lanes|=u,M=y.alternate,M!==null&&(M.lanes|=u),Id(y.return,u,i),f||(x=null);break e}y=M.next}}else if(p.tag===18){if(x=p.return,x===null)throw Error(r(341));x.lanes|=u,y=x.alternate,y!==null&&(y.lanes|=u),Id(x,u,i),x=null}else x=p.child;if(x!==null)x.return=p;else for(x=p;x!==null;){if(x===i){x=null;break}if(p=x.sibling,p!==null){p.return=x.return,x=p;break}x=x.return}p=x}}function hl(i,o,u,f){i=null;for(var p=o,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var x=p.alternate;if(x===null)throw Error(r(387));if(x=x.memoizedProps,x!==null){var M=p.type;kn(p.pendingProps.value,x.value)||(i!==null?i.push(M):i=[M])}}else if(p===qe.current){if(x=p.alternate,x===null)throw Error(r(387));x.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(ql):i=[ql])}p=p.return}i!==null&&jd(o,i,u,f),o.flags|=262144}function au(i){for(i=i.firstContext;i!==null;){if(!kn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ns(i){ts=i,kr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Jt(i){return h0(ts,i)}function uu(i,o){return ts===null&&ns(i),h0(i,o)}function h0(i,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},kr===null){if(i===null)throw Error(r(308));kr=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else kr=kr.next=o;return u}var o5=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(u,f){i.push(f)}};this.abort=function(){o.aborted=!0,i.forEach(function(u){return u()})}},l5=n.unstable_scheduleCallback,a5=n.unstable_NormalPriority,Mt={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vd(){return{controller:new o5,data:new Map,refCount:0}}function pl(i){i.refCount--,i.refCount===0&&l5(a5,function(){i.controller.abort()})}var ml=null,_d=0,io=0,so=null;function u5(i,o){if(ml===null){var u=ml=[];_d=0,io=qh(),so={status:"pending",value:void 0,then:function(f){u.push(f)}}}return _d++,o.then(p0,p0),o}function p0(){if(--_d===0&&ml!==null){so!==null&&(so.status="fulfilled");var i=ml;ml=null,io=0,so=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function c5(i,o){var u=[],f={status:"pending",value:null,reason:null,then:function(p){u.push(p)}};return i.then(function(){f.status="fulfilled",f.value=o;for(var p=0;p<u.length;p++)(0,u[p])(o)},function(p){for(f.status="rejected",f.reason=p,p=0;p<u.length;p++)(0,u[p])(void 0)}),f}var m0=z.S;z.S=function(i,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&u5(i,o),m0!==null&&m0(i,o)};var rs=F(null);function Ud(){var i=rs.current;return i!==null?i:We.pooledCache}function cu(i,o){o===null?J(rs,rs.current):J(rs,o.pool)}function g0(){var i=Ud();return i===null?null:{parent:Mt._currentValue,pool:i}}var gl=Error(r(460)),y0=Error(r(474)),fu=Error(r(542)),qd={then:function(){}};function b0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function du(){}function v0(i,o,u){switch(u=i[u],u===void 0?i.push(o):u!==o&&(o.then(du,du),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,S0(i),i;default:if(typeof o.status=="string")o.then(du,du);else{if(i=We,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=o,i.status="pending",i.then(function(f){if(o.status==="pending"){var p=o;p.status="fulfilled",p.value=f}},function(f){if(o.status==="pending"){var p=o;p.status="rejected",p.reason=f}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,S0(i),i}throw yl=o,gl}}var yl=null;function C0(){if(yl===null)throw Error(r(459));var i=yl;return yl=null,i}function S0(i){if(i===gl||i===fu)throw Error(r(483))}var Wr=!1;function Pd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fd(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ei(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ti(i,o,u){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(Pe&2)!==0){var p=f.pending;return p===null?o.next=o:(o.next=p.next,p.next=o),f.pending=o,o=iu(i),l0(i,null,u),o}return ru(i,f,o,u),iu(i)}function bl(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var f=o.lanes;f&=i.pendingLanes,u|=f,o.lanes=u,pg(i,u)}}function Kd(i,o){var u=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var p=null,y=null;if(u=u.firstBaseUpdate,u!==null){do{var x={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};y===null?p=y=x:y=y.next=x,u=u.next}while(u!==null);y===null?p=y=o:y=y.next=o}else p=y=o;u={baseState:f.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:f.shared,callbacks:f.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}var $d=!1;function vl(){if($d){var i=so;if(i!==null)throw i}}function Cl(i,o,u,f){$d=!1;var p=i.updateQueue;Wr=!1;var y=p.firstBaseUpdate,x=p.lastBaseUpdate,M=p.shared.pending;if(M!==null){p.shared.pending=null;var O=M,I=O.next;O.next=null,x===null?y=I:x.next=I,x=O;var K=i.alternate;K!==null&&(K=K.updateQueue,M=K.lastBaseUpdate,M!==x&&(M===null?K.firstBaseUpdate=I:M.next=I,K.lastBaseUpdate=O))}if(y!==null){var Y=p.baseState;x=0,K=I=O=null,M=y;do{var V=M.lane&-536870913,_=V!==M.lane;if(_?(Be&V)===V:(f&V)===V){V!==0&&V===io&&($d=!0),K!==null&&(K=K.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var be=i,pe=M;V=o;var Ge=u;switch(pe.tag){case 1:if(be=pe.payload,typeof be=="function"){Y=be.call(Ge,Y,V);break e}Y=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=pe.payload,V=typeof be=="function"?be.call(Ge,Y,V):be,V==null)break e;Y=m({},Y,V);break e;case 2:Wr=!0}}V=M.callback,V!==null&&(i.flags|=64,_&&(i.flags|=8192),_=p.callbacks,_===null?p.callbacks=[V]:_.push(V))}else _={lane:V,tag:M.tag,payload:M.payload,callback:M.callback,next:null},K===null?(I=K=_,O=Y):K=K.next=_,x|=V;if(M=M.next,M===null){if(M=p.shared.pending,M===null)break;_=M,M=_.next,_.next=null,p.lastBaseUpdate=_,p.shared.pending=null}}while(!0);K===null&&(O=Y),p.baseState=O,p.firstBaseUpdate=I,p.lastBaseUpdate=K,y===null&&(p.shared.lanes=0),ui|=x,i.lanes=x,i.memoizedState=Y}}function x0(i,o){if(typeof i!="function")throw Error(r(191,i));i.call(o)}function E0(i,o){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)x0(u[i],o)}var oo=F(null),hu=F(0);function w0(i,o){i=Br,J(hu,i),J(oo,o),Br=i|o.baseLanes}function Gd(){J(hu,Br),J(oo,oo.current)}function Yd(){Br=hu.current,q(oo),q(hu)}var ni=0,ke=null,Ke=null,xt=null,pu=!1,lo=!1,is=!1,mu=0,Sl=0,ao=null,f5=0;function gt(){throw Error(r(321))}function Zd(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!kn(i[u],o[u]))return!1;return!0}function Jd(i,o,u,f,p,y){return ni=y,ke=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,z.H=i===null||i.memoizedState===null?l2:a2,is=!1,y=u(f,p),is=!1,lo&&(y=T0(o,u,f,p)),M0(i),y}function M0(i){z.H=Su;var o=Ke!==null&&Ke.next!==null;if(ni=0,xt=Ke=ke=null,pu=!1,Sl=0,ao=null,o)throw Error(r(300));i===null||Nt||(i=i.dependencies,i!==null&&au(i)&&(Nt=!0))}function T0(i,o,u,f){ke=i;var p=0;do{if(lo&&(ao=null),Sl=0,lo=!1,25<=p)throw Error(r(301));if(p+=1,xt=Ke=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}z.H=b5,y=o(u,f)}while(lo);return y}function d5(){var i=z.H,o=i.useState()[0];return o=typeof o.then=="function"?xl(o):o,i=i.useState()[0],(Ke!==null?Ke.memoizedState:null)!==i&&(ke.flags|=1024),o}function Qd(){var i=mu!==0;return mu=0,i}function Xd(i,o,u){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~u}function Wd(i){if(pu){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}pu=!1}ni=0,xt=Ke=ke=null,lo=!1,Sl=mu=0,ao=null}function vn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?ke.memoizedState=xt=i:xt=xt.next=i,xt}function Et(){if(Ke===null){var i=ke.alternate;i=i!==null?i.memoizedState:null}else i=Ke.next;var o=xt===null?ke.memoizedState:xt.next;if(o!==null)xt=o,Ke=i;else{if(i===null)throw ke.alternate===null?Error(r(467)):Error(r(310));Ke=i,i={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},xt===null?ke.memoizedState=xt=i:xt=xt.next=i}return xt}function eh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xl(i){var o=Sl;return Sl+=1,ao===null&&(ao=[]),i=v0(ao,i,o),o=ke,(xt===null?o.memoizedState:xt.next)===null&&(o=o.alternate,z.H=o===null||o.memoizedState===null?l2:a2),i}function gu(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return xl(i);if(i.$$typeof===D)return Jt(i)}throw Error(r(438,String(i)))}function th(i){var o=null,u=ke.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var f=ke.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(o={data:f.data.map(function(p){return p.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=eh(),ke.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(i),f=0;f<i;f++)u[f]=ne;return o.index++,u}function Rr(i,o){return typeof o=="function"?o(i):o}function yu(i){var o=Et();return nh(o,Ke,i)}function nh(i,o,u){var f=i.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=u;var p=i.baseQueue,y=f.pending;if(y!==null){if(p!==null){var x=p.next;p.next=y.next,y.next=x}o.baseQueue=p=y,f.pending=null}if(y=i.baseState,p===null)i.memoizedState=y;else{o=p.next;var M=x=null,O=null,I=o,K=!1;do{var Y=I.lane&-536870913;if(Y!==I.lane?(Be&Y)===Y:(ni&Y)===Y){var V=I.revertLane;if(V===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),Y===io&&(K=!0);else if((ni&V)===V){I=I.next,V===io&&(K=!0);continue}else Y={lane:0,revertLane:I.revertLane,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},O===null?(M=O=Y,x=y):O=O.next=Y,ke.lanes|=V,ui|=V;Y=I.action,is&&u(y,Y),y=I.hasEagerState?I.eagerState:u(y,Y)}else V={lane:Y,revertLane:I.revertLane,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},O===null?(M=O=V,x=y):O=O.next=V,ke.lanes|=Y,ui|=Y;I=I.next}while(I!==null&&I!==o);if(O===null?x=y:O.next=M,!kn(y,i.memoizedState)&&(Nt=!0,K&&(u=so,u!==null)))throw u;i.memoizedState=y,i.baseState=x,i.baseQueue=O,f.lastRenderedState=y}return p===null&&(f.lanes=0),[i.memoizedState,f.dispatch]}function rh(i){var o=Et(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=i;var f=u.dispatch,p=u.pending,y=o.memoizedState;if(p!==null){u.pending=null;var x=p=p.next;do y=i(y,x.action),x=x.next;while(x!==p);kn(y,o.memoizedState)||(Nt=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),u.lastRenderedState=y}return[y,f]}function A0(i,o,u){var f=ke,p=Et(),y=Ve;if(y){if(u===void 0)throw Error(r(407));u=u()}else u=o();var x=!kn((Ke||p).memoizedState,u);x&&(p.memoizedState=u,Nt=!0),p=p.queue;var M=R0.bind(null,f,p,i);if(El(2048,8,M,[i]),p.getSnapshot!==o||x||xt!==null&&xt.memoizedState.tag&1){if(f.flags|=2048,uo(9,bu(),O0.bind(null,f,p,u,o),null),We===null)throw Error(r(349));y||(ni&124)!==0||k0(f,o,u)}return u}function k0(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=ke.updateQueue,o===null?(o=eh(),ke.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function O0(i,o,u,f){o.value=u,o.getSnapshot=f,N0(o)&&D0(i)}function R0(i,o,u){return u(function(){N0(o)&&D0(i)})}function N0(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!kn(i,u)}catch{return!0}}function D0(i){var o=eo(i,2);o!==null&&zn(o,i,2)}function ih(i){var o=vn();if(typeof i=="function"){var u=i;if(i=u(),is){pn(!0);try{u()}finally{pn(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rr,lastRenderedState:i},o}function L0(i,o,u,f){return i.baseState=u,nh(i,Ke,typeof f=="function"?f:Rr)}function h5(i,o,u,f,p){if(Cu(i))throw Error(r(485));if(i=o.action,i!==null){var y={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){y.listeners.push(x)}};z.T!==null?u(!0):y.isTransition=!1,f(y),u=o.pending,u===null?(y.next=o.pending=y,z0(o,y)):(y.next=u.next,o.pending=u.next=y)}}function z0(i,o){var u=o.action,f=o.payload,p=i.state;if(o.isTransition){var y=z.T,x={};z.T=x;try{var M=u(p,f),O=z.S;O!==null&&O(x,M),H0(i,o,M)}catch(I){sh(i,o,I)}finally{z.T=y}}else try{y=u(p,f),H0(i,o,y)}catch(I){sh(i,o,I)}}function H0(i,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){B0(i,o,f)},function(f){return sh(i,o,f)}):B0(i,o,u)}function B0(i,o,u){o.status="fulfilled",o.value=u,I0(o),i.state=u,o=i.pending,o!==null&&(u=o.next,u===o?i.pending=null:(u=u.next,o.next=u,z0(i,u)))}function sh(i,o,u){var f=i.pending;if(i.pending=null,f!==null){f=f.next;do o.status="rejected",o.reason=u,I0(o),o=o.next;while(o!==f)}i.action=null}function I0(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function j0(i,o){return o}function V0(i,o){if(Ve){var u=We.formState;if(u!==null){e:{var f=ke;if(Ve){if(ut){t:{for(var p=ut,y=lr;p.nodeType!==8;){if(!y){p=null;break t}if(p=nr(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){ut=nr(p.nextSibling),f=p.data==="F!";break e}}es(f)}f=!1}f&&(o=u[0])}}return u=vn(),u.memoizedState=u.baseState=o,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:j0,lastRenderedState:o},u.queue=f,u=i2.bind(null,ke,f),f.dispatch=u,f=ih(!1),y=ch.bind(null,ke,!1,f.queue),f=vn(),p={state:o,dispatch:null,action:i,pending:null},f.queue=p,u=h5.bind(null,ke,p,y,u),p.dispatch=u,f.memoizedState=i,[o,u,!1]}function _0(i){var o=Et();return U0(o,Ke,i)}function U0(i,o,u){if(o=nh(i,o,j0)[0],i=yu(Rr)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var f=xl(o)}catch(x){throw x===gl?fu:x}else f=o;o=Et();var p=o.queue,y=p.dispatch;return u!==o.memoizedState&&(ke.flags|=2048,uo(9,bu(),p5.bind(null,p,u),null)),[f,y,i]}function p5(i,o){i.action=o}function q0(i){var o=Et(),u=Ke;if(u!==null)return U0(o,u,i);Et(),o=o.memoizedState,u=Et();var f=u.queue.dispatch;return u.memoizedState=i,[o,f,!1]}function uo(i,o,u,f){return i={tag:i,create:u,deps:f,inst:o,next:null},o=ke.updateQueue,o===null&&(o=eh(),ke.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=i.next=i:(f=u.next,u.next=i,i.next=f,o.lastEffect=i),i}function bu(){return{destroy:void 0,resource:void 0}}function P0(){return Et().memoizedState}function vu(i,o,u,f){var p=vn();f=f===void 0?null:f,ke.flags|=i,p.memoizedState=uo(1|o,bu(),u,f)}function El(i,o,u,f){var p=Et();f=f===void 0?null:f;var y=p.memoizedState.inst;Ke!==null&&f!==null&&Zd(f,Ke.memoizedState.deps)?p.memoizedState=uo(o,y,u,f):(ke.flags|=i,p.memoizedState=uo(1|o,y,u,f))}function F0(i,o){vu(8390656,8,i,o)}function K0(i,o){El(2048,8,i,o)}function $0(i,o){return El(4,2,i,o)}function G0(i,o){return El(4,4,i,o)}function Y0(i,o){if(typeof o=="function"){i=i();var u=o(i);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function Z0(i,o,u){u=u!=null?u.concat([i]):null,El(4,4,Y0.bind(null,o,i),u)}function oh(){}function J0(i,o){var u=Et();o=o===void 0?null:o;var f=u.memoizedState;return o!==null&&Zd(o,f[1])?f[0]:(u.memoizedState=[i,o],i)}function Q0(i,o){var u=Et();o=o===void 0?null:o;var f=u.memoizedState;if(o!==null&&Zd(o,f[1]))return f[0];if(f=i(),is){pn(!0);try{i()}finally{pn(!1)}}return u.memoizedState=[f,o],f}function lh(i,o,u){return u===void 0||(ni&1073741824)!==0?i.memoizedState=o:(i.memoizedState=u,i=ey(),ke.lanes|=i,ui|=i,u)}function X0(i,o,u,f){return kn(u,o)?u:oo.current!==null?(i=lh(i,u,f),kn(i,o)||(Nt=!0),i):(ni&42)===0?(Nt=!0,i.memoizedState=u):(i=ey(),ke.lanes|=i,ui|=i,o)}function W0(i,o,u,f,p){var y=U.p;U.p=y!==0&&8>y?y:8;var x=z.T,M={};z.T=M,ch(i,!1,o,u);try{var O=p(),I=z.S;if(I!==null&&I(M,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var K=c5(O,f);wl(i,o,K,Ln(i))}else wl(i,o,f,Ln(i))}catch(Y){wl(i,o,{then:function(){},status:"rejected",reason:Y},Ln())}finally{U.p=y,z.T=x}}function m5(){}function ah(i,o,u,f){if(i.tag!==5)throw Error(r(476));var p=e2(i).queue;W0(i,p,o,H,u===null?m5:function(){return t2(i),u(f)})}function e2(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rr,lastRenderedState:H},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rr,lastRenderedState:u},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function t2(i){var o=e2(i).next.queue;wl(i,o,{},Ln())}function uh(){return Jt(ql)}function n2(){return Et().memoizedState}function r2(){return Et().memoizedState}function g5(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var u=Ln();i=ei(u);var f=ti(o,i,u);f!==null&&(zn(f,o,u),bl(f,o,u)),o={cache:Vd()},i.payload=o;return}o=o.return}}function y5(i,o,u){var f=Ln();u={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Cu(i)?s2(o,u):(u=Od(i,o,u,f),u!==null&&(zn(u,i,f),o2(u,o,f)))}function i2(i,o,u){var f=Ln();wl(i,o,u,f)}function wl(i,o,u,f){var p={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Cu(i))s2(o,p);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var x=o.lastRenderedState,M=y(x,u);if(p.hasEagerState=!0,p.eagerState=M,kn(M,x))return ru(i,o,p,0),We===null&&nu(),!1}catch{}finally{}if(u=Od(i,o,p,f),u!==null)return zn(u,i,f),o2(u,o,f),!0}return!1}function ch(i,o,u,f){if(f={lane:2,revertLane:qh(),action:f,hasEagerState:!1,eagerState:null,next:null},Cu(i)){if(o)throw Error(r(479))}else o=Od(i,u,f,2),o!==null&&zn(o,i,2)}function Cu(i){var o=i.alternate;return i===ke||o!==null&&o===ke}function s2(i,o){lo=pu=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function o2(i,o,u){if((u&4194048)!==0){var f=o.lanes;f&=i.pendingLanes,u|=f,o.lanes=u,pg(i,u)}}var Su={readContext:Jt,use:gu,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt},l2={readContext:Jt,use:gu,useCallback:function(i,o){return vn().memoizedState=[i,o===void 0?null:o],i},useContext:Jt,useEffect:F0,useImperativeHandle:function(i,o,u){u=u!=null?u.concat([i]):null,vu(4194308,4,Y0.bind(null,o,i),u)},useLayoutEffect:function(i,o){return vu(4194308,4,i,o)},useInsertionEffect:function(i,o){vu(4,2,i,o)},useMemo:function(i,o){var u=vn();o=o===void 0?null:o;var f=i();if(is){pn(!0);try{i()}finally{pn(!1)}}return u.memoizedState=[f,o],f},useReducer:function(i,o,u){var f=vn();if(u!==void 0){var p=u(o);if(is){pn(!0);try{u(o)}finally{pn(!1)}}}else p=o;return f.memoizedState=f.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},f.queue=i,i=i.dispatch=y5.bind(null,ke,i),[f.memoizedState,i]},useRef:function(i){var o=vn();return i={current:i},o.memoizedState=i},useState:function(i){i=ih(i);var o=i.queue,u=i2.bind(null,ke,o);return o.dispatch=u,[i.memoizedState,u]},useDebugValue:oh,useDeferredValue:function(i,o){var u=vn();return lh(u,i,o)},useTransition:function(){var i=ih(!1);return i=W0.bind(null,ke,i.queue,!0,!1),vn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,u){var f=ke,p=vn();if(Ve){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),We===null)throw Error(r(349));(Be&124)!==0||k0(f,o,u)}p.memoizedState=u;var y={value:u,getSnapshot:o};return p.queue=y,F0(R0.bind(null,f,y,i),[i]),f.flags|=2048,uo(9,bu(),O0.bind(null,f,y,u,o),null),u},useId:function(){var i=vn(),o=We.identifierPrefix;if(Ve){var u=Ar,f=Tr;u=(f&~(1<<32-Ot(f)-1)).toString(32)+u,o="«"+o+"R"+u,u=mu++,0<u&&(o+="H"+u.toString(32)),o+="»"}else u=f5++,o="«"+o+"r"+u.toString(32)+"»";return i.memoizedState=o},useHostTransitionStatus:uh,useFormState:V0,useActionState:V0,useOptimistic:function(i){var o=vn();o.memoizedState=o.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=ch.bind(null,ke,!0,u),u.dispatch=o,[i,o]},useMemoCache:th,useCacheRefresh:function(){return vn().memoizedState=g5.bind(null,ke)}},a2={readContext:Jt,use:gu,useCallback:J0,useContext:Jt,useEffect:K0,useImperativeHandle:Z0,useInsertionEffect:$0,useLayoutEffect:G0,useMemo:Q0,useReducer:yu,useRef:P0,useState:function(){return yu(Rr)},useDebugValue:oh,useDeferredValue:function(i,o){var u=Et();return X0(u,Ke.memoizedState,i,o)},useTransition:function(){var i=yu(Rr)[0],o=Et().memoizedState;return[typeof i=="boolean"?i:xl(i),o]},useSyncExternalStore:A0,useId:n2,useHostTransitionStatus:uh,useFormState:_0,useActionState:_0,useOptimistic:function(i,o){var u=Et();return L0(u,Ke,i,o)},useMemoCache:th,useCacheRefresh:r2},b5={readContext:Jt,use:gu,useCallback:J0,useContext:Jt,useEffect:K0,useImperativeHandle:Z0,useInsertionEffect:$0,useLayoutEffect:G0,useMemo:Q0,useReducer:rh,useRef:P0,useState:function(){return rh(Rr)},useDebugValue:oh,useDeferredValue:function(i,o){var u=Et();return Ke===null?lh(u,i,o):X0(u,Ke.memoizedState,i,o)},useTransition:function(){var i=rh(Rr)[0],o=Et().memoizedState;return[typeof i=="boolean"?i:xl(i),o]},useSyncExternalStore:A0,useId:n2,useHostTransitionStatus:uh,useFormState:q0,useActionState:q0,useOptimistic:function(i,o){var u=Et();return Ke!==null?L0(u,Ke,i,o):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:th,useCacheRefresh:r2},co=null,Ml=0;function xu(i){var o=Ml;return Ml+=1,co===null&&(co=[]),v0(co,i,o)}function Tl(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function Eu(i,o){throw o.$$typeof===g?Error(r(525)):(i=Object.prototype.toString.call(o),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function u2(i){var o=i._init;return o(i._payload)}function c2(i){function o(L,N){if(i){var B=L.deletions;B===null?(L.deletions=[N],L.flags|=16):B.push(N)}}function u(L,N){if(!i)return null;for(;N!==null;)o(L,N),N=N.sibling;return null}function f(L){for(var N=new Map;L!==null;)L.key!==null?N.set(L.key,L):N.set(L.index,L),L=L.sibling;return N}function p(L,N){return L=Mr(L,N),L.index=0,L.sibling=null,L}function y(L,N,B){return L.index=B,i?(B=L.alternate,B!==null?(B=B.index,B<N?(L.flags|=67108866,N):B):(L.flags|=67108866,N)):(L.flags|=1048576,N)}function x(L){return i&&L.alternate===null&&(L.flags|=67108866),L}function M(L,N,B,G){return N===null||N.tag!==6?(N=Nd(B,L.mode,G),N.return=L,N):(N=p(N,B),N.return=L,N)}function O(L,N,B,G){var ae=B.type;return ae===C?K(L,N,B.props.children,G,B.key):N!==null&&(N.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===X&&u2(ae)===N.type)?(N=p(N,B.props),Tl(N,B),N.return=L,N):(N=su(B.type,B.key,B.props,null,L.mode,G),Tl(N,B),N.return=L,N)}function I(L,N,B,G){return N===null||N.tag!==4||N.stateNode.containerInfo!==B.containerInfo||N.stateNode.implementation!==B.implementation?(N=Dd(B,L.mode,G),N.return=L,N):(N=p(N,B.children||[]),N.return=L,N)}function K(L,N,B,G,ae){return N===null||N.tag!==7?(N=Ji(B,L.mode,G,ae),N.return=L,N):(N=p(N,B),N.return=L,N)}function Y(L,N,B){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Nd(""+N,L.mode,B),N.return=L,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case b:return B=su(N.type,N.key,N.props,null,L.mode,B),Tl(B,N),B.return=L,B;case v:return N=Dd(N,L.mode,B),N.return=L,N;case X:var G=N._init;return N=G(N._payload),Y(L,N,B)}if($(N)||he(N))return N=Ji(N,L.mode,B,null),N.return=L,N;if(typeof N.then=="function")return Y(L,xu(N),B);if(N.$$typeof===D)return Y(L,uu(L,N),B);Eu(L,N)}return null}function V(L,N,B,G){var ae=N!==null?N.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ae!==null?null:M(L,N,""+B,G);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case b:return B.key===ae?O(L,N,B,G):null;case v:return B.key===ae?I(L,N,B,G):null;case X:return ae=B._init,B=ae(B._payload),V(L,N,B,G)}if($(B)||he(B))return ae!==null?null:K(L,N,B,G,null);if(typeof B.then=="function")return V(L,N,xu(B),G);if(B.$$typeof===D)return V(L,N,uu(L,B),G);Eu(L,B)}return null}function _(L,N,B,G,ae){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return L=L.get(B)||null,M(N,L,""+G,ae);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case b:return L=L.get(G.key===null?B:G.key)||null,O(N,L,G,ae);case v:return L=L.get(G.key===null?B:G.key)||null,I(N,L,G,ae);case X:var Re=G._init;return G=Re(G._payload),_(L,N,B,G,ae)}if($(G)||he(G))return L=L.get(B)||null,K(N,L,G,ae,null);if(typeof G.then=="function")return _(L,N,B,xu(G),ae);if(G.$$typeof===D)return _(L,N,B,uu(N,G),ae);Eu(N,G)}return null}function be(L,N,B,G){for(var ae=null,Re=null,fe=N,ye=N=0,Lt=null;fe!==null&&ye<B.length;ye++){fe.index>ye?(Lt=fe,fe=null):Lt=fe.sibling;var Ie=V(L,fe,B[ye],G);if(Ie===null){fe===null&&(fe=Lt);break}i&&fe&&Ie.alternate===null&&o(L,fe),N=y(Ie,N,ye),Re===null?ae=Ie:Re.sibling=Ie,Re=Ie,fe=Lt}if(ye===B.length)return u(L,fe),Ve&&Xi(L,ye),ae;if(fe===null){for(;ye<B.length;ye++)fe=Y(L,B[ye],G),fe!==null&&(N=y(fe,N,ye),Re===null?ae=fe:Re.sibling=fe,Re=fe);return Ve&&Xi(L,ye),ae}for(fe=f(fe);ye<B.length;ye++)Lt=_(fe,L,ye,B[ye],G),Lt!==null&&(i&&Lt.alternate!==null&&fe.delete(Lt.key===null?ye:Lt.key),N=y(Lt,N,ye),Re===null?ae=Lt:Re.sibling=Lt,Re=Lt);return i&&fe.forEach(function(bi){return o(L,bi)}),Ve&&Xi(L,ye),ae}function pe(L,N,B,G){if(B==null)throw Error(r(151));for(var ae=null,Re=null,fe=N,ye=N=0,Lt=null,Ie=B.next();fe!==null&&!Ie.done;ye++,Ie=B.next()){fe.index>ye?(Lt=fe,fe=null):Lt=fe.sibling;var bi=V(L,fe,Ie.value,G);if(bi===null){fe===null&&(fe=Lt);break}i&&fe&&bi.alternate===null&&o(L,fe),N=y(bi,N,ye),Re===null?ae=bi:Re.sibling=bi,Re=bi,fe=Lt}if(Ie.done)return u(L,fe),Ve&&Xi(L,ye),ae;if(fe===null){for(;!Ie.done;ye++,Ie=B.next())Ie=Y(L,Ie.value,G),Ie!==null&&(N=y(Ie,N,ye),Re===null?ae=Ie:Re.sibling=Ie,Re=Ie);return Ve&&Xi(L,ye),ae}for(fe=f(fe);!Ie.done;ye++,Ie=B.next())Ie=_(fe,L,ye,Ie.value,G),Ie!==null&&(i&&Ie.alternate!==null&&fe.delete(Ie.key===null?ye:Ie.key),N=y(Ie,N,ye),Re===null?ae=Ie:Re.sibling=Ie,Re=Ie);return i&&fe.forEach(function(vx){return o(L,vx)}),Ve&&Xi(L,ye),ae}function Ge(L,N,B,G){if(typeof B=="object"&&B!==null&&B.type===C&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case b:e:{for(var ae=B.key;N!==null;){if(N.key===ae){if(ae=B.type,ae===C){if(N.tag===7){u(L,N.sibling),G=p(N,B.props.children),G.return=L,L=G;break e}}else if(N.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===X&&u2(ae)===N.type){u(L,N.sibling),G=p(N,B.props),Tl(G,B),G.return=L,L=G;break e}u(L,N);break}else o(L,N);N=N.sibling}B.type===C?(G=Ji(B.props.children,L.mode,G,B.key),G.return=L,L=G):(G=su(B.type,B.key,B.props,null,L.mode,G),Tl(G,B),G.return=L,L=G)}return x(L);case v:e:{for(ae=B.key;N!==null;){if(N.key===ae)if(N.tag===4&&N.stateNode.containerInfo===B.containerInfo&&N.stateNode.implementation===B.implementation){u(L,N.sibling),G=p(N,B.children||[]),G.return=L,L=G;break e}else{u(L,N);break}else o(L,N);N=N.sibling}G=Dd(B,L.mode,G),G.return=L,L=G}return x(L);case X:return ae=B._init,B=ae(B._payload),Ge(L,N,B,G)}if($(B))return be(L,N,B,G);if(he(B)){if(ae=he(B),typeof ae!="function")throw Error(r(150));return B=ae.call(B),pe(L,N,B,G)}if(typeof B.then=="function")return Ge(L,N,xu(B),G);if(B.$$typeof===D)return Ge(L,N,uu(L,B),G);Eu(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,N!==null&&N.tag===6?(u(L,N.sibling),G=p(N,B),G.return=L,L=G):(u(L,N),G=Nd(B,L.mode,G),G.return=L,L=G),x(L)):u(L,N)}return function(L,N,B,G){try{Ml=0;var ae=Ge(L,N,B,G);return co=null,ae}catch(fe){if(fe===gl||fe===fu)throw fe;var Re=On(29,fe,null,L.mode);return Re.lanes=G,Re.return=L,Re}finally{}}}var fo=c2(!0),f2=c2(!1),Fn=F(null),ar=null;function ri(i){var o=i.alternate;J(Tt,Tt.current&1),J(Fn,i),ar===null&&(o===null||oo.current!==null||o.memoizedState!==null)&&(ar=i)}function d2(i){if(i.tag===22){if(J(Tt,Tt.current),J(Fn,i),ar===null){var o=i.alternate;o!==null&&o.memoizedState!==null&&(ar=i)}}else ii()}function ii(){J(Tt,Tt.current),J(Fn,Fn.current)}function Nr(i){q(Fn),ar===i&&(ar=null),q(Tt)}var Tt=F(0);function wu(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||ep(u)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function fh(i,o,u,f){o=i.memoizedState,u=u(f,o),u=u==null?o:m({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var dh={enqueueSetState:function(i,o,u){i=i._reactInternals;var f=Ln(),p=ei(f);p.payload=o,u!=null&&(p.callback=u),o=ti(i,p,f),o!==null&&(zn(o,i,f),bl(o,i,f))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var f=Ln(),p=ei(f);p.tag=1,p.payload=o,u!=null&&(p.callback=u),o=ti(i,p,f),o!==null&&(zn(o,i,f),bl(o,i,f))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=Ln(),f=ei(u);f.tag=2,o!=null&&(f.callback=o),o=ti(i,f,u),o!==null&&(zn(o,i,u),bl(o,i,u))}};function h2(i,o,u,f,p,y,x){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,y,x):o.prototype&&o.prototype.isPureReactComponent?!al(u,f)||!al(p,y):!0}function p2(i,o,u,f){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,f),o.state!==i&&dh.enqueueReplaceState(o,o.state,null)}function ss(i,o){var u=o;if("ref"in o){u={};for(var f in o)f!=="ref"&&(u[f]=o[f])}if(i=i.defaultProps){u===o&&(u=m({},u));for(var p in i)u[p]===void 0&&(u[p]=i[p])}return u}var Mu=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function m2(i){Mu(i)}function g2(i){console.error(i)}function y2(i){Mu(i)}function Tu(i,o){try{var u=i.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(f){setTimeout(function(){throw f})}}function b2(i,o,u){try{var f=i.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function hh(i,o,u){return u=ei(u),u.tag=3,u.payload={element:null},u.callback=function(){Tu(i,o)},u}function v2(i){return i=ei(i),i.tag=3,i}function C2(i,o,u,f){var p=u.type.getDerivedStateFromError;if(typeof p=="function"){var y=f.value;i.payload=function(){return p(y)},i.callback=function(){b2(o,u,f)}}var x=u.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(i.callback=function(){b2(o,u,f),typeof p!="function"&&(ci===null?ci=new Set([this]):ci.add(this));var M=f.stack;this.componentDidCatch(f.value,{componentStack:M!==null?M:""})})}function v5(i,o,u,f,p){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(o=u.alternate,o!==null&&hl(o,u,p,!0),u=Fn.current,u!==null){switch(u.tag){case 13:return ar===null?Ih():u.alternate===null&&ct===0&&(ct=3),u.flags&=-257,u.flags|=65536,u.lanes=p,f===qd?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([f]):o.add(f),Vh(i,f,p)),!1;case 22:return u.flags|=65536,f===qd?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([f]):u.add(f)),Vh(i,f,p)),!1}throw Error(r(435,u.tag))}return Vh(i,f,p),Ih(),!1}if(Ve)return o=Fn.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=p,f!==Hd&&(i=Error(r(422),{cause:f}),dl(_n(i,u)))):(f!==Hd&&(o=Error(r(423),{cause:f}),dl(_n(o,u))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,f=_n(f,u),p=hh(i.stateNode,f,p),Kd(i,p),ct!==4&&(ct=2)),!1;var y=Error(r(520),{cause:f});if(y=_n(y,u),Ll===null?Ll=[y]:Ll.push(y),ct!==4&&(ct=2),o===null)return!0;f=_n(f,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,i=p&-p,u.lanes|=i,i=hh(u.stateNode,f,i),Kd(u,i),!1;case 1:if(o=u.type,y=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ci===null||!ci.has(y))))return u.flags|=65536,p&=-p,u.lanes|=p,p=v2(p),C2(p,i,u,f),Kd(u,p),!1}u=u.return}while(u!==null);return!1}var S2=Error(r(461)),Nt=!1;function It(i,o,u,f){o.child=i===null?f2(o,null,u,f):fo(o,i.child,u,f)}function x2(i,o,u,f,p){u=u.render;var y=o.ref;if("ref"in f){var x={};for(var M in f)M!=="ref"&&(x[M]=f[M])}else x=f;return ns(o),f=Jd(i,o,u,x,y,p),M=Qd(),i!==null&&!Nt?(Xd(i,o,p),Dr(i,o,p)):(Ve&&M&&Ld(o),o.flags|=1,It(i,o,f,p),o.child)}function E2(i,o,u,f,p){if(i===null){var y=u.type;return typeof y=="function"&&!Rd(y)&&y.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=y,w2(i,o,y,f,p)):(i=su(u.type,null,f,o,o.mode,p),i.ref=o.ref,i.return=o,o.child=i)}if(y=i.child,!Sh(i,p)){var x=y.memoizedProps;if(u=u.compare,u=u!==null?u:al,u(x,f)&&i.ref===o.ref)return Dr(i,o,p)}return o.flags|=1,i=Mr(y,f),i.ref=o.ref,i.return=o,o.child=i}function w2(i,o,u,f,p){if(i!==null){var y=i.memoizedProps;if(al(y,f)&&i.ref===o.ref)if(Nt=!1,o.pendingProps=f=y,Sh(i,p))(i.flags&131072)!==0&&(Nt=!0);else return o.lanes=i.lanes,Dr(i,o,p)}return ph(i,o,u,f,p)}function M2(i,o,u){var f=o.pendingProps,p=f.children,y=i!==null?i.memoizedState:null;if(f.mode==="hidden"){if((o.flags&128)!==0){if(f=y!==null?y.baseLanes|u:u,i!==null){for(p=o.child=i.child,y=0;p!==null;)y=y|p.lanes|p.childLanes,p=p.sibling;o.childLanes=y&~f}else o.childLanes=0,o.child=null;return T2(i,o,f,u)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&cu(o,y!==null?y.cachePool:null),y!==null?w0(o,y):Gd(),d2(o);else return o.lanes=o.childLanes=536870912,T2(i,o,y!==null?y.baseLanes|u:u,u)}else y!==null?(cu(o,y.cachePool),w0(o,y),ii(),o.memoizedState=null):(i!==null&&cu(o,null),Gd(),ii());return It(i,o,p,u),o.child}function T2(i,o,u,f){var p=Ud();return p=p===null?null:{parent:Mt._currentValue,pool:p},o.memoizedState={baseLanes:u,cachePool:p},i!==null&&cu(o,null),Gd(),d2(o),i!==null&&hl(i,o,f,!0),null}function Au(i,o){var u=o.ref;if(u===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(i===null||i.ref!==u)&&(o.flags|=4194816)}}function ph(i,o,u,f,p){return ns(o),u=Jd(i,o,u,f,void 0,p),f=Qd(),i!==null&&!Nt?(Xd(i,o,p),Dr(i,o,p)):(Ve&&f&&Ld(o),o.flags|=1,It(i,o,u,p),o.child)}function A2(i,o,u,f,p,y){return ns(o),o.updateQueue=null,u=T0(o,f,u,p),M0(i),f=Qd(),i!==null&&!Nt?(Xd(i,o,y),Dr(i,o,y)):(Ve&&f&&Ld(o),o.flags|=1,It(i,o,u,y),o.child)}function k2(i,o,u,f,p){if(ns(o),o.stateNode===null){var y=to,x=u.contextType;typeof x=="object"&&x!==null&&(y=Jt(x)),y=new u(f,y),o.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=dh,o.stateNode=y,y._reactInternals=o,y=o.stateNode,y.props=f,y.state=o.memoizedState,y.refs={},Pd(o),x=u.contextType,y.context=typeof x=="object"&&x!==null?Jt(x):to,y.state=o.memoizedState,x=u.getDerivedStateFromProps,typeof x=="function"&&(fh(o,u,x,f),y.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(x=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),x!==y.state&&dh.enqueueReplaceState(y,y.state,null),Cl(o,f,y,p),vl(),y.state=o.memoizedState),typeof y.componentDidMount=="function"&&(o.flags|=4194308),f=!0}else if(i===null){y=o.stateNode;var M=o.memoizedProps,O=ss(u,M);y.props=O;var I=y.context,K=u.contextType;x=to,typeof K=="object"&&K!==null&&(x=Jt(K));var Y=u.getDerivedStateFromProps;K=typeof Y=="function"||typeof y.getSnapshotBeforeUpdate=="function",M=o.pendingProps!==M,K||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(M||I!==x)&&p2(o,y,f,x),Wr=!1;var V=o.memoizedState;y.state=V,Cl(o,f,y,p),vl(),I=o.memoizedState,M||V!==I||Wr?(typeof Y=="function"&&(fh(o,u,Y,f),I=o.memoizedState),(O=Wr||h2(o,u,O,f,V,I,x))?(K||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(o.flags|=4194308)):(typeof y.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=I),y.props=f,y.state=I,y.context=x,f=O):(typeof y.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{y=o.stateNode,Fd(i,o),x=o.memoizedProps,K=ss(u,x),y.props=K,Y=o.pendingProps,V=y.context,I=u.contextType,O=to,typeof I=="object"&&I!==null&&(O=Jt(I)),M=u.getDerivedStateFromProps,(I=typeof M=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(x!==Y||V!==O)&&p2(o,y,f,O),Wr=!1,V=o.memoizedState,y.state=V,Cl(o,f,y,p),vl();var _=o.memoizedState;x!==Y||V!==_||Wr||i!==null&&i.dependencies!==null&&au(i.dependencies)?(typeof M=="function"&&(fh(o,u,M,f),_=o.memoizedState),(K=Wr||h2(o,u,K,f,V,_,O)||i!==null&&i.dependencies!==null&&au(i.dependencies))?(I||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(f,_,O),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(f,_,O)),typeof y.componentDidUpdate=="function"&&(o.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof y.componentDidUpdate!="function"||x===i.memoizedProps&&V===i.memoizedState||(o.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&V===i.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=_),y.props=f,y.state=_,y.context=O,f=K):(typeof y.componentDidUpdate!="function"||x===i.memoizedProps&&V===i.memoizedState||(o.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&V===i.memoizedState||(o.flags|=1024),f=!1)}return y=f,Au(i,o),f=(o.flags&128)!==0,y||f?(y=o.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:y.render(),o.flags|=1,i!==null&&f?(o.child=fo(o,i.child,null,p),o.child=fo(o,null,u,p)):It(i,o,u,p),o.memoizedState=y.state,i=o.child):i=Dr(i,o,p),i}function O2(i,o,u,f){return fl(),o.flags|=256,It(i,o,u,f),o.child}var mh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gh(i){return{baseLanes:i,cachePool:g0()}}function yh(i,o,u){return i=i!==null?i.childLanes&~u:0,o&&(i|=Kn),i}function R2(i,o,u){var f=o.pendingProps,p=!1,y=(o.flags&128)!==0,x;if((x=y)||(x=i!==null&&i.memoizedState===null?!1:(Tt.current&2)!==0),x&&(p=!0,o.flags&=-129),x=(o.flags&32)!==0,o.flags&=-33,i===null){if(Ve){if(p?ri(o):ii(),Ve){var M=ut,O;if(O=M){e:{for(O=M,M=lr;O.nodeType!==8;){if(!M){M=null;break e}if(O=nr(O.nextSibling),O===null){M=null;break e}}M=O}M!==null?(o.memoizedState={dehydrated:M,treeContext:Qi!==null?{id:Tr,overflow:Ar}:null,retryLane:536870912,hydrationErrors:null},O=On(18,null,null,0),O.stateNode=M,O.return=o,o.child=O,rn=o,ut=null,O=!0):O=!1}O||es(o)}if(M=o.memoizedState,M!==null&&(M=M.dehydrated,M!==null))return ep(M)?o.lanes=32:o.lanes=536870912,null;Nr(o)}return M=f.children,f=f.fallback,p?(ii(),p=o.mode,M=ku({mode:"hidden",children:M},p),f=Ji(f,p,u,null),M.return=o,f.return=o,M.sibling=f,o.child=M,p=o.child,p.memoizedState=gh(u),p.childLanes=yh(i,x,u),o.memoizedState=mh,f):(ri(o),bh(o,M))}if(O=i.memoizedState,O!==null&&(M=O.dehydrated,M!==null)){if(y)o.flags&256?(ri(o),o.flags&=-257,o=vh(i,o,u)):o.memoizedState!==null?(ii(),o.child=i.child,o.flags|=128,o=null):(ii(),p=f.fallback,M=o.mode,f=ku({mode:"visible",children:f.children},M),p=Ji(p,M,u,null),p.flags|=2,f.return=o,p.return=o,f.sibling=p,o.child=f,fo(o,i.child,null,u),f=o.child,f.memoizedState=gh(u),f.childLanes=yh(i,x,u),o.memoizedState=mh,o=p);else if(ri(o),ep(M)){if(x=M.nextSibling&&M.nextSibling.dataset,x)var I=x.dgst;x=I,f=Error(r(419)),f.stack="",f.digest=x,dl({value:f,source:null,stack:null}),o=vh(i,o,u)}else if(Nt||hl(i,o,u,!1),x=(u&i.childLanes)!==0,Nt||x){if(x=We,x!==null&&(f=u&-u,f=(f&42)!==0?1:td(f),f=(f&(x.suspendedLanes|u))!==0?0:f,f!==0&&f!==O.retryLane))throw O.retryLane=f,eo(i,f),zn(x,i,f),S2;M.data==="$?"||Ih(),o=vh(i,o,u)}else M.data==="$?"?(o.flags|=192,o.child=i.child,o=null):(i=O.treeContext,ut=nr(M.nextSibling),rn=o,Ve=!0,Wi=null,lr=!1,i!==null&&(qn[Pn++]=Tr,qn[Pn++]=Ar,qn[Pn++]=Qi,Tr=i.id,Ar=i.overflow,Qi=o),o=bh(o,f.children),o.flags|=4096);return o}return p?(ii(),p=f.fallback,M=o.mode,O=i.child,I=O.sibling,f=Mr(O,{mode:"hidden",children:f.children}),f.subtreeFlags=O.subtreeFlags&65011712,I!==null?p=Mr(I,p):(p=Ji(p,M,u,null),p.flags|=2),p.return=o,f.return=o,f.sibling=p,o.child=f,f=p,p=o.child,M=i.child.memoizedState,M===null?M=gh(u):(O=M.cachePool,O!==null?(I=Mt._currentValue,O=O.parent!==I?{parent:I,pool:I}:O):O=g0(),M={baseLanes:M.baseLanes|u,cachePool:O}),p.memoizedState=M,p.childLanes=yh(i,x,u),o.memoizedState=mh,f):(ri(o),u=i.child,i=u.sibling,u=Mr(u,{mode:"visible",children:f.children}),u.return=o,u.sibling=null,i!==null&&(x=o.deletions,x===null?(o.deletions=[i],o.flags|=16):x.push(i)),o.child=u,o.memoizedState=null,u)}function bh(i,o){return o=ku({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function ku(i,o){return i=On(22,i,null,o),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function vh(i,o,u){return fo(o,i.child,null,u),i=bh(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function N2(i,o,u){i.lanes|=o;var f=i.alternate;f!==null&&(f.lanes|=o),Id(i.return,o,u)}function Ch(i,o,u,f,p){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:p}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=f,y.tail=u,y.tailMode=p)}function D2(i,o,u){var f=o.pendingProps,p=f.revealOrder,y=f.tail;if(It(i,o,f.children,u),f=Tt.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&N2(i,u,o);else if(i.tag===19)N2(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}switch(J(Tt,f),p){case"forwards":for(u=o.child,p=null;u!==null;)i=u.alternate,i!==null&&wu(i)===null&&(p=u),u=u.sibling;u=p,u===null?(p=o.child,o.child=null):(p=u.sibling,u.sibling=null),Ch(o,!1,p,u,y);break;case"backwards":for(u=null,p=o.child,o.child=null;p!==null;){if(i=p.alternate,i!==null&&wu(i)===null){o.child=p;break}i=p.sibling,p.sibling=u,u=p,p=i}Ch(o,!0,u,null,y);break;case"together":Ch(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Dr(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),ui|=o.lanes,(u&o.childLanes)===0)if(i!==null){if(hl(i,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(r(153));if(o.child!==null){for(i=o.child,u=Mr(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=Mr(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function Sh(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&au(i)))}function C5(i,o,u){switch(o.tag){case 3:ze(o,o.stateNode.containerInfo),Xr(o,Mt,i.memoizedState.cache),fl();break;case 27:case 5:An(o);break;case 4:ze(o,o.stateNode.containerInfo);break;case 10:Xr(o,o.type,o.memoizedProps.value);break;case 13:var f=o.memoizedState;if(f!==null)return f.dehydrated!==null?(ri(o),o.flags|=128,null):(u&o.child.childLanes)!==0?R2(i,o,u):(ri(o),i=Dr(i,o,u),i!==null?i.sibling:null);ri(o);break;case 19:var p=(i.flags&128)!==0;if(f=(u&o.childLanes)!==0,f||(hl(i,o,u,!1),f=(u&o.childLanes)!==0),p){if(f)return D2(i,o,u);o.flags|=128}if(p=o.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),J(Tt,Tt.current),f)break;return null;case 22:case 23:return o.lanes=0,M2(i,o,u);case 24:Xr(o,Mt,i.memoizedState.cache)}return Dr(i,o,u)}function L2(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps)Nt=!0;else{if(!Sh(i,u)&&(o.flags&128)===0)return Nt=!1,C5(i,o,u);Nt=(i.flags&131072)!==0}else Nt=!1,Ve&&(o.flags&1048576)!==0&&u0(o,lu,o.index);switch(o.lanes=0,o.tag){case 16:e:{i=o.pendingProps;var f=o.elementType,p=f._init;if(f=p(f._payload),o.type=f,typeof f=="function")Rd(f)?(i=ss(f,i),o.tag=1,o=k2(null,o,f,i,u)):(o.tag=0,o=ph(null,o,f,i,u));else{if(f!=null){if(p=f.$$typeof,p===P){o.tag=11,o=x2(null,o,f,i,u);break e}else if(p===te){o.tag=14,o=E2(null,o,f,i,u);break e}}throw o=re(f)||f,Error(r(306,o,""))}}return o;case 0:return ph(i,o,o.type,o.pendingProps,u);case 1:return f=o.type,p=ss(f,o.pendingProps),k2(i,o,f,p,u);case 3:e:{if(ze(o,o.stateNode.containerInfo),i===null)throw Error(r(387));f=o.pendingProps;var y=o.memoizedState;p=y.element,Fd(i,o),Cl(o,f,null,u);var x=o.memoizedState;if(f=x.cache,Xr(o,Mt,f),f!==y.cache&&jd(o,[Mt],u,!0),vl(),f=x.element,y.isDehydrated)if(y={element:f,isDehydrated:!1,cache:x.cache},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){o=O2(i,o,f,u);break e}else if(f!==p){p=_n(Error(r(424)),o),dl(p),o=O2(i,o,f,u);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ut=nr(i.firstChild),rn=o,Ve=!0,Wi=null,lr=!0,u=f2(o,null,f,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(fl(),f===p){o=Dr(i,o,u);break e}It(i,o,f,u)}o=o.child}return o;case 26:return Au(i,o),i===null?(u=Iy(o.type,null,o.pendingProps,null))?o.memoizedState=u:Ve||(u=o.type,i=o.pendingProps,f=qu(se.current).createElement(u),f[Zt]=o,f[yn]=i,Vt(f,u,i),Rt(f),o.stateNode=f):o.memoizedState=Iy(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return An(o),i===null&&Ve&&(f=o.stateNode=zy(o.type,o.pendingProps,se.current),rn=o,lr=!0,p=ut,hi(o.type)?(tp=p,ut=nr(f.firstChild)):ut=p),It(i,o,o.pendingProps.children,u),Au(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&Ve&&((p=f=ut)&&(f=Y5(f,o.type,o.pendingProps,lr),f!==null?(o.stateNode=f,rn=o,ut=nr(f.firstChild),lr=!1,p=!0):p=!1),p||es(o)),An(o),p=o.type,y=o.pendingProps,x=i!==null?i.memoizedProps:null,f=y.children,Qh(p,y)?f=null:x!==null&&Qh(p,x)&&(o.flags|=32),o.memoizedState!==null&&(p=Jd(i,o,d5,null,null,u),ql._currentValue=p),Au(i,o),It(i,o,f,u),o.child;case 6:return i===null&&Ve&&((i=u=ut)&&(u=Z5(u,o.pendingProps,lr),u!==null?(o.stateNode=u,rn=o,ut=null,i=!0):i=!1),i||es(o)),null;case 13:return R2(i,o,u);case 4:return ze(o,o.stateNode.containerInfo),f=o.pendingProps,i===null?o.child=fo(o,null,f,u):It(i,o,f,u),o.child;case 11:return x2(i,o,o.type,o.pendingProps,u);case 7:return It(i,o,o.pendingProps,u),o.child;case 8:return It(i,o,o.pendingProps.children,u),o.child;case 12:return It(i,o,o.pendingProps.children,u),o.child;case 10:return f=o.pendingProps,Xr(o,o.type,f.value),It(i,o,f.children,u),o.child;case 9:return p=o.type._context,f=o.pendingProps.children,ns(o),p=Jt(p),f=f(p),o.flags|=1,It(i,o,f,u),o.child;case 14:return E2(i,o,o.type,o.pendingProps,u);case 15:return w2(i,o,o.type,o.pendingProps,u);case 19:return D2(i,o,u);case 31:return f=o.pendingProps,u=o.mode,f={mode:f.mode,children:f.children},i===null?(u=ku(f,u),u.ref=o.ref,o.child=u,u.return=o,o=u):(u=Mr(i.child,f),u.ref=o.ref,o.child=u,u.return=o,o=u),o;case 22:return M2(i,o,u);case 24:return ns(o),f=Jt(Mt),i===null?(p=Ud(),p===null&&(p=We,y=Vd(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=u),p=y),o.memoizedState={parent:f,cache:p},Pd(o),Xr(o,Mt,p)):((i.lanes&u)!==0&&(Fd(i,o),Cl(o,null,null,u),vl()),p=i.memoizedState,y=o.memoizedState,p.parent!==f?(p={parent:f,cache:f},o.memoizedState=p,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=p),Xr(o,Mt,f)):(f=y.cache,Xr(o,Mt,f),f!==p.cache&&jd(o,[Mt],u,!0))),It(i,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function Lr(i){i.flags|=4}function z2(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!qy(o)){if(o=Fn.current,o!==null&&((Be&4194048)===Be?ar!==null:(Be&62914560)!==Be&&(Be&536870912)===0||o!==ar))throw yl=qd,y0;i.flags|=8192}}function Ou(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?Qo():536870912,i.lanes|=o,go|=o)}function Al(i,o){if(!Ve)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function ot(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,f=0;if(o)for(var p=i.child;p!==null;)u|=p.lanes|p.childLanes,f|=p.subtreeFlags&65011712,f|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)u|=p.lanes|p.childLanes,f|=p.subtreeFlags,f|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=f,i.childLanes=u,o}function S5(i,o,u){var f=o.pendingProps;switch(zd(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(o),null;case 1:return ot(o),null;case 3:return u=o.stateNode,f=null,i!==null&&(f=i.memoizedState.cache),o.memoizedState.cache!==f&&(o.flags|=2048),Or(Mt),Gt(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(cl(o)?Lr(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,d0())),ot(o),null;case 26:return u=o.memoizedState,i===null?(Lr(o),u!==null?(ot(o),z2(o,u)):(ot(o),o.flags&=-16777217)):u?u!==i.memoizedState?(Lr(o),ot(o),z2(o,u)):(ot(o),o.flags&=-16777217):(i.memoizedProps!==f&&Lr(o),ot(o),o.flags&=-16777217),null;case 27:xe(o),u=se.current;var p=o.type;if(i!==null&&o.stateNode!=null)i.memoizedProps!==f&&Lr(o);else{if(!f){if(o.stateNode===null)throw Error(r(166));return ot(o),null}i=ie.current,cl(o)?c0(o):(i=zy(p,f,u),o.stateNode=i,Lr(o))}return ot(o),null;case 5:if(xe(o),u=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==f&&Lr(o);else{if(!f){if(o.stateNode===null)throw Error(r(166));return ot(o),null}if(i=ie.current,cl(o))c0(o);else{switch(p=qu(se.current),i){case 1:i=p.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:i=p.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":i=p.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":i=p.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":i=p.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof f.is=="string"?p.createElement("select",{is:f.is}):p.createElement("select"),f.multiple?i.multiple=!0:f.size&&(i.size=f.size);break;default:i=typeof f.is=="string"?p.createElement(u,{is:f.is}):p.createElement(u)}}i[Zt]=o,i[yn]=f;e:for(p=o.child;p!==null;){if(p.tag===5||p.tag===6)i.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===o)break e;for(;p.sibling===null;){if(p.return===null||p.return===o)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}o.stateNode=i;e:switch(Vt(i,u,f),u){case"button":case"input":case"select":case"textarea":i=!!f.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Lr(o)}}return ot(o),o.flags&=-16777217,null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==f&&Lr(o);else{if(typeof f!="string"&&o.stateNode===null)throw Error(r(166));if(i=se.current,cl(o)){if(i=o.stateNode,u=o.memoizedProps,f=null,p=rn,p!==null)switch(p.tag){case 27:case 5:f=p.memoizedProps}i[Zt]=o,i=!!(i.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||Ay(i.nodeValue,u)),i||es(o)}else i=qu(i).createTextNode(f),i[Zt]=o,o.stateNode=i}return ot(o),null;case 13:if(f=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=cl(o),f!==null&&f.dehydrated!==null){if(i===null){if(!p)throw Error(r(318));if(p=o.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[Zt]=o}else fl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;ot(o),p=!1}else p=d0(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return o.flags&256?(Nr(o),o):(Nr(o),null)}if(Nr(o),(o.flags&128)!==0)return o.lanes=u,o;if(u=f!==null,i=i!==null&&i.memoizedState!==null,u){f=o.child,p=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(p=f.alternate.memoizedState.cachePool.pool);var y=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(y=f.memoizedState.cachePool.pool),y!==p&&(f.flags|=2048)}return u!==i&&u&&(o.child.flags|=8192),Ou(o,o.updateQueue),ot(o),null;case 4:return Gt(),i===null&&$h(o.stateNode.containerInfo),ot(o),null;case 10:return Or(o.type),ot(o),null;case 19:if(q(Tt),p=o.memoizedState,p===null)return ot(o),null;if(f=(o.flags&128)!==0,y=p.rendering,y===null)if(f)Al(p,!1);else{if(ct!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(y=wu(i),y!==null){for(o.flags|=128,Al(p,!1),i=y.updateQueue,o.updateQueue=i,Ou(o,i),o.subtreeFlags=0,i=u,u=o.child;u!==null;)a0(u,i),u=u.sibling;return J(Tt,Tt.current&1|2),o.child}i=i.sibling}p.tail!==null&&Qe()>Du&&(o.flags|=128,f=!0,Al(p,!1),o.lanes=4194304)}else{if(!f)if(i=wu(y),i!==null){if(o.flags|=128,f=!0,i=i.updateQueue,o.updateQueue=i,Ou(o,i),Al(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!Ve)return ot(o),null}else 2*Qe()-p.renderingStartTime>Du&&u!==536870912&&(o.flags|=128,f=!0,Al(p,!1),o.lanes=4194304);p.isBackwards?(y.sibling=o.child,o.child=y):(i=p.last,i!==null?i.sibling=y:o.child=y,p.last=y)}return p.tail!==null?(o=p.tail,p.rendering=o,p.tail=o.sibling,p.renderingStartTime=Qe(),o.sibling=null,i=Tt.current,J(Tt,f?i&1|2:i&1),o):(ot(o),null);case 22:case 23:return Nr(o),Yd(),f=o.memoizedState!==null,i!==null?i.memoizedState!==null!==f&&(o.flags|=8192):f&&(o.flags|=8192),f?(u&536870912)!==0&&(o.flags&128)===0&&(ot(o),o.subtreeFlags&6&&(o.flags|=8192)):ot(o),u=o.updateQueue,u!==null&&Ou(o,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==u&&(o.flags|=2048),i!==null&&q(rs),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Or(Mt),ot(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function x5(i,o){switch(zd(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Or(Mt),Gt(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return xe(o),null;case 13:if(Nr(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(r(340));fl()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return q(Tt),null;case 4:return Gt(),null;case 10:return Or(o.type),null;case 22:case 23:return Nr(o),Yd(),i!==null&&q(rs),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return Or(Mt),null;case 25:return null;default:return null}}function H2(i,o){switch(zd(o),o.tag){case 3:Or(Mt),Gt();break;case 26:case 27:case 5:xe(o);break;case 4:Gt();break;case 13:Nr(o);break;case 19:q(Tt);break;case 10:Or(o.type);break;case 22:case 23:Nr(o),Yd(),i!==null&&q(rs);break;case 24:Or(Mt)}}function kl(i,o){try{var u=o.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var p=f.next;u=p;do{if((u.tag&i)===i){f=void 0;var y=u.create,x=u.inst;f=y(),x.destroy=f}u=u.next}while(u!==p)}}catch(M){Ze(o,o.return,M)}}function si(i,o,u){try{var f=o.updateQueue,p=f!==null?f.lastEffect:null;if(p!==null){var y=p.next;f=y;do{if((f.tag&i)===i){var x=f.inst,M=x.destroy;if(M!==void 0){x.destroy=void 0,p=o;var O=u,I=M;try{I()}catch(K){Ze(p,O,K)}}}f=f.next}while(f!==y)}}catch(K){Ze(o,o.return,K)}}function B2(i){var o=i.updateQueue;if(o!==null){var u=i.stateNode;try{E0(o,u)}catch(f){Ze(i,i.return,f)}}}function I2(i,o,u){u.props=ss(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(f){Ze(i,o,f)}}function Ol(i,o){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var f=i.stateNode;break;case 30:f=i.stateNode;break;default:f=i.stateNode}typeof u=="function"?i.refCleanup=u(f):u.current=f}}catch(p){Ze(i,o,p)}}function ur(i,o){var u=i.ref,f=i.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(p){Ze(i,o,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(p){Ze(i,o,p)}else u.current=null}function j2(i){var o=i.type,u=i.memoizedProps,f=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break e;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(p){Ze(i,i.return,p)}}function xh(i,o,u){try{var f=i.stateNode;P5(f,i.type,u,o),f[yn]=o}catch(p){Ze(i,i.return,p)}}function V2(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&hi(i.type)||i.tag===4}function Eh(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||V2(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&hi(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function wh(i,o,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(i),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Uu));else if(f!==4&&(f===27&&hi(i.type)&&(u=i.stateNode,o=null),i=i.child,i!==null))for(wh(i,o,u),i=i.sibling;i!==null;)wh(i,o,u),i=i.sibling}function Ru(i,o,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(f!==4&&(f===27&&hi(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(Ru(i,o,u),i=i.sibling;i!==null;)Ru(i,o,u),i=i.sibling}function _2(i){var o=i.stateNode,u=i.memoizedProps;try{for(var f=i.type,p=o.attributes;p.length;)o.removeAttributeNode(p[0]);Vt(o,f,u),o[Zt]=i,o[yn]=u}catch(y){Ze(i,i.return,y)}}var zr=!1,yt=!1,Mh=!1,U2=typeof WeakSet=="function"?WeakSet:Set,Dt=null;function E5(i,o){if(i=i.containerInfo,Zh=Yu,i=Xg(i),Ed(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var p=f.anchorOffset,y=f.focusNode;f=f.focusOffset;try{u.nodeType,y.nodeType}catch{u=null;break e}var x=0,M=-1,O=-1,I=0,K=0,Y=i,V=null;t:for(;;){for(var _;Y!==u||p!==0&&Y.nodeType!==3||(M=x+p),Y!==y||f!==0&&Y.nodeType!==3||(O=x+f),Y.nodeType===3&&(x+=Y.nodeValue.length),(_=Y.firstChild)!==null;)V=Y,Y=_;for(;;){if(Y===i)break t;if(V===u&&++I===p&&(M=x),V===y&&++K===f&&(O=x),(_=Y.nextSibling)!==null)break;Y=V,V=Y.parentNode}Y=_}u=M===-1||O===-1?null:{start:M,end:O}}else u=null}u=u||{start:0,end:0}}else u=null;for(Jh={focusedElem:i,selectionRange:u},Yu=!1,Dt=o;Dt!==null;)if(o=Dt,i=o.child,(o.subtreeFlags&1024)!==0&&i!==null)i.return=o,Dt=i;else for(;Dt!==null;){switch(o=Dt,y=o.alternate,i=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,u=o,p=y.memoizedProps,y=y.memoizedState,f=u.stateNode;try{var be=ss(u.type,p,u.elementType===u.type);i=f.getSnapshotBeforeUpdate(be,y),f.__reactInternalSnapshotBeforeUpdate=i}catch(pe){Ze(u,u.return,pe)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,u=i.nodeType,u===9)Wh(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Wh(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=o.sibling,i!==null){i.return=o.return,Dt=i;break}Dt=o.return}}function q2(i,o,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:oi(i,u),f&4&&kl(5,u);break;case 1:if(oi(i,u),f&4)if(i=u.stateNode,o===null)try{i.componentDidMount()}catch(x){Ze(u,u.return,x)}else{var p=ss(u.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(p,o,i.__reactInternalSnapshotBeforeUpdate)}catch(x){Ze(u,u.return,x)}}f&64&&B2(u),f&512&&Ol(u,u.return);break;case 3:if(oi(i,u),f&64&&(i=u.updateQueue,i!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{E0(i,o)}catch(x){Ze(u,u.return,x)}}break;case 27:o===null&&f&4&&_2(u);case 26:case 5:oi(i,u),o===null&&f&4&&j2(u),f&512&&Ol(u,u.return);break;case 12:oi(i,u);break;case 13:oi(i,u),f&4&&K2(i,u),f&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=D5.bind(null,u),J5(i,u))));break;case 22:if(f=u.memoizedState!==null||zr,!f){o=o!==null&&o.memoizedState!==null||yt,p=zr;var y=yt;zr=f,(yt=o)&&!y?li(i,u,(u.subtreeFlags&8772)!==0):oi(i,u),zr=p,yt=y}break;case 30:break;default:oi(i,u)}}function P2(i){var o=i.alternate;o!==null&&(i.alternate=null,P2(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&id(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var it=null,Cn=!1;function Hr(i,o,u){for(u=u.child;u!==null;)F2(i,o,u),u=u.sibling}function F2(i,o,u){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(Ue,u)}catch{}switch(u.tag){case 26:yt||ur(u,o),Hr(i,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:yt||ur(u,o);var f=it,p=Cn;hi(u.type)&&(it=u.stateNode,Cn=!1),Hr(i,o,u),jl(u.stateNode),it=f,Cn=p;break;case 5:yt||ur(u,o);case 6:if(f=it,p=Cn,it=null,Hr(i,o,u),it=f,Cn=p,it!==null)if(Cn)try{(it.nodeType===9?it.body:it.nodeName==="HTML"?it.ownerDocument.body:it).removeChild(u.stateNode)}catch(y){Ze(u,o,y)}else try{it.removeChild(u.stateNode)}catch(y){Ze(u,o,y)}break;case 18:it!==null&&(Cn?(i=it,Dy(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),$l(i)):Dy(it,u.stateNode));break;case 4:f=it,p=Cn,it=u.stateNode.containerInfo,Cn=!0,Hr(i,o,u),it=f,Cn=p;break;case 0:case 11:case 14:case 15:yt||si(2,u,o),yt||si(4,u,o),Hr(i,o,u);break;case 1:yt||(ur(u,o),f=u.stateNode,typeof f.componentWillUnmount=="function"&&I2(u,o,f)),Hr(i,o,u);break;case 21:Hr(i,o,u);break;case 22:yt=(f=yt)||u.memoizedState!==null,Hr(i,o,u),yt=f;break;default:Hr(i,o,u)}}function K2(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{$l(i)}catch(u){Ze(o,o.return,u)}}function w5(i){switch(i.tag){case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new U2),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new U2),o;default:throw Error(r(435,i.tag))}}function Th(i,o){var u=w5(i);o.forEach(function(f){var p=L5.bind(null,i,f);u.has(f)||(u.add(f),f.then(p,p))})}function Rn(i,o){var u=o.deletions;if(u!==null)for(var f=0;f<u.length;f++){var p=u[f],y=i,x=o,M=x;e:for(;M!==null;){switch(M.tag){case 27:if(hi(M.type)){it=M.stateNode,Cn=!1;break e}break;case 5:it=M.stateNode,Cn=!1;break e;case 3:case 4:it=M.stateNode.containerInfo,Cn=!0;break e}M=M.return}if(it===null)throw Error(r(160));F2(y,x,p),it=null,Cn=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)$2(o,i),o=o.sibling}var tr=null;function $2(i,o){var u=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Rn(o,i),Nn(i),f&4&&(si(3,i,i.return),kl(3,i),si(5,i,i.return));break;case 1:Rn(o,i),Nn(i),f&512&&(yt||u===null||ur(u,u.return)),f&64&&zr&&(i=i.updateQueue,i!==null&&(f=i.callbacks,f!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var p=tr;if(Rn(o,i),Nn(i),f&512&&(yt||u===null||ur(u,u.return)),f&4){var y=u!==null?u.memoizedState:null;if(f=i.memoizedState,u===null)if(f===null)if(i.stateNode===null){e:{f=i.type,u=i.memoizedProps,p=p.ownerDocument||p;t:switch(f){case"title":y=p.getElementsByTagName("title")[0],(!y||y[Wo]||y[Zt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(f),p.head.insertBefore(y,p.querySelector("head > title"))),Vt(y,f,u),y[Zt]=i,Rt(y),f=y;break e;case"link":var x=_y("link","href",p).get(f+(u.href||""));if(x){for(var M=0;M<x.length;M++)if(y=x[M],y.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&y.getAttribute("rel")===(u.rel==null?null:u.rel)&&y.getAttribute("title")===(u.title==null?null:u.title)&&y.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){x.splice(M,1);break t}}y=p.createElement(f),Vt(y,f,u),p.head.appendChild(y);break;case"meta":if(x=_y("meta","content",p).get(f+(u.content||""))){for(M=0;M<x.length;M++)if(y=x[M],y.getAttribute("content")===(u.content==null?null:""+u.content)&&y.getAttribute("name")===(u.name==null?null:u.name)&&y.getAttribute("property")===(u.property==null?null:u.property)&&y.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&y.getAttribute("charset")===(u.charSet==null?null:u.charSet)){x.splice(M,1);break t}}y=p.createElement(f),Vt(y,f,u),p.head.appendChild(y);break;default:throw Error(r(468,f))}y[Zt]=i,Rt(y),f=y}i.stateNode=f}else Uy(p,i.type,i.stateNode);else i.stateNode=Vy(p,f,i.memoizedProps);else y!==f?(y===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):y.count--,f===null?Uy(p,i.type,i.stateNode):Vy(p,f,i.memoizedProps)):f===null&&i.stateNode!==null&&xh(i,i.memoizedProps,u.memoizedProps)}break;case 27:Rn(o,i),Nn(i),f&512&&(yt||u===null||ur(u,u.return)),u!==null&&f&4&&xh(i,i.memoizedProps,u.memoizedProps);break;case 5:if(Rn(o,i),Nn(i),f&512&&(yt||u===null||ur(u,u.return)),i.flags&32){p=i.stateNode;try{Gs(p,"")}catch(_){Ze(i,i.return,_)}}f&4&&i.stateNode!=null&&(p=i.memoizedProps,xh(i,p,u!==null?u.memoizedProps:p)),f&1024&&(Mh=!0);break;case 6:if(Rn(o,i),Nn(i),f&4){if(i.stateNode===null)throw Error(r(162));f=i.memoizedProps,u=i.stateNode;try{u.nodeValue=f}catch(_){Ze(i,i.return,_)}}break;case 3:if(Ku=null,p=tr,tr=Pu(o.containerInfo),Rn(o,i),tr=p,Nn(i),f&4&&u!==null&&u.memoizedState.isDehydrated)try{$l(o.containerInfo)}catch(_){Ze(i,i.return,_)}Mh&&(Mh=!1,G2(i));break;case 4:f=tr,tr=Pu(i.stateNode.containerInfo),Rn(o,i),Nn(i),tr=f;break;case 12:Rn(o,i),Nn(i);break;case 13:Rn(o,i),Nn(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Dh=Qe()),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Th(i,f)));break;case 22:p=i.memoizedState!==null;var O=u!==null&&u.memoizedState!==null,I=zr,K=yt;if(zr=I||p,yt=K||O,Rn(o,i),yt=K,zr=I,Nn(i),f&8192)e:for(o=i.stateNode,o._visibility=p?o._visibility&-2:o._visibility|1,p&&(u===null||O||zr||yt||ls(i)),u=null,o=i;;){if(o.tag===5||o.tag===26){if(u===null){O=u=o;try{if(y=O.stateNode,p)x=y.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{M=O.stateNode;var Y=O.memoizedProps.style,V=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;M.style.display=V==null||typeof V=="boolean"?"":(""+V).trim()}}catch(_){Ze(O,O.return,_)}}}else if(o.tag===6){if(u===null){O=o;try{O.stateNode.nodeValue=p?"":O.memoizedProps}catch(_){Ze(O,O.return,_)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}f&4&&(f=i.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,Th(i,u))));break;case 19:Rn(o,i),Nn(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Th(i,f)));break;case 30:break;case 21:break;default:Rn(o,i),Nn(i)}}function Nn(i){var o=i.flags;if(o&2){try{for(var u,f=i.return;f!==null;){if(V2(f)){u=f;break}f=f.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var p=u.stateNode,y=Eh(i);Ru(i,y,p);break;case 5:var x=u.stateNode;u.flags&32&&(Gs(x,""),u.flags&=-33);var M=Eh(i);Ru(i,M,x);break;case 3:case 4:var O=u.stateNode.containerInfo,I=Eh(i);wh(i,I,O);break;default:throw Error(r(161))}}catch(K){Ze(i,i.return,K)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function G2(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;G2(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function oi(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)q2(i,o.alternate,o),o=o.sibling}function ls(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:si(4,o,o.return),ls(o);break;case 1:ur(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&I2(o,o.return,u),ls(o);break;case 27:jl(o.stateNode);case 26:case 5:ur(o,o.return),ls(o);break;case 22:o.memoizedState===null&&ls(o);break;case 30:ls(o);break;default:ls(o)}i=i.sibling}}function li(i,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var f=o.alternate,p=i,y=o,x=y.flags;switch(y.tag){case 0:case 11:case 15:li(p,y,u),kl(4,y);break;case 1:if(li(p,y,u),f=y,p=f.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(I){Ze(f,f.return,I)}if(f=y,p=f.updateQueue,p!==null){var M=f.stateNode;try{var O=p.shared.hiddenCallbacks;if(O!==null)for(p.shared.hiddenCallbacks=null,p=0;p<O.length;p++)x0(O[p],M)}catch(I){Ze(f,f.return,I)}}u&&x&64&&B2(y),Ol(y,y.return);break;case 27:_2(y);case 26:case 5:li(p,y,u),u&&f===null&&x&4&&j2(y),Ol(y,y.return);break;case 12:li(p,y,u);break;case 13:li(p,y,u),u&&x&4&&K2(p,y);break;case 22:y.memoizedState===null&&li(p,y,u),Ol(y,y.return);break;case 30:break;default:li(p,y,u)}o=o.sibling}}function Ah(i,o){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&pl(u))}function kh(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&pl(i))}function cr(i,o,u,f){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Y2(i,o,u,f),o=o.sibling}function Y2(i,o,u,f){var p=o.flags;switch(o.tag){case 0:case 11:case 15:cr(i,o,u,f),p&2048&&kl(9,o);break;case 1:cr(i,o,u,f);break;case 3:cr(i,o,u,f),p&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&pl(i)));break;case 12:if(p&2048){cr(i,o,u,f),i=o.stateNode;try{var y=o.memoizedProps,x=y.id,M=y.onPostCommit;typeof M=="function"&&M(x,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(O){Ze(o,o.return,O)}}else cr(i,o,u,f);break;case 13:cr(i,o,u,f);break;case 23:break;case 22:y=o.stateNode,x=o.alternate,o.memoizedState!==null?y._visibility&2?cr(i,o,u,f):Rl(i,o):y._visibility&2?cr(i,o,u,f):(y._visibility|=2,ho(i,o,u,f,(o.subtreeFlags&10256)!==0)),p&2048&&Ah(x,o);break;case 24:cr(i,o,u,f),p&2048&&kh(o.alternate,o);break;default:cr(i,o,u,f)}}function ho(i,o,u,f,p){for(p=p&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var y=i,x=o,M=u,O=f,I=x.flags;switch(x.tag){case 0:case 11:case 15:ho(y,x,M,O,p),kl(8,x);break;case 23:break;case 22:var K=x.stateNode;x.memoizedState!==null?K._visibility&2?ho(y,x,M,O,p):Rl(y,x):(K._visibility|=2,ho(y,x,M,O,p)),p&&I&2048&&Ah(x.alternate,x);break;case 24:ho(y,x,M,O,p),p&&I&2048&&kh(x.alternate,x);break;default:ho(y,x,M,O,p)}o=o.sibling}}function Rl(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=i,f=o,p=f.flags;switch(f.tag){case 22:Rl(u,f),p&2048&&Ah(f.alternate,f);break;case 24:Rl(u,f),p&2048&&kh(f.alternate,f);break;default:Rl(u,f)}o=o.sibling}}var Nl=8192;function po(i){if(i.subtreeFlags&Nl)for(i=i.child;i!==null;)Z2(i),i=i.sibling}function Z2(i){switch(i.tag){case 26:po(i),i.flags&Nl&&i.memoizedState!==null&&ux(tr,i.memoizedState,i.memoizedProps);break;case 5:po(i);break;case 3:case 4:var o=tr;tr=Pu(i.stateNode.containerInfo),po(i),tr=o;break;case 22:i.memoizedState===null&&(o=i.alternate,o!==null&&o.memoizedState!==null?(o=Nl,Nl=16777216,po(i),Nl=o):po(i));break;default:po(i)}}function J2(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function Dl(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var f=o[u];Dt=f,X2(f,i)}J2(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Q2(i),i=i.sibling}function Q2(i){switch(i.tag){case 0:case 11:case 15:Dl(i),i.flags&2048&&si(9,i,i.return);break;case 3:Dl(i);break;case 12:Dl(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,Nu(i)):Dl(i);break;default:Dl(i)}}function Nu(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var f=o[u];Dt=f,X2(f,i)}J2(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:si(8,o,o.return),Nu(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,Nu(o));break;default:Nu(o)}i=i.sibling}}function X2(i,o){for(;Dt!==null;){var u=Dt;switch(u.tag){case 0:case 11:case 15:si(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:pl(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,Dt=f;else e:for(u=i;Dt!==null;){f=Dt;var p=f.sibling,y=f.return;if(P2(f),f===u){Dt=null;break e}if(p!==null){p.return=y,Dt=p;break e}Dt=y}}}var M5={getCacheForType:function(i){var o=Jt(Mt),u=o.data.get(i);return u===void 0&&(u=i(),o.data.set(i,u)),u}},T5=typeof WeakMap=="function"?WeakMap:Map,Pe=0,We=null,De=null,Be=0,Fe=0,Dn=null,ai=!1,mo=!1,Oh=!1,Br=0,ct=0,ui=0,as=0,Rh=0,Kn=0,go=0,Ll=null,Sn=null,Nh=!1,Dh=0,Du=1/0,Lu=null,ci=null,jt=0,fi=null,yo=null,bo=0,Lh=0,zh=null,W2=null,zl=0,Hh=null;function Ln(){if((Pe&2)!==0&&Be!==0)return Be&-Be;if(z.T!==null){var i=io;return i!==0?i:qh()}return mg()}function ey(){Kn===0&&(Kn=(Be&536870912)===0||Ve?Fa():536870912);var i=Fn.current;return i!==null&&(i.flags|=32),Kn}function zn(i,o,u){(i===We&&(Fe===2||Fe===9)||i.cancelPendingCommit!==null)&&(vo(i,0),di(i,Be,Kn,!1)),Xo(i,u),((Pe&2)===0||i!==We)&&(i===We&&((Pe&2)===0&&(as|=u),ct===4&&di(i,Be,Kn,!1)),fr(i))}function ty(i,o,u){if((Pe&6)!==0)throw Error(r(327));var f=!u&&(o&124)===0&&(o&i.expiredLanes)===0||gn(i,o),p=f?O5(i,o):jh(i,o,!0),y=f;do{if(p===0){mo&&!f&&di(i,o,0,!1);break}else{if(u=i.current.alternate,y&&!A5(u)){p=jh(i,o,!1),y=!1;continue}if(p===2){if(y=o,i.errorRecoveryDisabledLanes&y)var x=0;else x=i.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){o=x;e:{var M=i;p=Ll;var O=M.current.memoizedState.isDehydrated;if(O&&(vo(M,x).flags|=256),x=jh(M,x,!1),x!==2){if(Oh&&!O){M.errorRecoveryDisabledLanes|=y,as|=y,p=4;break e}y=Sn,Sn=p,y!==null&&(Sn===null?Sn=y:Sn.push.apply(Sn,y))}p=x}if(y=!1,p!==2)continue}}if(p===1){vo(i,0),di(i,o,0,!0);break}e:{switch(f=i,y=p,y){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:di(f,o,Kn,!ai);break e;case 2:Sn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(p=Dh+300-Qe(),10<p)){if(di(f,o,Kn,!ai),xr(f,0,!0)!==0)break e;f.timeoutHandle=Ry(ny.bind(null,f,u,Sn,Lu,Nh,o,Kn,as,go,ai,y,2,-0,0),p);break e}ny(f,u,Sn,Lu,Nh,o,Kn,as,go,ai,y,0,-0,0)}}break}while(!0);fr(i)}function ny(i,o,u,f,p,y,x,M,O,I,K,Y,V,_){if(i.timeoutHandle=-1,Y=o.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(Ul={stylesheets:null,count:0,unsuspend:ax},Z2(o),Y=cx(),Y!==null)){i.cancelPendingCommit=Y(uy.bind(null,i,o,y,u,f,p,x,M,O,K,1,V,_)),di(i,y,x,!I);return}uy(i,o,y,u,f,p,x,M,O)}function A5(i){for(var o=i;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var p=u[f],y=p.getSnapshot;p=p.value;try{if(!kn(y(),p))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function di(i,o,u,f){o&=~Rh,o&=~as,i.suspendedLanes|=o,i.pingedLanes&=~o,f&&(i.warmLanes|=o),f=i.expirationTimes;for(var p=o;0<p;){var y=31-Ot(p),x=1<<y;f[y]=-1,p&=~x}u!==0&&hg(i,u,o)}function zu(){return(Pe&6)===0?(Hl(0),!1):!0}function Bh(){if(De!==null){if(Fe===0)var i=De.return;else i=De,kr=ts=null,Wd(i),co=null,Ml=0,i=De;for(;i!==null;)H2(i.alternate,i),i=i.return;De=null}}function vo(i,o){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,K5(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),Bh(),We=i,De=u=Mr(i.current,null),Be=o,Fe=0,Dn=null,ai=!1,mo=gn(i,o),Oh=!1,go=Kn=Rh=as=ui=ct=0,Sn=Ll=null,Nh=!1,(o&8)!==0&&(o|=o&32);var f=i.entangledLanes;if(f!==0)for(i=i.entanglements,f&=o;0<f;){var p=31-Ot(f),y=1<<p;o|=i[p],f&=~y}return Br=o,nu(),u}function ry(i,o){ke=null,z.H=Su,o===gl||o===fu?(o=C0(),Fe=3):o===y0?(o=C0(),Fe=4):Fe=o===S2?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Dn=o,De===null&&(ct=1,Tu(i,_n(o,i.current)))}function iy(){var i=z.H;return z.H=Su,i===null?Su:i}function sy(){var i=z.A;return z.A=M5,i}function Ih(){ct=4,ai||(Be&4194048)!==Be&&Fn.current!==null||(mo=!0),(ui&134217727)===0&&(as&134217727)===0||We===null||di(We,Be,Kn,!1)}function jh(i,o,u){var f=Pe;Pe|=2;var p=iy(),y=sy();(We!==i||Be!==o)&&(Lu=null,vo(i,o)),o=!1;var x=ct;e:do try{if(Fe!==0&&De!==null){var M=De,O=Dn;switch(Fe){case 8:Bh(),x=6;break e;case 3:case 2:case 9:case 6:Fn.current===null&&(o=!0);var I=Fe;if(Fe=0,Dn=null,Co(i,M,O,I),u&&mo){x=0;break e}break;default:I=Fe,Fe=0,Dn=null,Co(i,M,O,I)}}k5(),x=ct;break}catch(K){ry(i,K)}while(!0);return o&&i.shellSuspendCounter++,kr=ts=null,Pe=f,z.H=p,z.A=y,De===null&&(We=null,Be=0,nu()),x}function k5(){for(;De!==null;)oy(De)}function O5(i,o){var u=Pe;Pe|=2;var f=iy(),p=sy();We!==i||Be!==o?(Lu=null,Du=Qe()+500,vo(i,o)):mo=gn(i,o);e:do try{if(Fe!==0&&De!==null){o=De;var y=Dn;t:switch(Fe){case 1:Fe=0,Dn=null,Co(i,o,y,1);break;case 2:case 9:if(b0(y)){Fe=0,Dn=null,ly(o);break}o=function(){Fe!==2&&Fe!==9||We!==i||(Fe=7),fr(i)},y.then(o,o);break e;case 3:Fe=7;break e;case 4:Fe=5;break e;case 7:b0(y)?(Fe=0,Dn=null,ly(o)):(Fe=0,Dn=null,Co(i,o,y,7));break;case 5:var x=null;switch(De.tag){case 26:x=De.memoizedState;case 5:case 27:var M=De;if(!x||qy(x)){Fe=0,Dn=null;var O=M.sibling;if(O!==null)De=O;else{var I=M.return;I!==null?(De=I,Hu(I)):De=null}break t}}Fe=0,Dn=null,Co(i,o,y,5);break;case 6:Fe=0,Dn=null,Co(i,o,y,6);break;case 8:Bh(),ct=6;break e;default:throw Error(r(462))}}R5();break}catch(K){ry(i,K)}while(!0);return kr=ts=null,z.H=f,z.A=p,Pe=u,De!==null?0:(We=null,Be=0,nu(),ct)}function R5(){for(;De!==null&&!at();)oy(De)}function oy(i){var o=L2(i.alternate,i,Br);i.memoizedProps=i.pendingProps,o===null?Hu(i):De=o}function ly(i){var o=i,u=o.alternate;switch(o.tag){case 15:case 0:o=A2(u,o,o.pendingProps,o.type,void 0,Be);break;case 11:o=A2(u,o,o.pendingProps,o.type.render,o.ref,Be);break;case 5:Wd(o);default:H2(u,o),o=De=a0(o,Br),o=L2(u,o,Br)}i.memoizedProps=i.pendingProps,o===null?Hu(i):De=o}function Co(i,o,u,f){kr=ts=null,Wd(o),co=null,Ml=0;var p=o.return;try{if(v5(i,p,o,u,Be)){ct=1,Tu(i,_n(u,i.current)),De=null;return}}catch(y){if(p!==null)throw De=p,y;ct=1,Tu(i,_n(u,i.current)),De=null;return}o.flags&32768?(Ve||f===1?i=!0:mo||(Be&536870912)!==0?i=!1:(ai=i=!0,(f===2||f===9||f===3||f===6)&&(f=Fn.current,f!==null&&f.tag===13&&(f.flags|=16384))),ay(o,i)):Hu(o)}function Hu(i){var o=i;do{if((o.flags&32768)!==0){ay(o,ai);return}i=o.return;var u=S5(o.alternate,o,Br);if(u!==null){De=u;return}if(o=o.sibling,o!==null){De=o;return}De=o=i}while(o!==null);ct===0&&(ct=5)}function ay(i,o){do{var u=x5(i.alternate,i);if(u!==null){u.flags&=32767,De=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(i=i.sibling,i!==null)){De=i;return}De=i=u}while(i!==null);ct=6,De=null}function uy(i,o,u,f,p,y,x,M,O){i.cancelPendingCommit=null;do Bu();while(jt!==0);if((Pe&6)!==0)throw Error(r(327));if(o!==null){if(o===i.current)throw Error(r(177));if(y=o.lanes|o.childLanes,y|=kd,aS(i,u,y,x,M,O),i===We&&(De=We=null,Be=0),yo=o,fi=i,bo=u,Lh=y,zh=p,W2=f,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,z5(Yt,function(){return py(),null})):(i.callbackNode=null,i.callbackPriority=0),f=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||f){f=z.T,z.T=null,p=U.p,U.p=2,x=Pe,Pe|=4;try{E5(i,o,u)}finally{Pe=x,U.p=p,z.T=f}}jt=1,cy(),fy(),dy()}}function cy(){if(jt===1){jt=0;var i=fi,o=yo,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=z.T,z.T=null;var f=U.p;U.p=2;var p=Pe;Pe|=4;try{$2(o,i);var y=Jh,x=Xg(i.containerInfo),M=y.focusedElem,O=y.selectionRange;if(x!==M&&M&&M.ownerDocument&&Qg(M.ownerDocument.documentElement,M)){if(O!==null&&Ed(M)){var I=O.start,K=O.end;if(K===void 0&&(K=I),"selectionStart"in M)M.selectionStart=I,M.selectionEnd=Math.min(K,M.value.length);else{var Y=M.ownerDocument||document,V=Y&&Y.defaultView||window;if(V.getSelection){var _=V.getSelection(),be=M.textContent.length,pe=Math.min(O.start,be),Ge=O.end===void 0?pe:Math.min(O.end,be);!_.extend&&pe>Ge&&(x=Ge,Ge=pe,pe=x);var L=Jg(M,pe),N=Jg(M,Ge);if(L&&N&&(_.rangeCount!==1||_.anchorNode!==L.node||_.anchorOffset!==L.offset||_.focusNode!==N.node||_.focusOffset!==N.offset)){var B=Y.createRange();B.setStart(L.node,L.offset),_.removeAllRanges(),pe>Ge?(_.addRange(B),_.extend(N.node,N.offset)):(B.setEnd(N.node,N.offset),_.addRange(B))}}}}for(Y=[],_=M;_=_.parentNode;)_.nodeType===1&&Y.push({element:_,left:_.scrollLeft,top:_.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<Y.length;M++){var G=Y[M];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}Yu=!!Zh,Jh=Zh=null}finally{Pe=p,U.p=f,z.T=u}}i.current=o,jt=2}}function fy(){if(jt===2){jt=0;var i=fi,o=yo,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=z.T,z.T=null;var f=U.p;U.p=2;var p=Pe;Pe|=4;try{q2(i,o.alternate,o)}finally{Pe=p,U.p=f,z.T=u}}jt=3}}function dy(){if(jt===4||jt===3){jt=0,st();var i=fi,o=yo,u=bo,f=W2;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?jt=5:(jt=0,yo=fi=null,hy(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(ci=null),nd(u),o=o.stateNode,He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(Ue,o,void 0,(o.current.flags&128)===128)}catch{}if(f!==null){o=z.T,p=U.p,U.p=2,z.T=null;try{for(var y=i.onRecoverableError,x=0;x<f.length;x++){var M=f[x];y(M.value,{componentStack:M.stack})}}finally{z.T=o,U.p=p}}(bo&3)!==0&&Bu(),fr(i),p=i.pendingLanes,(u&4194090)!==0&&(p&42)!==0?i===Hh?zl++:(zl=0,Hh=i):zl=0,Hl(0)}}function hy(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,pl(o)))}function Bu(i){return cy(),fy(),dy(),py()}function py(){if(jt!==5)return!1;var i=fi,o=Lh;Lh=0;var u=nd(bo),f=z.T,p=U.p;try{U.p=32>u?32:u,z.T=null,u=zh,zh=null;var y=fi,x=bo;if(jt=0,yo=fi=null,bo=0,(Pe&6)!==0)throw Error(r(331));var M=Pe;if(Pe|=4,Q2(y.current),Y2(y,y.current,x,u),Pe=M,Hl(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(Ue,y)}catch{}return!0}finally{U.p=p,z.T=f,hy(i,o)}}function my(i,o,u){o=_n(u,o),o=hh(i.stateNode,o,2),i=ti(i,o,2),i!==null&&(Xo(i,2),fr(i))}function Ze(i,o,u){if(i.tag===3)my(i,i,u);else for(;o!==null;){if(o.tag===3){my(o,i,u);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(ci===null||!ci.has(f))){i=_n(u,i),u=v2(2),f=ti(o,u,2),f!==null&&(C2(u,f,o,i),Xo(f,2),fr(f));break}}o=o.return}}function Vh(i,o,u){var f=i.pingCache;if(f===null){f=i.pingCache=new T5;var p=new Set;f.set(o,p)}else p=f.get(o),p===void 0&&(p=new Set,f.set(o,p));p.has(u)||(Oh=!0,p.add(u),i=N5.bind(null,i,o,u),o.then(i,i))}function N5(i,o,u){var f=i.pingCache;f!==null&&f.delete(o),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,We===i&&(Be&u)===u&&(ct===4||ct===3&&(Be&62914560)===Be&&300>Qe()-Dh?(Pe&2)===0&&vo(i,0):Rh|=u,go===Be&&(go=0)),fr(i)}function gy(i,o){o===0&&(o=Qo()),i=eo(i,o),i!==null&&(Xo(i,o),fr(i))}function D5(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),gy(i,u)}function L5(i,o){var u=0;switch(i.tag){case 13:var f=i.stateNode,p=i.memoizedState;p!==null&&(u=p.retryLane);break;case 19:f=i.stateNode;break;case 22:f=i.stateNode._retryCache;break;default:throw Error(r(314))}f!==null&&f.delete(o),gy(i,u)}function z5(i,o){return Ee(i,o)}var Iu=null,So=null,_h=!1,ju=!1,Uh=!1,us=0;function fr(i){i!==So&&i.next===null&&(So===null?Iu=So=i:So=So.next=i),ju=!0,_h||(_h=!0,B5())}function Hl(i,o){if(!Uh&&ju){Uh=!0;do for(var u=!1,f=Iu;f!==null;){if(i!==0){var p=f.pendingLanes;if(p===0)var y=0;else{var x=f.suspendedLanes,M=f.pingedLanes;y=(1<<31-Ot(42|i)+1)-1,y&=p&~(x&~M),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(u=!0,Cy(f,y))}else y=Be,y=xr(f,f===We?y:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(y&3)===0||gn(f,y)||(u=!0,Cy(f,y));f=f.next}while(u);Uh=!1}}function H5(){yy()}function yy(){ju=_h=!1;var i=0;us!==0&&(F5()&&(i=us),us=0);for(var o=Qe(),u=null,f=Iu;f!==null;){var p=f.next,y=by(f,o);y===0?(f.next=null,u===null?Iu=p:u.next=p,p===null&&(So=u)):(u=f,(i!==0||(y&3)!==0)&&(ju=!0)),f=p}Hl(i)}function by(i,o){for(var u=i.suspendedLanes,f=i.pingedLanes,p=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var x=31-Ot(y),M=1<<x,O=p[x];O===-1?((M&u)===0||(M&f)!==0)&&(p[x]=js(M,o)):O<=o&&(i.expiredLanes|=M),y&=~M}if(o=We,u=Be,u=xr(i,i===o?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f=i.callbackNode,u===0||i===o&&(Fe===2||Fe===9)||i.cancelPendingCommit!==null)return f!==null&&f!==null&&we(f),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||gn(i,u)){if(o=u&-u,o===i.callbackPriority)return o;switch(f!==null&&we(f),nd(u)){case 2:case 8:u=Ye;break;case 32:u=Yt;break;case 268435456:u=je;break;default:u=Yt}return f=vy.bind(null,i),u=Ee(u,f),i.callbackPriority=o,i.callbackNode=u,o}return f!==null&&f!==null&&we(f),i.callbackPriority=2,i.callbackNode=null,2}function vy(i,o){if(jt!==0&&jt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(Bu()&&i.callbackNode!==u)return null;var f=Be;return f=xr(i,i===We?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f===0?null:(ty(i,f,o),by(i,Qe()),i.callbackNode!=null&&i.callbackNode===u?vy.bind(null,i):null)}function Cy(i,o){if(Bu())return null;ty(i,o,!0)}function B5(){$5(function(){(Pe&6)!==0?Ee(_e,H5):yy()})}function qh(){return us===0&&(us=Fa()),us}function Sy(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Za(""+i)}function xy(i,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,i.id&&u.setAttribute("form",i.id),o.parentNode.insertBefore(u,o),i=new FormData(i),u.parentNode.removeChild(u),i}function I5(i,o,u,f,p){if(o==="submit"&&u&&u.stateNode===p){var y=Sy((p[yn]||null).action),x=f.submitter;x&&(o=(o=x[yn]||null)?Sy(o.formAction):x.getAttribute("formAction"),o!==null&&(y=o,x=null));var M=new Wa("action","action",null,f,p);i.push({event:M,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(us!==0){var O=x?xy(p,x):new FormData(p);ah(u,{pending:!0,data:O,method:p.method,action:y},null,O)}}else typeof y=="function"&&(M.preventDefault(),O=x?xy(p,x):new FormData(p),ah(u,{pending:!0,data:O,method:p.method,action:y},y,O))},currentTarget:p}]})}}for(var Ph=0;Ph<Ad.length;Ph++){var Fh=Ad[Ph],j5=Fh.toLowerCase(),V5=Fh[0].toUpperCase()+Fh.slice(1);er(j5,"on"+V5)}er(t0,"onAnimationEnd"),er(n0,"onAnimationIteration"),er(r0,"onAnimationStart"),er("dblclick","onDoubleClick"),er("focusin","onFocus"),er("focusout","onBlur"),er(n5,"onTransitionRun"),er(r5,"onTransitionStart"),er(i5,"onTransitionCancel"),er(i0,"onTransitionEnd"),Fs("onMouseEnter",["mouseout","mouseover"]),Fs("onMouseLeave",["mouseout","mouseover"]),Fs("onPointerEnter",["pointerout","pointerover"]),Fs("onPointerLeave",["pointerout","pointerover"]),$i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$i("onBeforeInput",["compositionend","keypress","textInput","paste"]),$i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_5=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bl));function Ey(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var f=i[u],p=f.event;f=f.listeners;e:{var y=void 0;if(o)for(var x=f.length-1;0<=x;x--){var M=f[x],O=M.instance,I=M.currentTarget;if(M=M.listener,O!==y&&p.isPropagationStopped())break e;y=M,p.currentTarget=I;try{y(p)}catch(K){Mu(K)}p.currentTarget=null,y=O}else for(x=0;x<f.length;x++){if(M=f[x],O=M.instance,I=M.currentTarget,M=M.listener,O!==y&&p.isPropagationStopped())break e;y=M,p.currentTarget=I;try{y(p)}catch(K){Mu(K)}p.currentTarget=null,y=O}}}}function Le(i,o){var u=o[rd];u===void 0&&(u=o[rd]=new Set);var f=i+"__bubble";u.has(f)||(wy(o,i,2,!1),u.add(f))}function Kh(i,o,u){var f=0;o&&(f|=4),wy(u,i,f,o)}var Vu="_reactListening"+Math.random().toString(36).slice(2);function $h(i){if(!i[Vu]){i[Vu]=!0,yg.forEach(function(u){u!=="selectionchange"&&(_5.has(u)||Kh(u,!1,i),Kh(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Vu]||(o[Vu]=!0,Kh("selectionchange",!1,o))}}function wy(i,o,u,f){switch(Yy(o)){case 2:var p=hx;break;case 8:p=px;break;default:p=op}u=p.bind(null,o,u,i),p=void 0,!pd||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(p=!0),f?p!==void 0?i.addEventListener(o,u,{capture:!0,passive:p}):i.addEventListener(o,u,!0):p!==void 0?i.addEventListener(o,u,{passive:p}):i.addEventListener(o,u,!1)}function Gh(i,o,u,f,p){var y=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var x=f.tag;if(x===3||x===4){var M=f.stateNode.containerInfo;if(M===p)break;if(x===4)for(x=f.return;x!==null;){var O=x.tag;if((O===3||O===4)&&x.stateNode.containerInfo===p)return;x=x.return}for(;M!==null;){if(x=Us(M),x===null)return;if(O=x.tag,O===5||O===6||O===26||O===27){f=y=x;continue e}M=M.parentNode}}f=f.return}Ng(function(){var I=y,K=dd(u),Y=[];e:{var V=s0.get(i);if(V!==void 0){var _=Wa,be=i;switch(i){case"keypress":if(Qa(u)===0)break e;case"keydown":case"keyup":_=zS;break;case"focusin":be="focus",_=bd;break;case"focusout":be="blur",_=bd;break;case"beforeblur":case"afterblur":_=bd;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=zg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=xS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=IS;break;case t0:case n0:case r0:_=MS;break;case i0:_=VS;break;case"scroll":case"scrollend":_=CS;break;case"wheel":_=US;break;case"copy":case"cut":case"paste":_=AS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=Bg;break;case"toggle":case"beforetoggle":_=PS}var pe=(o&4)!==0,Ge=!pe&&(i==="scroll"||i==="scrollend"),L=pe?V!==null?V+"Capture":null:V;pe=[];for(var N=I,B;N!==null;){var G=N;if(B=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||B===null||L===null||(G=tl(N,L),G!=null&&pe.push(Il(N,G,B))),Ge)break;N=N.return}0<pe.length&&(V=new _(V,be,null,u,K),Y.push({event:V,listeners:pe}))}}if((o&7)===0){e:{if(V=i==="mouseover"||i==="pointerover",_=i==="mouseout"||i==="pointerout",V&&u!==fd&&(be=u.relatedTarget||u.fromElement)&&(Us(be)||be[_s]))break e;if((_||V)&&(V=K.window===K?K:(V=K.ownerDocument)?V.defaultView||V.parentWindow:window,_?(be=u.relatedTarget||u.toElement,_=I,be=be?Us(be):null,be!==null&&(Ge=l(be),pe=be.tag,be!==Ge||pe!==5&&pe!==27&&pe!==6)&&(be=null)):(_=null,be=I),_!==be)){if(pe=zg,G="onMouseLeave",L="onMouseEnter",N="mouse",(i==="pointerout"||i==="pointerover")&&(pe=Bg,G="onPointerLeave",L="onPointerEnter",N="pointer"),Ge=_==null?V:el(_),B=be==null?V:el(be),V=new pe(G,N+"leave",_,u,K),V.target=Ge,V.relatedTarget=B,G=null,Us(K)===I&&(pe=new pe(L,N+"enter",be,u,K),pe.target=B,pe.relatedTarget=Ge,G=pe),Ge=G,_&&be)t:{for(pe=_,L=be,N=0,B=pe;B;B=xo(B))N++;for(B=0,G=L;G;G=xo(G))B++;for(;0<N-B;)pe=xo(pe),N--;for(;0<B-N;)L=xo(L),B--;for(;N--;){if(pe===L||L!==null&&pe===L.alternate)break t;pe=xo(pe),L=xo(L)}pe=null}else pe=null;_!==null&&My(Y,V,_,pe,!1),be!==null&&Ge!==null&&My(Y,Ge,be,pe,!0)}}e:{if(V=I?el(I):window,_=V.nodeName&&V.nodeName.toLowerCase(),_==="select"||_==="input"&&V.type==="file")var ae=Fg;else if(qg(V))if(Kg)ae=WS;else{ae=QS;var Re=JS}else _=V.nodeName,!_||_.toLowerCase()!=="input"||V.type!=="checkbox"&&V.type!=="radio"?I&&cd(I.elementType)&&(ae=Fg):ae=XS;if(ae&&(ae=ae(i,I))){Pg(Y,ae,u,K);break e}Re&&Re(i,V,I),i==="focusout"&&I&&V.type==="number"&&I.memoizedProps.value!=null&&ud(V,"number",V.value)}switch(Re=I?el(I):window,i){case"focusin":(qg(Re)||Re.contentEditable==="true")&&(Qs=Re,wd=I,ul=null);break;case"focusout":ul=wd=Qs=null;break;case"mousedown":Md=!0;break;case"contextmenu":case"mouseup":case"dragend":Md=!1,Wg(Y,u,K);break;case"selectionchange":if(t5)break;case"keydown":case"keyup":Wg(Y,u,K)}var fe;if(Cd)e:{switch(i){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else Js?_g(i,u)&&(ye="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(ye="onCompositionStart");ye&&(Ig&&u.locale!=="ko"&&(Js||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&Js&&(fe=Dg()):(Qr=K,md="value"in Qr?Qr.value:Qr.textContent,Js=!0)),Re=_u(I,ye),0<Re.length&&(ye=new Hg(ye,i,null,u,K),Y.push({event:ye,listeners:Re}),fe?ye.data=fe:(fe=Ug(u),fe!==null&&(ye.data=fe)))),(fe=KS?$S(i,u):GS(i,u))&&(ye=_u(I,"onBeforeInput"),0<ye.length&&(Re=new Hg("onBeforeInput","beforeinput",null,u,K),Y.push({event:Re,listeners:ye}),Re.data=fe)),I5(Y,i,I,u,K)}Ey(Y,o)})}function Il(i,o,u){return{instance:i,listener:o,currentTarget:u}}function _u(i,o){for(var u=o+"Capture",f=[];i!==null;){var p=i,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=tl(i,u),p!=null&&f.unshift(Il(i,p,y)),p=tl(i,o),p!=null&&f.push(Il(i,p,y))),i.tag===3)return f;i=i.return}return[]}function xo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function My(i,o,u,f,p){for(var y=o._reactName,x=[];u!==null&&u!==f;){var M=u,O=M.alternate,I=M.stateNode;if(M=M.tag,O!==null&&O===f)break;M!==5&&M!==26&&M!==27||I===null||(O=I,p?(I=tl(u,y),I!=null&&x.unshift(Il(u,I,O))):p||(I=tl(u,y),I!=null&&x.push(Il(u,I,O)))),u=u.return}x.length!==0&&i.push({event:o,listeners:x})}var U5=/\r\n?/g,q5=/\u0000|\uFFFD/g;function Ty(i){return(typeof i=="string"?i:""+i).replace(U5,`
`).replace(q5,"")}function Ay(i,o){return o=Ty(o),Ty(i)===o}function Uu(){}function $e(i,o,u,f,p,y){switch(u){case"children":typeof f=="string"?o==="body"||o==="textarea"&&f===""||Gs(i,f):(typeof f=="number"||typeof f=="bigint")&&o!=="body"&&Gs(i,""+f);break;case"className":$a(i,"class",f);break;case"tabIndex":$a(i,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":$a(i,u,f);break;case"style":Og(i,f,y);break;case"data":if(o!=="object"){$a(i,"data",f);break}case"src":case"href":if(f===""&&(o!=="a"||u!=="href")){i.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(u);break}f=Za(""+f),i.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(u==="formAction"?(o!=="input"&&$e(i,o,"name",p.name,p,null),$e(i,o,"formEncType",p.formEncType,p,null),$e(i,o,"formMethod",p.formMethod,p,null),$e(i,o,"formTarget",p.formTarget,p,null)):($e(i,o,"encType",p.encType,p,null),$e(i,o,"method",p.method,p,null),$e(i,o,"target",p.target,p,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(u);break}f=Za(""+f),i.setAttribute(u,f);break;case"onClick":f!=null&&(i.onclick=Uu);break;case"onScroll":f!=null&&Le("scroll",i);break;case"onScrollEnd":f!=null&&Le("scrollend",i);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(u=f.__html,u!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"multiple":i.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":i.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){i.removeAttribute("xlink:href");break}u=Za(""+f),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(u,""+f):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":f===!0?i.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(u,f):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?i.setAttribute(u,f):i.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?i.removeAttribute(u):i.setAttribute(u,f);break;case"popover":Le("beforetoggle",i),Le("toggle",i),Ka(i,"popover",f);break;case"xlinkActuate":Er(i,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Er(i,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Er(i,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Er(i,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Er(i,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Er(i,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Er(i,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Er(i,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Er(i,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Ka(i,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=bS.get(u)||u,Ka(i,u,f))}}function Yh(i,o,u,f,p,y){switch(u){case"style":Og(i,f,y);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(u=f.__html,u!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"children":typeof f=="string"?Gs(i,f):(typeof f=="number"||typeof f=="bigint")&&Gs(i,""+f);break;case"onScroll":f!=null&&Le("scroll",i);break;case"onScrollEnd":f!=null&&Le("scrollend",i);break;case"onClick":f!=null&&(i.onclick=Uu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bg.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(p=u.endsWith("Capture"),o=u.slice(2,p?u.length-7:void 0),y=i[yn]||null,y=y!=null?y[u]:null,typeof y=="function"&&i.removeEventListener(o,y,p),typeof f=="function")){typeof y!="function"&&y!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(o,f,p);break e}u in i?i[u]=f:f===!0?i.setAttribute(u,""):Ka(i,u,f)}}}function Vt(i,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",i),Le("load",i);var f=!1,p=!1,y;for(y in u)if(u.hasOwnProperty(y)){var x=u[y];if(x!=null)switch(y){case"src":f=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:$e(i,o,y,x,u,null)}}p&&$e(i,o,"srcSet",u.srcSet,u,null),f&&$e(i,o,"src",u.src,u,null);return;case"input":Le("invalid",i);var M=y=x=p=null,O=null,I=null;for(f in u)if(u.hasOwnProperty(f)){var K=u[f];if(K!=null)switch(f){case"name":p=K;break;case"type":x=K;break;case"checked":O=K;break;case"defaultChecked":I=K;break;case"value":y=K;break;case"defaultValue":M=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,o));break;default:$e(i,o,f,K,u,null)}}Mg(i,y,M,O,I,x,p,!1),Ga(i);return;case"select":Le("invalid",i),f=x=y=null;for(p in u)if(u.hasOwnProperty(p)&&(M=u[p],M!=null))switch(p){case"value":y=M;break;case"defaultValue":x=M;break;case"multiple":f=M;default:$e(i,o,p,M,u,null)}o=y,u=x,i.multiple=!!f,o!=null?$s(i,!!f,o,!1):u!=null&&$s(i,!!f,u,!0);return;case"textarea":Le("invalid",i),y=p=f=null;for(x in u)if(u.hasOwnProperty(x)&&(M=u[x],M!=null))switch(x){case"value":f=M;break;case"defaultValue":p=M;break;case"children":y=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(91));break;default:$e(i,o,x,M,u,null)}Ag(i,f,p,y),Ga(i);return;case"option":for(O in u)if(u.hasOwnProperty(O)&&(f=u[O],f!=null))switch(O){case"selected":i.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:$e(i,o,O,f,u,null)}return;case"dialog":Le("beforetoggle",i),Le("toggle",i),Le("cancel",i),Le("close",i);break;case"iframe":case"object":Le("load",i);break;case"video":case"audio":for(f=0;f<Bl.length;f++)Le(Bl[f],i);break;case"image":Le("error",i),Le("load",i);break;case"details":Le("toggle",i);break;case"embed":case"source":case"link":Le("error",i),Le("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(I in u)if(u.hasOwnProperty(I)&&(f=u[I],f!=null))switch(I){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:$e(i,o,I,f,u,null)}return;default:if(cd(o)){for(K in u)u.hasOwnProperty(K)&&(f=u[K],f!==void 0&&Yh(i,o,K,f,u,void 0));return}}for(M in u)u.hasOwnProperty(M)&&(f=u[M],f!=null&&$e(i,o,M,f,u,null))}function P5(i,o,u,f){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,x=null,M=null,O=null,I=null,K=null;for(_ in u){var Y=u[_];if(u.hasOwnProperty(_)&&Y!=null)switch(_){case"checked":break;case"value":break;case"defaultValue":O=Y;default:f.hasOwnProperty(_)||$e(i,o,_,null,f,Y)}}for(var V in f){var _=f[V];if(Y=u[V],f.hasOwnProperty(V)&&(_!=null||Y!=null))switch(V){case"type":y=_;break;case"name":p=_;break;case"checked":I=_;break;case"defaultChecked":K=_;break;case"value":x=_;break;case"defaultValue":M=_;break;case"children":case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(137,o));break;default:_!==Y&&$e(i,o,V,_,f,Y)}}ad(i,x,M,O,I,K,y,p);return;case"select":_=x=M=V=null;for(y in u)if(O=u[y],u.hasOwnProperty(y)&&O!=null)switch(y){case"value":break;case"multiple":_=O;default:f.hasOwnProperty(y)||$e(i,o,y,null,f,O)}for(p in f)if(y=f[p],O=u[p],f.hasOwnProperty(p)&&(y!=null||O!=null))switch(p){case"value":V=y;break;case"defaultValue":M=y;break;case"multiple":x=y;default:y!==O&&$e(i,o,p,y,f,O)}o=M,u=x,f=_,V!=null?$s(i,!!u,V,!1):!!f!=!!u&&(o!=null?$s(i,!!u,o,!0):$s(i,!!u,u?[]:"",!1));return;case"textarea":_=V=null;for(M in u)if(p=u[M],u.hasOwnProperty(M)&&p!=null&&!f.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:$e(i,o,M,null,f,p)}for(x in f)if(p=f[x],y=u[x],f.hasOwnProperty(x)&&(p!=null||y!=null))switch(x){case"value":V=p;break;case"defaultValue":_=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==y&&$e(i,o,x,p,f,y)}Tg(i,V,_);return;case"option":for(var be in u)if(V=u[be],u.hasOwnProperty(be)&&V!=null&&!f.hasOwnProperty(be))switch(be){case"selected":i.selected=!1;break;default:$e(i,o,be,null,f,V)}for(O in f)if(V=f[O],_=u[O],f.hasOwnProperty(O)&&V!==_&&(V!=null||_!=null))switch(O){case"selected":i.selected=V&&typeof V!="function"&&typeof V!="symbol";break;default:$e(i,o,O,V,f,_)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in u)V=u[pe],u.hasOwnProperty(pe)&&V!=null&&!f.hasOwnProperty(pe)&&$e(i,o,pe,null,f,V);for(I in f)if(V=f[I],_=u[I],f.hasOwnProperty(I)&&V!==_&&(V!=null||_!=null))switch(I){case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(r(137,o));break;default:$e(i,o,I,V,f,_)}return;default:if(cd(o)){for(var Ge in u)V=u[Ge],u.hasOwnProperty(Ge)&&V!==void 0&&!f.hasOwnProperty(Ge)&&Yh(i,o,Ge,void 0,f,V);for(K in f)V=f[K],_=u[K],!f.hasOwnProperty(K)||V===_||V===void 0&&_===void 0||Yh(i,o,K,V,f,_);return}}for(var L in u)V=u[L],u.hasOwnProperty(L)&&V!=null&&!f.hasOwnProperty(L)&&$e(i,o,L,null,f,V);for(Y in f)V=f[Y],_=u[Y],!f.hasOwnProperty(Y)||V===_||V==null&&_==null||$e(i,o,Y,V,f,_)}var Zh=null,Jh=null;function qu(i){return i.nodeType===9?i:i.ownerDocument}function ky(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Oy(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function Qh(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Xh=null;function F5(){var i=window.event;return i&&i.type==="popstate"?i===Xh?!1:(Xh=i,!0):(Xh=null,!1)}var Ry=typeof setTimeout=="function"?setTimeout:void 0,K5=typeof clearTimeout=="function"?clearTimeout:void 0,Ny=typeof Promise=="function"?Promise:void 0,$5=typeof queueMicrotask=="function"?queueMicrotask:typeof Ny<"u"?function(i){return Ny.resolve(null).then(i).catch(G5)}:Ry;function G5(i){setTimeout(function(){throw i})}function hi(i){return i==="head"}function Dy(i,o){var u=o,f=0,p=0;do{var y=u.nextSibling;if(i.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"){if(0<f&&8>f){u=f;var x=i.ownerDocument;if(u&1&&jl(x.documentElement),u&2&&jl(x.body),u&4)for(u=x.head,jl(u),x=u.firstChild;x;){var M=x.nextSibling,O=x.nodeName;x[Wo]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&x.rel.toLowerCase()==="stylesheet"||u.removeChild(x),x=M}}if(p===0){i.removeChild(y),$l(o);return}p--}else u==="$"||u==="$?"||u==="$!"?p++:f=u.charCodeAt(0)-48;else f=0;u=y}while(u);$l(o)}function Wh(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Wh(u),id(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function Y5(i,o,u,f){for(;i.nodeType===1;){var p=u;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!f&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(f){if(!i[Wo])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=nr(i.nextSibling),i===null)break}return null}function Z5(i,o,u){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=nr(i.nextSibling),i===null))return null;return i}function ep(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function J5(i,o){var u=i.ownerDocument;if(i.data!=="$?"||u.readyState==="complete")o();else{var f=function(){o(),u.removeEventListener("DOMContentLoaded",f)};u.addEventListener("DOMContentLoaded",f),i._reactRetry=f}}function nr(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return i}var tp=null;function Ly(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return i;o--}else u==="/$"&&o++}i=i.previousSibling}return null}function zy(i,o,u){switch(o=qu(u),i){case"html":if(i=o.documentElement,!i)throw Error(r(452));return i;case"head":if(i=o.head,!i)throw Error(r(453));return i;case"body":if(i=o.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function jl(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);id(i)}var $n=new Map,Hy=new Set;function Pu(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ir=U.d;U.d={f:Q5,r:X5,D:W5,C:ex,L:tx,m:nx,X:ix,S:rx,M:sx};function Q5(){var i=Ir.f(),o=zu();return i||o}function X5(i){var o=qs(i);o!==null&&o.tag===5&&o.type==="form"?t2(o):Ir.r(i)}var Eo=typeof document>"u"?null:document;function By(i,o,u){var f=Eo;if(f&&typeof o=="string"&&o){var p=Vn(o);p='link[rel="'+i+'"][href="'+p+'"]',typeof u=="string"&&(p+='[crossorigin="'+u+'"]'),Hy.has(p)||(Hy.add(p),i={rel:i,crossOrigin:u,href:o},f.querySelector(p)===null&&(o=f.createElement("link"),Vt(o,"link",i),Rt(o),f.head.appendChild(o)))}}function W5(i){Ir.D(i),By("dns-prefetch",i,null)}function ex(i,o){Ir.C(i,o),By("preconnect",i,o)}function tx(i,o,u){Ir.L(i,o,u);var f=Eo;if(f&&i&&o){var p='link[rel="preload"][as="'+Vn(o)+'"]';o==="image"&&u&&u.imageSrcSet?(p+='[imagesrcset="'+Vn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(p+='[imagesizes="'+Vn(u.imageSizes)+'"]')):p+='[href="'+Vn(i)+'"]';var y=p;switch(o){case"style":y=wo(i);break;case"script":y=Mo(i)}$n.has(y)||(i=m({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:i,as:o},u),$n.set(y,i),f.querySelector(p)!==null||o==="style"&&f.querySelector(Vl(y))||o==="script"&&f.querySelector(_l(y))||(o=f.createElement("link"),Vt(o,"link",i),Rt(o),f.head.appendChild(o)))}}function nx(i,o){Ir.m(i,o);var u=Eo;if(u&&i){var f=o&&typeof o.as=="string"?o.as:"script",p='link[rel="modulepreload"][as="'+Vn(f)+'"][href="'+Vn(i)+'"]',y=p;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Mo(i)}if(!$n.has(y)&&(i=m({rel:"modulepreload",href:i},o),$n.set(y,i),u.querySelector(p)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(_l(y)))return}f=u.createElement("link"),Vt(f,"link",i),Rt(f),u.head.appendChild(f)}}}function rx(i,o,u){Ir.S(i,o,u);var f=Eo;if(f&&i){var p=Ps(f).hoistableStyles,y=wo(i);o=o||"default";var x=p.get(y);if(!x){var M={loading:0,preload:null};if(x=f.querySelector(Vl(y)))M.loading=5;else{i=m({rel:"stylesheet",href:i,"data-precedence":o},u),(u=$n.get(y))&&np(i,u);var O=x=f.createElement("link");Rt(O),Vt(O,"link",i),O._p=new Promise(function(I,K){O.onload=I,O.onerror=K}),O.addEventListener("load",function(){M.loading|=1}),O.addEventListener("error",function(){M.loading|=2}),M.loading|=4,Fu(x,o,f)}x={type:"stylesheet",instance:x,count:1,state:M},p.set(y,x)}}}function ix(i,o){Ir.X(i,o);var u=Eo;if(u&&i){var f=Ps(u).hoistableScripts,p=Mo(i),y=f.get(p);y||(y=u.querySelector(_l(p)),y||(i=m({src:i,async:!0},o),(o=$n.get(p))&&rp(i,o),y=u.createElement("script"),Rt(y),Vt(y,"link",i),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},f.set(p,y))}}function sx(i,o){Ir.M(i,o);var u=Eo;if(u&&i){var f=Ps(u).hoistableScripts,p=Mo(i),y=f.get(p);y||(y=u.querySelector(_l(p)),y||(i=m({src:i,async:!0,type:"module"},o),(o=$n.get(p))&&rp(i,o),y=u.createElement("script"),Rt(y),Vt(y,"link",i),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},f.set(p,y))}}function Iy(i,o,u,f){var p=(p=se.current)?Pu(p):null;if(!p)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=wo(u.href),u=Ps(p).hoistableStyles,f=u.get(o),f||(f={type:"style",instance:null,count:0,state:null},u.set(o,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=wo(u.href);var y=Ps(p).hoistableStyles,x=y.get(i);if(x||(p=p.ownerDocument||p,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,x),(y=p.querySelector(Vl(i)))&&!y._p&&(x.instance=y,x.state.loading=5),$n.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},$n.set(i,u),y||ox(p,i,u,x.state))),o&&f===null)throw Error(r(528,""));return x}if(o&&f!==null)throw Error(r(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Mo(u),u=Ps(p).hoistableScripts,f=u.get(o),f||(f={type:"script",instance:null,count:0,state:null},u.set(o,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function wo(i){return'href="'+Vn(i)+'"'}function Vl(i){return'link[rel="stylesheet"]['+i+"]"}function jy(i){return m({},i,{"data-precedence":i.precedence,precedence:null})}function ox(i,o,u,f){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?f.loading=1:(o=i.createElement("link"),f.preload=o,o.addEventListener("load",function(){return f.loading|=1}),o.addEventListener("error",function(){return f.loading|=2}),Vt(o,"link",u),Rt(o),i.head.appendChild(o))}function Mo(i){return'[src="'+Vn(i)+'"]'}function _l(i){return"script[async]"+i}function Vy(i,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var f=i.querySelector('style[data-href~="'+Vn(u.href)+'"]');if(f)return o.instance=f,Rt(f),f;var p=m({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(i.ownerDocument||i).createElement("style"),Rt(f),Vt(f,"style",p),Fu(f,u.precedence,i),o.instance=f;case"stylesheet":p=wo(u.href);var y=i.querySelector(Vl(p));if(y)return o.state.loading|=4,o.instance=y,Rt(y),y;f=jy(u),(p=$n.get(p))&&np(f,p),y=(i.ownerDocument||i).createElement("link"),Rt(y);var x=y;return x._p=new Promise(function(M,O){x.onload=M,x.onerror=O}),Vt(y,"link",f),o.state.loading|=4,Fu(y,u.precedence,i),o.instance=y;case"script":return y=Mo(u.src),(p=i.querySelector(_l(y)))?(o.instance=p,Rt(p),p):(f=u,(p=$n.get(y))&&(f=m({},u),rp(f,p)),i=i.ownerDocument||i,p=i.createElement("script"),Rt(p),Vt(p,"link",f),i.head.appendChild(p),o.instance=p);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(f=o.instance,o.state.loading|=4,Fu(f,u.precedence,i));return o.instance}function Fu(i,o,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=f.length?f[f.length-1]:null,y=p,x=0;x<f.length;x++){var M=f[x];if(M.dataset.precedence===o)y=M;else if(y!==p)break}y?y.parentNode.insertBefore(i,y.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(i,o.firstChild))}function np(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function rp(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var Ku=null;function _y(i,o,u){if(Ku===null){var f=new Map,p=Ku=new Map;p.set(u,f)}else p=Ku,f=p.get(u),f||(f=new Map,p.set(u,f));if(f.has(i))return f;for(f.set(i,null),u=u.getElementsByTagName(i),p=0;p<u.length;p++){var y=u[p];if(!(y[Wo]||y[Zt]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var x=y.getAttribute(o)||"";x=i+x;var M=f.get(x);M?M.push(y):f.set(x,[y])}}return f}function Uy(i,o,u){i=i.ownerDocument||i,i.head.insertBefore(u,o==="title"?i.querySelector("head > title"):null)}function lx(i,o,u){if(u===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function qy(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Ul=null;function ax(){}function ux(i,o,u){if(Ul===null)throw Error(r(475));var f=Ul;if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=wo(u.href),y=i.querySelector(Vl(p));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(f.count++,f=$u.bind(f),i.then(f,f)),o.state.loading|=4,o.instance=y,Rt(y);return}y=i.ownerDocument||i,u=jy(u),(p=$n.get(p))&&np(u,p),y=y.createElement("link"),Rt(y);var x=y;x._p=new Promise(function(M,O){x.onload=M,x.onerror=O}),Vt(y,"link",u),o.instance=y}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(f.count++,o=$u.bind(f),i.addEventListener("load",o),i.addEventListener("error",o))}}function cx(){if(Ul===null)throw Error(r(475));var i=Ul;return i.stylesheets&&i.count===0&&ip(i,i.stylesheets),0<i.count?function(o){var u=setTimeout(function(){if(i.stylesheets&&ip(i,i.stylesheets),i.unsuspend){var f=i.unsuspend;i.unsuspend=null,f()}},6e4);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u)}}:null}function $u(){if(this.count--,this.count===0){if(this.stylesheets)ip(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Gu=null;function ip(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Gu=new Map,o.forEach(fx,i),Gu=null,$u.call(i))}function fx(i,o){if(!(o.state.loading&4)){var u=Gu.get(i);if(u)var f=u.get(null);else{u=new Map,Gu.set(i,u);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var x=p[y];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(u.set(x.dataset.precedence,x),f=x)}f&&u.set(null,f)}p=o.instance,x=p.getAttribute("data-precedence"),y=u.get(x)||f,y===f&&u.set(null,p),u.set(x,p),this.count++,f=$u.bind(this),p.addEventListener("load",f),p.addEventListener("error",f),y?y.parentNode.insertBefore(p,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),o.state.loading|=4}}var ql={$$typeof:D,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function dx(i,o,u,f,p,y,x,M){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vs(0),this.hiddenUpdates=Vs(null),this.identifierPrefix=f,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function Py(i,o,u,f,p,y,x,M,O,I,K,Y){return i=new dx(i,o,u,x,M,O,I,Y),o=1,y===!0&&(o|=24),y=On(3,null,null,o),i.current=y,y.stateNode=i,o=Vd(),o.refCount++,i.pooledCache=o,o.refCount++,y.memoizedState={element:f,isDehydrated:u,cache:o},Pd(y),i}function Fy(i){return i?(i=to,i):to}function Ky(i,o,u,f,p,y){p=Fy(p),f.context===null?f.context=p:f.pendingContext=p,f=ei(o),f.payload={element:u},y=y===void 0?null:y,y!==null&&(f.callback=y),u=ti(i,f,o),u!==null&&(zn(u,i,o),bl(u,i,o))}function $y(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function sp(i,o){$y(i,o),(i=i.alternate)&&$y(i,o)}function Gy(i){if(i.tag===13){var o=eo(i,67108864);o!==null&&zn(o,i,67108864),sp(i,67108864)}}var Yu=!0;function hx(i,o,u,f){var p=z.T;z.T=null;var y=U.p;try{U.p=2,op(i,o,u,f)}finally{U.p=y,z.T=p}}function px(i,o,u,f){var p=z.T;z.T=null;var y=U.p;try{U.p=8,op(i,o,u,f)}finally{U.p=y,z.T=p}}function op(i,o,u,f){if(Yu){var p=lp(f);if(p===null)Gh(i,o,f,Zu,u),Zy(i,f);else if(gx(p,i,o,u,f))f.stopPropagation();else if(Zy(i,f),o&4&&-1<mx.indexOf(i)){for(;p!==null;){var y=qs(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var x=or(y.pendingLanes);if(x!==0){var M=y;for(M.pendingLanes|=2,M.entangledLanes|=2;x;){var O=1<<31-Ot(x);M.entanglements[1]|=O,x&=~O}fr(y),(Pe&6)===0&&(Du=Qe()+500,Hl(0))}}break;case 13:M=eo(y,2),M!==null&&zn(M,y,2),zu(),sp(y,2)}if(y=lp(f),y===null&&Gh(i,o,f,Zu,u),y===p)break;p=y}p!==null&&f.stopPropagation()}else Gh(i,o,f,null,u)}}function lp(i){return i=dd(i),ap(i)}var Zu=null;function ap(i){if(Zu=null,i=Us(i),i!==null){var o=l(i);if(o===null)i=null;else{var u=o.tag;if(u===13){if(i=a(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Zu=i,null}function Yy(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Bt()){case _e:return 2;case Ye:return 8;case Yt:case de:return 32;case je:return 268435456;default:return 32}default:return 32}}var up=!1,pi=null,mi=null,gi=null,Pl=new Map,Fl=new Map,yi=[],mx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Zy(i,o){switch(i){case"focusin":case"focusout":pi=null;break;case"dragenter":case"dragleave":mi=null;break;case"mouseover":case"mouseout":gi=null;break;case"pointerover":case"pointerout":Pl.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fl.delete(o.pointerId)}}function Kl(i,o,u,f,p,y){return i===null||i.nativeEvent!==y?(i={blockedOn:o,domEventName:u,eventSystemFlags:f,nativeEvent:y,targetContainers:[p]},o!==null&&(o=qs(o),o!==null&&Gy(o)),i):(i.eventSystemFlags|=f,o=i.targetContainers,p!==null&&o.indexOf(p)===-1&&o.push(p),i)}function gx(i,o,u,f,p){switch(o){case"focusin":return pi=Kl(pi,i,o,u,f,p),!0;case"dragenter":return mi=Kl(mi,i,o,u,f,p),!0;case"mouseover":return gi=Kl(gi,i,o,u,f,p),!0;case"pointerover":var y=p.pointerId;return Pl.set(y,Kl(Pl.get(y)||null,i,o,u,f,p)),!0;case"gotpointercapture":return y=p.pointerId,Fl.set(y,Kl(Fl.get(y)||null,i,o,u,f,p)),!0}return!1}function Jy(i){var o=Us(i.target);if(o!==null){var u=l(o);if(u!==null){if(o=u.tag,o===13){if(o=a(u),o!==null){i.blockedOn=o,uS(i.priority,function(){if(u.tag===13){var f=Ln();f=td(f);var p=eo(u,f);p!==null&&zn(p,u,f),sp(u,f)}});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Ju(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=lp(i.nativeEvent);if(u===null){u=i.nativeEvent;var f=new u.constructor(u.type,u);fd=f,u.target.dispatchEvent(f),fd=null}else return o=qs(u),o!==null&&Gy(o),i.blockedOn=u,!1;o.shift()}return!0}function Qy(i,o,u){Ju(i)&&u.delete(o)}function yx(){up=!1,pi!==null&&Ju(pi)&&(pi=null),mi!==null&&Ju(mi)&&(mi=null),gi!==null&&Ju(gi)&&(gi=null),Pl.forEach(Qy),Fl.forEach(Qy)}function Qu(i,o){i.blockedOn===o&&(i.blockedOn=null,up||(up=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,yx)))}var Xu=null;function Xy(i){Xu!==i&&(Xu=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Xu===i&&(Xu=null);for(var o=0;o<i.length;o+=3){var u=i[o],f=i[o+1],p=i[o+2];if(typeof f!="function"){if(ap(f||u)===null)continue;break}var y=qs(u);y!==null&&(i.splice(o,3),o-=3,ah(y,{pending:!0,data:p,method:u.method,action:f},f,p))}}))}function $l(i){function o(O){return Qu(O,i)}pi!==null&&Qu(pi,i),mi!==null&&Qu(mi,i),gi!==null&&Qu(gi,i),Pl.forEach(o),Fl.forEach(o);for(var u=0;u<yi.length;u++){var f=yi[u];f.blockedOn===i&&(f.blockedOn=null)}for(;0<yi.length&&(u=yi[0],u.blockedOn===null);)Jy(u),u.blockedOn===null&&yi.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var p=u[f],y=u[f+1],x=p[yn]||null;if(typeof y=="function")x||Xy(u);else if(x){var M=null;if(y&&y.hasAttribute("formAction")){if(p=y,x=y[yn]||null)M=x.formAction;else if(ap(p)!==null)continue}else M=x.action;typeof M=="function"?u[f+1]=M:(u.splice(f,3),f-=3),Xy(u)}}}function cp(i){this._internalRoot=i}Wu.prototype.render=cp.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(r(409));var u=o.current,f=Ln();Ky(u,f,i,o,null,null)},Wu.prototype.unmount=cp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Ky(i.current,2,null,i,null,null),zu(),o[_s]=null}};function Wu(i){this._internalRoot=i}Wu.prototype.unstable_scheduleHydration=function(i){if(i){var o=mg();i={blockedOn:null,target:i,priority:o};for(var u=0;u<yi.length&&o!==0&&o<yi[u].priority;u++);yi.splice(u,0,i),u===0&&Jy(i)}};var Wy=e.version;if(Wy!=="19.1.0")throw Error(r(527,Wy,"19.1.0"));U.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(o),i=i!==null?h(i):null,i=i===null?null:i.stateNode,i};var bx={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ec=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ec.isDisabled&&ec.supportsFiber)try{Ue=ec.inject(bx),He=ec}catch{}}return Yl.createRoot=function(i,o){if(!s(i))throw Error(r(299));var u=!1,f="",p=m2,y=g2,x=y2,M=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(y=o.onCaughtError),o.onRecoverableError!==void 0&&(x=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(M=o.unstable_transitionCallbacks)),o=Py(i,1,!1,null,null,u,f,p,y,x,M,null),i[_s]=o.current,$h(i),new cp(o)},Yl.hydrateRoot=function(i,o,u){if(!s(i))throw Error(r(299));var f=!1,p="",y=m2,x=g2,M=y2,O=null,I=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(p=u.identifierPrefix),u.onUncaughtError!==void 0&&(y=u.onUncaughtError),u.onCaughtError!==void 0&&(x=u.onCaughtError),u.onRecoverableError!==void 0&&(M=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(O=u.unstable_transitionCallbacks),u.formState!==void 0&&(I=u.formState)),o=Py(i,1,!0,o,u??null,f,p,y,x,M,O,I),o.context=Fy(null),u=o.current,f=Ln(),f=td(f),p=ei(f),p.callback=null,ti(u,p,f),u=f,o.current.lanes=u,Xo(o,u),fr(o),i[_s]=o.current,$h(i),new Wu(o)},Yl.version="19.1.0",Yl}var ub;function kx(){if(ub)return hp.exports;ub=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),hp.exports=Ax(),hp.exports}var Ox=kx();function _t(n){this.content=n}_t.prototype={constructor:_t,find:function(n){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===n)return e;return-1},get:function(n){var e=this.find(n);return e==-1?void 0:this.content[e+1]},update:function(n,e,t){var r=t&&t!=n?this.remove(t):this,s=r.find(n),l=r.content.slice();return s==-1?l.push(t||n,e):(l[s+1]=e,t&&(l[s]=t)),new _t(l)},remove:function(n){var e=this.find(n);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new _t(t)},addToStart:function(n,e){return new _t([n,e].concat(this.remove(n).content))},addToEnd:function(n,e){var t=this.remove(n).content.slice();return t.push(n,e),new _t(t)},addBefore:function(n,e,t){var r=this.remove(e),s=r.content.slice(),l=r.find(n);return s.splice(l==-1?s.length:l,0,e,t),new _t(s)},forEach:function(n){for(var e=0;e<this.content.length;e+=2)n(this.content[e],this.content[e+1])},prepend:function(n){return n=_t.from(n),n.size?new _t(n.content.concat(this.subtract(n).content)):this},append:function(n){return n=_t.from(n),n.size?new _t(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var e=this;n=_t.from(n);for(var t=0;t<n.content.length;t+=2)e=e.remove(n.content[t]);return e},toObject:function(){var n={};return this.forEach(function(e,t){n[e]=t}),n},get size(){return this.content.length>>1}};_t.from=function(n){if(n instanceof _t)return n;var e=[];if(n)for(var t in n)e.push(t,n[t]);return new _t(e)};function d7(n,e,t){for(let r=0;;r++){if(r==n.childCount||r==e.childCount)return n.childCount==e.childCount?null:t;let s=n.child(r),l=e.child(r);if(s==l){t+=s.nodeSize;continue}if(!s.sameMarkup(l))return t;if(s.isText&&s.text!=l.text){for(let a=0;s.text[a]==l.text[a];a++)t++;return t}if(s.content.size||l.content.size){let a=d7(s.content,l.content,t+1);if(a!=null)return a}t+=s.nodeSize}}function h7(n,e,t,r){for(let s=n.childCount,l=e.childCount;;){if(s==0||l==0)return s==l?null:{a:t,b:r};let a=n.child(--s),c=e.child(--l),d=a.nodeSize;if(a==c){t-=d,r-=d;continue}if(!a.sameMarkup(c))return{a:t,b:r};if(a.isText&&a.text!=c.text){let h=0,m=Math.min(a.text.length,c.text.length);for(;h<m&&a.text[a.text.length-h-1]==c.text[c.text.length-h-1];)h++,t--,r--;return{a:t,b:r}}if(a.content.size||c.content.size){let h=h7(a.content,c.content,t-1,r-1);if(h)return h}t-=d,r-=d}}let ee=class sn{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,t,r,s=0,l){for(let a=0,c=0;c<t;a++){let d=this.content[a],h=c+d.nodeSize;if(h>e&&r(d,s+c,l||null,a)!==!1&&d.content.size){let m=c+1;d.nodesBetween(Math.max(0,e-m),Math.min(d.content.size,t-m),r,s+m)}c=h}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,r,s){let l="",a=!0;return this.nodesBetween(e,t,(c,d)=>{let h=c.isText?c.text.slice(Math.max(e,d)-d,t-d):c.isLeaf?s?typeof s=="function"?s(c):s:c.type.spec.leafText?c.type.spec.leafText(c):"":"";c.isBlock&&(c.isLeaf&&h||c.isTextblock)&&r&&(a?a=!1:l+=r),l+=h},0),l}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,r=e.firstChild,s=this.content.slice(),l=0;for(t.isText&&t.sameMarkup(r)&&(s[s.length-1]=t.withText(t.text+r.text),l=1);l<e.content.length;l++)s.push(e.content[l]);return new sn(s,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let r=[],s=0;if(t>e)for(let l=0,a=0;a<t;l++){let c=this.content[l],d=a+c.nodeSize;d>e&&((a<e||d>t)&&(c.isText?c=c.cut(Math.max(0,e-a),Math.min(c.text.length,t-a)):c=c.cut(Math.max(0,e-a-1),Math.min(c.content.size,t-a-1))),r.push(c),s+=c.nodeSize),a=d}return new sn(r,s)}cutByIndex(e,t){return e==t?sn.empty:e==0&&t==this.content.length?this:new sn(this.content.slice(e,t))}replaceChild(e,t){let r=this.content[e];if(r==t)return this;let s=this.content.slice(),l=this.size+t.nodeSize-r.nodeSize;return s[e]=t,new sn(s,l)}addToStart(e){return new sn([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new sn(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,r=0;t<this.content.length;t++){let s=this.content[t];e(s,r,t),r+=s.nodeSize}}findDiffStart(e,t=0){return d7(this,e,t)}findDiffEnd(e,t=this.size,r=e.size){return h7(this,e,t,r)}findIndex(e,t=-1){if(e==0)return tc(0,e);if(e==this.size)return tc(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,s=0;;r++){let l=this.child(r),a=s+l.nodeSize;if(a>=e)return a==e||t>0?tc(r+1,a):tc(r,s);s=a}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return sn.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new sn(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return sn.empty;let t,r=0;for(let s=0;s<e.length;s++){let l=e[s];r+=l.nodeSize,s&&l.isText&&e[s-1].sameMarkup(l)?(t||(t=e.slice(0,s)),t[t.length-1]=l.withText(t[t.length-1].text+l.text)):t&&t.push(l)}return new sn(t||e,r)}static from(e){if(!e)return sn.empty;if(e instanceof sn)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new sn([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}};ee.empty=new ee([],0);const yp={index:0,offset:0};function tc(n,e){return yp.index=n,yp.offset=e,yp}function Ac(n,e){if(n===e)return!0;if(!(n&&typeof n=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(n);if(Array.isArray(e)!=t)return!1;if(t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!Ac(n[r],e[r]))return!1}else{for(let r in n)if(!(r in e)||!Ac(n[r],e[r]))return!1;for(let r in e)if(!(r in n))return!1}return!0}let Je=class o1{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,r=!1;for(let s=0;s<e.length;s++){let l=e[s];if(this.eq(l))return e;if(this.type.excludes(l.type))t||(t=e.slice(0,s));else{if(l.type.excludes(this.type))return e;!r&&l.type.rank>this.type.rank&&(t||(t=e.slice(0,s)),t.push(this),r=!0),t&&t.push(l)}}return t||(t=e.slice()),r||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Ac(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[t.type];if(!r)throw new RangeError(`There is no mark type ${t.type} in this schema`);let s=r.create(t.attrs);return r.checkAttrs(s.attrs),s}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(t[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return o1.none;if(e instanceof o1)return[e];let t=e.slice();return t.sort((r,s)=>r.type.rank-s.type.rank),t}};Je.none=[];let kc=class extends Error{},oe=class ko{constructor(e,t,r){this.content=e,this.openStart=t,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let r=m7(this.content,e+this.openStart,t);return r&&new ko(r,this.openStart,this.openEnd)}removeBetween(e,t){return new ko(p7(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return ko.empty;let r=t.openStart||0,s=t.openEnd||0;if(typeof r!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ko(ee.fromJSON(e,t.content),r,s)}static maxOpen(e,t=!0){let r=0,s=0;for(let l=e.firstChild;l&&!l.isLeaf&&(t||!l.type.spec.isolating);l=l.firstChild)r++;for(let l=e.lastChild;l&&!l.isLeaf&&(t||!l.type.spec.isolating);l=l.lastChild)s++;return new ko(e,r,s)}};oe.empty=new oe(ee.empty,0,0);function p7(n,e,t){let{index:r,offset:s}=n.findIndex(e),l=n.maybeChild(r),{index:a,offset:c}=n.findIndex(t);if(s==e||l.isText){if(c!=t&&!n.child(a).isText)throw new RangeError("Removing non-flat range");return n.cut(0,e).append(n.cut(t))}if(r!=a)throw new RangeError("Removing non-flat range");return n.replaceChild(r,l.copy(p7(l.content,e-s-1,t-s-1)))}function m7(n,e,t,r){let{index:s,offset:l}=n.findIndex(e),a=n.maybeChild(s);if(l==e||a.isText)return n.cut(0,e).append(t).append(n.cut(e));let c=m7(a.content,e-l-1,t);return c&&n.replaceChild(s,a.copy(c))}function Rx(n,e,t){if(t.openStart>n.depth)throw new kc("Inserted content deeper than insertion position");if(n.depth-t.openStart!=e.depth-t.openEnd)throw new kc("Inconsistent open depths");return g7(n,e,t,0)}function g7(n,e,t,r){let s=n.index(r),l=n.node(r);if(s==e.index(r)&&r<n.depth-t.openStart){let a=g7(n,e,t,r+1);return l.copy(l.content.replaceChild(s,a))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&n.depth==r&&e.depth==r){let a=n.parent,c=a.content;return ws(a,c.cut(0,n.parentOffset).append(t.content).append(c.cut(e.parentOffset)))}else{let{start:a,end:c}=Nx(t,n);return ws(l,b7(n,a,c,e,r))}else return ws(l,Oc(n,e,r))}function y7(n,e){if(!e.type.compatibleContent(n.type))throw new kc("Cannot join "+e.type.name+" onto "+n.type.name)}function l1(n,e,t){let r=n.node(t);return y7(r,e.node(t)),r}function Es(n,e){let t=e.length-1;t>=0&&n.isText&&n.sameMarkup(e[t])?e[t]=n.withText(e[t].text+n.text):e.push(n)}function oa(n,e,t,r){let s=(e||n).node(t),l=0,a=e?e.index(t):s.childCount;n&&(l=n.index(t),n.depth>t?l++:n.textOffset&&(Es(n.nodeAfter,r),l++));for(let c=l;c<a;c++)Es(s.child(c),r);e&&e.depth==t&&e.textOffset&&Es(e.nodeBefore,r)}function ws(n,e){return n.type.checkContent(e),n.copy(e)}function b7(n,e,t,r,s){let l=n.depth>s&&l1(n,e,s+1),a=r.depth>s&&l1(t,r,s+1),c=[];return oa(null,n,s,c),l&&a&&e.index(s)==t.index(s)?(y7(l,a),Es(ws(l,b7(n,e,t,r,s+1)),c)):(l&&Es(ws(l,Oc(n,e,s+1)),c),oa(e,t,s,c),a&&Es(ws(a,Oc(t,r,s+1)),c)),oa(r,null,s,c),new ee(c)}function Oc(n,e,t){let r=[];if(oa(null,n,t,r),n.depth>t){let s=l1(n,e,t+1);Es(ws(s,Oc(n,e,t+1)),r)}return oa(e,null,t,r),new ee(r)}function Nx(n,e){let t=e.depth-n.openStart,s=e.node(t).copy(n.content);for(let l=t-1;l>=0;l--)s=e.node(l).copy(ee.from(s));return{start:s.resolveNoCache(n.openStart+t),end:s.resolveNoCache(s.content.size-n.openEnd-t)}}class Ca{constructor(e,t,r){this.pos=e,this.path=t,this.parentOffset=r,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],s=e.child(t);return r?e.child(t).cut(r):s}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let r=this.path[t*3],s=t==0?0:this.path[t*3-1]+1;for(let l=0;l<e;l++)s+=r.child(l).nodeSize;return s}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return Je.none;if(this.textOffset)return e.child(t).marks;let r=e.maybeChild(t-1),s=e.maybeChild(t);if(!r){let c=r;r=s,s=c}let l=r.marks;for(var a=0;a<l.length;a++)l[a].type.spec.inclusive===!1&&(!s||!l[a].isInSet(s.marks))&&(l=l[a--].removeFromSet(l));return l}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let r=t.marks,s=e.parent.maybeChild(e.index());for(var l=0;l<r.length;l++)r[l].type.spec.inclusive===!1&&(!s||!r[l].isInSet(s.marks))&&(r=r[l--].removeFromSet(r));return r}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!t||t(this.node(r))))return new Rc(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let r=[],s=0,l=t;for(let a=e;;){let{index:c,offset:d}=a.content.findIndex(l),h=l-d;if(r.push(a,c,s+d),!h||(a=a.child(c),a.isText))break;l=h-1,s+=d+1}return new Ca(t,r,l)}static resolveCached(e,t){let r=cb.get(e);if(r)for(let l=0;l<r.elts.length;l++){let a=r.elts[l];if(a.pos==t)return a}else cb.set(e,r=new Dx);let s=r.elts[r.i]=Ca.resolve(e,t);return r.i=(r.i+1)%Lx,s}}class Dx{constructor(){this.elts=[],this.i=0}}const Lx=12,cb=new WeakMap;class Rc{constructor(e,t,r){this.$from=e,this.$to=t,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const zx=Object.create(null);let Ni=class a1{constructor(e,t,r,s=Je.none){this.type=e,this.attrs=t,this.marks=s,this.content=r||ee.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,r,s=0){this.content.nodesBetween(e,t,r,s,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,r,s){return this.content.textBetween(e,t,r,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,r){return this.type==e&&Ac(this.attrs,t||e.defaultAttrs||zx)&&Je.sameSet(this.marks,r||Je.none)}copy(e=null){return e==this.content?this:new a1(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new a1(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,r=!1){if(e==t)return oe.empty;let s=this.resolve(e),l=this.resolve(t),a=r?0:s.sharedDepth(t),c=s.start(a),h=s.node(a).content.cut(s.pos-c,l.pos-c);return new oe(h,s.depth-a,l.depth-a)}replace(e,t,r){return Rx(this.resolve(e),this.resolve(t),r)}nodeAt(e){for(let t=this;;){let{index:r,offset:s}=t.content.findIndex(e);if(t=t.maybeChild(r),!t)return null;if(s==e||t.isText)return t;e-=s+1}}childAfter(e){let{index:t,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(t),index:t,offset:r};let s=this.content.child(t-1);return{node:s,index:t-1,offset:r-s.nodeSize}}resolve(e){return Ca.resolveCached(this,e)}resolveNoCache(e){return Ca.resolve(this,e)}rangeHasMark(e,t,r){let s=!1;return t>e&&this.nodesBetween(e,t,l=>(r.isInSet(l.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),v7(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,r=ee.empty,s=0,l=r.childCount){let a=this.contentMatchAt(e).matchFragment(r,s,l),c=a&&a.matchFragment(this.content,t);if(!c||!c.validEnd)return!1;for(let d=s;d<l;d++)if(!this.type.allowsMarks(r.child(d).marks))return!1;return!0}canReplaceWith(e,t,r,s){if(s&&!this.type.allowsMarks(s))return!1;let l=this.contentMatchAt(e).matchType(r),a=l&&l.matchFragment(this.content,t);return a?a.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Je.none;for(let t=0;t<this.marks.length;t++){let r=this.marks[t];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!Je.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let r;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,r)}let s=ee.fromJSON(e,t.content),l=e.nodeType(t.type).create(t.attrs,s,r);return l.type.checkAttrs(l.attrs),l}};Ni.prototype.text=void 0;class Nc extends Ni{constructor(e,t,r,s){if(super(e,t,null,s),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):v7(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Nc(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Nc(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function v7(n,e){for(let t=n.length-1;t>=0;t--)e=n[t].type.name+"("+e+")";return e}class Os{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let r=new Hx(e,t);if(r.next==null)return Os.empty;let s=C7(r);r.next&&r.err("Unexpected trailing text");let l=qx(Ux(s));return Px(l,r),l}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,r=e.childCount){let s=this;for(let l=t;s&&l<r;l++)s=s.matchType(e.child(l).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let r=0;r<e.next.length;r++)if(this.next[t].type==e.next[r].type)return!0;return!1}fillBefore(e,t=!1,r=0){let s=[this];function l(a,c){let d=a.matchFragment(e,r);if(d&&(!t||d.validEnd))return ee.from(c.map(h=>h.createAndFill()));for(let h=0;h<a.next.length;h++){let{type:m,next:g}=a.next[h];if(!(m.isText||m.hasRequiredAttrs())&&s.indexOf(g)==-1){s.push(g);let b=l(g,c.concat(m));if(b)return b}}return null}return l(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let s=r.shift(),l=s.match;if(l.matchType(e)){let a=[];for(let c=s;c.type;c=c.via)a.push(c.type);return a.reverse()}for(let a=0;a<l.next.length;a++){let{type:c,next:d}=l.next[a];!c.isLeaf&&!c.hasRequiredAttrs()&&!(c.name in t)&&(!s.type||d.validEnd)&&(r.push({match:c.contentMatch,type:c,via:s}),t[c.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(r){e.push(r);for(let s=0;s<r.next.length;s++)e.indexOf(r.next[s].next)==-1&&t(r.next[s].next)}return t(this),e.map((r,s)=>{let l=s+(r.validEnd?"*":" ")+" ";for(let a=0;a<r.next.length;a++)l+=(a?", ":"")+r.next[a].type.name+"->"+e.indexOf(r.next[a].next);return l}).join(`
`)}}Os.empty=new Os(!0);class Hx{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function C7(n){let e=[];do e.push(Bx(n));while(n.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function Bx(n){let e=[];do e.push(Ix(n));while(n.next&&n.next!=")"&&n.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function Ix(n){let e=_x(n);for(;;)if(n.eat("+"))e={type:"plus",expr:e};else if(n.eat("*"))e={type:"star",expr:e};else if(n.eat("?"))e={type:"opt",expr:e};else if(n.eat("{"))e=jx(n,e);else break;return e}function fb(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let e=Number(n.next);return n.pos++,e}function jx(n,e){let t=fb(n),r=t;return n.eat(",")&&(n.next!="}"?r=fb(n):r=-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:t,max:r,expr:e}}function Vx(n,e){let t=n.nodeTypes,r=t[e];if(r)return[r];let s=[];for(let l in t){let a=t[l];a.isInGroup(e)&&s.push(a)}return s.length==0&&n.err("No node type or group '"+e+"' found"),s}function _x(n){if(n.eat("(")){let e=C7(n);return n.eat(")")||n.err("Missing closing paren"),e}else if(/\W/.test(n.next))n.err("Unexpected token '"+n.next+"'");else{let e=Vx(n,n.next).map(t=>(n.inline==null?n.inline=t.isInline:n.inline!=t.isInline&&n.err("Mixing inline and block content"),{type:"name",value:t}));return n.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function Ux(n){let e=[[]];return s(l(n,0),t()),e;function t(){return e.push([])-1}function r(a,c,d){let h={term:d,to:c};return e[a].push(h),h}function s(a,c){a.forEach(d=>d.to=c)}function l(a,c){if(a.type=="choice")return a.exprs.reduce((d,h)=>d.concat(l(h,c)),[]);if(a.type=="seq")for(let d=0;;d++){let h=l(a.exprs[d],c);if(d==a.exprs.length-1)return h;s(h,c=t())}else if(a.type=="star"){let d=t();return r(c,d),s(l(a.expr,d),d),[r(d)]}else if(a.type=="plus"){let d=t();return s(l(a.expr,c),d),s(l(a.expr,d),d),[r(d)]}else{if(a.type=="opt")return[r(c)].concat(l(a.expr,c));if(a.type=="range"){let d=c;for(let h=0;h<a.min;h++){let m=t();s(l(a.expr,d),m),d=m}if(a.max==-1)s(l(a.expr,d),d);else for(let h=a.min;h<a.max;h++){let m=t();r(d,m),s(l(a.expr,d),m),d=m}return[r(d)]}else{if(a.type=="name")return[r(c,void 0,a.value)];throw new Error("Unknown expr type")}}}}function S7(n,e){return e-n}function db(n,e){let t=[];return r(e),t.sort(S7);function r(s){let l=n[s];if(l.length==1&&!l[0].term)return r(l[0].to);t.push(s);for(let a=0;a<l.length;a++){let{term:c,to:d}=l[a];!c&&t.indexOf(d)==-1&&r(d)}}}function qx(n){let e=Object.create(null);return t(db(n,0));function t(r){let s=[];r.forEach(a=>{n[a].forEach(({term:c,to:d})=>{if(!c)return;let h;for(let m=0;m<s.length;m++)s[m][0]==c&&(h=s[m][1]);db(n,d).forEach(m=>{h||s.push([c,h=[]]),h.indexOf(m)==-1&&h.push(m)})})});let l=e[r.join(",")]=new Os(r.indexOf(n.length-1)>-1);for(let a=0;a<s.length;a++){let c=s[a][1].sort(S7);l.next.push({type:s[a][0],next:e[c.join(",")]||t(c)})}return l}}function Px(n,e){for(let t=0,r=[n];t<r.length;t++){let s=r[t],l=!s.validEnd,a=[];for(let c=0;c<s.next.length;c++){let{type:d,next:h}=s.next[c];a.push(d.name),l&&!(d.isText||d.hasRequiredAttrs())&&(l=!1),r.indexOf(h)==-1&&r.push(h)}l&&e.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function x7(n){let e=Object.create(null);for(let t in n){let r=n[t];if(!r.hasDefault)return null;e[t]=r.default}return e}function E7(n,e){let t=Object.create(null);for(let r in n){let s=e&&e[r];if(s===void 0){let l=n[r];if(l.hasDefault)s=l.default;else throw new RangeError("No value supplied for attribute "+r)}t[r]=s}return t}function w7(n,e,t,r){for(let s in e)if(!(s in n))throw new RangeError(`Unsupported attribute ${s} for ${t} of type ${s}`);for(let s in n){let l=n[s];l.validate&&l.validate(e[s])}}function M7(n,e){let t=Object.create(null);if(e)for(let r in e)t[r]=new Kx(n,r,e[r]);return t}let hb=class T7{constructor(e,t,r){this.name=e,this.schema=t,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=M7(e,r.attrs),this.defaultAttrs=x7(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Os.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:E7(this.attrs,e)}create(e=null,t,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Ni(this,this.computeAttrs(e),ee.from(t),Je.setFrom(r))}createChecked(e=null,t,r){return t=ee.from(t),this.checkContent(t),new Ni(this,this.computeAttrs(e),t,Je.setFrom(r))}createAndFill(e=null,t,r){if(e=this.computeAttrs(e),t=ee.from(t),t.size){let a=this.contentMatch.fillBefore(t);if(!a)return null;t=a.append(t)}let s=this.contentMatch.matchFragment(t),l=s&&s.fillBefore(ee.empty,!0);return l?new Ni(this,e,t.append(l),Je.setFrom(r)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){w7(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?t&&t.push(e[r]):t||(t=e.slice(0,r));return t?t.length?t:Je.none:e}static compile(e,t){let r=Object.create(null);e.forEach((l,a)=>r[l]=new T7(l,t,a));let s=t.spec.topNode||"doc";if(!r[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let l in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function Fx(n,e,t){let r=t.split("|");return s=>{let l=s===null?"null":typeof s;if(r.indexOf(l)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${n}, got ${l}`)}}class Kx{constructor(e,t,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?Fx(e,t,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Tf{constructor(e,t,r,s){this.name=e,this.rank=t,this.schema=r,this.spec=s,this.attrs=M7(e,s.attrs),this.excluded=null;let l=x7(this.attrs);this.instance=l?new Je(this,l):null}create(e=null){return!e&&this.instance?this.instance:new Je(this,E7(this.attrs,e))}static compile(e,t){let r=Object.create(null),s=0;return e.forEach((l,a)=>r[l]=new Tf(l,s++,t,a)),r}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){w7(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class A7{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let s in e)t[s]=e[s];t.nodes=_t.from(e.nodes),t.marks=_t.from(e.marks||{}),this.nodes=hb.compile(this.spec.nodes,this),this.marks=Tf.compile(this.spec.marks,this);let r=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let l=this.nodes[s],a=l.spec.content||"",c=l.spec.marks;if(l.contentMatch=r[a]||(r[a]=Os.parse(a,this.nodes)),l.inlineContent=l.contentMatch.inlineContent,l.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!l.isInline||!l.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=l}l.markSet=c=="_"?null:c?pb(this,c.split(" ")):c==""||!l.inlineContent?[]:null}for(let s in this.marks){let l=this.marks[s],a=l.spec.excludes;l.excluded=a==null?[l]:a==""?[]:pb(this,a.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,r,s){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof hb){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,r,s)}text(e,t){let r=this.nodes.text;return new Nc(r,r.defaultAttrs,e,Je.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return Ni.fromJSON(this,e)}markFromJSON(e){return Je.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function pb(n,e){let t=[];for(let r=0;r<e.length;r++){let s=e[r],l=n.marks[s],a=l;if(l)t.push(l);else for(let c in n.marks){let d=n.marks[c];(s=="_"||d.spec.group&&d.spec.group.split(" ").indexOf(s)>-1)&&t.push(a=d)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return t}function $x(n){return n.tag!=null}function Gx(n){return n.style!=null}class Di{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let r=this.matchedStyles=[];t.forEach(s=>{if($x(s))this.tags.push(s);else if(Gx(s)){let l=/[^=]*/.exec(s.style)[0];r.indexOf(l)<0&&r.push(l),this.styles.push(s)}}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let l=e.nodes[s.node];return l.contentMatch.matchType(l)})}parse(e,t={}){let r=new gb(this,t,!1);return r.addAll(e,Je.none,t.from,t.to),r.finish()}parseSlice(e,t={}){let r=new gb(this,t,!0);return r.addAll(e,Je.none,t.from,t.to),oe.maxOpen(r.finish())}matchTag(e,t,r){for(let s=r?this.tags.indexOf(r)+1:0;s<this.tags.length;s++){let l=this.tags[s];if(Jx(e,l.tag)&&(l.namespace===void 0||e.namespaceURI==l.namespace)&&(!l.context||t.matchesContext(l.context))){if(l.getAttrs){let a=l.getAttrs(e);if(a===!1)continue;l.attrs=a||void 0}return l}}}matchStyle(e,t,r,s){for(let l=s?this.styles.indexOf(s)+1:0;l<this.styles.length;l++){let a=this.styles[l],c=a.style;if(!(c.indexOf(e)!=0||a.context&&!r.matchesContext(a.context)||c.length>e.length&&(c.charCodeAt(e.length)!=61||c.slice(e.length+1)!=t))){if(a.getAttrs){let d=a.getAttrs(t);if(d===!1)continue;a.attrs=d||void 0}return a}}}static schemaRules(e){let t=[];function r(s){let l=s.priority==null?50:s.priority,a=0;for(;a<t.length;a++){let c=t[a];if((c.priority==null?50:c.priority)<l)break}t.splice(a,0,s)}for(let s in e.marks){let l=e.marks[s].spec.parseDOM;l&&l.forEach(a=>{r(a=yb(a)),a.mark||a.ignore||a.clearMark||(a.mark=s)})}for(let s in e.nodes){let l=e.nodes[s].spec.parseDOM;l&&l.forEach(a=>{r(a=yb(a)),a.node||a.ignore||a.mark||(a.node=s)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Di(e,Di.schemaRules(e)))}}const k7={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Yx={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},O7={ol:!0,ul:!0},Sa=1,u1=2,la=4;function mb(n,e,t){return e!=null?(e?Sa:0)|(e==="full"?u1:0):n&&n.whitespace=="pre"?Sa|u1:t&~la}class nc{constructor(e,t,r,s,l,a){this.type=e,this.attrs=t,this.marks=r,this.solid=s,this.options=a,this.content=[],this.activeMarks=Je.none,this.match=l||(a&la?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(ee.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let r=this.type.contentMatch,s;return(s=r.findWrapping(e.type))?(this.match=r,s):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Sa)){let r=this.content[this.content.length-1],s;if(r&&r.isText&&(s=/[ \t\r\n\u000c]+$/.exec(r.text))){let l=r;r.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=l.withText(l.text.slice(0,l.text.length-s[0].length))}}let t=ee.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(ee.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!k7.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class gb{constructor(e,t,r){this.parser=e,this.options=t,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let s=t.topNode,l,a=mb(null,t.preserveWhitespace,0)|(r?la:0);s?l=new nc(s.type,s.attrs,Je.none,!0,t.topMatch||s.type.contentMatch,a):r?l=new nc(null,null,Je.none,!0,null,a):l=new nc(e.schema.topNodeType,null,Je.none,!0,null,a),this.nodes=[l],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let r=e.nodeValue,s=this.top,l=s.options&u1?"full":this.localPreserveWS||(s.options&Sa)>0;if(l==="full"||s.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(l)l!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let a=s.content[s.content.length-1],c=e.previousSibling;(!a||c&&c.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),t,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,t,r){let s=this.localPreserveWS,l=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let a=e.nodeName.toLowerCase(),c;O7.hasOwnProperty(a)&&this.parser.normalizeLists&&Zx(e);let d=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(c=this.parser.matchTag(e,this,r));e:if(d?d.ignore:Yx.hasOwnProperty(a))this.findInside(e),this.ignoreFallback(e,t);else if(!d||d.skip||d.closeParent){d&&d.closeParent?this.open=Math.max(0,this.open-1):d&&d.skip.nodeType&&(e=d.skip);let h,m=this.needsBlock;if(k7.hasOwnProperty(a))l.content.length&&l.content[0].isInline&&this.open&&(this.open--,l=this.top),h=!0,l.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let g=d&&d.skip?t:this.readStyles(e,t);g&&this.addAll(e,g),h&&this.sync(l),this.needsBlock=m}else{let h=this.readStyles(e,t);h&&this.addElementByRule(e,d,h,d.consuming===!1?c:void 0)}this.localPreserveWS=s}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t,!0)}readStyles(e,t){let r=e.style;if(r&&r.length)for(let s=0;s<this.parser.matchedStyles.length;s++){let l=this.parser.matchedStyles[s],a=r.getPropertyValue(l);if(a)for(let c=void 0;;){let d=this.parser.matchStyle(l,a,this,c);if(!d)break;if(d.ignore)return null;if(d.clearMark?t=t.filter(h=>!d.clearMark(h)):t=t.concat(this.parser.schema.marks[d.mark].create(d.attrs)),d.consuming===!1)c=d;else break}}return t}addElementByRule(e,t,r,s){let l,a;if(t.node)if(a=this.parser.schema.nodes[t.node],a.isLeaf)this.insertNode(a.create(t.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let d=this.enter(a,t.attrs||null,r,t.preserveWhitespace);d&&(l=!0,r=d)}else{let d=this.parser.schema.marks[t.mark];r=r.concat(d.create(t.attrs))}let c=this.top;if(a&&a.isLeaf)this.findInside(e);else if(s)this.addElement(e,r,s);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(d=>this.insertNode(d,r,!1));else{let d=e;typeof t.contentElement=="string"?d=e.querySelector(t.contentElement):typeof t.contentElement=="function"?d=t.contentElement(e):t.contentElement&&(d=t.contentElement),this.findAround(e,d,!0),this.addAll(d,r),this.findAround(e,d,!1)}l&&this.sync(c)&&this.open--}addAll(e,t,r,s){let l=r||0;for(let a=r?e.childNodes[r]:e.firstChild,c=s==null?null:e.childNodes[s];a!=c;a=a.nextSibling,++l)this.findAtPoint(e,l),this.addDOM(a,t);this.findAtPoint(e,l)}findPlace(e,t,r){let s,l;for(let a=this.open,c=0;a>=0;a--){let d=this.nodes[a],h=d.findWrapping(e);if(h&&(!s||s.length>h.length+c)&&(s=h,l=d,!h.length))break;if(d.solid){if(r)break;c+=2}}if(!s)return null;this.sync(l);for(let a=0;a<s.length;a++)t=this.enterInner(s[a],null,t,!1);return t}insertNode(e,t,r){if(e.isInline&&this.needsBlock&&!this.top.type){let l=this.textblockFromContext();l&&(t=this.enterInner(l,null,t))}let s=this.findPlace(e,t,r);if(s){this.closeExtra();let l=this.top;l.match&&(l.match=l.match.matchType(e.type));let a=Je.none;for(let c of s.concat(e.marks))(l.type?l.type.allowsMarkType(c.type):bb(c.type,e.type))&&(a=c.addToSet(a));return l.content.push(e.mark(a)),!0}return!1}enter(e,t,r,s){let l=this.findPlace(e.create(t),r,!1);return l&&(l=this.enterInner(e,t,r,!0,s)),l}enterInner(e,t,r,s=!1,l){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(e);let c=mb(e,l,a.options);a.options&la&&a.content.length==0&&(c|=la);let d=Je.none;return r=r.filter(h=>(a.type?a.type.allowsMarkType(h.type):bb(h.type,e))?(d=h.addToSet(d),!1):!0),this.nodes.push(new nc(e,t,d,s,null,c)),this.open++,r}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=Sa)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let r=this.nodes[t].content;for(let s=r.length-1;s>=0;s--)e+=r[s].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==t&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,r){if(e!=t&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&e.nodeType==1&&e.contains(this.find[s].node)&&t.compareDocumentPosition(this.find[s].node)&(r?2:4)&&(this.find[s].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),r=this.options.context,s=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),l=-(r?r.depth+1:0)+(s?0:1),a=(c,d)=>{for(;c>=0;c--){let h=t[c];if(h==""){if(c==t.length-1||c==0)continue;for(;d>=l;d--)if(a(c-1,d))return!0;return!1}else{let m=d>0||d==0&&s?this.nodes[d].type:r&&d>=l?r.node(d-l).type:null;if(!m||m.name!=h&&!m.isInGroup(h))return!1;d--}}return!0};return a(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let r=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let t in this.parser.schema.nodes){let r=this.parser.schema.nodes[t];if(r.isTextblock&&r.defaultAttrs)return r}}}function Zx(n){for(let e=n.firstChild,t=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&O7.hasOwnProperty(r)&&t?(t.appendChild(e),e=t):r=="li"?t=e:r&&(t=null)}}function Jx(n,e){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,e)}function yb(n){let e={};for(let t in n)e[t]=n[t];return e}function bb(n,e){let t=e.schema.nodes;for(let r in t){let s=t[r];if(!s.allowsMarkType(n))continue;let l=[],a=c=>{l.push(c);for(let d=0;d<c.edgeCount;d++){let{type:h,next:m}=c.edge(d);if(h==e||l.indexOf(m)<0&&a(m))return!0}};if(a(s.contentMatch))return!0}}class Bs{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},r){r||(r=bp(t).createDocumentFragment());let s=r,l=[];return e.forEach(a=>{if(l.length||a.marks.length){let c=0,d=0;for(;c<l.length&&d<a.marks.length;){let h=a.marks[d];if(!this.marks[h.type.name]){d++;continue}if(!h.eq(l[c][0])||h.type.spec.spanning===!1)break;c++,d++}for(;c<l.length;)s=l.pop()[1];for(;d<a.marks.length;){let h=a.marks[d++],m=this.serializeMark(h,a.isInline,t);m&&(l.push([h,s]),s.appendChild(m.dom),s=m.contentDOM||m.dom)}}s.appendChild(this.serializeNodeInner(a,t))}),r}serializeNodeInner(e,t){let{dom:r,contentDOM:s}=yc(bp(t),this.nodes[e.type.name](e),null,e.attrs);if(s){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,s)}return r}serializeNode(e,t={}){let r=this.serializeNodeInner(e,t);for(let s=e.marks.length-1;s>=0;s--){let l=this.serializeMark(e.marks[s],e.isInline,t);l&&((l.contentDOM||l.dom).appendChild(r),r=l.dom)}return r}serializeMark(e,t,r={}){let s=this.marks[e.type.name];return s&&yc(bp(r),s(e,t),null,e.attrs)}static renderSpec(e,t,r=null,s){return yc(e,t,r,s)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Bs(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=vb(e.nodes);return t.text||(t.text=r=>r.text),t}static marksFromSchema(e){return vb(e.marks)}}function vb(n){let e={};for(let t in n){let r=n[t].spec.toDOM;r&&(e[t]=r)}return e}function bp(n){return n.document||window.document}const Cb=new WeakMap;function Qx(n){let e=Cb.get(n);return e===void 0&&Cb.set(n,e=Xx(n)),e}function Xx(n){let e=null;function t(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let s=0;s<r.length;s++)t(r[s]);else for(let s in r)t(r[s])}return t(n),e}function yc(n,e,t,r){if(typeof e=="string")return{dom:n.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let s=e[0],l;if(typeof s!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(l=Qx(r))&&l.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=s.indexOf(" ");a>0&&(t=s.slice(0,a),s=s.slice(a+1));let c,d=t?n.createElementNS(t,s):n.createElement(s),h=e[1],m=1;if(h&&typeof h=="object"&&h.nodeType==null&&!Array.isArray(h)){m=2;for(let g in h)if(h[g]!=null){let b=g.indexOf(" ");b>0?d.setAttributeNS(g.slice(0,b),g.slice(b+1),h[g]):d.setAttribute(g,h[g])}}for(let g=m;g<e.length;g++){let b=e[g];if(b===0){if(g<e.length-1||g>m)throw new RangeError("Content hole must be the only child of its parent node");return{dom:d,contentDOM:d}}else{let{dom:v,contentDOM:C}=yc(n,b,t,r);if(d.appendChild(v),C){if(c)throw new RangeError("Multiple content holes");c=C}}}return{dom:d,contentDOM:c}}const R7=65535,N7=Math.pow(2,16);function Wx(n,e){return n+e*N7}function Sb(n){return n&R7}function e9(n){return(n-(n&R7))/N7}const D7=1,L7=2,bc=4,z7=8;let c1=class{constructor(e,t,r){this.pos=e,this.delInfo=t,this.recover=r}get deleted(){return(this.delInfo&z7)>0}get deletedBefore(){return(this.delInfo&(D7|bc))>0}get deletedAfter(){return(this.delInfo&(L7|bc))>0}get deletedAcross(){return(this.delInfo&bc)>0}},Rs=class Oo{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&Oo.empty)return Oo.empty}recover(e){let t=0,r=Sb(e);if(!this.inverted)for(let s=0;s<r;s++)t+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[r*3]+t+e9(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,r){let s=0,l=this.inverted?2:1,a=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let d=this.ranges[c]-(this.inverted?s:0);if(d>e)break;let h=this.ranges[c+l],m=this.ranges[c+a],g=d+h;if(e<=g){let b=h?e==d?-1:e==g?1:t:t,v=d+s+(b<0?0:m);if(r)return v;let C=e==(t<0?d:g)?null:Wx(c/3,e-d),S=e==d?L7:e==g?D7:bc;return(t<0?e!=d:e!=g)&&(S|=z7),new c1(v,S,C)}s+=m-h}return r?e+s:new c1(e+s,0,null)}touches(e,t){let r=0,s=Sb(t),l=this.inverted?2:1,a=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let d=this.ranges[c]-(this.inverted?r:0);if(d>e)break;let h=this.ranges[c+l],m=d+h;if(e<=m&&c==s*3)return!0;r+=this.ranges[c+a]-h}return!1}forEach(e){let t=this.inverted?2:1,r=this.inverted?1:2;for(let s=0,l=0;s<this.ranges.length;s+=3){let a=this.ranges[s],c=a-(this.inverted?l:0),d=a+(this.inverted?0:l),h=this.ranges[s+t],m=this.ranges[s+r];e(c,c+h,d,d+m),l+=m-h}}invert(){return new Oo(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Oo.empty:new Oo(e<0?[0,-e,0]:[0,0,e])}};Rs.empty=new Rs([]);class xa{constructor(e,t,r=0,s=e?e.length:0){this.mirror=t,this.from=r,this.to=s,this._maps=e||[],this.ownData=!(e||t)}get maps(){return this._maps}slice(e=0,t=this.maps.length){return new xa(this._maps,this.mirror,e,t)}appendMap(e,t){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),t!=null&&this.setMirror(this._maps.length-1,t)}appendMapping(e){for(let t=0,r=this._maps.length;t<e._maps.length;t++){let s=e.getMirror(t);this.appendMap(e._maps[t],s!=null&&s<t?r+s:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,r=this._maps.length+e._maps.length;t>=0;t--){let s=e.getMirror(t);this.appendMap(e._maps[t].invert(),s!=null&&s>t?r-s-1:void 0)}}invert(){let e=new xa;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,r){let s=0;for(let l=this.from;l<this.to;l++){let a=this._maps[l],c=a.mapResult(e,t);if(c.recover!=null){let d=this.getMirror(l);if(d!=null&&d>l&&d<this.to){l=d,e=this._maps[d].recover(c.recover);continue}}s|=c.delInfo,e=c.pos}return r?e:new c1(e,s,null)}}const vp=Object.create(null);let tn=class{getMap(){return Rs.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=vp[t.stepType];if(!r)throw new RangeError(`No step type ${t.stepType} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in vp)throw new RangeError("Duplicate use of step JSON ID "+e);return vp[e]=t,t.prototype.jsonID=e,t}},ln=class Ql{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new Ql(e,null)}static fail(e){return new Ql(null,e)}static fromReplace(e,t,r,s){try{return Ql.ok(e.replace(t,r,s))}catch(l){if(l instanceof kc)return Ql.fail(l.message);throw l}}};function Q1(n,e,t){let r=[];for(let s=0;s<n.childCount;s++){let l=n.child(s);l.content.size&&(l=l.copy(Q1(l.content,e,l))),l.isInline&&(l=e(l,t,s)),r.push(l)}return ee.fromArray(r)}let X1=class Xl extends tn{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=e.resolve(this.from),s=r.node(r.sharedDepth(this.to)),l=new oe(Q1(t.content,(a,c)=>!a.isAtom||!c.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),s),t.openStart,t.openEnd);return ln.fromReplace(e,this.from,this.to,l)}invert(){return new za(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new Xl(t.pos,r.pos,this.mark)}merge(e){return e instanceof Xl&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Xl(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Xl(t.from,t.to,e.markFromJSON(t.mark))}};tn.jsonID("addMark",X1);let za=class Wl extends tn{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=new oe(Q1(t.content,s=>s.mark(this.mark.removeFromSet(s.marks)),e),t.openStart,t.openEnd);return ln.fromReplace(e,this.from,this.to,r)}invert(){return new X1(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new Wl(t.pos,r.pos,this.mark)}merge(e){return e instanceof Wl&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Wl(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Wl(t.from,t.to,e.markFromJSON(t.mark))}};tn.jsonID("removeMark",za);let W1=class ea extends tn{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return ln.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return ln.fromReplace(e,this.pos,this.pos+1,new oe(ee.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let r=this.mark.addToSet(t.marks);if(r.length==t.marks.length){for(let s=0;s<t.marks.length;s++)if(!t.marks[s].isInSet(r))return new ea(this.pos,t.marks[s]);return new ea(this.pos,this.mark)}}return new Dc(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new ea(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new ea(t.pos,e.markFromJSON(t.mark))}};tn.jsonID("addNodeMark",W1);let Dc=class f1 extends tn{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return ln.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return ln.fromReplace(e,this.pos,this.pos+1,new oe(ee.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new W1(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new f1(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new f1(t.pos,e.markFromJSON(t.mark))}};tn.jsonID("removeNodeMark",Dc);let ir=class fs extends tn{constructor(e,t,r,s=!1){super(),this.from=e,this.to=t,this.slice=r,this.structure=s}apply(e){return this.structure&&d1(e,this.from,this.to)?ln.fail("Structure replace would overwrite content"):ln.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Rs([this.from,this.to-this.from,this.slice.size])}invert(e){return new fs(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deletedAcross&&r.deletedAcross?null:new fs(t.pos,Math.max(t.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof fs)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?oe.empty:new oe(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new fs(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?oe.empty:new oe(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new fs(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new fs(t.from,t.to,oe.fromJSON(e,t.slice),!!t.structure)}};tn.jsonID("replace",ir);let Tn=class vc extends tn{constructor(e,t,r,s,l,a,c=!1){super(),this.from=e,this.to=t,this.gapFrom=r,this.gapTo=s,this.slice=l,this.insert=a,this.structure=c}apply(e){if(this.structure&&(d1(e,this.from,this.gapFrom)||d1(e,this.gapTo,this.to)))return ln.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return ln.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,t.content);return r?ln.fromReplace(e,this.from,this.to,r):ln.fail("Content does not fit in gap")}getMap(){return new Rs([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new vc(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),s=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),l=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return t.deletedAcross&&r.deletedAcross||s<t.pos||l>r.pos?null:new vc(t.pos,r.pos,s,l,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new vc(t.from,t.to,t.gapFrom,t.gapTo,oe.fromJSON(e,t.slice),t.insert,!!t.structure)}};tn.jsonID("replaceAround",Tn);function d1(n,e,t){let r=n.resolve(e),s=t-e,l=r.depth;for(;s>0&&l>0&&r.indexAfter(l)==r.node(l).childCount;)l--,s--;if(s>0){let a=r.node(l).maybeChild(r.indexAfter(l));for(;s>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,s--}}return!1}function t9(n,e,t,r){let s=[],l=[],a,c;n.doc.nodesBetween(e,t,(d,h,m)=>{if(!d.isInline)return;let g=d.marks;if(!r.isInSet(g)&&m.type.allowsMarkType(r.type)){let b=Math.max(h,e),v=Math.min(h+d.nodeSize,t),C=r.addToSet(g);for(let S=0;S<g.length;S++)g[S].isInSet(C)||(a&&a.to==b&&a.mark.eq(g[S])?a.to=v:s.push(a=new za(b,v,g[S])));c&&c.to==b?c.to=v:l.push(c=new X1(b,v,r))}}),s.forEach(d=>n.step(d)),l.forEach(d=>n.step(d))}function n9(n,e,t,r){let s=[],l=0;n.doc.nodesBetween(e,t,(a,c)=>{if(!a.isInline)return;l++;let d=null;if(r instanceof Tf){let h=a.marks,m;for(;m=r.isInSet(h);)(d||(d=[])).push(m),h=m.removeFromSet(h)}else r?r.isInSet(a.marks)&&(d=[r]):d=a.marks;if(d&&d.length){let h=Math.min(c+a.nodeSize,t);for(let m=0;m<d.length;m++){let g=d[m],b;for(let v=0;v<s.length;v++){let C=s[v];C.step==l-1&&g.eq(s[v].style)&&(b=C)}b?(b.to=h,b.step=l):s.push({style:g,from:Math.max(c,e),to:h,step:l})}}}),s.forEach(a=>n.step(new za(a.from,a.to,a.style)))}function em(n,e,t,r=t.contentMatch,s=!0){let l=n.doc.nodeAt(e),a=[],c=e+1;for(let d=0;d<l.childCount;d++){let h=l.child(d),m=c+h.nodeSize,g=r.matchType(h.type);if(!g)a.push(new ir(c,m,oe.empty));else{r=g;for(let b=0;b<h.marks.length;b++)t.allowsMarkType(h.marks[b].type)||n.step(new za(c,m,h.marks[b]));if(s&&h.isText&&t.whitespace!="pre"){let b,v=/\r?\n|\r/g,C;for(;b=v.exec(h.text);)C||(C=new oe(ee.from(t.schema.text(" ",t.allowedMarks(h.marks))),0,0)),a.push(new ir(c+b.index,c+b.index+b[0].length,C))}}c=m}if(!r.validEnd){let d=r.fillBefore(ee.empty,!0);n.replace(c,c,new oe(d,0,0))}for(let d=a.length-1;d>=0;d--)n.step(a[d])}function r9(n,e,t){return(e==0||n.canReplace(e,n.childCount))&&(t==n.childCount||n.canReplace(0,t))}function Yo(n){let t=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let r=n.depth;;--r){let s=n.$from.node(r),l=n.$from.index(r),a=n.$to.indexAfter(r);if(r<n.depth&&s.canReplace(l,a,t))return r;if(r==0||s.type.spec.isolating||!r9(s,l,a))break}return null}function i9(n,e,t){let{$from:r,$to:s,depth:l}=e,a=r.before(l+1),c=s.after(l+1),d=a,h=c,m=ee.empty,g=0;for(let C=l,S=!1;C>t;C--)S||r.index(C)>0?(S=!0,m=ee.from(r.node(C).copy(m)),g++):d--;let b=ee.empty,v=0;for(let C=l,S=!1;C>t;C--)S||s.after(C+1)<s.end(C)?(S=!0,b=ee.from(s.node(C).copy(b)),v++):h++;n.step(new Tn(d,h,a,c,new oe(m.append(b),g,v),m.size-g,!0))}function tm(n,e,t=null,r=n){let s=s9(n,e),l=s&&o9(r,e);return l?s.map(xb).concat({type:e,attrs:t}).concat(l.map(xb)):null}function xb(n){return{type:n,attrs:null}}function s9(n,e){let{parent:t,startIndex:r,endIndex:s}=n,l=t.contentMatchAt(r).findWrapping(e);if(!l)return null;let a=l.length?l[0]:e;return t.canReplaceWith(r,s,a)?l:null}function o9(n,e){let{parent:t,startIndex:r,endIndex:s}=n,l=t.child(r),a=e.contentMatch.findWrapping(l.type);if(!a)return null;let d=(a.length?a[a.length-1]:e).contentMatch;for(let h=r;d&&h<s;h++)d=d.matchType(t.child(h).type);return!d||!d.validEnd?null:a}function l9(n,e,t){let r=ee.empty;for(let a=t.length-1;a>=0;a--){if(r.size){let c=t[a].type.contentMatch.matchFragment(r);if(!c||!c.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=ee.from(t[a].type.create(t[a].attrs,r))}let s=e.start,l=e.end;n.step(new Tn(s,l,s,l,new oe(r,0,0),t.length,!0))}function a9(n,e,t,r,s){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let l=n.steps.length;n.doc.nodesBetween(e,t,(a,c)=>{let d=typeof s=="function"?s(a):s;if(a.isTextblock&&!a.hasMarkup(r,d)&&u9(n.doc,n.mapping.slice(l).map(c),r)){let h=null;if(r.schema.linebreakReplacement){let v=r.whitespace=="pre",C=!!r.contentMatch.matchType(r.schema.linebreakReplacement);v&&!C?h=!1:!v&&C&&(h=!0)}h===!1&&B7(n,a,c,l),em(n,n.mapping.slice(l).map(c,1),r,void 0,h===null);let m=n.mapping.slice(l),g=m.map(c,1),b=m.map(c+a.nodeSize,1);return n.step(new Tn(g,b,g+1,b-1,new oe(ee.from(r.create(d,null,a.marks)),0,0),1,!0)),h===!0&&H7(n,a,c,l),!1}})}function H7(n,e,t,r){e.forEach((s,l)=>{if(s.isText){let a,c=/\r?\n|\r/g;for(;a=c.exec(s.text);){let d=n.mapping.slice(r).map(t+1+l+a.index);n.replaceWith(d,d+1,e.type.schema.linebreakReplacement.create())}}})}function B7(n,e,t,r){e.forEach((s,l)=>{if(s.type==s.type.schema.linebreakReplacement){let a=n.mapping.slice(r).map(t+1+l);n.replaceWith(a,a+1,e.type.schema.text(`
`))}})}function u9(n,e,t){let r=n.resolve(e),s=r.index();return r.parent.canReplaceWith(s,s+1,t)}function c9(n,e,t,r,s){let l=n.doc.nodeAt(e);if(!l)throw new RangeError("No node at given position");t||(t=l.type);let a=t.create(r,null,s||l.marks);if(l.isLeaf)return n.replaceWith(e,e+l.nodeSize,a);if(!t.validContent(l.content))throw new RangeError("Invalid content for node type "+t.name);n.step(new Tn(e,e+l.nodeSize,e+1,e+l.nodeSize-1,new oe(ee.from(a),0,0),1,!0))}function $r(n,e,t=1,r){let s=n.resolve(e),l=s.depth-t,a=r&&r[r.length-1]||s.parent;if(l<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!a.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let h=s.depth-1,m=t-2;h>l;h--,m--){let g=s.node(h),b=s.index(h);if(g.type.spec.isolating)return!1;let v=g.content.cutByIndex(b,g.childCount),C=r&&r[m+1];C&&(v=v.replaceChild(0,C.type.create(C.attrs)));let S=r&&r[m]||g;if(!g.canReplace(b+1,g.childCount)||!S.type.validContent(v))return!1}let c=s.indexAfter(l),d=r&&r[0];return s.node(l).canReplaceWith(c,c,d?d.type:s.node(l+1).type)}function f9(n,e,t=1,r){let s=n.doc.resolve(e),l=ee.empty,a=ee.empty;for(let c=s.depth,d=s.depth-t,h=t-1;c>d;c--,h--){l=ee.from(s.node(c).copy(l));let m=r&&r[h];a=ee.from(m?m.type.create(m.attrs,a):s.node(c).copy(a))}n.step(new ir(e,e,new oe(l.append(a),t,t),!0))}function _i(n,e){let t=n.resolve(e),r=t.index();return I7(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(r,r+1)}function d9(n,e){e.content.size||n.type.compatibleContent(e.type);let t=n.contentMatchAt(n.childCount),{linebreakReplacement:r}=n.type.schema;for(let s=0;s<e.childCount;s++){let l=e.child(s),a=l.type==r?n.type.schema.nodes.text:l.type;if(t=t.matchType(a),!t||!n.type.allowsMarks(l.marks))return!1}return t.validEnd}function I7(n,e){return!!(n&&e&&!n.isLeaf&&d9(n,e))}function Af(n,e,t=-1){let r=n.resolve(e);for(let s=r.depth;;s--){let l,a,c=r.index(s);if(s==r.depth?(l=r.nodeBefore,a=r.nodeAfter):t>0?(l=r.node(s+1),c++,a=r.node(s).maybeChild(c)):(l=r.node(s).maybeChild(c-1),a=r.node(s+1)),l&&!l.isTextblock&&I7(l,a)&&r.node(s).canReplace(c,c+1))return e;if(s==0)break;e=t<0?r.before(s):r.after(s)}}function h9(n,e,t){let r=null,{linebreakReplacement:s}=n.doc.type.schema,l=n.doc.resolve(e-t),a=l.node().type;if(s&&a.inlineContent){let m=a.whitespace=="pre",g=!!a.contentMatch.matchType(s);m&&!g?r=!1:!m&&g&&(r=!0)}let c=n.steps.length;if(r===!1){let m=n.doc.resolve(e+t);B7(n,m.node(),m.before(),c)}a.inlineContent&&em(n,e+t-1,a,l.node().contentMatchAt(l.index()),r==null);let d=n.mapping.slice(c),h=d.map(e-t);if(n.step(new ir(h,d.map(e+t,-1),oe.empty,!0)),r===!0){let m=n.doc.resolve(h);H7(n,m.node(),m.before(),n.steps.length)}return n}function p9(n,e,t){let r=n.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),t))return e;if(r.parentOffset==0)for(let s=r.depth-1;s>=0;s--){let l=r.index(s);if(r.node(s).canReplaceWith(l,l,t))return r.before(s+1);if(l>0)return null}if(r.parentOffset==r.parent.content.size)for(let s=r.depth-1;s>=0;s--){let l=r.indexAfter(s);if(r.node(s).canReplaceWith(l,l,t))return r.after(s+1);if(l<r.node(s).childCount)return null}return null}function j7(n,e,t){let r=n.resolve(e);if(!t.content.size)return e;let s=t.content;for(let l=0;l<t.openStart;l++)s=s.firstChild.content;for(let l=1;l<=(t.openStart==0&&t.size?2:1);l++)for(let a=r.depth;a>=0;a--){let c=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,d=r.index(a)+(c>0?1:0),h=r.node(a),m=!1;if(l==1)m=h.canReplace(d,d,s);else{let g=h.contentMatchAt(d).findWrapping(s.firstChild.type);m=g&&h.canReplaceWith(d,d,g[0])}if(m)return c==0?r.pos:c<0?r.before(a+1):r.after(a+1)}return null}function kf(n,e,t=e,r=oe.empty){if(e==t&&!r.size)return null;let s=n.resolve(e),l=n.resolve(t);return V7(s,l,r)?new ir(e,t,r):new m9(s,l,r).fit()}function V7(n,e,t){return!t.openStart&&!t.openEnd&&n.start()==e.start()&&n.parent.canReplace(n.index(),e.index(),t.content)}class m9{constructor(e,t,r){this.$from=e,this.$to=t,this.unplaced=r,this.frontier=[],this.placed=ee.empty;for(let s=0;s<=e.depth;s++){let l=e.node(s);this.frontier.push({type:l.type,match:l.contentMatchAt(e.indexAfter(s))})}for(let s=e.depth;s>0;s--)this.placed=ee.from(e.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let h=this.findFittable();h?this.placeNodes(h):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,r=this.$from,s=this.close(e<0?this.$to:r.doc.resolve(e));if(!s)return null;let l=this.placed,a=r.depth,c=s.depth;for(;a&&c&&l.childCount==1;)l=l.firstChild.content,a--,c--;let d=new oe(l,a,c);return e>-1?new Tn(r.pos,e,this.$to.pos,this.$to.end(),d,t):d.size||r.pos!=this.$to.pos?new ir(r.pos,s.pos,d):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,r=0,s=this.unplaced.openEnd;r<e;r++){let l=t.firstChild;if(t.childCount>1&&(s=0),l.type.spec.isolating&&s<=r){e=r;break}t=l.content}for(let t=1;t<=2;t++)for(let r=t==1?e:this.unplaced.openStart;r>=0;r--){let s,l=null;r?(l=Cp(this.unplaced.content,r-1).firstChild,s=l.content):s=this.unplaced.content;let a=s.firstChild;for(let c=this.depth;c>=0;c--){let{type:d,match:h}=this.frontier[c],m,g=null;if(t==1&&(a?h.matchType(a.type)||(g=h.fillBefore(ee.from(a),!1)):l&&d.compatibleContent(l.type)))return{sliceDepth:r,frontierDepth:c,parent:l,inject:g};if(t==2&&a&&(m=h.findWrapping(a.type)))return{sliceDepth:r,frontierDepth:c,parent:l,wrap:m};if(l&&h.matchType(l.type))break}}}openMore(){let{content:e,openStart:t,openEnd:r}=this.unplaced,s=Cp(e,t);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new oe(e,t+1,Math.max(r,s.size+t>=e.size-r?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:r}=this.unplaced,s=Cp(e,t);if(s.childCount<=1&&t>0){let l=e.size-t<=t+s.size;this.unplaced=new oe(ta(e,t-1,1),t-1,l?t-1:r)}else this.unplaced=new oe(ta(e,t,1),t,r)}placeNodes({sliceDepth:e,frontierDepth:t,parent:r,inject:s,wrap:l}){for(;this.depth>t;)this.closeFrontierNode();if(l)for(let S=0;S<l.length;S++)this.openFrontierNode(l[S]);let a=this.unplaced,c=r?r.content:a.content,d=a.openStart-e,h=0,m=[],{match:g,type:b}=this.frontier[t];if(s){for(let S=0;S<s.childCount;S++)m.push(s.child(S));g=g.matchFragment(s)}let v=c.size+e-(a.content.size-a.openEnd);for(;h<c.childCount;){let S=c.child(h),w=g.matchType(S.type);if(!w)break;h++,(h>1||d==0||S.content.size)&&(g=w,m.push(_7(S.mark(b.allowedMarks(S.marks)),h==1?d:0,h==c.childCount?v:-1)))}let C=h==c.childCount;C||(v=-1),this.placed=na(this.placed,t,ee.from(m)),this.frontier[t].match=g,C&&v<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let S=0,w=c;S<v;S++){let A=w.lastChild;this.frontier.push({type:A.type,match:A.contentMatchAt(A.childCount)}),w=A.content}this.unplaced=C?e==0?oe.empty:new oe(ta(a.content,e-1,1),e-1,v<0?a.openEnd:e-1):new oe(ta(a.content,e,h),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!Sp(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:r}=this.$to,s=this.$to.after(r);for(;r>1&&s==this.$to.end(--r);)++s;return s}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:r,type:s}=this.frontier[t],l=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),a=Sp(e,t,s,r,l);if(a){for(let c=t-1;c>=0;c--){let{match:d,type:h}=this.frontier[c],m=Sp(e,c,h,d,!0);if(!m||m.childCount)continue e}return{depth:t,fit:a,move:l?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=na(this.placed,t.depth,t.fit)),e=t.move;for(let r=t.depth+1;r<=e.depth;r++){let s=e.node(r),l=s.type.contentMatch.fillBefore(s.content,!0,e.index(r));this.openFrontierNode(s.type,s.attrs,l)}return e}openFrontierNode(e,t=null,r){let s=this.frontier[this.depth];s.match=s.match.matchType(e),this.placed=na(this.placed,this.depth,ee.from(e.create(t,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(ee.empty,!0);t.childCount&&(this.placed=na(this.placed,this.frontier.length,t))}}function ta(n,e,t){return e==0?n.cutByIndex(t,n.childCount):n.replaceChild(0,n.firstChild.copy(ta(n.firstChild.content,e-1,t)))}function na(n,e,t){return e==0?n.append(t):n.replaceChild(n.childCount-1,n.lastChild.copy(na(n.lastChild.content,e-1,t)))}function Cp(n,e){for(let t=0;t<e;t++)n=n.firstChild.content;return n}function _7(n,e,t){if(e<=0)return n;let r=n.content;return e>1&&(r=r.replaceChild(0,_7(r.firstChild,e-1,r.childCount==1?t-1:0))),e>0&&(r=n.type.contentMatch.fillBefore(r).append(r),t<=0&&(r=r.append(n.type.contentMatch.matchFragment(r).fillBefore(ee.empty,!0)))),n.copy(r)}function Sp(n,e,t,r,s){let l=n.node(e),a=s?n.indexAfter(e):n.index(e);if(a==l.childCount&&!t.compatibleContent(l.type))return null;let c=r.fillBefore(l.content,!0,a);return c&&!g9(t,l.content,a)?c:null}function g9(n,e,t){for(let r=t;r<e.childCount;r++)if(!n.allowsMarks(e.child(r).marks))return!0;return!1}function y9(n){return n.spec.defining||n.spec.definingForContent}function b9(n,e,t,r){if(!r.size)return n.deleteRange(e,t);let s=n.doc.resolve(e),l=n.doc.resolve(t);if(V7(s,l,r))return n.step(new ir(e,t,r));let a=q7(s,n.doc.resolve(t));a[a.length-1]==0&&a.pop();let c=-(s.depth+1);a.unshift(c);for(let b=s.depth,v=s.pos-1;b>0;b--,v--){let C=s.node(b).type.spec;if(C.defining||C.definingAsContext||C.isolating)break;a.indexOf(b)>-1?c=b:s.before(b)==v&&a.splice(1,0,-b)}let d=a.indexOf(c),h=[],m=r.openStart;for(let b=r.content,v=0;;v++){let C=b.firstChild;if(h.push(C),v==r.openStart)break;b=C.content}for(let b=m-1;b>=0;b--){let v=h[b],C=y9(v.type);if(C&&!v.sameMarkup(s.node(Math.abs(c)-1)))m=b;else if(C||!v.type.isTextblock)break}for(let b=r.openStart;b>=0;b--){let v=(b+m+1)%(r.openStart+1),C=h[v];if(C)for(let S=0;S<a.length;S++){let w=a[(S+d)%a.length],A=!0;w<0&&(A=!1,w=-w);let R=s.node(w-1),D=s.index(w-1);if(R.canReplaceWith(D,D,C.type,C.marks))return n.replace(s.before(w),A?l.after(w):t,new oe(U7(r.content,0,r.openStart,v),v,r.openEnd))}}let g=n.steps.length;for(let b=a.length-1;b>=0&&(n.replace(e,t,r),!(n.steps.length>g));b--){let v=a[b];v<0||(e=s.before(v),t=l.after(v))}}function U7(n,e,t,r,s){if(e<t){let l=n.firstChild;n=n.replaceChild(0,l.copy(U7(l.content,e+1,t,r,l)))}if(e>r){let l=s.contentMatchAt(0),a=l.fillBefore(n).append(n);n=a.append(l.matchFragment(a).fillBefore(ee.empty,!0))}return n}function v9(n,e,t,r){if(!r.isInline&&e==t&&n.doc.resolve(e).parent.content.size){let s=p9(n.doc,e,r.type);s!=null&&(e=t=s)}n.replaceRange(e,t,new oe(ee.from(r),0,0))}function C9(n,e,t){let r=n.doc.resolve(e),s=n.doc.resolve(t),l=q7(r,s);for(let a=0;a<l.length;a++){let c=l[a],d=a==l.length-1;if(d&&c==0||r.node(c).type.contentMatch.validEnd)return n.delete(r.start(c),s.end(c));if(c>0&&(d||r.node(c-1).canReplace(r.index(c-1),s.indexAfter(c-1))))return n.delete(r.before(c),s.after(c))}for(let a=1;a<=r.depth&&a<=s.depth;a++)if(e-r.start(a)==r.depth-a&&t>r.end(a)&&s.end(a)-t!=s.depth-a&&r.start(a-1)==s.start(a-1)&&r.node(a-1).canReplace(r.index(a-1),s.index(a-1)))return n.delete(r.before(a),t);n.delete(e,t)}function q7(n,e){let t=[],r=Math.min(n.depth,e.depth);for(let s=r;s>=0;s--){let l=n.start(s);if(l<n.pos-(n.depth-s)||e.end(s)>e.pos+(e.depth-s)||n.node(s).type.spec.isolating||e.node(s).type.spec.isolating)break;(l==e.start(s)||s==n.depth&&s==e.depth&&n.parent.inlineContent&&e.parent.inlineContent&&s&&e.start(s-1)==l-1)&&t.push(s)}return t}let P7=class Cc extends tn{constructor(e,t,r){super(),this.pos=e,this.attr=t,this.value=r}apply(e){let t=e.nodeAt(this.pos);if(!t)return ln.fail("No node at attribute step's position");let r=Object.create(null);for(let l in t.attrs)r[l]=t.attrs[l];r[this.attr]=this.value;let s=t.type.create(r,null,t.marks);return ln.fromReplace(e,this.pos,this.pos+1,new oe(ee.from(s),0,t.isLeaf?0:1))}getMap(){return Rs.empty}invert(e){return new Cc(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Cc(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Cc(t.pos,t.attr,t.value)}};tn.jsonID("attr",P7);let F7=class h1 extends tn{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let s in e.attrs)t[s]=e.attrs[s];t[this.attr]=this.value;let r=e.type.create(t,e.content,e.marks);return ln.ok(r)}getMap(){return Rs.empty}invert(e){return new h1(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new h1(t.attr,t.value)}};tn.jsonID("docAttr",F7);let _o=class extends Error{};_o=function n(e){let t=Error.call(this,e);return t.__proto__=n.prototype,t};_o.prototype=Object.create(Error.prototype);_o.prototype.constructor=_o;_o.prototype.name="TransformError";class K7{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new xa}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new _o(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,r=oe.empty){let s=kf(this.doc,e,t,r);return s&&this.step(s),this}replaceWith(e,t,r){return this.replace(e,t,new oe(ee.from(r),0,0))}delete(e,t){return this.replace(e,t,oe.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,r){return b9(this,e,t,r),this}replaceRangeWith(e,t,r){return v9(this,e,t,r),this}deleteRange(e,t){return C9(this,e,t),this}lift(e,t){return i9(this,e,t),this}join(e,t=1){return h9(this,e,t),this}wrap(e,t){return l9(this,e,t),this}setBlockType(e,t=e,r,s=null){return a9(this,e,t,r,s),this}setNodeMarkup(e,t,r=null,s){return c9(this,e,t,r,s),this}setNodeAttribute(e,t,r){return this.step(new P7(e,t,r)),this}setDocAttribute(e,t){return this.step(new F7(e,t)),this}addNodeMark(e,t){return this.step(new W1(e,t)),this}removeNodeMark(e,t){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(t instanceof Je)t.isInSet(r.marks)&&this.step(new Dc(e,t));else{let s=r.marks,l,a=[];for(;l=t.isInSet(s);)a.push(new Dc(e,l)),s=l.removeFromSet(s);for(let c=a.length-1;c>=0;c--)this.step(a[c])}return this}split(e,t=1,r){return f9(this,e,t,r),this}addMark(e,t,r){return t9(this,e,t,r),this}removeMark(e,t,r){return n9(this,e,t,r),this}clearIncompatible(e,t,r){return em(this,e,t,r),this}}const xp=Object.create(null);let Te=class{constructor(e,t,r){this.$anchor=e,this.$head=t,this.ranges=r||[new S9(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=oe.empty){let r=t.content.lastChild,s=null;for(let c=0;c<t.openEnd;c++)s=r,r=r.lastChild;let l=e.steps.length,a=this.ranges;for(let c=0;c<a.length;c++){let{$from:d,$to:h}=a[c],m=e.mapping.slice(l);e.replaceRange(m.map(d.pos),m.map(h.pos),c?oe.empty:t),c==0&&Mb(e,l,(r?r.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(e,t){let r=e.steps.length,s=this.ranges;for(let l=0;l<s.length;l++){let{$from:a,$to:c}=s[l],d=e.mapping.slice(r),h=d.map(a.pos),m=d.map(c.pos);l?e.deleteRange(h,m):(e.replaceRangeWith(h,m,t),Mb(e,r,t.isInline?-1:1))}}static findFrom(e,t,r=!1){let s=e.parent.inlineContent?new ve(e):Ro(e.node(0),e.parent,e.pos,e.index(),t,r);if(s)return s;for(let l=e.depth-1;l>=0;l--){let a=t<0?Ro(e.node(0),e.node(l),e.before(l+1),e.index(l),t,r):Ro(e.node(0),e.node(l),e.after(l+1),e.index(l)+1,t,r);if(a)return a}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new Bn(e.node(0))}static atStart(e){return Ro(e,e,0,0,1)||new Bn(e)}static atEnd(e){return Ro(e,e,e.content.size,e.childCount,-1)||new Bn(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=xp[t.type];if(!r)throw new RangeError(`No selection type ${t.type} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in xp)throw new RangeError("Duplicate use of selection JSON ID "+e);return xp[e]=t,t.prototype.jsonID=e,t}getBookmark(){return ve.between(this.$anchor,this.$head).getBookmark()}};Te.prototype.visible=!0;class S9{constructor(e,t){this.$from=e,this.$to=t}}let Eb=!1;function wb(n){!Eb&&!n.parent.inlineContent&&(Eb=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}class ve extends Te{constructor(e,t=e){wb(e),wb(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let r=e.resolve(t.map(this.head));if(!r.parent.inlineContent)return Te.near(r);let s=e.resolve(t.map(this.anchor));return new ve(s.parent.inlineContent?s:r,r)}replace(e,t=oe.empty){if(super.replace(e,t),t==oe.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof ve&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Of(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new ve(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,r=t){let s=e.resolve(t);return new this(s,r==t?s:e.resolve(r))}static between(e,t,r){let s=e.pos-t.pos;if((!r||s)&&(r=s>=0?1:-1),!t.parent.inlineContent){let l=Te.findFrom(t,r,!0)||Te.findFrom(t,-r,!0);if(l)t=l.$head;else return Te.near(t,r)}return e.parent.inlineContent||(s==0?e=t:(e=(Te.findFrom(e,-r,!0)||Te.findFrom(e,r,!0)).$anchor,e.pos<t.pos!=s<0&&(e=t))),new ve(e,t)}}Te.jsonID("text",ve);class Of{constructor(e,t){this.anchor=e,this.head=t}map(e){return new Of(e.map(this.anchor),e.map(this.head))}resolve(e){return ve.between(e.resolve(this.anchor),e.resolve(this.head))}}class ce extends Te{constructor(e){let t=e.nodeAfter,r=e.node(0).resolve(e.pos+t.nodeSize);super(e,r),this.node=t}map(e,t){let{deleted:r,pos:s}=t.mapResult(this.anchor),l=e.resolve(s);return r?Te.near(l):new ce(l)}content(){return new oe(ee.from(this.node),0,0)}eq(e){return e instanceof ce&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new nm(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ce(e.resolve(t.anchor))}static create(e,t){return new ce(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}ce.prototype.visible=!1;Te.jsonID("node",ce);class nm{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:r}=e.mapResult(this.anchor);return t?new Of(r,r):new nm(r)}resolve(e){let t=e.resolve(this.anchor),r=t.nodeAfter;return r&&ce.isSelectable(r)?new ce(t):Te.near(t)}}class Bn extends Te{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=oe.empty){if(t==oe.empty){e.delete(0,e.doc.content.size);let r=Te.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new Bn(e)}map(e){return new Bn(e)}eq(e){return e instanceof Bn}getBookmark(){return x9}}Te.jsonID("all",Bn);const x9={map(){return this},resolve(n){return new Bn(n)}};function Ro(n,e,t,r,s,l=!1){if(e.inlineContent)return ve.create(n,t);for(let a=r-(s>0?0:1);s>0?a<e.childCount:a>=0;a+=s){let c=e.child(a);if(c.isAtom){if(!l&&ce.isSelectable(c))return ce.create(n,t-(s<0?c.nodeSize:0))}else{let d=Ro(n,c,t+s,s<0?c.childCount:0,s,l);if(d)return d}t+=c.nodeSize*s}return null}function Mb(n,e,t){let r=n.steps.length-1;if(r<e)return;let s=n.steps[r];if(!(s instanceof ir||s instanceof Tn))return;let l=n.mapping.maps[r],a;l.forEach((c,d,h,m)=>{a==null&&(a=m)}),n.setSelection(Te.near(n.doc.resolve(a),t))}const Tb=1,rc=2,Ab=4;class E9 extends K7{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Tb)&~rc,this.storedMarks=null,this}get selectionSet(){return(this.updated&Tb)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=rc,this}ensureMarks(e){return Je.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&rc)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&~rc,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let r=this.selection;return t&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Je.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,r){let s=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(s.text(e),!0):this.deleteSelection();{if(r==null&&(r=t),r=r??t,!e)return this.deleteRange(t,r);let l=this.storedMarks;if(!l){let a=this.doc.resolve(t);l=r==t?a.marks():a.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(t,r,s.text(e,l)),this.selection.empty||this.setSelection(Te.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=Ab,this}get scrolledIntoView(){return(this.updated&Ab)>0}}function kb(n,e){return!e||!n?n:n.bind(e)}class ra{constructor(e,t,r){this.name=e,this.init=kb(t.init,r),this.apply=kb(t.apply,r)}}const w9=[new ra("doc",{init(n){return n.doc||n.schema.topNodeType.createAndFill()},apply(n){return n.doc}}),new ra("selection",{init(n,e){return n.selection||Te.atStart(e.doc)},apply(n){return n.selection}}),new ra("storedMarks",{init(n){return n.storedMarks||null},apply(n,e,t,r){return r.selection.$cursor?n.storedMarks:null}}),new ra("scrollToSelection",{init(){return 0},apply(n,e){return n.scrolledIntoView?e+1:e}})];class Ep{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=w9.slice(),t&&t.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new ra(r.key,r.spec.state,r))})}}class Lo{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=t){let s=this.config.plugins[r];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],r=this.applyInner(e),s=null;for(;;){let l=!1;for(let a=0;a<this.config.plugins.length;a++){let c=this.config.plugins[a];if(c.spec.appendTransaction){let d=s?s[a].n:0,h=s?s[a].state:this,m=d<t.length&&c.spec.appendTransaction.call(c,d?t.slice(d):t,h,r);if(m&&r.filterTransaction(m,a)){if(m.setMeta("appendedTransaction",e),!s){s=[];for(let g=0;g<this.config.plugins.length;g++)s.push(g<a?{state:r,n:t.length}:{state:this,n:0})}t.push(m),r=r.applyInner(m),l=!0}s&&(s[a]={state:r,n:t.length})}}if(!l)return{state:r,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new Lo(this.config),r=this.config.fields;for(let s=0;s<r.length;s++){let l=r[s];t[l.name]=l.apply(e,this[l.name],this,t)}return t}get tr(){return new E9(this)}static create(e){let t=new Ep(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Lo(t);for(let s=0;s<t.fields.length;s++)r[t.fields[s].name]=t.fields[s].init(e,r);return r}reconfigure(e){let t=new Ep(this.schema,e.plugins),r=t.fields,s=new Lo(t);for(let l=0;l<r.length;l++){let a=r[l].name;s[a]=this.hasOwnProperty(a)?this[a]:r[l].init(e,s)}return s}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=e[r],l=s.spec.state;l&&l.toJSON&&(t[r]=l.toJSON.call(s,this[s.key]))}return t}static fromJSON(e,t,r){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let s=new Ep(e.schema,e.plugins),l=new Lo(s);return s.fields.forEach(a=>{if(a.name=="doc")l.doc=Ni.fromJSON(e.schema,t.doc);else if(a.name=="selection")l.selection=Te.fromJSON(l.doc,t.selection);else if(a.name=="storedMarks")t.storedMarks&&(l.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let c in r){let d=r[c],h=d.spec.state;if(d.key==a.name&&h&&h.fromJSON&&Object.prototype.hasOwnProperty.call(t,c)){l[a.name]=h.fromJSON.call(d,e,t[c],l);return}}l[a.name]=a.init(e,l)}}),l}}function $7(n,e,t){for(let r in n){let s=n[r];s instanceof Function?s=s.bind(e):r=="handleDOMEvents"&&(s=$7(s,e,{})),t[r]=s}return t}class pt{constructor(e){this.spec=e,this.props={},e.props&&$7(e.props,this,this.props),this.key=e.key?e.key.key:G7("plugin")}getState(e){return e[this.key]}}const wp=Object.create(null);function G7(n){return n in wp?n+"$"+ ++wp[n]:(wp[n]=0,n+"$")}class $t{constructor(e="key"){this.key=G7(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Pt=function(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e},Uo=function(n){let e=n.assignedSlot||n.parentNode;return e&&e.nodeType==11?e.host:e};let p1=null;const qr=function(n,e,t){let r=p1||(p1=document.createRange());return r.setEnd(n,t??n.nodeValue.length),r.setStart(n,e||0),r},M9=function(){p1=null},Ns=function(n,e,t,r){return t&&(Ob(n,e,t,r,-1)||Ob(n,e,t,r,1))},T9=/^(img|br|input|textarea|hr)$/i;function Ob(n,e,t,r,s){for(var l;;){if(n==t&&e==r)return!0;if(e==(s<0?0:Jn(n))){let a=n.parentNode;if(!a||a.nodeType!=1||Ha(n)||T9.test(n.nodeName)||n.contentEditable=="false")return!1;e=Pt(n)+(s<0?0:1),n=a}else if(n.nodeType==1){let a=n.childNodes[e+(s<0?-1:0)];if(a.nodeType==1&&a.contentEditable=="false")if(!((l=a.pmViewDesc)===null||l===void 0)&&l.ignoreForSelection)e+=s;else return!1;else n=a,e=s<0?Jn(n):0}else return!1}}function Jn(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function A9(n,e){for(;;){if(n.nodeType==3&&e)return n;if(n.nodeType==1&&e>0){if(n.contentEditable=="false")return null;n=n.childNodes[e-1],e=Jn(n)}else if(n.parentNode&&!Ha(n))e=Pt(n),n=n.parentNode;else return null}}function k9(n,e){for(;;){if(n.nodeType==3&&e<n.nodeValue.length)return n;if(n.nodeType==1&&e<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[e],e=0}else if(n.parentNode&&!Ha(n))e=Pt(n)+1,n=n.parentNode;else return null}}function O9(n,e,t){for(let r=e==0,s=e==Jn(n);r||s;){if(n==t)return!0;let l=Pt(n);if(n=n.parentNode,!n)return!1;r=r&&l==0,s=s&&l==Jn(n)}}function Ha(n){let e;for(let t=n;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==n||e.contentDOM==n)}const Rf=function(n){return n.focusNode&&Ns(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)};function ps(n,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=n,t.key=t.code=e,t}function R9(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function N9(n,e,t){if(n.caretPositionFromPoint)try{let r=n.caretPositionFromPoint(e,t);if(r)return{node:r.offsetNode,offset:Math.min(Jn(r.offsetNode),r.offset)}}catch{}if(n.caretRangeFromPoint){let r=n.caretRangeFromPoint(e,t);if(r)return{node:r.startContainer,offset:Math.min(Jn(r.startContainer),r.startOffset)}}}const yr=typeof navigator<"u"?navigator:null,Rb=typeof document<"u"?document:null,Ui=yr&&yr.userAgent||"",m1=/Edge\/(\d+)/.exec(Ui),Y7=/MSIE \d/.exec(Ui),g1=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ui),wn=!!(Y7||g1||m1),Li=Y7?document.documentMode:g1?+g1[1]:m1?+m1[1]:0,sr=!wn&&/gecko\/(\d+)/i.test(Ui);sr&&+(/Firefox\/(\d+)/.exec(Ui)||[0,0])[1];const y1=!wn&&/Chrome\/(\d+)/.exec(Ui),en=!!y1,Z7=y1?+y1[1]:0,un=!wn&&!!yr&&/Apple Computer/.test(yr.vendor),qo=un&&(/Mobile\/\w+/.test(Ui)||!!yr&&yr.maxTouchPoints>2),Zn=qo||(yr?/Mac/.test(yr.platform):!1),D9=yr?/Win/.test(yr.platform):!1,Fr=/Android \d/.test(Ui),Ba=!!Rb&&"webkitFontSmoothing"in Rb.documentElement.style,L9=Ba?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function z9(n){let e=n.defaultView&&n.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function jr(n,e){return typeof n=="number"?n:n[e]}function H9(n){let e=n.getBoundingClientRect(),t=e.width/n.offsetWidth||1,r=e.height/n.offsetHeight||1;return{left:e.left,right:e.left+n.clientWidth*t,top:e.top,bottom:e.top+n.clientHeight*r}}function Nb(n,e,t){let r=n.someProp("scrollThreshold")||0,s=n.someProp("scrollMargin")||5,l=n.dom.ownerDocument;for(let a=t||n.dom;a;){if(a.nodeType!=1){a=Uo(a);continue}let c=a,d=c==l.body,h=d?z9(l):H9(c),m=0,g=0;if(e.top<h.top+jr(r,"top")?g=-(h.top-e.top+jr(s,"top")):e.bottom>h.bottom-jr(r,"bottom")&&(g=e.bottom-e.top>h.bottom-h.top?e.top+jr(s,"top")-h.top:e.bottom-h.bottom+jr(s,"bottom")),e.left<h.left+jr(r,"left")?m=-(h.left-e.left+jr(s,"left")):e.right>h.right-jr(r,"right")&&(m=e.right-h.right+jr(s,"right")),m||g)if(d)l.defaultView.scrollBy(m,g);else{let v=c.scrollLeft,C=c.scrollTop;g&&(c.scrollTop+=g),m&&(c.scrollLeft+=m);let S=c.scrollLeft-v,w=c.scrollTop-C;e={left:e.left-S,top:e.top-w,right:e.right-S,bottom:e.bottom-w}}let b=d?"fixed":getComputedStyle(a).position;if(/^(fixed|sticky)$/.test(b))break;a=b=="absolute"?a.offsetParent:Uo(a)}}function B9(n){let e=n.dom.getBoundingClientRect(),t=Math.max(0,e.top),r,s;for(let l=(e.left+e.right)/2,a=t+1;a<Math.min(innerHeight,e.bottom);a+=5){let c=n.root.elementFromPoint(l,a);if(!c||c==n.dom||!n.dom.contains(c))continue;let d=c.getBoundingClientRect();if(d.top>=t-20){r=c,s=d.top;break}}return{refDOM:r,refTop:s,stack:J7(n.dom)}}function J7(n){let e=[],t=n.ownerDocument;for(let r=n;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),n!=t);r=Uo(r));return e}function I9({refDOM:n,refTop:e,stack:t}){let r=n?n.getBoundingClientRect().top:0;Q7(t,r==0?0:r-e)}function Q7(n,e){for(let t=0;t<n.length;t++){let{dom:r,top:s,left:l}=n[t];r.scrollTop!=s+e&&(r.scrollTop=s+e),r.scrollLeft!=l&&(r.scrollLeft=l)}}let To=null;function j9(n){if(n.setActive)return n.setActive();if(To)return n.focus(To);let e=J7(n);n.focus(To==null?{get preventScroll(){return To={preventScroll:!0},!0}}:void 0),To||(To=!1,Q7(e,0))}function X7(n,e){let t,r=2e8,s,l=0,a=e.top,c=e.top,d,h;for(let m=n.firstChild,g=0;m;m=m.nextSibling,g++){let b;if(m.nodeType==1)b=m.getClientRects();else if(m.nodeType==3)b=qr(m).getClientRects();else continue;for(let v=0;v<b.length;v++){let C=b[v];if(C.top<=a&&C.bottom>=c){a=Math.max(C.bottom,a),c=Math.min(C.top,c);let S=C.left>e.left?C.left-e.left:C.right<e.left?e.left-C.right:0;if(S<r){t=m,r=S,s=S&&t.nodeType==3?{left:C.right<e.left?C.right:C.left,top:e.top}:e,m.nodeType==1&&S&&(l=g+(e.left>=(C.left+C.right)/2?1:0));continue}}else C.top>e.top&&!d&&C.left<=e.left&&C.right>=e.left&&(d=m,h={left:Math.max(C.left,Math.min(C.right,e.left)),top:C.top});!t&&(e.left>=C.right&&e.top>=C.top||e.left>=C.left&&e.top>=C.bottom)&&(l=g+1)}}return!t&&d&&(t=d,s=h,r=0),t&&t.nodeType==3?V9(t,s):!t||r&&t.nodeType==1?{node:n,offset:l}:X7(t,s)}function V9(n,e){let t=n.nodeValue.length,r=document.createRange();for(let s=0;s<t;s++){r.setEnd(n,s+1),r.setStart(n,s);let l=Ci(r,1);if(l.top!=l.bottom&&rm(e,l))return{node:n,offset:s+(e.left>=(l.left+l.right)/2?1:0)}}return{node:n,offset:0}}function rm(n,e){return n.left>=e.left-1&&n.left<=e.right+1&&n.top>=e.top-1&&n.top<=e.bottom+1}function _9(n,e){let t=n.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<n.getBoundingClientRect().left?t:n}function U9(n,e,t){let{node:r,offset:s}=X7(e,t),l=-1;if(r.nodeType==1&&!r.firstChild){let a=r.getBoundingClientRect();l=a.left!=a.right&&t.left>(a.left+a.right)/2?1:-1}return n.docView.posFromDOM(r,s,l)}function q9(n,e,t,r){let s=-1;for(let l=e,a=!1;l!=n.dom;){let c=n.docView.nearestDesc(l,!0),d;if(!c)return null;if(c.dom.nodeType==1&&(c.node.isBlock&&c.parent||!c.contentDOM)&&((d=c.dom.getBoundingClientRect()).width||d.height)&&(c.node.isBlock&&c.parent&&(!a&&d.left>r.left||d.top>r.top?s=c.posBefore:(!a&&d.right<r.left||d.bottom<r.top)&&(s=c.posAfter),a=!0),!c.contentDOM&&s<0&&!c.node.isText))return(c.node.isBlock?r.top<(d.top+d.bottom)/2:r.left<(d.left+d.right)/2)?c.posBefore:c.posAfter;l=c.dom.parentNode}return s>-1?s:n.docView.posFromDOM(e,t,-1)}function W7(n,e,t){let r=n.childNodes.length;if(r&&t.top<t.bottom)for(let s=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-t.top)/(t.bottom-t.top))-2)),l=s;;){let a=n.childNodes[l];if(a.nodeType==1){let c=a.getClientRects();for(let d=0;d<c.length;d++){let h=c[d];if(rm(e,h))return W7(a,e,h)}}if((l=(l+1)%r)==s)break}return n}function P9(n,e){let t=n.dom.ownerDocument,r,s=0,l=N9(t,e.left,e.top);l&&({node:r,offset:s}=l);let a=(n.root.elementFromPoint?n.root:t).elementFromPoint(e.left,e.top),c;if(!a||!n.dom.contains(a.nodeType!=1?a.parentNode:a)){let h=n.dom.getBoundingClientRect();if(!rm(e,h)||(a=W7(n.dom,e,h),!a))return null}if(un)for(let h=a;r&&h;h=Uo(h))h.draggable&&(r=void 0);if(a=_9(a,e),r){if(sr&&r.nodeType==1&&(s=Math.min(s,r.childNodes.length),s<r.childNodes.length)){let m=r.childNodes[s],g;m.nodeName=="IMG"&&(g=m.getBoundingClientRect()).right<=e.left&&g.bottom>e.top&&s++}let h;Ba&&s&&r.nodeType==1&&(h=r.childNodes[s-1]).nodeType==1&&h.contentEditable=="false"&&h.getBoundingClientRect().top>=e.top&&s--,r==n.dom&&s==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?c=n.state.doc.content.size:(s==0||r.nodeType!=1||r.childNodes[s-1].nodeName!="BR")&&(c=q9(n,r,s,e))}c==null&&(c=U9(n,a,e));let d=n.docView.nearestDesc(a,!0);return{pos:c,inside:d?d.posAtStart-d.border:-1}}function Db(n){return n.top<n.bottom||n.left<n.right}function Ci(n,e){let t=n.getClientRects();if(t.length){let r=t[e<0?0:t.length-1];if(Db(r))return r}return Array.prototype.find.call(t,Db)||n.getBoundingClientRect()}const F9=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function e4(n,e,t){let{node:r,offset:s,atom:l}=n.docView.domFromPos(e,t<0?-1:1),a=Ba||sr;if(r.nodeType==3)if(a&&(F9.test(r.nodeValue)||(t<0?!s:s==r.nodeValue.length))){let d=Ci(qr(r,s,s),t);if(sr&&s&&/\s/.test(r.nodeValue[s-1])&&s<r.nodeValue.length){let h=Ci(qr(r,s-1,s-1),-1);if(h.top==d.top){let m=Ci(qr(r,s,s+1),-1);if(m.top!=d.top)return Zl(m,m.left<h.left)}}return d}else{let d=s,h=s,m=t<0?1:-1;return t<0&&!s?(h++,m=-1):t>=0&&s==r.nodeValue.length?(d--,m=1):t<0?d--:h++,Zl(Ci(qr(r,d,h),m),m<0)}if(!n.state.doc.resolve(e-(l||0)).parent.inlineContent){if(l==null&&s&&(t<0||s==Jn(r))){let d=r.childNodes[s-1];if(d.nodeType==1)return Mp(d.getBoundingClientRect(),!1)}if(l==null&&s<Jn(r)){let d=r.childNodes[s];if(d.nodeType==1)return Mp(d.getBoundingClientRect(),!0)}return Mp(r.getBoundingClientRect(),t>=0)}if(l==null&&s&&(t<0||s==Jn(r))){let d=r.childNodes[s-1],h=d.nodeType==3?qr(d,Jn(d)-(a?0:1)):d.nodeType==1&&(d.nodeName!="BR"||!d.nextSibling)?d:null;if(h)return Zl(Ci(h,1),!1)}if(l==null&&s<Jn(r)){let d=r.childNodes[s];for(;d.pmViewDesc&&d.pmViewDesc.ignoreForCoords;)d=d.nextSibling;let h=d?d.nodeType==3?qr(d,0,a?0:1):d.nodeType==1?d:null:null;if(h)return Zl(Ci(h,-1),!0)}return Zl(Ci(r.nodeType==3?qr(r):r,-t),t>=0)}function Zl(n,e){if(n.width==0)return n;let t=e?n.left:n.right;return{top:n.top,bottom:n.bottom,left:t,right:t}}function Mp(n,e){if(n.height==0)return n;let t=e?n.top:n.bottom;return{top:t,bottom:t,left:n.left,right:n.right}}function t4(n,e,t){let r=n.state,s=n.root.activeElement;r!=e&&n.updateState(e),s!=n.dom&&n.focus();try{return t()}finally{r!=e&&n.updateState(r),s!=n.dom&&s&&s.focus()}}function K9(n,e,t){let r=e.selection,s=t=="up"?r.$from:r.$to;return t4(n,e,()=>{let{node:l}=n.docView.domFromPos(s.pos,t=="up"?-1:1);for(;;){let c=n.docView.nearestDesc(l,!0);if(!c)break;if(c.node.isBlock){l=c.contentDOM||c.dom;break}l=c.dom.parentNode}let a=e4(n,s.pos,1);for(let c=l.firstChild;c;c=c.nextSibling){let d;if(c.nodeType==1)d=c.getClientRects();else if(c.nodeType==3)d=qr(c,0,c.nodeValue.length).getClientRects();else continue;for(let h=0;h<d.length;h++){let m=d[h];if(m.bottom>m.top+1&&(t=="up"?a.top-m.top>(m.bottom-a.top)*2:m.bottom-a.bottom>(a.bottom-m.top)*2))return!1}}return!0})}const $9=/[\u0590-\u08ac]/;function G9(n,e,t){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let s=r.parentOffset,l=!s,a=s==r.parent.content.size,c=n.domSelection();return c?!$9.test(r.parent.textContent)||!c.modify?t=="left"||t=="backward"?l:a:t4(n,e,()=>{let{focusNode:d,focusOffset:h,anchorNode:m,anchorOffset:g}=n.domSelectionRange(),b=c.caretBidiLevel;c.modify("move",t,"character");let v=r.depth?n.docView.domAfterPos(r.before()):n.dom,{focusNode:C,focusOffset:S}=n.domSelectionRange(),w=C&&!v.contains(C.nodeType==1?C:C.parentNode)||d==C&&h==S;try{c.collapse(m,g),d&&(d!=m||h!=g)&&c.extend&&c.extend(d,h)}catch{}return b!=null&&(c.caretBidiLevel=b),w}):r.pos==r.start()||r.pos==r.end()}let Lb=null,zb=null,Hb=!1;function Y9(n,e,t){return Lb==e&&zb==t?Hb:(Lb=e,zb=t,Hb=t=="up"||t=="down"?K9(n,e,t):G9(n,e,t))}const Qn=0,Bb=1,gs=2,br=3;class Ia{constructor(e,t,r,s){this.parent=e,this.children=t,this.dom=r,this.contentDOM=s,this.dirty=Qn,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,r=this.posAtStart;;t++){let s=this.children[t];if(s==e)return r;r+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let l,a;if(e==this.contentDOM)l=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;l=e.previousSibling}for(;l&&!((a=l.pmViewDesc)&&a.parent==this);)l=l.previousSibling;return l?this.posBeforeChild(a)+a.size:this.posAtStart}else{let l,a;if(e==this.contentDOM)l=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;l=e.nextSibling}for(;l&&!((a=l.pmViewDesc)&&a.parent==this);)l=l.nextSibling;return l?this.posBeforeChild(a):this.posAtEnd}let s;if(e==this.dom&&this.contentDOM)s=t>Pt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let l=e;;l=l.parentNode){if(l==this.dom){s=!1;break}if(l.previousSibling)break}if(s==null&&t==e.childNodes.length)for(let l=e;;l=l.parentNode){if(l==this.dom){s=!0;break}if(l.nextSibling)break}}return s??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let r=!0,s=e;s;s=s.parentNode){let l=this.getDesc(s),a;if(l&&(!t||l.node))if(r&&(a=l.nodeDOM)&&!(a.nodeType==1?a.contains(e.nodeType==1?e:e.parentNode):a==e))r=!1;else return l}}getDesc(e){let t=e.pmViewDesc;for(let r=t;r;r=r.parent)if(r==this)return t}posFromDOM(e,t,r){for(let s=e;s;s=s.parentNode){let l=this.getDesc(s);if(l)return l.localPosFromDOM(e,t,r)}return-1}descAt(e){for(let t=0,r=0;t<this.children.length;t++){let s=this.children[t],l=r+s.size;if(r==e&&l!=r){for(;!s.border&&s.children.length;)for(let a=0;a<s.children.length;a++){let c=s.children[a];if(c.size){s=c;break}}return s}if(e<l)return s.descAt(e-r-s.border);r=l}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,s=0;for(let l=0;r<this.children.length;r++){let a=this.children[r],c=l+a.size;if(c>e||a instanceof r4){s=e-l;break}l=c}if(s)return this.children[r].domFromPos(s-this.children[r].border,t);for(let l;r&&!(l=this.children[r-1]).size&&l instanceof n4&&l.side>=0;r--);if(t<=0){let l,a=!0;for(;l=r?this.children[r-1]:null,!(!l||l.dom.parentNode==this.contentDOM);r--,a=!1);return l&&t&&a&&!l.border&&!l.domAtom?l.domFromPos(l.size,t):{node:this.contentDOM,offset:l?Pt(l.dom)+1:0}}else{let l,a=!0;for(;l=r<this.children.length?this.children[r]:null,!(!l||l.dom.parentNode==this.contentDOM);r++,a=!1);return l&&a&&!l.border&&!l.domAtom?l.domFromPos(0,t):{node:this.contentDOM,offset:l?Pt(l.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,l=-1;for(let a=r,c=0;;c++){let d=this.children[c],h=a+d.size;if(s==-1&&e<=h){let m=a+d.border;if(e>=m&&t<=h-d.border&&d.node&&d.contentDOM&&this.contentDOM.contains(d.contentDOM))return d.parseRange(e,t,m);e=a;for(let g=c;g>0;g--){let b=this.children[g-1];if(b.size&&b.dom.parentNode==this.contentDOM&&!b.emptyChildAt(1)){s=Pt(b.dom)+1;break}e-=b.size}s==-1&&(s=0)}if(s>-1&&(h>t||c==this.children.length-1)){t=h;for(let m=c+1;m<this.children.length;m++){let g=this.children[m];if(g.size&&g.dom.parentNode==this.contentDOM&&!g.emptyChildAt(-1)){l=Pt(g.dom);break}t+=g.size}l==-1&&(l=this.contentDOM.childNodes.length);break}a=h}return{node:this.contentDOM,from:e,to:t,fromOffset:s,toOffset:l}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:r}=this.domFromPos(e,0);if(t.nodeType!=1||r==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[r]}setSelection(e,t,r,s=!1){let l=Math.min(e,t),a=Math.max(e,t);for(let v=0,C=0;v<this.children.length;v++){let S=this.children[v],w=C+S.size;if(l>C&&a<w)return S.setSelection(e-C-S.border,t-C-S.border,r,s);C=w}let c=this.domFromPos(e,e?-1:1),d=t==e?c:this.domFromPos(t,t?-1:1),h=r.root.getSelection(),m=r.domSelectionRange(),g=!1;if((sr||un)&&e==t){let{node:v,offset:C}=c;if(v.nodeType==3){if(g=!!(C&&v.nodeValue[C-1]==`
`),g&&C==v.nodeValue.length)for(let S=v,w;S;S=S.parentNode){if(w=S.nextSibling){w.nodeName=="BR"&&(c=d={node:w.parentNode,offset:Pt(w)+1});break}let A=S.pmViewDesc;if(A&&A.node&&A.node.isBlock)break}}else{let S=v.childNodes[C-1];g=S&&(S.nodeName=="BR"||S.contentEditable=="false")}}if(sr&&m.focusNode&&m.focusNode!=d.node&&m.focusNode.nodeType==1){let v=m.focusNode.childNodes[m.focusOffset];v&&v.contentEditable=="false"&&(s=!0)}if(!(s||g&&un)&&Ns(c.node,c.offset,m.anchorNode,m.anchorOffset)&&Ns(d.node,d.offset,m.focusNode,m.focusOffset))return;let b=!1;if((h.extend||e==t)&&!g){h.collapse(c.node,c.offset);try{e!=t&&h.extend(d.node,d.offset),b=!0}catch{}}if(!b){if(e>t){let C=c;c=d,d=C}let v=document.createRange();v.setEnd(d.node,d.offset),v.setStart(c.node,c.offset),h.removeAllRanges(),h.addRange(v)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let r=0,s=0;s<this.children.length;s++){let l=this.children[s],a=r+l.size;if(r==a?e<=a&&t>=r:e<a&&t>r){let c=r+l.border,d=a-l.border;if(e>=c&&t<=d){this.dirty=e==r||t==a?gs:Bb,e==c&&t==d&&(l.contentLost||l.dom.parentNode!=this.contentDOM)?l.dirty=br:l.markDirty(e-c,t-c);return}else l.dirty=l.dom==l.contentDOM&&l.dom.parentNode==this.contentDOM&&!l.children.length?gs:br}r=a}this.dirty=gs}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let r=e==1?gs:Bb;t.dirty<r&&(t.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class n4 extends Ia{constructor(e,t,r,s){let l,a=t.type.toDOM;if(typeof a=="function"&&(a=a(r,()=>{if(!l)return s;if(l.parent)return l.parent.posBeforeChild(l)})),!t.type.spec.raw){if(a.nodeType!=1){let c=document.createElement("span");c.appendChild(a),a=c}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(e,[],a,null),this.widget=t,this.widget=t,l=this}matchesWidget(e){return this.dirty==Qn&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class Z9 extends Ia{constructor(e,t,r,s){super(e,[],t,null),this.textDOM=r,this.text=s}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Ds extends Ia{constructor(e,t,r,s,l){super(e,[],r,s),this.mark=t,this.spec=l}static create(e,t,r,s){let l=s.nodeViews[t.type.name],a=l&&l(t,s,r);return(!a||!a.dom)&&(a=Bs.renderSpec(document,t.type.spec.toDOM(t,r),null,t.attrs)),new Ds(e,t,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&br||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=br&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=Qn){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Qn}}slice(e,t,r){let s=Ds.create(this.parent,this.mark,!0,r),l=this.children,a=this.size;t<a&&(l=v1(l,t,a,r)),e>0&&(l=v1(l,0,e,r));for(let c=0;c<l.length;c++)l[c].parent=s;return s.children=l,s}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class zi extends Ia{constructor(e,t,r,s,l,a,c,d,h){super(e,[],l,a),this.node=t,this.outerDeco=r,this.innerDeco=s,this.nodeDOM=c}static create(e,t,r,s,l,a){let c=l.nodeViews[t.type.name],d,h=c&&c(t,l,()=>{if(!d)return a;if(d.parent)return d.parent.posBeforeChild(d)},r,s),m=h&&h.dom,g=h&&h.contentDOM;if(t.isText){if(!m)m=document.createTextNode(t.text);else if(m.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else m||({dom:m,contentDOM:g}=Bs.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!g&&!t.isText&&m.nodeName!="BR"&&(m.hasAttribute("contenteditable")||(m.contentEditable="false"),t.type.spec.draggable&&(m.draggable=!0));let b=m;return m=o4(m,r,t),h?d=new J9(e,t,r,s,m,g||null,b,h,l,a+1):t.isText?new Nf(e,t,r,s,m,b,l):new zi(e,t,r,s,m,g||null,b,l,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let r=this.children[t];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>ee.empty)}return e}matchesNode(e,t,r){return this.dirty==Qn&&e.eq(this.node)&&Lc(t,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let r=this.node.inlineContent,s=t,l=e.composing?this.localCompositionInfo(e,t):null,a=l&&l.pos>-1?l:null,c=l&&l.pos<0,d=new X9(this,a&&a.node,e);tE(this.node,this.innerDeco,(h,m,g)=>{h.spec.marks?d.syncToMarks(h.spec.marks,r,e):h.type.side>=0&&!g&&d.syncToMarks(m==this.node.childCount?Je.none:this.node.child(m).marks,r,e),d.placeWidget(h,e,s)},(h,m,g,b)=>{d.syncToMarks(h.marks,r,e);let v;d.findNodeMatch(h,m,g,b)||c&&e.state.selection.from>s&&e.state.selection.to<s+h.nodeSize&&(v=d.findIndexWithChild(l.node))>-1&&d.updateNodeAt(h,m,g,v,e)||d.updateNextNode(h,m,g,e,b,s)||d.addNode(h,m,g,e,s),s+=h.nodeSize}),d.syncToMarks([],r,e),this.node.isTextblock&&d.addTextblockHacks(),d.destroyRest(),(d.changed||this.dirty==gs)&&(a&&this.protectLocalComposition(e,a),i4(this.contentDOM,this.children,e),qo&&nE(this.dom))}localCompositionInfo(e,t){let{from:r,to:s}=e.state.selection;if(!(e.state.selection instanceof ve)||r<t||s>t+this.node.content.size)return null;let l=e.input.compositionNode;if(!l||!this.dom.contains(l.parentNode))return null;if(this.node.inlineContent){let a=l.nodeValue,c=rE(this.node.content,a,r-t,s-t);return c<0?null:{node:l,pos:c,text:a}}else return{node:l,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:r,text:s}){if(this.getDesc(t))return;let l=t;for(;l.parentNode!=this.contentDOM;l=l.parentNode){for(;l.previousSibling;)l.parentNode.removeChild(l.previousSibling);for(;l.nextSibling;)l.parentNode.removeChild(l.nextSibling);l.pmViewDesc&&(l.pmViewDesc=void 0)}let a=new Z9(this,l,t,s);e.input.compositionNodes.push(a),this.children=v1(this.children,r,r+s.length,e,a)}update(e,t,r,s){return this.dirty==br||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,r,s),!0)}updateInner(e,t,r,s){this.updateOuterDeco(t),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=Qn}updateOuterDeco(e){if(Lc(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=s4(this.dom,this.nodeDOM,b1(this.outerDeco,this.node,t),b1(e,this.node,t)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function Ib(n,e,t,r,s){o4(r,e,n);let l=new zi(void 0,n,e,t,r,r,r,s,0);return l.contentDOM&&l.updateChildren(s,0),l}class Nf extends zi{constructor(e,t,r,s,l,a,c){super(e,t,r,s,l,null,a,c,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,r,s){return this.dirty==br||this.dirty!=Qn&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=Qn||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=e,this.dirty=Qn,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,r){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,r){let s=this.node.cut(e,t),l=document.createTextNode(s.text);return new Nf(this.parent,s,this.outerDeco,this.innerDeco,l,l,r)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=br)}get domAtom(){return!1}isText(e){return this.node.text==e}}class r4 extends Ia{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Qn&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class J9 extends zi{constructor(e,t,r,s,l,a,c,d,h,m){super(e,t,r,s,l,a,c,h,m),this.spec=d}update(e,t,r,s){if(this.dirty==br)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let l=this.spec.update(e,t,r);return l&&this.updateInner(e,t,r,s),l}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,r,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,r,s){this.spec.setSelection?this.spec.setSelection(e,t,r.root):super.setSelection(e,t,r,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function i4(n,e,t){let r=n.firstChild,s=!1;for(let l=0;l<e.length;l++){let a=e[l],c=a.dom;if(c.parentNode==n){for(;c!=r;)r=jb(r),s=!0;r=r.nextSibling}else s=!0,n.insertBefore(c,r);if(a instanceof Ds){let d=r?r.previousSibling:n.lastChild;i4(a.contentDOM,a.children,t),r=d?d.nextSibling:n.firstChild}}for(;r;)r=jb(r),s=!0;s&&t.trackWrites==n&&(t.trackWrites=null)}const aa=function(n){n&&(this.nodeName=n)};aa.prototype=Object.create(null);const ys=[new aa];function b1(n,e,t){if(n.length==0)return ys;let r=t?ys[0]:new aa,s=[r];for(let l=0;l<n.length;l++){let a=n[l].type.attrs;if(a){a.nodeName&&s.push(r=new aa(a.nodeName));for(let c in a){let d=a[c];d!=null&&(t&&s.length==1&&s.push(r=new aa(e.isInline?"span":"div")),c=="class"?r.class=(r.class?r.class+" ":"")+d:c=="style"?r.style=(r.style?r.style+";":"")+d:c!="nodeName"&&(r[c]=d))}}}return s}function s4(n,e,t,r){if(t==ys&&r==ys)return e;let s=e;for(let l=0;l<r.length;l++){let a=r[l],c=t[l];if(l){let d;c&&c.nodeName==a.nodeName&&s!=n&&(d=s.parentNode)&&d.nodeName.toLowerCase()==a.nodeName||(d=document.createElement(a.nodeName),d.pmIsDeco=!0,d.appendChild(s),c=ys[0]),s=d}Q9(s,c||ys[0],a)}return s}function Q9(n,e,t){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in t)&&n.removeAttribute(r);for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&t[r]!=e[r]&&n.setAttribute(r,t[r]);if(e.class!=t.class){let r=e.class?e.class.split(" ").filter(Boolean):[],s=t.class?t.class.split(" ").filter(Boolean):[];for(let l=0;l<r.length;l++)s.indexOf(r[l])==-1&&n.classList.remove(r[l]);for(let l=0;l<s.length;l++)r.indexOf(s[l])==-1&&n.classList.add(s[l]);n.classList.length==0&&n.removeAttribute("class")}if(e.style!=t.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=r.exec(e.style);)n.style.removeProperty(s[1])}t.style&&(n.style.cssText+=t.style)}}function o4(n,e,t){return s4(n,n,ys,b1(e,t,n.nodeType!=1))}function Lc(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].type.eq(e[t].type))return!1;return!0}function jb(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class X9{constructor(e,t,r){this.lock=t,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=W9(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let r=e;r<t;r++)this.top.children[r].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,r){let s=0,l=this.stack.length>>1,a=Math.min(l,e.length);for(;s<a&&(s==l-1?this.top:this.stack[s+1<<1]).matchesMark(e[s])&&e[s].type.spec.spanning!==!1;)s++;for(;s<l;)this.destroyRest(),this.top.dirty=Qn,this.index=this.stack.pop(),this.top=this.stack.pop(),l--;for(;l<e.length;){this.stack.push(this.top,this.index+1);let c=-1;for(let d=this.index;d<Math.min(this.index+3,this.top.children.length);d++){let h=this.top.children[d];if(h.matchesMark(e[l])&&!this.isLocked(h.dom)){c=d;break}}if(c>-1)c>this.index&&(this.changed=!0,this.destroyBetween(this.index,c)),this.top=this.top.children[this.index];else{let d=Ds.create(this.top,e[l],t,r);this.top.children.splice(this.index,0,d),this.top=d,this.changed=!0}this.index=0,l++}}findNodeMatch(e,t,r,s){let l=-1,a;if(s>=this.preMatch.index&&(a=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&a.matchesNode(e,t,r))l=this.top.children.indexOf(a,this.index);else for(let c=this.index,d=Math.min(this.top.children.length,c+5);c<d;c++){let h=this.top.children[c];if(h.matchesNode(e,t,r)&&!this.preMatch.matched.has(h)){l=c;break}}return l<0?!1:(this.destroyBetween(this.index,l),this.index++,!0)}updateNodeAt(e,t,r,s,l){let a=this.top.children[s];return a.dirty==br&&a.dom==a.contentDOM&&(a.dirty=gs),a.update(e,t,r,l)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==r)return s}return-1}e=t}}updateNextNode(e,t,r,s,l,a){for(let c=this.index;c<this.top.children.length;c++){let d=this.top.children[c];if(d instanceof zi){let h=this.preMatch.matched.get(d);if(h!=null&&h!=l)return!1;let m=d.dom,g,b=this.isLocked(m)&&!(e.isText&&d.node&&d.node.isText&&d.nodeDOM.nodeValue==e.text&&d.dirty!=br&&Lc(t,d.outerDeco));if(!b&&d.update(e,t,r,s))return this.destroyBetween(this.index,c),d.dom!=m&&(this.changed=!0),this.index++,!0;if(!b&&(g=this.recreateWrapper(d,e,t,r,s,a)))return this.destroyBetween(this.index,c),this.top.children[this.index]=g,g.contentDOM&&(g.dirty=gs,g.updateChildren(s,a+1),g.dirty=Qn),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,r,s,l,a){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!Lc(r,e.outerDeco)||!s.eq(e.innerDeco))return null;let c=zi.create(this.top,t,r,s,l,a);if(c.contentDOM){c.children=e.children,e.children=[];for(let d of c.children)d.parent=c}return e.destroy(),c}addNode(e,t,r,s,l){let a=zi.create(this.top,e,t,r,s,l);a.contentDOM&&a.updateChildren(s,l+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(e,t,r){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(e)&&(e==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let l=new n4(this.top,e,t,r);this.top.children.splice(this.index++,0,l),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof Ds;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof Nf)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((un||en)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let s=new r4(this.top,[],r,null);t!=this.top?t.children.push(s):t.children.splice(this.index++,0,s),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function W9(n,e){let t=e,r=t.children.length,s=n.childCount,l=new Map,a=[];e:for(;s>0;){let c;for(;;)if(r){let h=t.children[r-1];if(h instanceof Ds)t=h,r=h.children.length;else{c=h,r--;break}}else{if(t==e)break e;r=t.parent.children.indexOf(t),t=t.parent}let d=c.node;if(d){if(d!=n.child(s-1))break;--s,l.set(c,s),a.push(c)}}return{index:s,matched:l,matches:a.reverse()}}function eE(n,e){return n.type.side-e.type.side}function tE(n,e,t,r){let s=e.locals(n),l=0;if(s.length==0){for(let h=0;h<n.childCount;h++){let m=n.child(h);r(m,s,e.forChild(l,m),h),l+=m.nodeSize}return}let a=0,c=[],d=null;for(let h=0;;){let m,g;for(;a<s.length&&s[a].to==l;){let w=s[a++];w.widget&&(m?(g||(g=[m])).push(w):m=w)}if(m)if(g){g.sort(eE);for(let w=0;w<g.length;w++)t(g[w],h,!!d)}else t(m,h,!!d);let b,v;if(d)v=-1,b=d,d=null;else if(h<n.childCount)v=h,b=n.child(h++);else break;for(let w=0;w<c.length;w++)c[w].to<=l&&c.splice(w--,1);for(;a<s.length&&s[a].from<=l&&s[a].to>l;)c.push(s[a++]);let C=l+b.nodeSize;if(b.isText){let w=C;a<s.length&&s[a].from<w&&(w=s[a].from);for(let A=0;A<c.length;A++)c[A].to<w&&(w=c[A].to);w<C&&(d=b.cut(w-l),b=b.cut(0,w-l),C=w,v=-1)}else for(;a<s.length&&s[a].to<C;)a++;let S=b.isInline&&!b.isLeaf?c.filter(w=>!w.inline):c.slice();r(b,S,e.forChild(l,b),v),l=C}}function nE(n){if(n.nodeName=="UL"||n.nodeName=="OL"){let e=n.style.cssText;n.style.cssText=e+"; list-style: square !important",window.getComputedStyle(n).listStyle,n.style.cssText=e}}function rE(n,e,t,r){for(let s=0,l=0;s<n.childCount&&l<=r;){let a=n.child(s++),c=l;if(l+=a.nodeSize,!a.isText)continue;let d=a.text;for(;s<n.childCount;){let h=n.child(s++);if(l+=h.nodeSize,!h.isText)break;d+=h.text}if(l>=t){if(l>=r&&d.slice(r-e.length-c,r-c)==e)return r-e.length;let h=c<r?d.lastIndexOf(e,r-c-1):-1;if(h>=0&&h+e.length+c>=t)return c+h;if(t==r&&d.length>=r+e.length-c&&d.slice(r-c,r-c+e.length)==e)return r}}return-1}function v1(n,e,t,r,s){let l=[];for(let a=0,c=0;a<n.length;a++){let d=n[a],h=c,m=c+=d.size;h>=t||m<=e?l.push(d):(h<e&&l.push(d.slice(0,e-h,r)),s&&(l.push(s),s=void 0),m>t&&l.push(d.slice(t-h,d.size,r)))}return l}function im(n,e=null){let t=n.domSelectionRange(),r=n.state.doc;if(!t.focusNode)return null;let s=n.docView.nearestDesc(t.focusNode),l=s&&s.size==0,a=n.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(a<0)return null;let c=r.resolve(a),d,h;if(Rf(t)){for(d=a;s&&!s.node;)s=s.parent;let g=s.node;if(s&&g.isAtom&&ce.isSelectable(g)&&s.parent&&!(g.isInline&&O9(t.focusNode,t.focusOffset,s.dom))){let b=s.posBefore;h=new ce(a==b?c:r.resolve(b))}}else{if(t instanceof n.dom.ownerDocument.defaultView.Selection&&t.rangeCount>1){let g=a,b=a;for(let v=0;v<t.rangeCount;v++){let C=t.getRangeAt(v);g=Math.min(g,n.docView.posFromDOM(C.startContainer,C.startOffset,1)),b=Math.max(b,n.docView.posFromDOM(C.endContainer,C.endOffset,-1))}if(g<0)return null;[d,a]=b==n.state.selection.anchor?[b,g]:[g,b],c=r.resolve(a)}else d=n.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(d<0)return null}let m=r.resolve(d);if(!h){let g=e=="pointer"||n.state.selection.head<c.pos&&!l?1:-1;h=sm(n,m,c,g)}return h}function l4(n){return n.editable?n.hasFocus():u4(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function Gr(n,e=!1){let t=n.state.selection;if(a4(n,t),!!l4(n)){if(!e&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&en){let r=n.domSelectionRange(),s=n.domObserver.currentSelection;if(r.anchorNode&&s.anchorNode&&Ns(r.anchorNode,r.anchorOffset,s.anchorNode,s.anchorOffset)){n.input.mouseDown.delayedSelectionSync=!0,n.domObserver.setCurSelection();return}}if(n.domObserver.disconnectSelection(),n.cursorWrapper)sE(n);else{let{anchor:r,head:s}=t,l,a;Vb&&!(t instanceof ve)&&(t.$from.parent.inlineContent||(l=_b(n,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(a=_b(n,t.to))),n.docView.setSelection(r,s,n,e),Vb&&(l&&Ub(l),a&&Ub(a)),t.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&iE(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}const Vb=un||en&&Z7<63;function _b(n,e){let{node:t,offset:r}=n.docView.domFromPos(e,0),s=r<t.childNodes.length?t.childNodes[r]:null,l=r?t.childNodes[r-1]:null;if(un&&s&&s.contentEditable=="false")return Tp(s);if((!s||s.contentEditable=="false")&&(!l||l.contentEditable=="false")){if(s)return Tp(s);if(l)return Tp(l)}}function Tp(n){return n.contentEditable="true",un&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function Ub(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function iE(n){let e=n.dom.ownerDocument;e.removeEventListener("selectionchange",n.input.hideSelectionGuard);let t=n.domSelectionRange(),r=t.anchorNode,s=t.anchorOffset;e.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(t.anchorNode!=r||t.anchorOffset!=s)&&(e.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!l4(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}function sE(n){let e=n.domSelection(),t=document.createRange();if(!e)return;let r=n.cursorWrapper.dom,s=r.nodeName=="IMG";s?t.setStart(r.parentNode,Pt(r)+1):t.setStart(r,0),t.collapse(!0),e.removeAllRanges(),e.addRange(t),!s&&!n.state.selection.visible&&wn&&Li<=11&&(r.disabled=!0,r.disabled=!1)}function a4(n,e){if(e instanceof ce){let t=n.docView.descAt(e.from);t!=n.lastSelectedViewDesc&&(qb(n),t&&t.selectNode(),n.lastSelectedViewDesc=t)}else qb(n)}function qb(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function sm(n,e,t,r){return n.someProp("createSelectionBetween",s=>s(n,e,t))||ve.between(e,t,r)}function Pb(n){return n.editable&&!n.hasFocus()?!1:u4(n)}function u4(n){let e=n.domSelectionRange();if(!e.anchorNode)return!1;try{return n.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(n.editable||n.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function oE(n){let e=n.docView.domFromPos(n.state.selection.anchor,0),t=n.domSelectionRange();return Ns(e.node,e.offset,t.anchorNode,t.anchorOffset)}function C1(n,e){let{$anchor:t,$head:r}=n.selection,s=e>0?t.max(r):t.min(r),l=s.parent.inlineContent?s.depth?n.doc.resolve(e>0?s.after():s.before()):null:s;return l&&Te.findFrom(l,e)}function xi(n,e){return n.dispatch(n.state.tr.setSelection(e).scrollIntoView()),!0}function Fb(n,e,t){let r=n.state.selection;if(r instanceof ve)if(t.indexOf("s")>-1){let{$head:s}=r,l=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter;if(!l||l.isText||!l.isLeaf)return!1;let a=n.state.doc.resolve(s.pos+l.nodeSize*(e<0?-1:1));return xi(n,new ve(r.$anchor,a))}else if(r.empty){if(n.endOfTextblock(e>0?"forward":"backward")){let s=C1(n.state,e);return s&&s instanceof ce?xi(n,s):!1}else if(!(Zn&&t.indexOf("m")>-1)){let s=r.$head,l=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter,a;if(!l||l.isText)return!1;let c=e<0?s.pos-l.nodeSize:s.pos;return l.isAtom||(a=n.docView.descAt(c))&&!a.contentDOM?ce.isSelectable(l)?xi(n,new ce(e<0?n.state.doc.resolve(s.pos-l.nodeSize):s)):Ba?xi(n,new ve(n.state.doc.resolve(e<0?c:c+l.nodeSize))):!1:!1}}else return!1;else{if(r instanceof ce&&r.node.isInline)return xi(n,new ve(e>0?r.$to:r.$from));{let s=C1(n.state,e);return s?xi(n,s):!1}}}function zc(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function ua(n,e){let t=n.pmViewDesc;return t&&t.size==0&&(e<0||n.nextSibling||n.nodeName!="BR")}function Ao(n,e){return e<0?lE(n):aE(n)}function lE(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let s,l,a=!1;for(sr&&t.nodeType==1&&r<zc(t)&&ua(t.childNodes[r],-1)&&(a=!0);;)if(r>0){if(t.nodeType!=1)break;{let c=t.childNodes[r-1];if(ua(c,-1))s=t,l=--r;else if(c.nodeType==3)t=c,r=t.nodeValue.length;else break}}else{if(c4(t))break;{let c=t.previousSibling;for(;c&&ua(c,-1);)s=t.parentNode,l=Pt(c),c=c.previousSibling;if(c)t=c,r=zc(t);else{if(t=t.parentNode,t==n.dom)break;r=0}}}a?S1(n,t,r):s&&S1(n,s,l)}function aE(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let s=zc(t),l,a;for(;;)if(r<s){if(t.nodeType!=1)break;let c=t.childNodes[r];if(ua(c,1))l=t,a=++r;else break}else{if(c4(t))break;{let c=t.nextSibling;for(;c&&ua(c,1);)l=c.parentNode,a=Pt(c)+1,c=c.nextSibling;if(c)t=c,r=0,s=zc(t);else{if(t=t.parentNode,t==n.dom)break;r=s=0}}}l&&S1(n,l,a)}function c4(n){let e=n.pmViewDesc;return e&&e.node&&e.node.isBlock}function uE(n,e){for(;n&&e==n.childNodes.length&&!Ha(n);)e=Pt(n)+1,n=n.parentNode;for(;n&&e<n.childNodes.length;){let t=n.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=0}}function cE(n,e){for(;n&&!e&&!Ha(n);)e=Pt(n),n=n.parentNode;for(;n&&e;){let t=n.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=n.childNodes.length}}function S1(n,e,t){if(e.nodeType!=3){let l,a;(a=uE(e,t))?(e=a,t=0):(l=cE(e,t))&&(e=l,t=l.nodeValue.length)}let r=n.domSelection();if(!r)return;if(Rf(r)){let l=document.createRange();l.setEnd(e,t),l.setStart(e,t),r.removeAllRanges(),r.addRange(l)}else r.extend&&r.extend(e,t);n.domObserver.setCurSelection();let{state:s}=n;setTimeout(()=>{n.state==s&&Gr(n)},50)}function Kb(n,e){let t=n.state.doc.resolve(e);if(!(en||D9)&&t.parent.inlineContent){let s=n.coordsAtPos(e);if(e>t.start()){let l=n.coordsAtPos(e-1),a=(l.top+l.bottom)/2;if(a>s.top&&a<s.bottom&&Math.abs(l.left-s.left)>1)return l.left<s.left?"ltr":"rtl"}if(e<t.end()){let l=n.coordsAtPos(e+1),a=(l.top+l.bottom)/2;if(a>s.top&&a<s.bottom&&Math.abs(l.left-s.left)>1)return l.left>s.left?"ltr":"rtl"}}return getComputedStyle(n.dom).direction=="rtl"?"rtl":"ltr"}function $b(n,e,t){let r=n.state.selection;if(r instanceof ve&&!r.empty||t.indexOf("s")>-1||Zn&&t.indexOf("m")>-1)return!1;let{$from:s,$to:l}=r;if(!s.parent.inlineContent||n.endOfTextblock(e<0?"up":"down")){let a=C1(n.state,e);if(a&&a instanceof ce)return xi(n,a)}if(!s.parent.inlineContent){let a=e<0?s:l,c=r instanceof Bn?Te.near(a,e):Te.findFrom(a,e);return c?xi(n,c):!1}return!1}function Gb(n,e){if(!(n.state.selection instanceof ve))return!0;let{$head:t,$anchor:r,empty:s}=n.state.selection;if(!t.sameParent(r))return!0;if(!s)return!1;if(n.endOfTextblock(e>0?"forward":"backward"))return!0;let l=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(l&&!l.isText){let a=n.state.tr;return e<0?a.delete(t.pos-l.nodeSize,t.pos):a.delete(t.pos,t.pos+l.nodeSize),n.dispatch(a),!0}return!1}function Yb(n,e,t){n.domObserver.stop(),e.contentEditable=t,n.domObserver.start()}function fE(n){if(!un||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=n.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;Yb(n,r,"true"),setTimeout(()=>Yb(n,r,"false"),20)}return!1}function dE(n){let e="";return n.ctrlKey&&(e+="c"),n.metaKey&&(e+="m"),n.altKey&&(e+="a"),n.shiftKey&&(e+="s"),e}function hE(n,e){let t=e.keyCode,r=dE(e);if(t==8||Zn&&t==72&&r=="c")return Gb(n,-1)||Ao(n,-1);if(t==46&&!e.shiftKey||Zn&&t==68&&r=="c")return Gb(n,1)||Ao(n,1);if(t==13||t==27)return!0;if(t==37||Zn&&t==66&&r=="c"){let s=t==37?Kb(n,n.state.selection.from)=="ltr"?-1:1:-1;return Fb(n,s,r)||Ao(n,s)}else if(t==39||Zn&&t==70&&r=="c"){let s=t==39?Kb(n,n.state.selection.from)=="ltr"?1:-1:1;return Fb(n,s,r)||Ao(n,s)}else{if(t==38||Zn&&t==80&&r=="c")return $b(n,-1,r)||Ao(n,-1);if(t==40||Zn&&t==78&&r=="c")return fE(n)||$b(n,1,r)||Ao(n,1);if(r==(Zn?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function om(n,e){n.someProp("transformCopied",v=>{e=v(e,n)});let t=[],{content:r,openStart:s,openEnd:l}=e;for(;s>1&&l>1&&r.childCount==1&&r.firstChild.childCount==1;){s--,l--;let v=r.firstChild;t.push(v.type.name,v.attrs!=v.type.defaultAttrs?v.attrs:null),r=v.content}let a=n.someProp("clipboardSerializer")||Bs.fromSchema(n.state.schema),c=m4(),d=c.createElement("div");d.appendChild(a.serializeFragment(r,{document:c}));let h=d.firstChild,m,g=0;for(;h&&h.nodeType==1&&(m=p4[h.nodeName.toLowerCase()]);){for(let v=m.length-1;v>=0;v--){let C=c.createElement(m[v]);for(;d.firstChild;)C.appendChild(d.firstChild);d.appendChild(C),g++}h=d.firstChild}h&&h.nodeType==1&&h.setAttribute("data-pm-slice",`${s} ${l}${g?` -${g}`:""} ${JSON.stringify(t)}`);let b=n.someProp("clipboardTextSerializer",v=>v(e,n))||e.content.textBetween(0,e.content.size,`

`);return{dom:d,text:b,slice:e}}function lm(n,e,t,r,s){let l=s.parent.type.spec.code,a,c;if(!t&&!e)return null;let d=e&&(r||l||!t);if(d){if(n.someProp("transformPastedText",b=>{e=b(e,l||r,n)}),l)return e?new oe(ee.from(n.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):oe.empty;let g=n.someProp("clipboardTextParser",b=>b(e,s,r,n));if(g)c=g;else{let b=s.marks(),{schema:v}=n.state,C=Bs.fromSchema(v);a=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(S=>{let w=a.appendChild(document.createElement("p"));S&&w.appendChild(C.serializeNode(v.text(S,b)))})}}else n.someProp("transformPastedHTML",g=>{t=g(t,n)}),a=yE(t),Ba&&bE(a);let h=a&&a.querySelector("[data-pm-slice]"),m=h&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(h.getAttribute("data-pm-slice")||"");if(m&&m[3])for(let g=+m[3];g>0;g--){let b=a.firstChild;for(;b&&b.nodeType!=1;)b=b.nextSibling;if(!b)break;a=b}if(c||(c=(n.someProp("clipboardParser")||n.someProp("domParser")||Di.fromSchema(n.state.schema)).parseSlice(a,{preserveWhitespace:!!(d||m),context:s,ruleFromNode(b){return b.nodeName=="BR"&&!b.nextSibling&&b.parentNode&&!pE.test(b.parentNode.nodeName)?{ignore:!0}:null}})),m)c=vE(Zb(c,+m[1],+m[2]),m[4]);else if(c=oe.maxOpen(mE(c.content,s),!0),c.openStart||c.openEnd){let g=0,b=0;for(let v=c.content.firstChild;g<c.openStart&&!v.type.spec.isolating;g++,v=v.firstChild);for(let v=c.content.lastChild;b<c.openEnd&&!v.type.spec.isolating;b++,v=v.lastChild);c=Zb(c,g,b)}return n.someProp("transformPasted",g=>{c=g(c,n)}),c}const pE=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function mE(n,e){if(n.childCount<2)return n;for(let t=e.depth;t>=0;t--){let s=e.node(t).contentMatchAt(e.index(t)),l,a=[];if(n.forEach(c=>{if(!a)return;let d=s.findWrapping(c.type),h;if(!d)return a=null;if(h=a.length&&l.length&&d4(d,l,c,a[a.length-1],0))a[a.length-1]=h;else{a.length&&(a[a.length-1]=h4(a[a.length-1],l.length));let m=f4(c,d);a.push(m),s=s.matchType(m.type),l=d}}),a)return ee.from(a)}return n}function f4(n,e,t=0){for(let r=e.length-1;r>=t;r--)n=e[r].create(null,ee.from(n));return n}function d4(n,e,t,r,s){if(s<n.length&&s<e.length&&n[s]==e[s]){let l=d4(n,e,t,r.lastChild,s+1);if(l)return r.copy(r.content.replaceChild(r.childCount-1,l));if(r.contentMatchAt(r.childCount).matchType(s==n.length-1?t.type:n[s+1]))return r.copy(r.content.append(ee.from(f4(t,n,s+1))))}}function h4(n,e){if(e==0)return n;let t=n.content.replaceChild(n.childCount-1,h4(n.lastChild,e-1)),r=n.contentMatchAt(n.childCount).fillBefore(ee.empty,!0);return n.copy(t.append(r))}function x1(n,e,t,r,s,l){let a=e<0?n.firstChild:n.lastChild,c=a.content;return n.childCount>1&&(l=0),s<r-1&&(c=x1(c,e,t,r,s+1,l)),s>=t&&(c=e<0?a.contentMatchAt(0).fillBefore(c,l<=s).append(c):c.append(a.contentMatchAt(a.childCount).fillBefore(ee.empty,!0))),n.replaceChild(e<0?0:n.childCount-1,a.copy(c))}function Zb(n,e,t){return e<n.openStart&&(n=new oe(x1(n.content,-1,e,n.openStart,0,n.openEnd),e,n.openEnd)),t<n.openEnd&&(n=new oe(x1(n.content,1,t,n.openEnd,0,0),n.openStart,t)),n}const p4={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Jb=null;function m4(){return Jb||(Jb=document.implementation.createHTMLDocument("title"))}let Ap=null;function gE(n){let e=window.trustedTypes;return e?(Ap||(Ap=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t})),Ap.createHTML(n)):n}function yE(n){let e=/^(\s*<meta [^>]*>)*/.exec(n);e&&(n=n.slice(e[0].length));let t=m4().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(n),s;if((s=r&&p4[r[1].toLowerCase()])&&(n=s.map(l=>"<"+l+">").join("")+n+s.map(l=>"</"+l+">").reverse().join("")),t.innerHTML=gE(n),s)for(let l=0;l<s.length;l++)t=t.querySelector(s[l])||t;return t}function bE(n){let e=n.querySelectorAll(en?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let r=e[t];r.childNodes.length==1&&r.textContent==" "&&r.parentNode&&r.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),r)}}function vE(n,e){if(!n.size)return n;let t=n.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return n}let{content:s,openStart:l,openEnd:a}=n;for(let c=r.length-2;c>=0;c-=2){let d=t.nodes[r[c]];if(!d||d.hasRequiredAttrs())break;s=ee.from(d.create(r[c+1],s)),l++,a++}return new oe(s,l,a)}const cn={},fn={},CE={touchstart:!0,touchmove:!0};class SE{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function xE(n){for(let e in cn){let t=cn[e];n.dom.addEventListener(e,n.input.eventHandlers[e]=r=>{wE(n,r)&&!am(n,r)&&(n.editable||!(r.type in fn))&&t(n,r)},CE[e]?{passive:!0}:void 0)}un&&n.dom.addEventListener("input",()=>null),E1(n)}function Ri(n,e){n.input.lastSelectionOrigin=e,n.input.lastSelectionTime=Date.now()}function EE(n){n.domObserver.stop();for(let e in n.input.eventHandlers)n.dom.removeEventListener(e,n.input.eventHandlers[e]);clearTimeout(n.input.composingTimeout),clearTimeout(n.input.lastIOSEnterFallbackTimeout)}function E1(n){n.someProp("handleDOMEvents",e=>{for(let t in e)n.input.eventHandlers[t]||n.dom.addEventListener(t,n.input.eventHandlers[t]=r=>am(n,r))})}function am(n,e){return n.someProp("handleDOMEvents",t=>{let r=t[e.type];return r?r(n,e)||e.defaultPrevented:!1})}function wE(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=n.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function ME(n,e){!am(n,e)&&cn[e.type]&&(n.editable||!(e.type in fn))&&cn[e.type](n,e)}fn.keydown=(n,e)=>{let t=e;if(n.input.shiftKey=t.keyCode==16||t.shiftKey,!y4(n,t)&&(n.input.lastKeyCode=t.keyCode,n.input.lastKeyCodeTime=Date.now(),!(Fr&&en&&t.keyCode==13)))if(t.keyCode!=229&&n.domObserver.forceFlush(),qo&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let r=Date.now();n.input.lastIOSEnter=r,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==r&&(n.someProp("handleKeyDown",s=>s(n,ps(13,"Enter"))),n.input.lastIOSEnter=0)},200)}else n.someProp("handleKeyDown",r=>r(n,t))||hE(n,t)?t.preventDefault():Ri(n,"key")};fn.keyup=(n,e)=>{e.keyCode==16&&(n.input.shiftKey=!1)};fn.keypress=(n,e)=>{let t=e;if(y4(n,t)||!t.charCode||t.ctrlKey&&!t.altKey||Zn&&t.metaKey)return;if(n.someProp("handleKeyPress",s=>s(n,t))){t.preventDefault();return}let r=n.state.selection;if(!(r instanceof ve)||!r.$from.sameParent(r.$to)){let s=String.fromCharCode(t.charCode),l=()=>n.state.tr.insertText(s).scrollIntoView();!/[\r\n]/.test(s)&&!n.someProp("handleTextInput",a=>a(n,r.$from.pos,r.$to.pos,s,l))&&n.dispatch(l()),t.preventDefault()}};function Df(n){return{left:n.clientX,top:n.clientY}}function TE(n,e){let t=e.x-n.clientX,r=e.y-n.clientY;return t*t+r*r<100}function um(n,e,t,r,s){if(r==-1)return!1;let l=n.state.doc.resolve(r);for(let a=l.depth+1;a>0;a--)if(n.someProp(e,c=>a>l.depth?c(n,t,l.nodeAfter,l.before(a),s,!0):c(n,t,l.node(a),l.before(a),s,!1)))return!0;return!1}function Bo(n,e,t){if(n.focused||n.focus(),n.state.selection.eq(e))return;let r=n.state.tr.setSelection(e);r.setMeta("pointer",!0),n.dispatch(r)}function AE(n,e){if(e==-1)return!1;let t=n.state.doc.resolve(e),r=t.nodeAfter;return r&&r.isAtom&&ce.isSelectable(r)?(Bo(n,new ce(t)),!0):!1}function kE(n,e){if(e==-1)return!1;let t=n.state.selection,r,s;t instanceof ce&&(r=t.node);let l=n.state.doc.resolve(e);for(let a=l.depth+1;a>0;a--){let c=a>l.depth?l.nodeAfter:l.node(a);if(ce.isSelectable(c)){r&&t.$from.depth>0&&a>=t.$from.depth&&l.before(t.$from.depth+1)==t.$from.pos?s=l.before(t.$from.depth):s=l.before(a);break}}return s!=null?(Bo(n,ce.create(n.state.doc,s)),!0):!1}function OE(n,e,t,r,s){return um(n,"handleClickOn",e,t,r)||n.someProp("handleClick",l=>l(n,e,r))||(s?kE(n,t):AE(n,t))}function RE(n,e,t,r){return um(n,"handleDoubleClickOn",e,t,r)||n.someProp("handleDoubleClick",s=>s(n,e,r))}function NE(n,e,t,r){return um(n,"handleTripleClickOn",e,t,r)||n.someProp("handleTripleClick",s=>s(n,e,r))||DE(n,t,r)}function DE(n,e,t){if(t.button!=0)return!1;let r=n.state.doc;if(e==-1)return r.inlineContent?(Bo(n,ve.create(r,0,r.content.size)),!0):!1;let s=r.resolve(e);for(let l=s.depth+1;l>0;l--){let a=l>s.depth?s.nodeAfter:s.node(l),c=s.before(l);if(a.inlineContent)Bo(n,ve.create(r,c+1,c+1+a.content.size));else if(ce.isSelectable(a))Bo(n,ce.create(r,c));else continue;return!0}}function cm(n){return Ea(n)}const g4=Zn?"metaKey":"ctrlKey";cn.mousedown=(n,e)=>{let t=e;n.input.shiftKey=t.shiftKey;let r=cm(n),s=Date.now(),l="singleClick";s-n.input.lastClick.time<500&&TE(t,n.input.lastClick)&&!t[g4]&&n.input.lastClick.button==t.button&&(n.input.lastClick.type=="singleClick"?l="doubleClick":n.input.lastClick.type=="doubleClick"&&(l="tripleClick")),n.input.lastClick={time:s,x:t.clientX,y:t.clientY,type:l,button:t.button};let a=n.posAtCoords(Df(t));a&&(l=="singleClick"?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new LE(n,a,t,!!r)):(l=="doubleClick"?RE:NE)(n,a.pos,a.inside,t)?t.preventDefault():Ri(n,"pointer"))};class LE{constructor(e,t,r,s){this.view=e,this.pos=t,this.event=r,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[g4],this.allowDefault=r.shiftKey;let l,a;if(t.inside>-1)l=e.state.doc.nodeAt(t.inside),a=t.inside;else{let m=e.state.doc.resolve(t.pos);l=m.parent,a=m.depth?m.before():0}const c=s?null:r.target,d=c?e.docView.nearestDesc(c,!0):null;this.target=d&&d.dom.nodeType==1?d.dom:null;let{selection:h}=e.state;(r.button==0&&l.type.spec.draggable&&l.type.spec.selectable!==!1||h instanceof ce&&h.from<=a&&h.to>a)&&(this.mightDrag={node:l,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&sr&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ri(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Gr(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(Df(e))),this.updateAllowDefault(e),this.allowDefault||!t?Ri(this.view,"pointer"):OE(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||un&&this.mightDrag&&!this.mightDrag.node.isAtom||en&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(Bo(this.view,Te.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):Ri(this.view,"pointer")}move(e){this.updateAllowDefault(e),Ri(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}cn.touchstart=n=>{n.input.lastTouch=Date.now(),cm(n),Ri(n,"pointer")};cn.touchmove=n=>{n.input.lastTouch=Date.now(),Ri(n,"pointer")};cn.contextmenu=n=>cm(n);function y4(n,e){return n.composing?!0:un&&Math.abs(e.timeStamp-n.input.compositionEndedAt)<500?(n.input.compositionEndedAt=-2e8,!0):!1}const zE=Fr?5e3:-1;fn.compositionstart=fn.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:e}=n,t=e.selection.$to;if(e.selection instanceof ve&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))n.markCursor=n.state.storedMarks||t.marks(),Ea(n,!0),n.markCursor=null;else if(Ea(n,!e.selection.empty),sr&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let r=n.domSelectionRange();for(let s=r.focusNode,l=r.focusOffset;s&&s.nodeType==1&&l!=0;){let a=l<0?s.lastChild:s.childNodes[l-1];if(!a)break;if(a.nodeType==3){let c=n.domSelection();c&&c.collapse(a,a.nodeValue.length);break}else s=a,l=-1}}n.input.composing=!0}b4(n,zE)};fn.compositionend=(n,e)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=e.timeStamp,n.input.compositionPendingChanges=n.domObserver.pendingRecords().length?n.input.compositionID:0,n.input.compositionNode=null,n.input.compositionPendingChanges&&Promise.resolve().then(()=>n.domObserver.flush()),n.input.compositionID++,b4(n,20))};function b4(n,e){clearTimeout(n.input.composingTimeout),e>-1&&(n.input.composingTimeout=setTimeout(()=>Ea(n),e))}function v4(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=BE());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function HE(n){let e=n.domSelectionRange();if(!e.focusNode)return null;let t=A9(e.focusNode,e.focusOffset),r=k9(e.focusNode,e.focusOffset);if(t&&r&&t!=r){let s=r.pmViewDesc,l=n.domObserver.lastChangedTextNode;if(t==l||r==l)return l;if(!s||!s.isText(r.nodeValue))return r;if(n.input.compositionNode==r){let a=t.pmViewDesc;if(!(!a||!a.isText(t.nodeValue)))return r}}return t||r}function BE(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}function Ea(n,e=!1){if(!(Fr&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),v4(n),e||n.docView&&n.docView.dirty){let t=im(n),r=n.state.selection;return t&&!t.eq(r)?n.dispatch(n.state.tr.setSelection(t)):(n.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?n.dispatch(n.state.tr.deleteSelection()):n.updateState(n.state),!0}return!1}}function IE(n,e){if(!n.dom.parentNode)return;let t=n.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),s=document.createRange();s.selectNodeContents(e),n.dom.blur(),r.removeAllRanges(),r.addRange(s),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),n.focus()},50)}const wa=wn&&Li<15||qo&&L9<604;cn.copy=fn.cut=(n,e)=>{let t=e,r=n.state.selection,s=t.type=="cut";if(r.empty)return;let l=wa?null:t.clipboardData,a=r.content(),{dom:c,text:d}=om(n,a);l?(t.preventDefault(),l.clearData(),l.setData("text/html",c.innerHTML),l.setData("text/plain",d)):IE(n,c),s&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function jE(n){return n.openStart==0&&n.openEnd==0&&n.content.childCount==1?n.content.firstChild:null}function VE(n,e){if(!n.dom.parentNode)return;let t=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,r=n.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let s=n.input.shiftKey&&n.input.lastKeyCode!=45;setTimeout(()=>{n.focus(),r.parentNode&&r.parentNode.removeChild(r),t?Ma(n,r.value,null,s,e):Ma(n,r.textContent,r.innerHTML,s,e)},50)}function Ma(n,e,t,r,s){let l=lm(n,e,t,r,n.state.selection.$from);if(n.someProp("handlePaste",d=>d(n,s,l||oe.empty)))return!0;if(!l)return!1;let a=jE(l),c=a?n.state.tr.replaceSelectionWith(a,r):n.state.tr.replaceSelection(l);return n.dispatch(c.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function C4(n){let e=n.getData("text/plain")||n.getData("Text");if(e)return e;let t=n.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}fn.paste=(n,e)=>{let t=e;if(n.composing&&!Fr)return;let r=wa?null:t.clipboardData,s=n.input.shiftKey&&n.input.lastKeyCode!=45;r&&Ma(n,C4(r),r.getData("text/html"),s,t)?t.preventDefault():VE(n,t)};class S4{constructor(e,t,r){this.slice=e,this.move=t,this.node=r}}const _E=Zn?"altKey":"ctrlKey";function x4(n,e){let t=n.someProp("dragCopies",r=>!r(e));return t??!e[_E]}cn.dragstart=(n,e)=>{let t=e,r=n.input.mouseDown;if(r&&r.done(),!t.dataTransfer)return;let s=n.state.selection,l=s.empty?null:n.posAtCoords(Df(t)),a;if(!(l&&l.pos>=s.from&&l.pos<=(s instanceof ce?s.to-1:s.to))){if(r&&r.mightDrag)a=ce.create(n.state.doc,r.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let g=n.docView.nearestDesc(t.target,!0);g&&g.node.type.spec.draggable&&g!=n.docView&&(a=ce.create(n.state.doc,g.posBefore))}}let c=(a||n.state.selection).content(),{dom:d,text:h,slice:m}=om(n,c);(!t.dataTransfer.files.length||!en||Z7>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData(wa?"Text":"text/html",d.innerHTML),t.dataTransfer.effectAllowed="copyMove",wa||t.dataTransfer.setData("text/plain",h),n.dragging=new S4(m,x4(n,t),a)};cn.dragend=n=>{let e=n.dragging;window.setTimeout(()=>{n.dragging==e&&(n.dragging=null)},50)};fn.dragover=fn.dragenter=(n,e)=>e.preventDefault();fn.drop=(n,e)=>{let t=e,r=n.dragging;if(n.dragging=null,!t.dataTransfer)return;let s=n.posAtCoords(Df(t));if(!s)return;let l=n.state.doc.resolve(s.pos),a=r&&r.slice;a?n.someProp("transformPasted",C=>{a=C(a,n)}):a=lm(n,C4(t.dataTransfer),wa?null:t.dataTransfer.getData("text/html"),!1,l);let c=!!(r&&x4(n,t));if(n.someProp("handleDrop",C=>C(n,t,a||oe.empty,c))){t.preventDefault();return}if(!a)return;t.preventDefault();let d=a?j7(n.state.doc,l.pos,a):l.pos;d==null&&(d=l.pos);let h=n.state.tr;if(c){let{node:C}=r;C?C.replace(h):h.deleteSelection()}let m=h.mapping.map(d),g=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,b=h.doc;if(g?h.replaceRangeWith(m,m,a.content.firstChild):h.replaceRange(m,m,a),h.doc.eq(b))return;let v=h.doc.resolve(m);if(g&&ce.isSelectable(a.content.firstChild)&&v.nodeAfter&&v.nodeAfter.sameMarkup(a.content.firstChild))h.setSelection(new ce(v));else{let C=h.mapping.map(d);h.mapping.maps[h.mapping.maps.length-1].forEach((S,w,A,R)=>C=R),h.setSelection(sm(n,v,h.doc.resolve(C)))}n.focus(),n.dispatch(h.setMeta("uiEvent","drop"))};cn.focus=n=>{n.input.lastFocus=Date.now(),n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelectionRange())&&Gr(n)},20))};cn.blur=(n,e)=>{let t=e;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),t.relatedTarget&&n.dom.contains(t.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)};cn.beforeinput=(n,e)=>{if(en&&Fr&&e.inputType=="deleteContentBackward"){n.domObserver.flushSoon();let{domChangeCount:r}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=r||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",l=>l(n,ps(8,"Backspace")))))return;let{$cursor:s}=n.state.selection;s&&s.pos>0&&n.dispatch(n.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let n in fn)cn[n]=fn[n];function Ta(n,e){if(n==e)return!0;for(let t in n)if(n[t]!==e[t])return!1;for(let t in e)if(!(t in n))return!1;return!0}class Hc{constructor(e,t){this.toDOM=e,this.spec=t||Ms,this.side=this.spec.side||0}map(e,t,r,s){let{pos:l,deleted:a}=e.mapResult(t.from+s,this.side<0?-1:1);return a?null:new an(l-r,l-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Hc&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Ta(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Hi{constructor(e,t){this.attrs=e,this.spec=t||Ms}map(e,t,r,s){let l=e.map(t.from+s,this.spec.inclusiveStart?-1:1)-r,a=e.map(t.to+s,this.spec.inclusiveEnd?1:-1)-r;return l>=a?null:new an(l,a,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof Hi&&Ta(this.attrs,e.attrs)&&Ta(this.spec,e.spec)}static is(e){return e.type instanceof Hi}destroy(){}}class fm{constructor(e,t){this.attrs=e,this.spec=t||Ms}map(e,t,r,s){let l=e.mapResult(t.from+s,1);if(l.deleted)return null;let a=e.mapResult(t.to+s,-1);return a.deleted||a.pos<=l.pos?null:new an(l.pos-r,a.pos-r,this)}valid(e,t){let{index:r,offset:s}=e.content.findIndex(t.from),l;return s==t.from&&!(l=e.child(r)).isText&&s+l.nodeSize==t.to}eq(e){return this==e||e instanceof fm&&Ta(this.attrs,e.attrs)&&Ta(this.spec,e.spec)}destroy(){}}class an{constructor(e,t,r){this.from=e,this.to=t,this.type=r}copy(e,t){return new an(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,r){return this.type.map(e,this,t,r)}static widget(e,t,r){return new an(e,e,new Hc(t,r))}static inline(e,t,r,s){return new an(e,t,new Hi(r,s))}static node(e,t,r,s){return new an(e,t,new fm(r,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof Hi}get widget(){return this.type instanceof Hc}}const No=[],Ms={};class dt{constructor(e,t){this.local=e.length?e:No,this.children=t.length?t:No}static create(e,t){return t.length?Bc(t,e,0,Ms):Xt}find(e,t,r){let s=[];return this.findInner(e??0,t??1e9,s,0,r),s}findInner(e,t,r,s,l){for(let a=0;a<this.local.length;a++){let c=this.local[a];c.from<=t&&c.to>=e&&(!l||l(c.spec))&&r.push(c.copy(c.from+s,c.to+s))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<t&&this.children[a+1]>e){let c=this.children[a]+1;this.children[a+2].findInner(e-c,t-c,r,s+c,l)}}map(e,t,r){return this==Xt||e.maps.length==0?this:this.mapInner(e,t,0,0,r||Ms)}mapInner(e,t,r,s,l){let a;for(let c=0;c<this.local.length;c++){let d=this.local[c].map(e,r,s);d&&d.type.valid(t,d)?(a||(a=[])).push(d):l.onRemove&&l.onRemove(this.local[c].spec)}return this.children.length?UE(this.children,a||[],e,t,r,s,l):a?new dt(a.sort(Ts),No):Xt}add(e,t){return t.length?this==Xt?dt.create(e,t):this.addInner(e,t,0):this}addInner(e,t,r){let s,l=0;e.forEach((c,d)=>{let h=d+r,m;if(m=w4(t,c,h)){for(s||(s=this.children.slice());l<s.length&&s[l]<d;)l+=3;s[l]==d?s[l+2]=s[l+2].addInner(c,m,h+1):s.splice(l,0,d,d+c.nodeSize,Bc(m,c,h+1,Ms)),l+=3}});let a=E4(l?M4(t):t,-r);for(let c=0;c<a.length;c++)a[c].type.valid(e,a[c])||a.splice(c--,1);return new dt(a.length?this.local.concat(a).sort(Ts):this.local,s||this.children)}remove(e){return e.length==0||this==Xt?this:this.removeInner(e,0)}removeInner(e,t){let r=this.children,s=this.local;for(let l=0;l<r.length;l+=3){let a,c=r[l]+t,d=r[l+1]+t;for(let m=0,g;m<e.length;m++)(g=e[m])&&g.from>c&&g.to<d&&(e[m]=null,(a||(a=[])).push(g));if(!a)continue;r==this.children&&(r=this.children.slice());let h=r[l+2].removeInner(a,c+1);h!=Xt?r[l+2]=h:(r.splice(l,3),l-=3)}if(s.length){for(let l=0,a;l<e.length;l++)if(a=e[l])for(let c=0;c<s.length;c++)s[c].eq(a,t)&&(s==this.local&&(s=this.local.slice()),s.splice(c--,1))}return r==this.children&&s==this.local?this:s.length||r.length?new dt(s,r):Xt}forChild(e,t){if(this==Xt)return this;if(t.isLeaf)return dt.empty;let r,s;for(let c=0;c<this.children.length;c+=3)if(this.children[c]>=e){this.children[c]==e&&(r=this.children[c+2]);break}let l=e+1,a=l+t.content.size;for(let c=0;c<this.local.length;c++){let d=this.local[c];if(d.from<a&&d.to>l&&d.type instanceof Hi){let h=Math.max(l,d.from)-l,m=Math.min(a,d.to)-l;h<m&&(s||(s=[])).push(d.copy(h,m))}}if(s){let c=new dt(s.sort(Ts),No);return r?new ki([c,r]):c}return r||Xt}eq(e){if(this==e)return!0;if(!(e instanceof dt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return dm(this.localsInner(e))}localsInner(e){if(this==Xt)return No;if(e.inlineContent||!this.local.some(Hi.is))return this.local;let t=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Hi||t.push(this.local[r]);return t}forEachSet(e){e(this)}}dt.empty=new dt([],[]);dt.removeOverlap=dm;const Xt=dt.empty;class ki{constructor(e){this.members=e}map(e,t){const r=this.members.map(s=>s.map(e,t,Ms));return ki.from(r)}forChild(e,t){if(t.isLeaf)return dt.empty;let r=[];for(let s=0;s<this.members.length;s++){let l=this.members[s].forChild(e,t);l!=Xt&&(l instanceof ki?r=r.concat(l.members):r.push(l))}return ki.from(r)}eq(e){if(!(e instanceof ki)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,r=!0;for(let s=0;s<this.members.length;s++){let l=this.members[s].localsInner(e);if(l.length)if(!t)t=l;else{r&&(t=t.slice(),r=!1);for(let a=0;a<l.length;a++)t.push(l[a])}}return t?dm(r?t:t.sort(Ts)):No}static from(e){switch(e.length){case 0:return Xt;case 1:return e[0];default:return new ki(e.every(t=>t instanceof dt)?e:e.reduce((t,r)=>t.concat(r instanceof dt?r:r.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function UE(n,e,t,r,s,l,a){let c=n.slice();for(let h=0,m=l;h<t.maps.length;h++){let g=0;t.maps[h].forEach((b,v,C,S)=>{let w=S-C-(v-b);for(let A=0;A<c.length;A+=3){let R=c[A+1];if(R<0||b>R+m-g)continue;let D=c[A]+m-g;v>=D?c[A+1]=b<=D?-2:-1:b>=m&&w&&(c[A]+=w,c[A+1]+=w)}g+=w}),m=t.maps[h].map(m,-1)}let d=!1;for(let h=0;h<c.length;h+=3)if(c[h+1]<0){if(c[h+1]==-2){d=!0,c[h+1]=-1;continue}let m=t.map(n[h]+l),g=m-s;if(g<0||g>=r.content.size){d=!0;continue}let b=t.map(n[h+1]+l,-1),v=b-s,{index:C,offset:S}=r.content.findIndex(g),w=r.maybeChild(C);if(w&&S==g&&S+w.nodeSize==v){let A=c[h+2].mapInner(t,w,m+1,n[h]+l+1,a);A!=Xt?(c[h]=g,c[h+1]=v,c[h+2]=A):(c[h+1]=-2,d=!0)}else d=!0}if(d){let h=qE(c,n,e,t,s,l,a),m=Bc(h,r,0,a);e=m.local;for(let g=0;g<c.length;g+=3)c[g+1]<0&&(c.splice(g,3),g-=3);for(let g=0,b=0;g<m.children.length;g+=3){let v=m.children[g];for(;b<c.length&&c[b]<v;)b+=3;c.splice(b,0,m.children[g],m.children[g+1],m.children[g+2])}}return new dt(e.sort(Ts),c)}function E4(n,e){if(!e||!n.length)return n;let t=[];for(let r=0;r<n.length;r++){let s=n[r];t.push(new an(s.from+e,s.to+e,s.type))}return t}function qE(n,e,t,r,s,l,a){function c(d,h){for(let m=0;m<d.local.length;m++){let g=d.local[m].map(r,s,h);g?t.push(g):a.onRemove&&a.onRemove(d.local[m].spec)}for(let m=0;m<d.children.length;m+=3)c(d.children[m+2],d.children[m]+h+1)}for(let d=0;d<n.length;d+=3)n[d+1]==-1&&c(n[d+2],e[d]+l+1);return t}function w4(n,e,t){if(e.isLeaf)return null;let r=t+e.nodeSize,s=null;for(let l=0,a;l<n.length;l++)(a=n[l])&&a.from>t&&a.to<r&&((s||(s=[])).push(a),n[l]=null);return s}function M4(n){let e=[];for(let t=0;t<n.length;t++)n[t]!=null&&e.push(n[t]);return e}function Bc(n,e,t,r){let s=[],l=!1;e.forEach((c,d)=>{let h=w4(n,c,d+t);if(h){l=!0;let m=Bc(h,c,t+d+1,r);m!=Xt&&s.push(d,d+c.nodeSize,m)}});let a=E4(l?M4(n):n,-t).sort(Ts);for(let c=0;c<a.length;c++)a[c].type.valid(e,a[c])||(r.onRemove&&r.onRemove(a[c].spec),a.splice(c--,1));return a.length||s.length?new dt(a,s):Xt}function Ts(n,e){return n.from-e.from||n.to-e.to}function dm(n){let e=n;for(let t=0;t<e.length-1;t++){let r=e[t];if(r.from!=r.to)for(let s=t+1;s<e.length;s++){let l=e[s];if(l.from==r.from){l.to!=r.to&&(e==n&&(e=n.slice()),e[s]=l.copy(l.from,r.to),Qb(e,s+1,l.copy(r.to,l.to)));continue}else{l.from<r.to&&(e==n&&(e=n.slice()),e[t]=r.copy(r.from,l.from),Qb(e,s,r.copy(l.from,r.to)));break}}}return e}function Qb(n,e,t){for(;e<n.length&&Ts(t,n[e])>0;)e++;n.splice(e,0,t)}function kp(n){let e=[];return n.someProp("decorations",t=>{let r=t(n.state);r&&r!=Xt&&e.push(r)}),n.cursorWrapper&&e.push(dt.create(n.state.doc,[n.cursorWrapper.deco])),ki.from(e)}const PE={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},FE=wn&&Li<=11;class KE{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class $E{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new KE,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let s=0;s<r.length;s++)this.queue.push(r[s]);wn&&Li<=11&&r.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),FE&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,PE)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Pb(this.view)){if(this.suppressingSelectionUpdates)return Gr(this.view);if(wn&&Li<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Ns(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,r;for(let l=e.focusNode;l;l=Uo(l))t.add(l);for(let l=e.anchorNode;l;l=Uo(l))if(t.has(l)){r=l;break}let s=r&&this.view.docView.nearestDesc(r);if(s&&s.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let r=e.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&Pb(e)&&!this.ignoreSelectionChange(r),l=-1,a=-1,c=!1,d=[];if(e.editable)for(let m=0;m<t.length;m++){let g=this.registerMutation(t[m],d);g&&(l=l<0?g.from:Math.min(g.from,l),a=a<0?g.to:Math.max(g.to,a),g.typeOver&&(c=!0))}if(sr&&d.length){let m=d.filter(g=>g.nodeName=="BR");if(m.length==2){let[g,b]=m;g.parentNode&&g.parentNode.parentNode==b.parentNode?b.remove():g.remove()}else{let{focusNode:g}=this.currentSelection;for(let b of m){let v=b.parentNode;v&&v.nodeName=="LI"&&(!g||ZE(e,g)!=v)&&b.remove()}}}let h=null;l<0&&s&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Rf(r)&&(h=im(e))&&h.eq(Te.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Gr(e),this.currentSelection.set(r),e.scrollToSelection()):(l>-1||s)&&(l>-1&&(e.docView.markDirty(l,a),GE(e)),this.handleDOMChange(l,a,c,d),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Gr(e),this.currentSelection.set(r))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let m=0;m<e.addedNodes.length;m++){let g=e.addedNodes[m];t.push(g),g.nodeType==3&&(this.lastChangedTextNode=g)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let s=e.previousSibling,l=e.nextSibling;if(wn&&Li<=11&&e.addedNodes.length)for(let m=0;m<e.addedNodes.length;m++){let{previousSibling:g,nextSibling:b}=e.addedNodes[m];(!g||Array.prototype.indexOf.call(e.addedNodes,g)<0)&&(s=g),(!b||Array.prototype.indexOf.call(e.addedNodes,b)<0)&&(l=b)}let a=s&&s.parentNode==e.target?Pt(s)+1:0,c=r.localPosFromDOM(e.target,a,-1),d=l&&l.parentNode==e.target?Pt(l):e.target.childNodes.length,h=r.localPosFromDOM(e.target,d,1);return{from:c,to:h}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let Xb=new WeakMap,Wb=!1;function GE(n){if(!Xb.has(n)&&(Xb.set(n,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(n.dom).whiteSpace)!==-1)){if(n.requiresGeckoHackNode=sr,Wb)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Wb=!0}}function ev(n,e){let t=e.startContainer,r=e.startOffset,s=e.endContainer,l=e.endOffset,a=n.domAtPos(n.state.selection.anchor);return Ns(a.node,a.offset,s,l)&&([t,r,s,l]=[s,l,t,r]),{anchorNode:t,anchorOffset:r,focusNode:s,focusOffset:l}}function YE(n,e){if(e.getComposedRanges){let s=e.getComposedRanges(n.root)[0];if(s)return ev(n,s)}let t;function r(s){s.preventDefault(),s.stopImmediatePropagation(),t=s.getTargetRanges()[0]}return n.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),n.dom.removeEventListener("beforeinput",r,!0),t?ev(n,t):null}function ZE(n,e){for(let t=e.parentNode;t&&t!=n.dom;t=t.parentNode){let r=n.docView.nearestDesc(t,!0);if(r&&r.node.isBlock)return t}return null}function JE(n,e,t){let{node:r,fromOffset:s,toOffset:l,from:a,to:c}=n.docView.parseRange(e,t),d=n.domSelectionRange(),h,m=d.anchorNode;if(m&&n.dom.contains(m.nodeType==1?m:m.parentNode)&&(h=[{node:m,offset:d.anchorOffset}],Rf(d)||h.push({node:d.focusNode,offset:d.focusOffset})),en&&n.input.lastKeyCode===8)for(let w=l;w>s;w--){let A=r.childNodes[w-1],R=A.pmViewDesc;if(A.nodeName=="BR"&&!R){l=w;break}if(!R||R.size)break}let g=n.state.doc,b=n.someProp("domParser")||Di.fromSchema(n.state.schema),v=g.resolve(a),C=null,S=b.parse(r,{topNode:v.parent,topMatch:v.parent.contentMatchAt(v.index()),topOpen:!0,from:s,to:l,preserveWhitespace:v.parent.type.whitespace=="pre"?"full":!0,findPositions:h,ruleFromNode:QE,context:v});if(h&&h[0].pos!=null){let w=h[0].pos,A=h[1]&&h[1].pos;A==null&&(A=w),C={anchor:w+a,head:A+a}}return{doc:S,sel:C,from:a,to:c}}function QE(n){let e=n.pmViewDesc;if(e)return e.parseRule();if(n.nodeName=="BR"&&n.parentNode){if(un&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(n.parentNode.lastChild==n||un&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if(n.nodeName=="IMG"&&n.getAttribute("mark-placeholder"))return{ignore:!0};return null}const XE=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function WE(n,e,t,r,s){let l=n.input.compositionPendingChanges||(n.composing?n.input.compositionID:0);if(n.input.compositionPendingChanges=0,e<0){let X=n.input.lastSelectionTime>Date.now()-50?n.input.lastSelectionOrigin:null,le=im(n,X);if(le&&!n.state.selection.eq(le)){if(en&&Fr&&n.input.lastKeyCode===13&&Date.now()-100<n.input.lastKeyCodeTime&&n.someProp("handleKeyDown",me=>me(n,ps(13,"Enter"))))return;let ne=n.state.tr.setSelection(le);X=="pointer"?ne.setMeta("pointer",!0):X=="key"&&ne.scrollIntoView(),l&&ne.setMeta("composition",l),n.dispatch(ne)}return}let a=n.state.doc.resolve(e),c=a.sharedDepth(t);e=a.before(c+1),t=n.state.doc.resolve(t).after(c+1);let d=n.state.selection,h=JE(n,e,t),m=n.state.doc,g=m.slice(h.from,h.to),b,v;n.input.lastKeyCode===8&&Date.now()-100<n.input.lastKeyCodeTime?(b=n.state.selection.to,v="end"):(b=n.state.selection.from,v="start"),n.input.lastKeyCode=null;let C=n6(g.content,h.doc.content,h.from,b,v);if(C&&n.input.domChangeCount++,(qo&&n.input.lastIOSEnter>Date.now()-225||Fr)&&s.some(X=>X.nodeType==1&&!XE.test(X.nodeName))&&(!C||C.endA>=C.endB)&&n.someProp("handleKeyDown",X=>X(n,ps(13,"Enter")))){n.input.lastIOSEnter=0;return}if(!C)if(r&&d instanceof ve&&!d.empty&&d.$head.sameParent(d.$anchor)&&!n.composing&&!(h.sel&&h.sel.anchor!=h.sel.head))C={start:d.from,endA:d.to,endB:d.to};else{if(h.sel){let X=tv(n,n.state.doc,h.sel);if(X&&!X.eq(n.state.selection)){let le=n.state.tr.setSelection(X);l&&le.setMeta("composition",l),n.dispatch(le)}}return}n.state.selection.from<n.state.selection.to&&C.start==C.endB&&n.state.selection instanceof ve&&(C.start>n.state.selection.from&&C.start<=n.state.selection.from+2&&n.state.selection.from>=h.from?C.start=n.state.selection.from:C.endA<n.state.selection.to&&C.endA>=n.state.selection.to-2&&n.state.selection.to<=h.to&&(C.endB+=n.state.selection.to-C.endA,C.endA=n.state.selection.to)),wn&&Li<=11&&C.endB==C.start+1&&C.endA==C.start&&C.start>h.from&&h.doc.textBetween(C.start-h.from-1,C.start-h.from+1)=="  "&&(C.start--,C.endA--,C.endB--);let S=h.doc.resolveNoCache(C.start-h.from),w=h.doc.resolveNoCache(C.endB-h.from),A=m.resolve(C.start),R=S.sameParent(w)&&S.parent.inlineContent&&A.end()>=C.endA,D;if((qo&&n.input.lastIOSEnter>Date.now()-225&&(!R||s.some(X=>X.nodeName=="DIV"||X.nodeName=="P"))||!R&&S.pos<h.doc.content.size&&(!S.sameParent(w)||!S.parent.inlineContent)&&!/\S/.test(h.doc.textBetween(S.pos,w.pos,"",""))&&(D=Te.findFrom(h.doc.resolve(S.pos+1),1,!0))&&D.head>S.pos)&&n.someProp("handleKeyDown",X=>X(n,ps(13,"Enter")))){n.input.lastIOSEnter=0;return}if(n.state.selection.anchor>C.start&&t6(m,C.start,C.endA,S,w)&&n.someProp("handleKeyDown",X=>X(n,ps(8,"Backspace")))){Fr&&en&&n.domObserver.suppressSelectionUpdates();return}en&&C.endB==C.start&&(n.input.lastChromeDelete=Date.now()),Fr&&!R&&S.start()!=w.start()&&w.parentOffset==0&&S.depth==w.depth&&h.sel&&h.sel.anchor==h.sel.head&&h.sel.head==C.endA&&(C.endB-=2,w=h.doc.resolveNoCache(C.endB-h.from),setTimeout(()=>{n.someProp("handleKeyDown",function(X){return X(n,ps(13,"Enter"))})},20));let P=C.start,j=C.endA,Q=X=>{let le=X||n.state.tr.replace(P,j,h.doc.slice(C.start-h.from,C.endB-h.from));if(h.sel){let ne=tv(n,le.doc,h.sel);ne&&!(en&&n.composing&&ne.empty&&(C.start!=C.endB||n.input.lastChromeDelete<Date.now()-100)&&(ne.head==P||ne.head==le.mapping.map(j)-1)||wn&&ne.empty&&ne.head==P)&&le.setSelection(ne)}return l&&le.setMeta("composition",l),le.scrollIntoView()},te;if(R){if(S.pos==w.pos){wn&&Li<=11&&S.parentOffset==0&&(n.domObserver.suppressSelectionUpdates(),setTimeout(()=>Gr(n),20));let X=Q(n.state.tr.delete(P,j)),le=m.resolve(C.start).marksAcross(m.resolve(C.endA));le&&X.ensureMarks(le),n.dispatch(X)}else if(C.endA==C.endB&&(te=e6(S.parent.content.cut(S.parentOffset,w.parentOffset),A.parent.content.cut(A.parentOffset,C.endA-A.start())))){let X=Q(n.state.tr);te.type=="add"?X.addMark(P,j,te.mark):X.removeMark(P,j,te.mark),n.dispatch(X)}else if(S.parent.child(S.index()).isText&&S.index()==w.index()-(w.textOffset?0:1)){let X=S.parent.textBetween(S.parentOffset,w.parentOffset),le=()=>Q(n.state.tr.insertText(X,P,j));n.someProp("handleTextInput",ne=>ne(n,P,j,X,le))||n.dispatch(le())}}else n.dispatch(Q())}function tv(n,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:sm(n,e.resolve(t.anchor),e.resolve(t.head))}function e6(n,e){let t=n.firstChild.marks,r=e.firstChild.marks,s=t,l=r,a,c,d;for(let m=0;m<r.length;m++)s=r[m].removeFromSet(s);for(let m=0;m<t.length;m++)l=t[m].removeFromSet(l);if(s.length==1&&l.length==0)c=s[0],a="add",d=m=>m.mark(c.addToSet(m.marks));else if(s.length==0&&l.length==1)c=l[0],a="remove",d=m=>m.mark(c.removeFromSet(m.marks));else return null;let h=[];for(let m=0;m<e.childCount;m++)h.push(d(e.child(m)));if(ee.from(h).eq(n))return{mark:c,type:a}}function t6(n,e,t,r,s){if(t-e<=s.pos-r.pos||Op(r,!0,!1)<s.pos)return!1;let l=n.resolve(e);if(!r.parent.isTextblock){let c=l.nodeAfter;return c!=null&&t==e+c.nodeSize}if(l.parentOffset<l.parent.content.size||!l.parent.isTextblock)return!1;let a=n.resolve(Op(l,!0,!0));return!a.parent.isTextblock||a.pos>t||Op(a,!0,!1)<t?!1:r.parent.content.cut(r.parentOffset).eq(a.parent.content)}function Op(n,e,t){let r=n.depth,s=e?n.end():n.pos;for(;r>0&&(e||n.indexAfter(r)==n.node(r).childCount);)r--,s++,e=!1;if(t){let l=n.node(r).maybeChild(n.indexAfter(r));for(;l&&!l.isLeaf;)l=l.firstChild,s++}return s}function n6(n,e,t,r,s){let l=n.findDiffStart(e,t);if(l==null)return null;let{a,b:c}=n.findDiffEnd(e,t+n.size,t+e.size);if(s=="end"){let d=Math.max(0,l-Math.min(a,c));r-=a+d-l}if(a<l&&n.size<e.size){let d=r<=l&&r>=a?l-r:0;l-=d,l&&l<e.size&&nv(e.textBetween(l-1,l+1))&&(l+=d?1:-1),c=l+(c-a),a=l}else if(c<l){let d=r<=l&&r>=c?l-r:0;l-=d,l&&l<n.size&&nv(n.textBetween(l-1,l+1))&&(l+=d?1:-1),a=l+(a-c),c=l}return{start:l,endA:a,endB:c}}function nv(n){if(n.length!=2)return!1;let e=n.charCodeAt(0),t=n.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}const r6=lm,i6=Ea;class hm{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new SE,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(lv),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=sv(this),iv(this),this.nodeViews=ov(this),this.docView=Ib(this.state.doc,rv(this),kp(this),this.dom,this),this.domObserver=new $E(this,(r,s,l,a)=>WE(this,r,s,l,a)),this.domObserver.start(),xE(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&E1(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(lv),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let r in this._props)t[r]=this._props[r];t.state=this.state;for(let r in e)t[r]=e[r];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var r;let s=this.state,l=!1,a=!1;e.storedMarks&&this.composing&&(v4(this),a=!0),this.state=e;let c=s.plugins!=e.plugins||this._props.plugins!=t.plugins;if(c||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let v=ov(this);o6(v,this.nodeViews)&&(this.nodeViews=v,l=!0)}(c||t.handleDOMEvents!=this._props.handleDOMEvents)&&E1(this),this.editable=sv(this),iv(this);let d=kp(this),h=rv(this),m=s.plugins!=e.plugins&&!s.doc.eq(e.doc)?"reset":e.scrollToSelection>s.scrollToSelection?"to selection":"preserve",g=l||!this.docView.matchesNode(e.doc,h,d);(g||!e.selection.eq(s.selection))&&(a=!0);let b=m=="preserve"&&a&&this.dom.style.overflowAnchor==null&&B9(this);if(a){this.domObserver.stop();let v=g&&(wn||en)&&!this.composing&&!s.selection.empty&&!e.selection.empty&&s6(s.selection,e.selection);if(g){let C=en?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=HE(this)),(l||!this.docView.update(e.doc,h,d,this))&&(this.docView.updateOuterDeco(h),this.docView.destroy(),this.docView=Ib(e.doc,h,d,this.dom,this)),C&&!this.trackWrites&&(v=!0)}v||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&oE(this))?Gr(this,v):(a4(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((r=this.dragging)===null||r===void 0)&&r.node&&!s.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,s),m=="reset"?this.dom.scrollTop=0:m=="to selection"?this.scrollToSelection():b&&I9(b)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof ce){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&Nb(this,t.getBoundingClientRect(),e)}else Nb(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let r=this.directPlugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let r=this.state.plugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let r=this.pluginViews[t];r.update&&r.update(this,e)}}updateDraggedNode(e,t){let r=e.node,s=-1;if(this.state.doc.nodeAt(r.from)==r.node)s=r.from;else{let l=r.from+(this.state.doc.content.size-t.doc.content.size);(l>0&&this.state.doc.nodeAt(l))==r.node&&(s=l)}this.dragging=new S4(e.slice,e.move,s<0?void 0:ce.create(this.state.doc,s))}someProp(e,t){let r=this._props&&this._props[e],s;if(r!=null&&(s=t?t(r):r))return s;for(let a=0;a<this.directPlugins.length;a++){let c=this.directPlugins[a].props[e];if(c!=null&&(s=t?t(c):c))return s}let l=this.state.plugins;if(l)for(let a=0;a<l.length;a++){let c=l[a].props[e];if(c!=null&&(s=t?t(c):c))return s}}hasFocus(){if(wn){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&j9(this.dom),Gr(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return P9(this,e)}coordsAtPos(e,t=1){return e4(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,r=-1){let s=this.docView.posFromDOM(e,t,r);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(e,t){return Y9(this,t||this.state,e)}pasteHTML(e,t){return Ma(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return Ma(this,e,null,!0,t||new ClipboardEvent("paste"))}serializeForClipboard(e){return om(this,e)}destroy(){this.docView&&(EE(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],kp(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,M9())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return ME(this,e)}domSelectionRange(){let e=this.domSelection();return e?un&&this.root.nodeType===11&&R9(this.dom.ownerDocument)==this.dom&&YE(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}hm.prototype.dispatch=function(n){let e=this._props.dispatchTransaction;e?e.call(this,n):this.updateState(this.state.apply(n))};function rv(n){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(n.editable),n.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(n.state)),t)for(let r in t)r=="class"?e.class+=" "+t[r]:r=="style"?e.style=(e.style?e.style+";":"")+t[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(t[r]))}),e.translate||(e.translate="no"),[an.node(0,n.state.doc.content.size,e)]}function iv(n){if(n.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),n.cursorWrapper={dom:e,deco:an.widget(n.state.selection.from,e,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function sv(n){return!n.someProp("editable",e=>e(n.state)===!1)}function s6(n,e){let t=Math.min(n.$anchor.sharedDepth(n.head),e.$anchor.sharedDepth(e.head));return n.$anchor.start(t)!=e.$anchor.start(t)}function ov(n){let e=Object.create(null);function t(r){for(let s in r)Object.prototype.hasOwnProperty.call(e,s)||(e[s]=r[s])}return n.someProp("nodeViews",t),n.someProp("markViews",t),e}function o6(n,e){let t=0,r=0;for(let s in n){if(n[s]!=e[s])return!0;t++}for(let s in e)r++;return t!=r}function lv(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}const l6=Object.freeze(Object.defineProperty({__proto__:null,Decoration:an,DecorationSet:dt,EditorView:hm,__endComposition:i6,__parseFromClipboard:r6},Symbol.toStringTag,{value:"Module"}));var Ii={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Ic={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},a6=typeof navigator<"u"&&/Mac/.test(navigator.platform),u6=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Ft=0;Ft<10;Ft++)Ii[48+Ft]=Ii[96+Ft]=String(Ft);for(var Ft=1;Ft<=24;Ft++)Ii[Ft+111]="F"+Ft;for(var Ft=65;Ft<=90;Ft++)Ii[Ft]=String.fromCharCode(Ft+32),Ic[Ft]=String.fromCharCode(Ft);for(var Rp in Ii)Ic.hasOwnProperty(Rp)||(Ic[Rp]=Ii[Rp]);function c6(n){var e=a6&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||u6&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?Ic:Ii)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const f6=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),d6=typeof navigator<"u"&&/Win/.test(navigator.platform);function h6(n){let e=n.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let r,s,l,a;for(let c=0;c<e.length-1;c++){let d=e[c];if(/^(cmd|meta|m)$/i.test(d))a=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))s=!0;else if(/^s(hift)?$/i.test(d))l=!0;else if(/^mod$/i.test(d))f6?a=!0:s=!0;else throw new Error("Unrecognized modifier name: "+d)}return r&&(t="Alt-"+t),s&&(t="Ctrl-"+t),a&&(t="Meta-"+t),l&&(t="Shift-"+t),t}function p6(n){let e=Object.create(null);for(let t in n)e[h6(t)]=n[t];return e}function Np(n,e,t=!0){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t&&e.shiftKey&&(n="Shift-"+n),n}function m6(n){return new pt({props:{handleKeyDown:T4(n)}})}function T4(n){let e=p6(n);return function(t,r){let s=c6(r),l,a=e[Np(s,r)];if(a&&a(t.state,t.dispatch,t))return!0;if(s.length==1&&s!=" "){if(r.shiftKey){let c=e[Np(s,r,!1)];if(c&&c(t.state,t.dispatch,t))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(d6&&r.ctrlKey&&r.altKey)&&(l=Ii[r.keyCode])&&l!=s){let c=e[Np(l,r)];if(c&&c(t.state,t.dispatch,t))return!0}}return!1}}const pm=(n,e)=>n.selection.empty?!1:(e&&e(n.tr.deleteSelection().scrollIntoView()),!0);function A4(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("backward",n):t.parentOffset>0)?null:t}const k4=(n,e,t)=>{let r=A4(n,t);if(!r)return!1;let s=mm(r);if(!s){let a=r.blockRange(),c=a&&Yo(a);return c==null?!1:(e&&e(n.tr.lift(a,c).scrollIntoView()),!0)}let l=s.nodeBefore;if(I4(n,s,e,-1))return!0;if(r.parent.content.size==0&&(Po(l,"end")||ce.isSelectable(l)))for(let a=r.depth;;a--){let c=kf(n.doc,r.before(a),r.after(a),oe.empty);if(c&&c.slice.size<c.to-c.from){if(e){let d=n.tr.step(c);d.setSelection(Po(l,"end")?Te.findFrom(d.doc.resolve(d.mapping.map(s.pos,-1)),-1):ce.create(d.doc,s.pos-l.nodeSize)),e(d.scrollIntoView())}return!0}if(a==1||r.node(a-1).childCount>1)break}return l.isAtom&&s.depth==r.depth-1?(e&&e(n.tr.delete(s.pos-l.nodeSize,s.pos).scrollIntoView()),!0):!1},g6=(n,e,t)=>{let r=A4(n,t);if(!r)return!1;let s=mm(r);return s?O4(n,s,e):!1},y6=(n,e,t)=>{let r=N4(n,t);if(!r)return!1;let s=gm(r);return s?O4(n,s,e):!1};function O4(n,e,t){let r=e.nodeBefore,s=r,l=e.pos-1;for(;!s.isTextblock;l--){if(s.type.spec.isolating)return!1;let m=s.lastChild;if(!m)return!1;s=m}let a=e.nodeAfter,c=a,d=e.pos+1;for(;!c.isTextblock;d++){if(c.type.spec.isolating)return!1;let m=c.firstChild;if(!m)return!1;c=m}let h=kf(n.doc,l,d,oe.empty);if(!h||h.from!=l||h instanceof ir&&h.slice.size>=d-l)return!1;if(t){let m=n.tr.step(h);m.setSelection(ve.create(m.doc,l)),t(m.scrollIntoView())}return!0}function Po(n,e,t=!1){for(let r=n;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(t&&r.childCount!=1)return!1}return!1}const R4=(n,e,t)=>{let{$head:r,empty:s}=n.selection,l=r;if(!s)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("backward",n):r.parentOffset>0)return!1;l=mm(r)}let a=l&&l.nodeBefore;return!a||!ce.isSelectable(a)?!1:(e&&e(n.tr.setSelection(ce.create(n.doc,l.pos-a.nodeSize)).scrollIntoView()),!0)};function mm(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){if(n.index(e)>0)return n.doc.resolve(n.before(e+1));if(n.node(e).type.spec.isolating)break}return null}function N4(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("forward",n):t.parentOffset<t.parent.content.size)?null:t}const D4=(n,e,t)=>{let r=N4(n,t);if(!r)return!1;let s=gm(r);if(!s)return!1;let l=s.nodeAfter;if(I4(n,s,e,1))return!0;if(r.parent.content.size==0&&(Po(l,"start")||ce.isSelectable(l))){let a=kf(n.doc,r.before(),r.after(),oe.empty);if(a&&a.slice.size<a.to-a.from){if(e){let c=n.tr.step(a);c.setSelection(Po(l,"start")?Te.findFrom(c.doc.resolve(c.mapping.map(s.pos)),1):ce.create(c.doc,c.mapping.map(s.pos))),e(c.scrollIntoView())}return!0}}return l.isAtom&&s.depth==r.depth-1?(e&&e(n.tr.delete(s.pos,s.pos+l.nodeSize).scrollIntoView()),!0):!1},L4=(n,e,t)=>{let{$head:r,empty:s}=n.selection,l=r;if(!s)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("forward",n):r.parentOffset<r.parent.content.size)return!1;l=gm(r)}let a=l&&l.nodeAfter;return!a||!ce.isSelectable(a)?!1:(e&&e(n.tr.setSelection(ce.create(n.doc,l.pos)).scrollIntoView()),!0)};function gm(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){let t=n.node(e);if(n.index(e)+1<t.childCount)return n.doc.resolve(n.after(e+1));if(t.type.spec.isolating)break}return null}const b6=(n,e)=>{let t=n.selection,r=t instanceof ce,s;if(r){if(t.node.isTextblock||!_i(n.doc,t.from))return!1;s=t.from}else if(s=Af(n.doc,t.from,-1),s==null)return!1;if(e){let l=n.tr.join(s);r&&l.setSelection(ce.create(l.doc,s-n.doc.resolve(s).nodeBefore.nodeSize)),e(l.scrollIntoView())}return!0},v6=(n,e)=>{let t=n.selection,r;if(t instanceof ce){if(t.node.isTextblock||!_i(n.doc,t.to))return!1;r=t.to}else if(r=Af(n.doc,t.to,1),r==null)return!1;return e&&e(n.tr.join(r).scrollIntoView()),!0},C6=(n,e)=>{let{$from:t,$to:r}=n.selection,s=t.blockRange(r),l=s&&Yo(s);return l==null?!1:(e&&e(n.tr.lift(s,l).scrollIntoView()),!0)},z4=(n,e)=>{let{$head:t,$anchor:r}=n.selection;return!t.parent.type.spec.code||!t.sameParent(r)?!1:(e&&e(n.tr.insertText(`
`).scrollIntoView()),!0)};function ym(n){for(let e=0;e<n.edgeCount;e++){let{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const S6=(n,e)=>{let{$head:t,$anchor:r}=n.selection;if(!t.parent.type.spec.code||!t.sameParent(r))return!1;let s=t.node(-1),l=t.indexAfter(-1),a=ym(s.contentMatchAt(l));if(!a||!s.canReplaceWith(l,l,a))return!1;if(e){let c=t.after(),d=n.tr.replaceWith(c,c,a.createAndFill());d.setSelection(Te.near(d.doc.resolve(c),1)),e(d.scrollIntoView())}return!0},H4=(n,e)=>{let t=n.selection,{$from:r,$to:s}=t;if(t instanceof Bn||r.parent.inlineContent||s.parent.inlineContent)return!1;let l=ym(s.parent.contentMatchAt(s.indexAfter()));if(!l||!l.isTextblock)return!1;if(e){let a=(!r.parentOffset&&s.index()<s.parent.childCount?r:s).pos,c=n.tr.insert(a,l.createAndFill());c.setSelection(ve.create(c.doc,a+1)),e(c.scrollIntoView())}return!0},B4=(n,e)=>{let{$cursor:t}=n.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let l=t.before();if($r(n.doc,l))return e&&e(n.tr.split(l).scrollIntoView()),!0}let r=t.blockRange(),s=r&&Yo(r);return s==null?!1:(e&&e(n.tr.lift(r,s).scrollIntoView()),!0)};function x6(n){return(e,t)=>{let{$from:r,$to:s}=e.selection;if(e.selection instanceof ce&&e.selection.node.isBlock)return!r.parentOffset||!$r(e.doc,r.pos)?!1:(t&&t(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let l=[],a,c,d=!1,h=!1;for(let v=r.depth;;v--)if(r.node(v).isBlock){d=r.end(v)==r.pos+(r.depth-v),h=r.start(v)==r.pos-(r.depth-v),c=ym(r.node(v-1).contentMatchAt(r.indexAfter(v-1))),l.unshift(d&&c?{type:c}:null),a=v;break}else{if(v==1)return!1;l.unshift(null)}let m=e.tr;(e.selection instanceof ve||e.selection instanceof Bn)&&m.deleteSelection();let g=m.mapping.map(r.pos),b=$r(m.doc,g,l.length,l);if(b||(l[0]=c?{type:c}:null,b=$r(m.doc,g,l.length,l)),!b)return!1;if(m.split(g,l.length,l),!d&&h&&r.node(a).type!=c){let v=m.mapping.map(r.before(a)),C=m.doc.resolve(v);c&&r.node(a-1).canReplaceWith(C.index(),C.index()+1,c)&&m.setNodeMarkup(m.mapping.map(r.before(a)),c)}return t&&t(m.scrollIntoView()),!0}}const E6=x6(),w6=(n,e)=>{let{$from:t,to:r}=n.selection,s,l=t.sharedDepth(r);return l==0?!1:(s=t.before(l),e&&e(n.tr.setSelection(ce.create(n.doc,s))),!0)};function M6(n,e,t){let r=e.nodeBefore,s=e.nodeAfter,l=e.index();return!r||!s||!r.type.compatibleContent(s.type)?!1:!r.content.size&&e.parent.canReplace(l-1,l)?(t&&t(n.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(l,l+1)||!(s.isTextblock||_i(n.doc,e.pos))?!1:(t&&t(n.tr.join(e.pos).scrollIntoView()),!0)}function I4(n,e,t,r){let s=e.nodeBefore,l=e.nodeAfter,a,c,d=s.type.spec.isolating||l.type.spec.isolating;if(!d&&M6(n,e,t))return!0;let h=!d&&e.parent.canReplace(e.index(),e.index()+1);if(h&&(a=(c=s.contentMatchAt(s.childCount)).findWrapping(l.type))&&c.matchType(a[0]||l.type).validEnd){if(t){let v=e.pos+l.nodeSize,C=ee.empty;for(let A=a.length-1;A>=0;A--)C=ee.from(a[A].create(null,C));C=ee.from(s.copy(C));let S=n.tr.step(new Tn(e.pos-1,v,e.pos,v,new oe(C,1,0),a.length,!0)),w=S.doc.resolve(v+2*a.length);w.nodeAfter&&w.nodeAfter.type==s.type&&_i(S.doc,w.pos)&&S.join(w.pos),t(S.scrollIntoView())}return!0}let m=l.type.spec.isolating||r>0&&d?null:Te.findFrom(e,1),g=m&&m.$from.blockRange(m.$to),b=g&&Yo(g);if(b!=null&&b>=e.depth)return t&&t(n.tr.lift(g,b).scrollIntoView()),!0;if(h&&Po(l,"start",!0)&&Po(s,"end")){let v=s,C=[];for(;C.push(v),!v.isTextblock;)v=v.lastChild;let S=l,w=1;for(;!S.isTextblock;S=S.firstChild)w++;if(v.canReplace(v.childCount,v.childCount,S.content)){if(t){let A=ee.empty;for(let D=C.length-1;D>=0;D--)A=ee.from(C[D].copy(A));let R=n.tr.step(new Tn(e.pos-C.length,e.pos+l.nodeSize,e.pos+w,e.pos+l.nodeSize-w,new oe(A,C.length,0),0,!0));t(R.scrollIntoView())}return!0}}return!1}function j4(n){return function(e,t){let r=e.selection,s=n<0?r.$from:r.$to,l=s.depth;for(;s.node(l).isInline;){if(!l)return!1;l--}return s.node(l).isTextblock?(t&&t(e.tr.setSelection(ve.create(e.doc,n<0?s.start(l):s.end(l)))),!0):!1}}const T6=j4(-1),A6=j4(1);function k6(n,e=null){return function(t,r){let{$from:s,$to:l}=t.selection,a=s.blockRange(l),c=a&&tm(a,n,e);return c?(r&&r(t.tr.wrap(a,c).scrollIntoView()),!0):!1}}function av(n,e=null){return function(t,r){let s=!1;for(let l=0;l<t.selection.ranges.length&&!s;l++){let{$from:{pos:a},$to:{pos:c}}=t.selection.ranges[l];t.doc.nodesBetween(a,c,(d,h)=>{if(s)return!1;if(!(!d.isTextblock||d.hasMarkup(n,e)))if(d.type==n)s=!0;else{let m=t.doc.resolve(h),g=m.index();s=m.parent.canReplaceWith(g,g+1,n)}})}if(!s)return!1;if(r){let l=t.tr;for(let a=0;a<t.selection.ranges.length;a++){let{$from:{pos:c},$to:{pos:d}}=t.selection.ranges[a];l.setBlockType(c,d,n,e)}r(l.scrollIntoView())}return!0}}function bm(...n){return function(e,t,r){for(let s=0;s<n.length;s++)if(n[s](e,t,r))return!0;return!1}}bm(pm,k4,R4);bm(pm,D4,L4);bm(z4,H4,B4,E6);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function O6(n,e=null){return function(t,r){let{$from:s,$to:l}=t.selection,a=s.blockRange(l);if(!a)return!1;let c=r?t.tr:null;return R6(c,a,n,e)?(r&&r(c.scrollIntoView()),!0):!1}}function R6(n,e,t,r=null){let s=!1,l=e,a=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(t)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let d=a.resolve(e.start-2);l=new Rc(d,d,e.depth),e.endIndex<e.parent.childCount&&(e=new Rc(e.$from,a.resolve(e.$to.end(e.depth)),e.depth)),s=!0}let c=tm(l,t,r,e);return c?(n&&N6(n,e,c,s,t),!0):!1}function N6(n,e,t,r,s){let l=ee.empty;for(let m=t.length-1;m>=0;m--)l=ee.from(t[m].type.create(t[m].attrs,l));n.step(new Tn(e.start-(r?2:0),e.end,e.start,e.end,new oe(l,0,0),t.length,!0));let a=0;for(let m=0;m<t.length;m++)t[m].type==s&&(a=m+1);let c=t.length-a,d=e.start+t.length-(r?2:0),h=e.parent;for(let m=e.startIndex,g=e.endIndex,b=!0;m<g;m++,b=!1)!b&&$r(n.doc,d,c)&&(n.split(d,c),d+=2*c),d+=h.child(m).nodeSize;return n}function D6(n){return function(e,t){let{$from:r,$to:s}=e.selection,l=r.blockRange(s,a=>a.childCount>0&&a.firstChild.type==n);return l?t?r.node(l.depth-1).type==n?L6(e,t,n,l):z6(e,t,l):!0:!1}}function L6(n,e,t,r){let s=n.tr,l=r.end,a=r.$to.end(r.depth);l<a&&(s.step(new Tn(l-1,a,l,a,new oe(ee.from(t.create(null,r.parent.copy())),1,0),1,!0)),r=new Rc(s.doc.resolve(r.$from.pos),s.doc.resolve(a),r.depth));const c=Yo(r);if(c==null)return!1;s.lift(r,c);let d=s.doc.resolve(s.mapping.map(l,-1)-1);return _i(s.doc,d.pos)&&d.nodeBefore.type==d.nodeAfter.type&&s.join(d.pos),e(s.scrollIntoView()),!0}function z6(n,e,t){let r=n.tr,s=t.parent;for(let v=t.end,C=t.endIndex-1,S=t.startIndex;C>S;C--)v-=s.child(C).nodeSize,r.delete(v-1,v+1);let l=r.doc.resolve(t.start),a=l.nodeAfter;if(r.mapping.map(t.end)!=t.start+l.nodeAfter.nodeSize)return!1;let c=t.startIndex==0,d=t.endIndex==s.childCount,h=l.node(-1),m=l.index(-1);if(!h.canReplace(m+(c?0:1),m+1,a.content.append(d?ee.empty:ee.from(s))))return!1;let g=l.pos,b=g+a.nodeSize;return r.step(new Tn(g-(c?1:0),b+(d?1:0),g+1,b-1,new oe((c?ee.empty:ee.from(s.copy(ee.empty))).append(d?ee.empty:ee.from(s.copy(ee.empty))),c?0:1,d?0:1),c?0:1)),e(r.scrollIntoView()),!0}function H6(n){return function(e,t){let{$from:r,$to:s}=e.selection,l=r.blockRange(s,h=>h.childCount>0&&h.firstChild.type==n);if(!l)return!1;let a=l.startIndex;if(a==0)return!1;let c=l.parent,d=c.child(a-1);if(d.type!=n)return!1;if(t){let h=d.lastChild&&d.lastChild.type==c.type,m=ee.from(h?n.create():null),g=new oe(ee.from(n.create(null,ee.from(c.type.create(null,m)))),h?3:1,0),b=l.start,v=l.end;t(e.tr.step(new Tn(b-(h?3:1),v,b,v,g,1,!0)).scrollIntoView())}return!0}}function Lf(n){const{state:e,transaction:t}=n;let{selection:r}=t,{doc:s}=t,{storedMarks:l}=t;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return l},get selection(){return r},get doc(){return s},get tr(){return r=t.selection,s=t.doc,l=t.storedMarks,t}}}class zf{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:r}=this,{view:s}=t,{tr:l}=r,a=this.buildProps(l);return Object.fromEntries(Object.entries(e).map(([c,d])=>[c,(...m)=>{const g=d(...m)(a);return!l.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(l),g}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:r,editor:s,state:l}=this,{view:a}=s,c=[],d=!!e,h=e||l.tr,m=()=>(!d&&t&&!h.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(h),c.every(b=>b===!0)),g={...Object.fromEntries(Object.entries(r).map(([b,v])=>[b,(...S)=>{const w=this.buildProps(h,t),A=v(...S)(w);return c.push(A),g}])),run:m};return g}createCan(e){const{rawCommands:t,state:r}=this,s=!1,l=e||r.tr,a=this.buildProps(l,s);return{...Object.fromEntries(Object.entries(t).map(([d,h])=>[d,(...m)=>h(...m)({...a,dispatch:void 0})])),chain:()=>this.createChain(l,s)}}buildProps(e,t=!0){const{rawCommands:r,editor:s,state:l}=this,{view:a}=s,c={tr:e,editor:s,view:a,state:Lf({state:l,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([d,h])=>[d,(...m)=>h(...m)(c)]))}};return c}}class B6{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const r=this.callbacks[e];return r&&r.forEach(s=>s.apply(this,t)),this}off(e,t){const r=this.callbacks[e];return r&&(t?this.callbacks[e]=r.filter(s=>s!==t):delete this.callbacks[e]),this}once(e,t){const r=(...s)=>{this.off(e,r),t.apply(this,s)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}}function ue(n,e,t){return n.config[e]===void 0&&n.parent?ue(n.parent,e,t):typeof n.config[e]=="function"?n.config[e].bind({...t,parent:n.parent?ue(n.parent,e,t):null}):n.config[e]}function Hf(n){const e=n.filter(s=>s.type==="extension"),t=n.filter(s=>s.type==="node"),r=n.filter(s=>s.type==="mark");return{baseExtensions:e,nodeExtensions:t,markExtensions:r}}function V4(n){const e=[],{nodeExtensions:t,markExtensions:r}=Hf(n),s=[...t,...r],l={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return n.forEach(a=>{const c={name:a.name,options:a.options,storage:a.storage,extensions:s},d=ue(a,"addGlobalAttributes",c);if(!d)return;d().forEach(m=>{m.types.forEach(g=>{Object.entries(m.attributes).forEach(([b,v])=>{e.push({type:g,name:b,attribute:{...l,...v}})})})})}),s.forEach(a=>{const c={name:a.name,options:a.options,storage:a.storage},d=ue(a,"addAttributes",c);if(!d)return;const h=d();Object.entries(h).forEach(([m,g])=>{const b={...l,...g};typeof b?.default=="function"&&(b.default=b.default()),b?.isRequired&&b?.default===void 0&&delete b.default,e.push({type:a.name,name:m,attribute:b})})}),e}function kt(n,e){if(typeof n=="string"){if(!e.nodes[n])throw Error(`There is no node type named '${n}'. Maybe you forgot to add the extension?`);return e.nodes[n]}return n}function rt(...n){return n.filter(e=>!!e).reduce((e,t)=>{const r={...e};return Object.entries(t).forEach(([s,l])=>{if(!r[s]){r[s]=l;return}if(s==="class"){const c=l?String(l).split(" "):[],d=r[s]?r[s].split(" "):[],h=c.filter(m=>!d.includes(m));r[s]=[...d,...h].join(" ")}else if(s==="style"){const c=l?l.split(";").map(m=>m.trim()).filter(Boolean):[],d=r[s]?r[s].split(";").map(m=>m.trim()).filter(Boolean):[],h=new Map;d.forEach(m=>{const[g,b]=m.split(":").map(v=>v.trim());h.set(g,b)}),c.forEach(m=>{const[g,b]=m.split(":").map(v=>v.trim());h.set(g,b)}),r[s]=Array.from(h.entries()).map(([m,g])=>`${m}: ${g}`).join("; ")}else r[s]=l}),r},{})}function jc(n,e){return e.filter(t=>t.type===n.type.name).filter(t=>t.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(n.attrs)||{}:{[t.name]:n.attrs[t.name]}).reduce((t,r)=>rt(t,r),{})}function _4(n){return typeof n=="function"}function Oe(n,e=void 0,...t){return _4(n)?e?n.bind(e)(...t):n(...t):n}function I6(n={}){return Object.keys(n).length===0&&n.constructor===Object}function j6(n){return typeof n!="string"?n:n.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(n):n==="true"?!0:n==="false"?!1:n}function uv(n,e){return"style"in n?n:{...n,getAttrs:t=>{const r=n.getAttrs?n.getAttrs(t):n.attrs;if(r===!1)return!1;const s=e.reduce((l,a)=>{const c=a.attribute.parseHTML?a.attribute.parseHTML(t):j6(t.getAttribute(a.name));return c==null?l:{...l,[a.name]:c}},{});return{...r,...s}}}}function cv(n){return Object.fromEntries(Object.entries(n).filter(([e,t])=>e==="attrs"&&I6(t)?!1:t!=null))}function V6(n,e){var t;const r=V4(n),{nodeExtensions:s,markExtensions:l}=Hf(n),a=(t=s.find(h=>ue(h,"topNode")))===null||t===void 0?void 0:t.name,c=Object.fromEntries(s.map(h=>{const m=r.filter(A=>A.type===h.name),g={name:h.name,options:h.options,storage:h.storage,editor:e},b=n.reduce((A,R)=>{const D=ue(R,"extendNodeSchema",g);return{...A,...D?D(h):{}}},{}),v=cv({...b,content:Oe(ue(h,"content",g)),marks:Oe(ue(h,"marks",g)),group:Oe(ue(h,"group",g)),inline:Oe(ue(h,"inline",g)),atom:Oe(ue(h,"atom",g)),selectable:Oe(ue(h,"selectable",g)),draggable:Oe(ue(h,"draggable",g)),code:Oe(ue(h,"code",g)),whitespace:Oe(ue(h,"whitespace",g)),linebreakReplacement:Oe(ue(h,"linebreakReplacement",g)),defining:Oe(ue(h,"defining",g)),isolating:Oe(ue(h,"isolating",g)),attrs:Object.fromEntries(m.map(A=>{var R;return[A.name,{default:(R=A?.attribute)===null||R===void 0?void 0:R.default}]}))}),C=Oe(ue(h,"parseHTML",g));C&&(v.parseDOM=C.map(A=>uv(A,m)));const S=ue(h,"renderHTML",g);S&&(v.toDOM=A=>S({node:A,HTMLAttributes:jc(A,m)}));const w=ue(h,"renderText",g);return w&&(v.toText=w),[h.name,v]})),d=Object.fromEntries(l.map(h=>{const m=r.filter(w=>w.type===h.name),g={name:h.name,options:h.options,storage:h.storage,editor:e},b=n.reduce((w,A)=>{const R=ue(A,"extendMarkSchema",g);return{...w,...R?R(h):{}}},{}),v=cv({...b,inclusive:Oe(ue(h,"inclusive",g)),excludes:Oe(ue(h,"excludes",g)),group:Oe(ue(h,"group",g)),spanning:Oe(ue(h,"spanning",g)),code:Oe(ue(h,"code",g)),attrs:Object.fromEntries(m.map(w=>{var A;return[w.name,{default:(A=w?.attribute)===null||A===void 0?void 0:A.default}]}))}),C=Oe(ue(h,"parseHTML",g));C&&(v.parseDOM=C.map(w=>uv(w,m)));const S=ue(h,"renderHTML",g);return S&&(v.toDOM=w=>S({mark:w,HTMLAttributes:jc(w,m)})),[h.name,v]}));return new A7({topNode:a,nodes:c,marks:d})}function Dp(n,e){return e.nodes[n]||e.marks[n]||null}function fv(n,e){return Array.isArray(e)?e.some(t=>(typeof t=="string"?t:t.name)===n.name):e}function vm(n,e){const t=Bs.fromSchema(e).serializeFragment(n),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(t),s.innerHTML}const _6=(n,e=500)=>{let t="";const r=n.parentOffset;return n.parent.nodesBetween(Math.max(0,r-e),r,(s,l,a,c)=>{var d,h;const m=((h=(d=s.type.spec).toText)===null||h===void 0?void 0:h.call(d,{node:s,pos:l,parent:a,index:c}))||s.textContent||"%leaf%";t+=s.isAtom&&!s.isText?m:m.slice(0,Math.max(0,r-l))}),t};function Cm(n){return Object.prototype.toString.call(n)==="[object RegExp]"}class ja{constructor(e){this.find=e.find,this.handler=e.handler}}const U6=(n,e)=>{if(Cm(e))return e.exec(n);const t=e(n);if(!t)return null;const r=[t.text];return r.index=t.index,r.input=n,r.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(t.replaceWith)),r};function ic(n){var e;const{editor:t,from:r,to:s,text:l,rules:a,plugin:c}=n,{view:d}=t;if(d.composing)return!1;const h=d.state.doc.resolve(r);if(h.parent.type.spec.code||!((e=h.nodeBefore||h.nodeAfter)===null||e===void 0)&&e.marks.find(b=>b.type.spec.code))return!1;let m=!1;const g=_6(h)+l;return a.forEach(b=>{if(m)return;const v=U6(g,b.find);if(!v)return;const C=d.state.tr,S=Lf({state:d.state,transaction:C}),w={from:r-(v[0].length-l.length),to:s},{commands:A,chain:R,can:D}=new zf({editor:t,state:S});b.handler({state:S,range:w,match:v,commands:A,chain:R,can:D})===null||!C.steps.length||(C.setMeta(c,{transform:C,from:r,to:s,text:l}),d.dispatch(C),m=!0)}),m}function q6(n){const{editor:e,rules:t}=n,r=new pt({state:{init(){return null},apply(s,l,a){const c=s.getMeta(r);if(c)return c;const d=s.getMeta("applyInputRules");return!!d&&setTimeout(()=>{let{text:m}=d;typeof m=="string"?m=m:m=vm(ee.from(m),a.schema);const{from:g}=d,b=g+m.length;ic({editor:e,from:g,to:b,text:m,rules:t,plugin:r})}),s.selectionSet||s.docChanged?null:l}},props:{handleTextInput(s,l,a,c){return ic({editor:e,from:l,to:a,text:c,rules:t,plugin:r})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:l}=s.state.selection;l&&ic({editor:e,from:l.pos,to:l.pos,text:"",rules:t,plugin:r})}),!1)},handleKeyDown(s,l){if(l.key!=="Enter")return!1;const{$cursor:a}=s.state.selection;return a?ic({editor:e,from:a.pos,to:a.pos,text:`
`,rules:t,plugin:r}):!1}},isInputRules:!0});return r}function P6(n){return Object.prototype.toString.call(n).slice(8,-1)}function sc(n){return P6(n)!=="Object"?!1:n.constructor===Object&&Object.getPrototypeOf(n)===Object.prototype}function Bf(n,e){const t={...n};return sc(n)&&sc(e)&&Object.keys(e).forEach(r=>{sc(e[r])&&sc(n[r])?t[r]=Bf(n[r],e[r]):t[r]=e[r]}),t}class In{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Oe(ue(this,"addOptions",{name:this.name}))),this.storage=Oe(ue(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new In(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Bf(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new In(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Oe(ue(t,"addOptions",{name:t.name})),t.storage=Oe(ue(t,"addStorage",{name:t.name,options:t.options})),t}static handleExit({editor:e,mark:t}){const{tr:r}=e.state,s=e.state.selection.$from;if(s.pos===s.end()){const a=s.marks();if(!!!a.find(h=>h?.type.name===t.name))return!1;const d=a.find(h=>h?.type.name===t.name);return d&&r.removeStoredMark(d),r.insertText(" ",s.pos),e.view.dispatch(r),!0}return!1}}function F6(n){return typeof n=="number"}class K6{constructor(e){this.find=e.find,this.handler=e.handler}}const $6=(n,e,t)=>{if(Cm(e))return[...n.matchAll(e)];const r=e(n,t);return r?r.map(s=>{const l=[s.text];return l.index=s.index,l.input=n,l.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),l.push(s.replaceWith)),l}):[]};function G6(n){const{editor:e,state:t,from:r,to:s,rule:l,pasteEvent:a,dropEvent:c}=n,{commands:d,chain:h,can:m}=new zf({editor:e,state:t}),g=[];return t.doc.nodesBetween(r,s,(v,C)=>{if(!v.isTextblock||v.type.spec.code)return;const S=Math.max(r,C),w=Math.min(s,C+v.content.size),A=v.textBetween(S-C,w-C,void 0,"￼");$6(A,l.find,a).forEach(D=>{if(D.index===void 0)return;const P=S+D.index+1,j=P+D[0].length,Q={from:t.tr.mapping.map(P),to:t.tr.mapping.map(j)},te=l.handler({state:t,range:Q,match:D,commands:d,chain:h,can:m,pasteEvent:a,dropEvent:c});g.push(te)})}),g.every(v=>v!==null)}let oc=null;const Y6=n=>{var e;const t=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=t.clipboardData)===null||e===void 0||e.setData("text/html",n),t};function Z6(n){const{editor:e,rules:t}=n;let r=null,s=!1,l=!1,a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,c;try{c=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{c=null}const d=({state:m,from:g,to:b,rule:v,pasteEvt:C})=>{const S=m.tr,w=Lf({state:m,transaction:S});if(!(!G6({editor:e,state:w,from:Math.max(g-1,0),to:b.b-1,rule:v,pasteEvent:C,dropEvent:c})||!S.steps.length)){try{c=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{c=null}return a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,S}};return t.map(m=>new pt({view(g){const b=C=>{var S;r=!((S=g.dom.parentElement)===null||S===void 0)&&S.contains(C.target)?g.dom.parentElement:null,r&&(oc=e)},v=()=>{oc&&(oc=null)};return window.addEventListener("dragstart",b),window.addEventListener("dragend",v),{destroy(){window.removeEventListener("dragstart",b),window.removeEventListener("dragend",v)}}},props:{handleDOMEvents:{drop:(g,b)=>{if(l=r===g.dom.parentElement,c=b,!l){const v=oc;v&&setTimeout(()=>{const C=v.state.selection;C&&v.commands.deleteRange({from:C.from,to:C.to})},10)}return!1},paste:(g,b)=>{var v;const C=(v=b.clipboardData)===null||v===void 0?void 0:v.getData("text/html");return a=b,s=!!C?.includes("data-pm-slice"),!1}}},appendTransaction:(g,b,v)=>{const C=g[0],S=C.getMeta("uiEvent")==="paste"&&!s,w=C.getMeta("uiEvent")==="drop"&&!l,A=C.getMeta("applyPasteRules"),R=!!A;if(!S&&!w&&!R)return;if(R){let{text:j}=A;typeof j=="string"?j=j:j=vm(ee.from(j),v.schema);const{from:Q}=A,te=Q+j.length,X=Y6(j);return d({rule:m,state:v,from:Q,to:{b:te},pasteEvt:X})}const D=b.doc.content.findDiffStart(v.doc.content),P=b.doc.content.findDiffEnd(v.doc.content);if(!(!F6(D)||!P||D===P.b))return d({rule:m,state:v,from:D,to:P,pasteEvt:a})}}))}function J6(n){const e=n.filter((t,r)=>n.indexOf(t)!==r);return Array.from(new Set(e))}class zo{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=zo.resolve(e),this.schema=V6(this.extensions,t),this.setupExtensions()}static resolve(e){const t=zo.sort(zo.flatten(e)),r=J6(t.map(s=>s.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(s=>`'${s}'`).join(", ")}]. This can lead to issues.`),t}static flatten(e){return e.map(t=>{const r={name:t.name,options:t.options,storage:t.storage},s=ue(t,"addExtensions",r);return s?[t,...this.flatten(s())]:t}).flat(10)}static sort(e){return e.sort((r,s)=>{const l=ue(r,"priority")||100,a=ue(s,"priority")||100;return l>a?-1:l<a?1:0})}get commands(){return this.extensions.reduce((e,t)=>{const r={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:Dp(t.name,this.schema)},s=ue(t,"addCommands",r);return s?{...e,...s()}:e},{})}get plugins(){const{editor:e}=this,t=zo.sort([...this.extensions].reverse()),r=[],s=[],l=t.map(a=>{const c={name:a.name,options:a.options,storage:a.storage,editor:e,type:Dp(a.name,this.schema)},d=[],h=ue(a,"addKeyboardShortcuts",c);let m={};if(a.type==="mark"&&ue(a,"exitable",c)&&(m.ArrowRight=()=>In.handleExit({editor:e,mark:a})),h){const S=Object.fromEntries(Object.entries(h()).map(([w,A])=>[w,()=>A({editor:e})]));m={...m,...S}}const g=m6(m);d.push(g);const b=ue(a,"addInputRules",c);fv(a,e.options.enableInputRules)&&b&&r.push(...b());const v=ue(a,"addPasteRules",c);fv(a,e.options.enablePasteRules)&&v&&s.push(...v());const C=ue(a,"addProseMirrorPlugins",c);if(C){const S=C();d.push(...S)}return d}).flat();return[q6({editor:e,rules:r}),...Z6({editor:e,rules:s}),...l]}get attributes(){return V4(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=Hf(this.extensions);return Object.fromEntries(t.filter(r=>!!ue(r,"addNodeView")).map(r=>{const s=this.attributes.filter(d=>d.type===r.name),l={name:r.name,options:r.options,storage:r.storage,editor:e,type:kt(r.name,this.schema)},a=ue(r,"addNodeView",l);if(!a)return[];const c=(d,h,m,g,b)=>{const v=jc(d,s);return a()({node:d,view:h,getPos:m,decorations:g,innerDecorations:b,editor:e,extension:r,HTMLAttributes:v})};return[r.name,c]}))}setupExtensions(){this.extensions.forEach(e=>{var t;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:Dp(e.name,this.schema)};e.type==="mark"&&(!((t=Oe(ue(e,"keepOnSplit",r)))!==null&&t!==void 0)||t)&&this.splittableMarks.push(e.name);const s=ue(e,"onBeforeCreate",r),l=ue(e,"onCreate",r),a=ue(e,"onUpdate",r),c=ue(e,"onSelectionUpdate",r),d=ue(e,"onTransaction",r),h=ue(e,"onFocus",r),m=ue(e,"onBlur",r),g=ue(e,"onDestroy",r);s&&this.editor.on("beforeCreate",s),l&&this.editor.on("create",l),a&&this.editor.on("update",a),c&&this.editor.on("selectionUpdate",c),d&&this.editor.on("transaction",d),h&&this.editor.on("focus",h),m&&this.editor.on("blur",m),g&&this.editor.on("destroy",g)})}}class St{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Oe(ue(this,"addOptions",{name:this.name}))),this.storage=Oe(ue(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new St(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Bf(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new St({...this.config,...e});return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Oe(ue(t,"addOptions",{name:t.name})),t.storage=Oe(ue(t,"addStorage",{name:t.name,options:t.options})),t}}function U4(n,e,t){const{from:r,to:s}=e,{blockSeparator:l=`

`,textSerializers:a={}}=t||{};let c="";return n.nodesBetween(r,s,(d,h,m,g)=>{var b;d.isBlock&&h>r&&(c+=l);const v=a?.[d.type.name];if(v)return m&&(c+=v({node:d,pos:h,parent:m,index:g,range:e})),!1;d.isText&&(c+=(b=d?.text)===null||b===void 0?void 0:b.slice(Math.max(r,h)-h,s-h))}),c}function q4(n){return Object.fromEntries(Object.entries(n.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}const Q6=St.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new pt({key:new $t("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:n}=this,{state:e,schema:t}=n,{doc:r,selection:s}=e,{ranges:l}=s,a=Math.min(...l.map(m=>m.$from.pos)),c=Math.max(...l.map(m=>m.$to.pos)),d=q4(t);return U4(r,{from:a,to:c},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:d})}}})]}}),X6=()=>({editor:n,view:e})=>(requestAnimationFrame(()=>{var t;n.isDestroyed||(e.dom.blur(),(t=window?.getSelection())===null||t===void 0||t.removeAllRanges())}),!0),W6=(n=!1)=>({commands:e})=>e.setContent("",n),ew=()=>({state:n,tr:e,dispatch:t})=>{const{selection:r}=e,{ranges:s}=r;return t&&s.forEach(({$from:l,$to:a})=>{n.doc.nodesBetween(l.pos,a.pos,(c,d)=>{if(c.type.isText)return;const{doc:h,mapping:m}=e,g=h.resolve(m.map(d)),b=h.resolve(m.map(d+c.nodeSize)),v=g.blockRange(b);if(!v)return;const C=Yo(v);if(c.type.isTextblock){const{defaultType:S}=g.parent.contentMatchAt(g.index());e.setNodeMarkup(v.start,S)}(C||C===0)&&e.lift(v,C)})}),!0},tw=n=>e=>n(e),nw=()=>({state:n,dispatch:e})=>H4(n,e),rw=(n,e)=>({editor:t,tr:r})=>{const{state:s}=t,l=s.doc.slice(n.from,n.to);r.deleteRange(n.from,n.to);const a=r.mapping.map(e);return r.insert(a,l.content),r.setSelection(new ve(r.doc.resolve(a-1))),!0},iw=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,r=t.$anchor.node();if(r.content.size>0)return!1;const s=n.selection.$anchor;for(let l=s.depth;l>0;l-=1)if(s.node(l).type===r.type){if(e){const c=s.before(l),d=s.after(l);n.delete(c,d).scrollIntoView()}return!0}return!1},sw=n=>({tr:e,state:t,dispatch:r})=>{const s=kt(n,t.schema),l=e.selection.$anchor;for(let a=l.depth;a>0;a-=1)if(l.node(a).type===s){if(r){const d=l.before(a),h=l.after(a);e.delete(d,h).scrollIntoView()}return!0}return!1},ow=n=>({tr:e,dispatch:t})=>{const{from:r,to:s}=n;return t&&e.delete(r,s),!0},lw=()=>({state:n,dispatch:e})=>pm(n,e),aw=()=>({commands:n})=>n.keyboardShortcut("Enter"),uw=()=>({state:n,dispatch:e})=>S6(n,e);function Vc(n,e,t={strict:!0}){const r=Object.keys(e);return r.length?r.every(s=>t.strict?e[s]===n[s]:Cm(e[s])?e[s].test(n[s]):e[s]===n[s]):!0}function P4(n,e,t={}){return n.find(r=>r.type===e&&Vc(Object.fromEntries(Object.keys(t).map(s=>[s,r.attrs[s]])),t))}function dv(n,e,t={}){return!!P4(n,e,t)}function If(n,e,t){var r;if(!n||!e)return;let s=n.parent.childAfter(n.parentOffset);if((!s.node||!s.node.marks.some(m=>m.type===e))&&(s=n.parent.childBefore(n.parentOffset)),!s.node||!s.node.marks.some(m=>m.type===e)||(t=t||((r=s.node.marks[0])===null||r===void 0?void 0:r.attrs),!P4([...s.node.marks],e,t)))return;let a=s.index,c=n.start()+s.offset,d=a+1,h=c+s.node.nodeSize;for(;a>0&&dv([...n.parent.child(a-1).marks],e,t);)a-=1,c-=n.parent.child(a).nodeSize;for(;d<n.parent.childCount&&dv([...n.parent.child(d).marks],e,t);)h+=n.parent.child(d).nodeSize,d+=1;return{from:c,to:h}}function qi(n,e){if(typeof n=="string"){if(!e.marks[n])throw Error(`There is no mark type named '${n}'. Maybe you forgot to add the extension?`);return e.marks[n]}return n}const cw=(n,e={})=>({tr:t,state:r,dispatch:s})=>{const l=qi(n,r.schema),{doc:a,selection:c}=t,{$from:d,from:h,to:m}=c;if(s){const g=If(d,l,e);if(g&&g.from<=h&&g.to>=m){const b=ve.create(a,g.from,g.to);t.setSelection(b)}}return!0},fw=n=>e=>{const t=typeof n=="function"?n(e):n;for(let r=0;r<t.length;r+=1)if(t[r](e))return!0;return!1};function F4(n){return n instanceof ve}function bs(n=0,e=0,t=0){return Math.min(Math.max(n,e),t)}function K4(n,e=null){if(!e)return null;const t=Te.atStart(n),r=Te.atEnd(n);if(e==="start"||e===!0)return t;if(e==="end")return r;const s=t.from,l=r.to;return e==="all"?ve.create(n,bs(0,s,l),bs(n.content.size,s,l)):ve.create(n,bs(e,s,l),bs(e,s,l))}function $4(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function jf(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const dw=(n=null,e={})=>({editor:t,view:r,tr:s,dispatch:l})=>{e={scrollIntoView:!0,...e};const a=()=>{(jf()||$4())&&r.dom.focus(),requestAnimationFrame(()=>{t.isDestroyed||(r.focus(),e?.scrollIntoView&&t.commands.scrollIntoView())})};if(r.hasFocus()&&n===null||n===!1)return!0;if(l&&n===null&&!F4(t.state.selection))return a(),!0;const c=K4(s.doc,n)||t.state.selection,d=t.state.selection.eq(c);return l&&(d||s.setSelection(c),d&&s.storedMarks&&s.setStoredMarks(s.storedMarks),a()),!0},hw=(n,e)=>t=>n.every((r,s)=>e(r,{...t,index:s})),pw=(n,e)=>({tr:t,commands:r})=>r.insertContentAt({from:t.selection.from,to:t.selection.to},n,e),G4=n=>{const e=n.childNodes;for(let t=e.length-1;t>=0;t-=1){const r=e[t];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?n.removeChild(r):r.nodeType===1&&G4(r)}return n};function lc(n){const e=`<body>${n}</body>`,t=new window.DOMParser().parseFromString(e,"text/html").body;return G4(t)}function Aa(n,e,t){if(n instanceof Ni||n instanceof ee)return n;t={slice:!0,parseOptions:{},...t};const r=typeof n=="object"&&n!==null,s=typeof n=="string";if(r)try{if(Array.isArray(n)&&n.length>0)return ee.fromArray(n.map(c=>e.nodeFromJSON(c)));const a=e.nodeFromJSON(n);return t.errorOnInvalidContent&&a.check(),a}catch(l){if(t.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:l});return console.warn("[tiptap warn]: Invalid content.","Passed value:",n,"Error:",l),Aa("",e,t)}if(s){if(t.errorOnInvalidContent){let a=!1,c="";const d=new A7({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:h=>(a=!0,c=typeof h=="string"?h:h.outerHTML,null)}]}})});if(t.slice?Di.fromSchema(d).parseSlice(lc(n),t.parseOptions):Di.fromSchema(d).parse(lc(n),t.parseOptions),t.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${c}`)})}const l=Di.fromSchema(e);return t.slice?l.parseSlice(lc(n),t.parseOptions).content:l.parse(lc(n),t.parseOptions)}return Aa("",e,t)}function mw(n,e,t){const r=n.steps.length-1;if(r<e)return;const s=n.steps[r];if(!(s instanceof ir||s instanceof Tn))return;const l=n.mapping.maps[r];let a=0;l.forEach((c,d,h,m)=>{a===0&&(a=m)}),n.setSelection(Te.near(n.doc.resolve(a),t))}const gw=n=>!("type"in n),yw=(n,e,t)=>({tr:r,dispatch:s,editor:l})=>{var a;if(s){t={parseOptions:l.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...t};let c;const d=w=>{l.emit("contentError",{editor:l,error:w,disableCollaboration:()=>{l.storage.collaboration&&(l.storage.collaboration.isDisabled=!0)}})},h={preserveWhitespace:"full",...t.parseOptions};if(!t.errorOnInvalidContent&&!l.options.enableContentCheck&&l.options.emitContentError)try{Aa(e,l.schema,{parseOptions:h,errorOnInvalidContent:!0})}catch(w){d(w)}try{c=Aa(e,l.schema,{parseOptions:h,errorOnInvalidContent:(a=t.errorOnInvalidContent)!==null&&a!==void 0?a:l.options.enableContentCheck})}catch(w){return d(w),!1}let{from:m,to:g}=typeof n=="number"?{from:n,to:n}:{from:n.from,to:n.to},b=!0,v=!0;if((gw(c)?c:[c]).forEach(w=>{w.check(),b=b?w.isText&&w.marks.length===0:!1,v=v?w.isBlock:!1}),m===g&&v){const{parent:w}=r.doc.resolve(m);w.isTextblock&&!w.type.spec.code&&!w.childCount&&(m-=1,g+=1)}let S;if(b){if(Array.isArray(e))S=e.map(w=>w.text||"").join("");else if(e instanceof ee){let w="";e.forEach(A=>{A.text&&(w+=A.text)}),S=w}else typeof e=="object"&&e&&e.text?S=e.text:S=e;r.insertText(S,m,g)}else S=c,r.replaceWith(m,g,S);t.updateSelection&&mw(r,r.steps.length-1,-1),t.applyInputRules&&r.setMeta("applyInputRules",{from:m,text:S}),t.applyPasteRules&&r.setMeta("applyPasteRules",{from:m,text:S})}return!0},bw=()=>({state:n,dispatch:e})=>b6(n,e),vw=()=>({state:n,dispatch:e})=>v6(n,e),Cw=()=>({state:n,dispatch:e})=>k4(n,e),Sw=()=>({state:n,dispatch:e})=>D4(n,e),xw=()=>({state:n,dispatch:e,tr:t})=>{try{const r=Af(n.doc,n.selection.$from.pos,-1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},Ew=()=>({state:n,dispatch:e,tr:t})=>{try{const r=Af(n.doc,n.selection.$from.pos,1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},ww=()=>({state:n,dispatch:e})=>g6(n,e),Mw=()=>({state:n,dispatch:e})=>y6(n,e);function Y4(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function Tw(n){const e=n.split(/-(?!$)/);let t=e[e.length-1];t==="Space"&&(t=" ");let r,s,l,a;for(let c=0;c<e.length-1;c+=1){const d=e[c];if(/^(cmd|meta|m)$/i.test(d))a=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))s=!0;else if(/^s(hift)?$/i.test(d))l=!0;else if(/^mod$/i.test(d))jf()||Y4()?a=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${d}`)}return r&&(t=`Alt-${t}`),s&&(t=`Ctrl-${t}`),a&&(t=`Meta-${t}`),l&&(t=`Shift-${t}`),t}const Aw=n=>({editor:e,view:t,tr:r,dispatch:s})=>{const l=Tw(n).split(/-(?!$)/),a=l.find(h=>!["Alt","Ctrl","Meta","Shift"].includes(h)),c=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:l.includes("Alt"),ctrlKey:l.includes("Ctrl"),metaKey:l.includes("Meta"),shiftKey:l.includes("Shift"),bubbles:!0,cancelable:!0}),d=e.captureTransaction(()=>{t.someProp("handleKeyDown",h=>h(t,c))});return d?.steps.forEach(h=>{const m=h.map(r.mapping);m&&s&&r.maybeStep(m)}),!0};function ka(n,e,t={}){const{from:r,to:s,empty:l}=n.selection,a=e?kt(e,n.schema):null,c=[];n.doc.nodesBetween(r,s,(g,b)=>{if(g.isText)return;const v=Math.max(r,b),C=Math.min(s,b+g.nodeSize);c.push({node:g,from:v,to:C})});const d=s-r,h=c.filter(g=>a?a.name===g.node.type.name:!0).filter(g=>Vc(g.node.attrs,t,{strict:!1}));return l?!!h.length:h.reduce((g,b)=>g+b.to-b.from,0)>=d}const kw=(n,e={})=>({state:t,dispatch:r})=>{const s=kt(n,t.schema);return ka(t,s,e)?C6(t,r):!1},Ow=()=>({state:n,dispatch:e})=>B4(n,e),Rw=n=>({state:e,dispatch:t})=>{const r=kt(n,e.schema);return D6(r)(e,t)},Nw=()=>({state:n,dispatch:e})=>z4(n,e);function Vf(n,e){return e.nodes[n]?"node":e.marks[n]?"mark":null}function hv(n,e){const t=typeof e=="string"?[e]:e;return Object.keys(n).reduce((r,s)=>(t.includes(s)||(r[s]=n[s]),r),{})}const Dw=(n,e)=>({tr:t,state:r,dispatch:s})=>{let l=null,a=null;const c=Vf(typeof n=="string"?n:n.name,r.schema);return c?(c==="node"&&(l=kt(n,r.schema)),c==="mark"&&(a=qi(n,r.schema)),s&&t.selection.ranges.forEach(d=>{r.doc.nodesBetween(d.$from.pos,d.$to.pos,(h,m)=>{l&&l===h.type&&t.setNodeMarkup(m,void 0,hv(h.attrs,e)),a&&h.marks.length&&h.marks.forEach(g=>{a===g.type&&t.addMark(m,m+h.nodeSize,a.create(hv(g.attrs,e)))})})}),!0):!1},Lw=()=>({tr:n,dispatch:e})=>(e&&n.scrollIntoView(),!0),zw=()=>({tr:n,dispatch:e})=>{if(e){const t=new Bn(n.doc);n.setSelection(t)}return!0},Hw=()=>({state:n,dispatch:e})=>R4(n,e),Bw=()=>({state:n,dispatch:e})=>L4(n,e),Iw=()=>({state:n,dispatch:e})=>w6(n,e),jw=()=>({state:n,dispatch:e})=>A6(n,e),Vw=()=>({state:n,dispatch:e})=>T6(n,e);function w1(n,e,t={},r={}){return Aa(n,e,{slice:!1,parseOptions:t,errorOnInvalidContent:r.errorOnInvalidContent})}const _w=(n,e=!1,t={},r={})=>({editor:s,tr:l,dispatch:a,commands:c})=>{var d,h;const{doc:m}=l;if(t.preserveWhitespace!=="full"){const g=w1(n,s.schema,t,{errorOnInvalidContent:(d=r.errorOnInvalidContent)!==null&&d!==void 0?d:s.options.enableContentCheck});return a&&l.replaceWith(0,m.content.size,g).setMeta("preventUpdate",!e),!0}return a&&l.setMeta("preventUpdate",!e),c.insertContentAt({from:0,to:m.content.size},n,{parseOptions:t,errorOnInvalidContent:(h=r.errorOnInvalidContent)!==null&&h!==void 0?h:s.options.enableContentCheck})};function Z4(n,e){const t=qi(e,n.schema),{from:r,to:s,empty:l}=n.selection,a=[];l?(n.storedMarks&&a.push(...n.storedMarks),a.push(...n.selection.$head.marks())):n.doc.nodesBetween(r,s,d=>{a.push(...d.marks)});const c=a.find(d=>d.type.name===t.name);return c?{...c.attrs}:{}}function Uw(n,e){const t=new K7(n);return e.forEach(r=>{r.steps.forEach(s=>{t.step(s)})}),t}function qw(n){for(let e=0;e<n.edgeCount;e+=1){const{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}function Pw(n,e,t){const r=[];return n.nodesBetween(e.from,e.to,(s,l)=>{t(s)&&r.push({node:s,pos:l})}),r}function Fw(n,e){for(let t=n.depth;t>0;t-=1){const r=n.node(t);if(e(r))return{pos:t>0?n.before(t):0,start:n.start(t),depth:t,node:r}}}function Sm(n){return e=>Fw(e.$from,n)}function Kw(n,e){const t={from:0,to:n.content.size};return U4(n,t,e)}function $w(n,e){const t=kt(e,n.schema),{from:r,to:s}=n.selection,l=[];n.doc.nodesBetween(r,s,c=>{l.push(c)});const a=l.reverse().find(c=>c.type.name===t.name);return a?{...a.attrs}:{}}function J4(n,e){const t=Vf(typeof e=="string"?e:e.name,n.schema);return t==="node"?$w(n,e):t==="mark"?Z4(n,e):{}}function Gw(n,e=JSON.stringify){const t={};return n.filter(r=>{const s=e(r);return Object.prototype.hasOwnProperty.call(t,s)?!1:t[s]=!0})}function Yw(n){const e=Gw(n);return e.length===1?e:e.filter((t,r)=>!e.filter((l,a)=>a!==r).some(l=>t.oldRange.from>=l.oldRange.from&&t.oldRange.to<=l.oldRange.to&&t.newRange.from>=l.newRange.from&&t.newRange.to<=l.newRange.to))}function Zw(n){const{mapping:e,steps:t}=n,r=[];return e.maps.forEach((s,l)=>{const a=[];if(s.ranges.length)s.forEach((c,d)=>{a.push({from:c,to:d})});else{const{from:c,to:d}=t[l];if(c===void 0||d===void 0)return;a.push({from:c,to:d})}a.forEach(({from:c,to:d})=>{const h=e.slice(l).map(c,-1),m=e.slice(l).map(d),g=e.invert().map(h,-1),b=e.invert().map(m);r.push({oldRange:{from:g,to:b},newRange:{from:h,to:m}})})}),Yw(r)}function xm(n,e,t){const r=[];return n===e?t.resolve(n).marks().forEach(s=>{const l=t.resolve(n),a=If(l,s.type);a&&r.push({mark:s,...a})}):t.nodesBetween(n,e,(s,l)=>{!s||s?.nodeSize===void 0||r.push(...s.marks.map(a=>({from:l,to:l+s.nodeSize,mark:a})))}),r}function Sc(n,e,t){return Object.fromEntries(Object.entries(t).filter(([r])=>{const s=n.find(l=>l.type===e&&l.name===r);return s?s.attribute.keepOnSplit:!1}))}function M1(n,e,t={}){const{empty:r,ranges:s}=n.selection,l=e?qi(e,n.schema):null;if(r)return!!(n.storedMarks||n.selection.$from.marks()).filter(g=>l?l.name===g.type.name:!0).find(g=>Vc(g.attrs,t,{strict:!1}));let a=0;const c=[];if(s.forEach(({$from:g,$to:b})=>{const v=g.pos,C=b.pos;n.doc.nodesBetween(v,C,(S,w)=>{if(!S.isText&&!S.marks.length)return;const A=Math.max(v,w),R=Math.min(C,w+S.nodeSize),D=R-A;a+=D,c.push(...S.marks.map(P=>({mark:P,from:A,to:R})))})}),a===0)return!1;const d=c.filter(g=>l?l.name===g.mark.type.name:!0).filter(g=>Vc(g.mark.attrs,t,{strict:!1})).reduce((g,b)=>g+b.to-b.from,0),h=c.filter(g=>l?g.mark.type!==l&&g.mark.type.excludes(l):!0).reduce((g,b)=>g+b.to-b.from,0);return(d>0?d+h:d)>=a}function Jw(n,e,t={}){if(!e)return ka(n,null,t)||M1(n,null,t);const r=Vf(e,n.schema);return r==="node"?ka(n,e,t):r==="mark"?M1(n,e,t):!1}function pv(n,e){const{nodeExtensions:t}=Hf(e),r=t.find(a=>a.name===n);if(!r)return!1;const s={name:r.name,options:r.options,storage:r.storage},l=Oe(ue(r,"group",s));return typeof l!="string"?!1:l.split(" ").includes("list")}function _f(n,{checkChildren:e=!0,ignoreWhitespace:t=!1}={}){var r;if(t){if(n.type.name==="hardBreak")return!0;if(n.isText)return/^\s*$/m.test((r=n.text)!==null&&r!==void 0?r:"")}if(n.isText)return!n.text;if(n.isAtom||n.isLeaf)return!1;if(n.content.childCount===0)return!0;if(e){let s=!0;return n.content.forEach(l=>{s!==!1&&(_f(l,{ignoreWhitespace:t,checkChildren:e})||(s=!1))}),s}return!1}function Wn(n){return n instanceof ce}function Qw(n,e,t){var r;const{selection:s}=e;let l=null;if(F4(s)&&(l=s.$cursor),l){const c=(r=n.storedMarks)!==null&&r!==void 0?r:l.marks();return!!t.isInSet(c)||!c.some(d=>d.type.excludes(t))}const{ranges:a}=s;return a.some(({$from:c,$to:d})=>{let h=c.depth===0?n.doc.inlineContent&&n.doc.type.allowsMarkType(t):!1;return n.doc.nodesBetween(c.pos,d.pos,(m,g,b)=>{if(h)return!1;if(m.isInline){const v=!b||b.type.allowsMarkType(t),C=!!t.isInSet(m.marks)||!m.marks.some(S=>S.type.excludes(t));h=v&&C}return!h}),h})}const Xw=(n,e={})=>({tr:t,state:r,dispatch:s})=>{const{selection:l}=t,{empty:a,ranges:c}=l,d=qi(n,r.schema);if(s)if(a){const h=Z4(r,d);t.addStoredMark(d.create({...h,...e}))}else c.forEach(h=>{const m=h.$from.pos,g=h.$to.pos;r.doc.nodesBetween(m,g,(b,v)=>{const C=Math.max(v,m),S=Math.min(v+b.nodeSize,g);b.marks.find(A=>A.type===d)?b.marks.forEach(A=>{d===A.type&&t.addMark(C,S,d.create({...A.attrs,...e}))}):t.addMark(C,S,d.create(e))})});return Qw(r,t,d)},Ww=(n,e)=>({tr:t})=>(t.setMeta(n,e),!0),eM=(n,e={})=>({state:t,dispatch:r,chain:s})=>{const l=kt(n,t.schema);let a;return t.selection.$anchor.sameParent(t.selection.$head)&&(a=t.selection.$anchor.parent.attrs),l.isTextblock?s().command(({commands:c})=>av(l,{...a,...e})(t)?!0:c.clearNodes()).command(({state:c})=>av(l,{...a,...e})(c,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},tM=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,s=bs(n,0,r.content.size),l=ce.create(r,s);e.setSelection(l)}return!0},nM=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,{from:s,to:l}=typeof n=="number"?{from:n,to:n}:n,a=ve.atStart(r).from,c=ve.atEnd(r).to,d=bs(s,a,c),h=bs(l,a,c),m=ve.create(r,d,h);e.setSelection(m)}return!0},rM=n=>({state:e,dispatch:t})=>{const r=kt(n,e.schema);return H6(r)(e,t)};function mv(n,e){const t=n.storedMarks||n.selection.$to.parentOffset&&n.selection.$from.marks();if(t){const r=t.filter(s=>e?.includes(s.type.name));n.tr.ensureMarks(r)}}const iM=({keepMarks:n=!0}={})=>({tr:e,state:t,dispatch:r,editor:s})=>{const{selection:l,doc:a}=e,{$from:c,$to:d}=l,h=s.extensionManager.attributes,m=Sc(h,c.node().type.name,c.node().attrs);if(l instanceof ce&&l.node.isBlock)return!c.parentOffset||!$r(a,c.pos)?!1:(r&&(n&&mv(t,s.extensionManager.splittableMarks),e.split(c.pos).scrollIntoView()),!0);if(!c.parent.isBlock)return!1;const g=d.parentOffset===d.parent.content.size,b=c.depth===0?void 0:qw(c.node(-1).contentMatchAt(c.indexAfter(-1)));let v=g&&b?[{type:b,attrs:m}]:void 0,C=$r(e.doc,e.mapping.map(c.pos),1,v);if(!v&&!C&&$r(e.doc,e.mapping.map(c.pos),1,b?[{type:b}]:void 0)&&(C=!0,v=b?[{type:b,attrs:m}]:void 0),r){if(C&&(l instanceof ve&&e.deleteSelection(),e.split(e.mapping.map(c.pos),1,v),b&&!g&&!c.parentOffset&&c.parent.type!==b)){const S=e.mapping.map(c.before()),w=e.doc.resolve(S);c.node(-1).canReplaceWith(w.index(),w.index()+1,b)&&e.setNodeMarkup(e.mapping.map(c.before()),b)}n&&mv(t,s.extensionManager.splittableMarks),e.scrollIntoView()}return C},sM=(n,e={})=>({tr:t,state:r,dispatch:s,editor:l})=>{var a;const c=kt(n,r.schema),{$from:d,$to:h}=r.selection,m=r.selection.node;if(m&&m.isBlock||d.depth<2||!d.sameParent(h))return!1;const g=d.node(-1);if(g.type!==c)return!1;const b=l.extensionManager.attributes;if(d.parent.content.size===0&&d.node(-1).childCount===d.indexAfter(-1)){if(d.depth===2||d.node(-3).type!==c||d.index(-2)!==d.node(-2).childCount-1)return!1;if(s){let A=ee.empty;const R=d.index(-1)?1:d.index(-2)?2:3;for(let X=d.depth-R;X>=d.depth-3;X-=1)A=ee.from(d.node(X).copy(A));const D=d.indexAfter(-1)<d.node(-2).childCount?1:d.indexAfter(-2)<d.node(-3).childCount?2:3,P={...Sc(b,d.node().type.name,d.node().attrs),...e},j=((a=c.contentMatch.defaultType)===null||a===void 0?void 0:a.createAndFill(P))||void 0;A=A.append(ee.from(c.createAndFill(null,j)||void 0));const Q=d.before(d.depth-(R-1));t.replace(Q,d.after(-D),new oe(A,4-R,0));let te=-1;t.doc.nodesBetween(Q,t.doc.content.size,(X,le)=>{if(te>-1)return!1;X.isTextblock&&X.content.size===0&&(te=le+1)}),te>-1&&t.setSelection(ve.near(t.doc.resolve(te))),t.scrollIntoView()}return!0}const v=h.pos===d.end()?g.contentMatchAt(0).defaultType:null,C={...Sc(b,g.type.name,g.attrs),...e},S={...Sc(b,d.node().type.name,d.node().attrs),...e};t.delete(d.pos,h.pos);const w=v?[{type:c,attrs:C},{type:v,attrs:S}]:[{type:c,attrs:C}];if(!$r(t.doc,d.pos,2))return!1;if(s){const{selection:A,storedMarks:R}=r,{splittableMarks:D}=l.extensionManager,P=R||A.$to.parentOffset&&A.$from.marks();if(t.split(d.pos,2,w).scrollIntoView(),!P||!s)return!0;const j=P.filter(Q=>D.includes(Q.type.name));t.ensureMarks(j)}return!0},Lp=(n,e)=>{const t=Sm(a=>a.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(Math.max(0,t.pos-1)).before(t.depth);if(r===void 0)return!0;const s=n.doc.nodeAt(r);return t.node.type===s?.type&&_i(n.doc,t.pos)&&n.join(t.pos),!0},zp=(n,e)=>{const t=Sm(a=>a.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(t.start).after(t.depth);if(r===void 0)return!0;const s=n.doc.nodeAt(r);return t.node.type===s?.type&&_i(n.doc,r)&&n.join(r),!0},oM=(n,e,t,r={})=>({editor:s,tr:l,state:a,dispatch:c,chain:d,commands:h,can:m})=>{const{extensions:g,splittableMarks:b}=s.extensionManager,v=kt(n,a.schema),C=kt(e,a.schema),{selection:S,storedMarks:w}=a,{$from:A,$to:R}=S,D=A.blockRange(R),P=w||S.$to.parentOffset&&S.$from.marks();if(!D)return!1;const j=Sm(Q=>pv(Q.type.name,g))(S);if(D.depth>=1&&j&&D.depth-j.depth<=1){if(j.node.type===v)return h.liftListItem(C);if(pv(j.node.type.name,g)&&v.validContent(j.node.content)&&c)return d().command(()=>(l.setNodeMarkup(j.pos,v),!0)).command(()=>Lp(l,v)).command(()=>zp(l,v)).run()}return!t||!P||!c?d().command(()=>m().wrapInList(v,r)?!0:h.clearNodes()).wrapInList(v,r).command(()=>Lp(l,v)).command(()=>zp(l,v)).run():d().command(()=>{const Q=m().wrapInList(v,r),te=P.filter(X=>b.includes(X.type.name));return l.ensureMarks(te),Q?!0:h.clearNodes()}).wrapInList(v,r).command(()=>Lp(l,v)).command(()=>zp(l,v)).run()},lM=(n,e={},t={})=>({state:r,commands:s})=>{const{extendEmptyMarkRange:l=!1}=t,a=qi(n,r.schema);return M1(r,a,e)?s.unsetMark(a,{extendEmptyMarkRange:l}):s.setMark(a,e)},aM=(n,e,t={})=>({state:r,commands:s})=>{const l=kt(n,r.schema),a=kt(e,r.schema),c=ka(r,l,t);let d;return r.selection.$anchor.sameParent(r.selection.$head)&&(d=r.selection.$anchor.parent.attrs),c?s.setNode(a,d):s.setNode(l,{...d,...t})},uM=(n,e={})=>({state:t,commands:r})=>{const s=kt(n,t.schema);return ka(t,s,e)?r.lift(s):r.wrapIn(s,e)},cM=()=>({state:n,dispatch:e})=>{const t=n.plugins;for(let r=0;r<t.length;r+=1){const s=t[r];let l;if(s.spec.isInputRules&&(l=s.getState(n))){if(e){const a=n.tr,c=l.transform;for(let d=c.steps.length-1;d>=0;d-=1)a.step(c.steps[d].invert(c.docs[d]));if(l.text){const d=a.doc.resolve(l.from).marks();a.replaceWith(l.from,l.to,n.schema.text(l.text,d))}else a.delete(l.from,l.to)}return!0}}return!1},fM=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,{empty:r,ranges:s}=t;return r||e&&s.forEach(l=>{n.removeMark(l.$from.pos,l.$to.pos)}),!0},dM=(n,e={})=>({tr:t,state:r,dispatch:s})=>{var l;const{extendEmptyMarkRange:a=!1}=e,{selection:c}=t,d=qi(n,r.schema),{$from:h,empty:m,ranges:g}=c;if(!s)return!0;if(m&&a){let{from:b,to:v}=c;const C=(l=h.marks().find(w=>w.type===d))===null||l===void 0?void 0:l.attrs,S=If(h,d,C);S&&(b=S.from,v=S.to),t.removeMark(b,v,d)}else g.forEach(b=>{t.removeMark(b.$from.pos,b.$to.pos,d)});return t.removeStoredMark(d),!0},hM=(n,e={})=>({tr:t,state:r,dispatch:s})=>{let l=null,a=null;const c=Vf(typeof n=="string"?n:n.name,r.schema);return c?(c==="node"&&(l=kt(n,r.schema)),c==="mark"&&(a=qi(n,r.schema)),s&&t.selection.ranges.forEach(d=>{const h=d.$from.pos,m=d.$to.pos;let g,b,v,C;t.selection.empty?r.doc.nodesBetween(h,m,(S,w)=>{l&&l===S.type&&(v=Math.max(w,h),C=Math.min(w+S.nodeSize,m),g=w,b=S)}):r.doc.nodesBetween(h,m,(S,w)=>{w<h&&l&&l===S.type&&(v=Math.max(w,h),C=Math.min(w+S.nodeSize,m),g=w,b=S),w>=h&&w<=m&&(l&&l===S.type&&t.setNodeMarkup(w,void 0,{...S.attrs,...e}),a&&S.marks.length&&S.marks.forEach(A=>{if(a===A.type){const R=Math.max(w,h),D=Math.min(w+S.nodeSize,m);t.addMark(R,D,a.create({...A.attrs,...e}))}}))}),b&&(g!==void 0&&t.setNodeMarkup(g,void 0,{...b.attrs,...e}),a&&b.marks.length&&b.marks.forEach(S=>{a===S.type&&t.addMark(v,C,a.create({...S.attrs,...e}))}))}),!0):!1},pM=(n,e={})=>({state:t,dispatch:r})=>{const s=kt(n,t.schema);return k6(s,e)(t,r)},mM=(n,e={})=>({state:t,dispatch:r})=>{const s=kt(n,t.schema);return O6(s,e)(t,r)};var gM=Object.freeze({__proto__:null,blur:X6,clearContent:W6,clearNodes:ew,command:tw,createParagraphNear:nw,cut:rw,deleteCurrentNode:iw,deleteNode:sw,deleteRange:ow,deleteSelection:lw,enter:aw,exitCode:uw,extendMarkRange:cw,first:fw,focus:dw,forEach:hw,insertContent:pw,insertContentAt:yw,joinBackward:Cw,joinDown:vw,joinForward:Sw,joinItemBackward:xw,joinItemForward:Ew,joinTextblockBackward:ww,joinTextblockForward:Mw,joinUp:bw,keyboardShortcut:Aw,lift:kw,liftEmptyBlock:Ow,liftListItem:Rw,newlineInCode:Nw,resetAttributes:Dw,scrollIntoView:Lw,selectAll:zw,selectNodeBackward:Hw,selectNodeForward:Bw,selectParentNode:Iw,selectTextblockEnd:jw,selectTextblockStart:Vw,setContent:_w,setMark:Xw,setMeta:Ww,setNode:eM,setNodeSelection:tM,setTextSelection:nM,sinkListItem:rM,splitBlock:iM,splitListItem:sM,toggleList:oM,toggleMark:lM,toggleNode:aM,toggleWrap:uM,undoInputRule:cM,unsetAllMarks:fM,unsetMark:dM,updateAttributes:hM,wrapIn:pM,wrapInList:mM});const yM=St.create({name:"commands",addCommands(){return{...gM}}}),bM=St.create({name:"drop",addProseMirrorPlugins(){return[new pt({key:new $t("tiptapDrop"),props:{handleDrop:(n,e,t,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:t,moved:r})}}})]}}),vM=St.create({name:"editable",addProseMirrorPlugins(){return[new pt({key:new $t("editable"),props:{editable:()=>this.editor.options.editable}})]}}),CM=new $t("focusEvents"),SM=St.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:n}=this;return[new pt({key:CM,props:{handleDOMEvents:{focus:(e,t)=>{n.isFocused=!0;const r=n.state.tr.setMeta("focus",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,t)=>{n.isFocused=!1;const r=n.state.tr.setMeta("blur",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),xM=St.create({name:"keymap",addKeyboardShortcuts(){const n=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:c})=>{const{selection:d,doc:h}=c,{empty:m,$anchor:g}=d,{pos:b,parent:v}=g,C=g.parent.isTextblock&&b>0?c.doc.resolve(b-1):g,S=C.parent.type.spec.isolating,w=g.pos-g.parentOffset,A=S&&C.parent.childCount===1?w===g.pos:Te.atStart(h).from===b;return!m||!v.type.isTextblock||v.textContent.length||!A||A&&g.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:n,"Mod-Backspace":n,"Shift-Backspace":n,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},s={...r},l={...r,"Ctrl-h":n,"Alt-Backspace":n,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return jf()||Y4()?l:s},addProseMirrorPlugins(){return[new pt({key:new $t("clearDocument"),appendTransaction:(n,e,t)=>{if(n.some(S=>S.getMeta("composition")))return;const r=n.some(S=>S.docChanged)&&!e.doc.eq(t.doc),s=n.some(S=>S.getMeta("preventClearDocument"));if(!r||s)return;const{empty:l,from:a,to:c}=e.selection,d=Te.atStart(e.doc).from,h=Te.atEnd(e.doc).to;if(l||!(a===d&&c===h)||!_f(t.doc))return;const b=t.tr,v=Lf({state:t,transaction:b}),{commands:C}=new zf({editor:this.editor,state:v});if(C.clearNodes(),!!b.steps.length)return b}})]}}),EM=St.create({name:"paste",addProseMirrorPlugins(){return[new pt({key:new $t("tiptapPaste"),props:{handlePaste:(n,e,t)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:t})}}})]}}),wM=St.create({name:"tabindex",addProseMirrorPlugins(){return[new pt({key:new $t("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class ms{get name(){return this.node.type.name}constructor(e,t,r=!1,s=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=t,this.currentNode=s}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}t=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:t,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),t=this.resolvedPos.doc.resolve(e);return new ms(t,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new ms(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new ms(e,this.editor)}get children(){const e=[];return this.node.content.forEach((t,r)=>{const s=t.isBlock&&!t.isTextblock,l=t.isAtom&&!t.isText,a=this.pos+r+(l?0:1),c=this.resolvedPos.doc.resolve(a);if(!s&&c.depth<=this.depth)return;const d=new ms(c,this.editor,s,s?t:null);s&&(d.actualDepth=this.depth+1),e.push(new ms(c,this.editor,s,s?t:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let r=null,s=this.parent;for(;s&&!r;){if(s.node.type.name===e)if(Object.keys(t).length>0){const l=s.node.attrs,a=Object.keys(t);for(let c=0;c<a.length;c+=1){const d=a[c];if(l[d]!==t[d])break}}else r=s;s=s.parent}return r}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},r=!1){let s=[];if(!this.children||this.children.length===0)return s;const l=Object.keys(t);return this.children.forEach(a=>{r&&s.length>0||(a.node.type.name===e&&l.every(d=>t[d]===a.node.attrs[d])&&s.push(a),!(r&&s.length>0)&&(s=s.concat(a.querySelectorAll(e,t,r))))}),s}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(t)}}const MM=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function TM(n,e,t){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const s=document.createElement("style");return e&&s.setAttribute("nonce",e),s.setAttribute("data-tiptap-style",""),s.innerHTML=n,document.getElementsByTagName("head")[0].appendChild(s),s}class AM extends B6{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:t})=>{throw t},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:t,slice:r,moved:s})=>this.options.onDrop(t,r,s)),this.on("paste",({event:t,slice:r})=>this.options.onPaste(t,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=TM(MM,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,t){const r=_4(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],s=this.state.reconfigure({plugins:r});return this.view.updateState(s),s}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let r=t;if([].concat(e).forEach(l=>{const a=typeof l=="string"?`${l}$`:l.key;r=r.filter(c=>!c.key.startsWith(a))}),t.length===r.length)return;const s=this.state.reconfigure({plugins:r});return this.view.updateState(s),s}createExtensionManager(){var e,t;const s=[...this.options.enableCoreExtensions?[vM,Q6.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||t===void 0?void 0:t.blockSeparator}),yM,SM,xM,wM,bM,EM].filter(l=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[l.name]!==!1:!0):[],...this.options.extensions].filter(l=>["extension","node","mark"].includes(l?.type));this.extensionManager=new zo(s,this)}createCommandManager(){this.commandManager=new zf({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let t;try{t=w1(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(a){if(!(a instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(a.message))throw a;this.emit("contentError",{editor:this,error:a,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(c=>c.name!=="collaboration"),this.createExtensionManager()}}),t=w1(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const r=K4(t,this.options.autofocus);this.view=new hm(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:Lo.create({doc:t,selection:r||void 0})});const s=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(s),this.createNodeViews(),this.prependClass();const l=this.view.dom;l.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(a=>{var c;return(c=this.capturedTransaction)===null||c===void 0?void 0:c.step(a)});return}const t=this.state.apply(e),r=!this.state.selection.eq(t.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const s=e.getMeta("focus"),l=e.getMeta("blur");s&&this.emit("focus",{editor:this,event:s.event,transaction:e}),l&&this.emit("blur",{editor:this,event:l.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return J4(this.state,e)}isActive(e,t){const r=typeof e=="string"?e:null,s=typeof e=="string"?t:e;return Jw(this.state,r,s)}getJSON(){return this.state.doc.toJSON()}getHTML(){return vm(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:r={}}=e||{};return Kw(this.state.doc,{blockSeparator:t,textSerializers:{...q4(this.schema),...r}})}get isEmpty(){return _f(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,t))||null}$nodes(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new ms(t,this)}get $doc(){return this.$pos(0)}}function Ls(n){return new ja({find:n.find,handler:({state:e,range:t,match:r})=>{const s=Oe(n.getAttributes,void 0,r);if(s===!1||s===null)return null;const{tr:l}=e,a=r[r.length-1],c=r[0];if(a){const d=c.search(/\S/),h=t.from+c.indexOf(a),m=h+a.length;if(xm(t.from,t.to,e.doc).filter(v=>v.mark.type.excluded.find(S=>S===n.type&&S!==v.mark.type)).filter(v=>v.to>h).length)return null;m<t.to&&l.delete(m,t.to),h>t.from&&l.delete(t.from+d,h);const b=t.from+d+a.length;l.addMark(t.from+d,b,n.type.create(s||{})),l.removeStoredMark(n.type)}}})}function Q4(n){return new ja({find:n.find,handler:({state:e,range:t,match:r})=>{const s=Oe(n.getAttributes,void 0,r)||{},{tr:l}=e,a=t.from;let c=t.to;const d=n.type.create(s);if(r[1]){const h=r[0].lastIndexOf(r[1]);let m=a+h;m>c?m=c:c=m+r[1].length;const g=r[0][r[0].length-1];l.insertText(g,a+r[0].length-1),l.replaceWith(m,c,d)}else if(r[0]){const h=n.type.isInline?a:a-1;l.insert(h,n.type.create(s)).delete(l.mapping.map(a),l.mapping.map(c))}l.scrollIntoView()}})}function T1(n){return new ja({find:n.find,handler:({state:e,range:t,match:r})=>{const s=e.doc.resolve(t.from),l=Oe(n.getAttributes,void 0,r)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),n.type))return null;e.tr.delete(t.from,t.to).setBlockType(t.from,t.from,n.type,l)}})}function mt(n){return new ja({find:n.find,handler:({state:e,range:t,match:r})=>{let s=n.replace,l=t.from;const a=t.to;if(r[1]){const c=r[0].lastIndexOf(r[1]);s+=r[0].slice(c+r[1].length),l+=c;const d=l-a;d>0&&(s=r[0].slice(c-d,c)+s,l=a)}e.tr.insertText(s,l,a)}})}function Fo(n){return new ja({find:n.find,handler:({state:e,range:t,match:r,chain:s})=>{const l=Oe(n.getAttributes,void 0,r)||{},a=e.tr.delete(t.from,t.to),d=a.doc.resolve(t.from).blockRange(),h=d&&tm(d,n.type,l);if(!h)return null;if(a.wrap(d,h),n.keepMarks&&n.editor){const{selection:g,storedMarks:b}=e,{splittableMarks:v}=n.editor.extensionManager,C=b||g.$to.parentOffset&&g.$from.marks();if(C){const S=C.filter(w=>v.includes(w.type.name));a.ensureMarks(S)}}if(n.keepAttributes){const g=n.type.name==="bulletList"||n.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(g,l).run()}const m=a.doc.resolve(t.from-1).nodeBefore;m&&m.type===n.type&&_i(a.doc,t.from-1)&&(!n.joinPredicate||n.joinPredicate(r,m))&&a.join(t.from-1)}})}let dn=class A1{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Oe(ue(this,"addOptions",{name:this.name}))),this.storage=Oe(ue(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new A1(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Bf(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new A1(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Oe(ue(t,"addOptions",{name:t.name})),t.storage=Oe(ue(t,"addStorage",{name:t.name,options:t.options})),t}};class kM{constructor(e,t,r){this.isDragging=!1,this.component=e,this.editor=t.editor,this.options={stopEvent:null,ignoreMutation:null,...r},this.extension=t.extension,this.node=t.node,this.decorations=t.decorations,this.innerDecorations=t.innerDecorations,this.view=t.view,this.HTMLAttributes=t.HTMLAttributes,this.getPos=t.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(e){var t,r,s,l,a,c,d;const{view:h}=this.editor,m=e.target,g=m.nodeType===3?(t=m.parentElement)===null||t===void 0?void 0:t.closest("[data-drag-handle]"):m.closest("[data-drag-handle]");if(!this.dom||!((r=this.contentDOM)===null||r===void 0)&&r.contains(m)||!g)return;let b=0,v=0;if(this.dom!==g){const R=this.dom.getBoundingClientRect(),D=g.getBoundingClientRect(),P=(s=e.offsetX)!==null&&s!==void 0?s:(l=e.nativeEvent)===null||l===void 0?void 0:l.offsetX,j=(a=e.offsetY)!==null&&a!==void 0?a:(c=e.nativeEvent)===null||c===void 0?void 0:c.offsetY;b=D.x-R.x+P,v=D.y-R.y+j}const C=this.dom.cloneNode(!0);(d=e.dataTransfer)===null||d===void 0||d.setDragImage(C,b,v);const S=this.getPos();if(typeof S!="number")return;const w=ce.create(h.state.doc,S),A=h.state.tr.setSelection(w);h.dispatch(A)}stopEvent(e){var t;if(!this.dom)return!1;if(typeof this.options.stopEvent=="function")return this.options.stopEvent({event:e});const r=e.target;if(!(this.dom.contains(r)&&!(!((t=this.contentDOM)===null||t===void 0)&&t.contains(r))))return!1;const l=e.type.startsWith("drag"),a=e.type==="drop";if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(r.tagName)||r.isContentEditable)&&!a&&!l)return!0;const{isEditable:d}=this.editor,{isDragging:h}=this,m=!!this.node.type.spec.draggable,g=ce.isSelectable(this.node),b=e.type==="copy",v=e.type==="paste",C=e.type==="cut",S=e.type==="mousedown";if(!m&&g&&l&&e.target===this.dom&&e.preventDefault(),m&&l&&!h&&e.target===this.dom)return e.preventDefault(),!1;if(m&&d&&!h&&S){const w=r.closest("[data-drag-handle]");w&&(this.dom===w||this.dom.contains(w))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(h||a||b||v||C||S&&g)}ignoreMutation(e){return!this.dom||!this.contentDOM?!0:typeof this.options.ignoreMutation=="function"?this.options.ignoreMutation({mutation:e}):this.node.isLeaf||this.node.isAtom?!0:e.type==="selection"||this.dom.contains(e.target)&&e.type==="childList"&&(jf()||$4())&&this.editor.isFocused&&[...Array.from(e.addedNodes),...Array.from(e.removedNodes)].every(r=>r.isContentEditable)?!1:this.contentDOM===e.target&&e.type==="attributes"?!0:!this.contentDOM.contains(e.target)}updateAttributes(e){this.editor.commands.command(({tr:t})=>{const r=this.getPos();return typeof r!="number"?!1:(t.setNodeMarkup(r,void 0,{...this.node.attrs,...e}),!0)})}deleteNode(){const e=this.getPos();if(typeof e!="number")return;const t=e+this.node.nodeSize;this.editor.commands.deleteRange({from:e,to:t})}}function ji(n){return new K6({find:n.find,handler:({state:e,range:t,match:r,pasteEvent:s})=>{const l=Oe(n.getAttributes,void 0,r,s);if(l===!1||l===null)return null;const{tr:a}=e,c=r[r.length-1],d=r[0];let h=t.to;if(c){const m=d.search(/\S/),g=t.from+d.indexOf(c),b=g+c.length;if(xm(t.from,t.to,e.doc).filter(C=>C.mark.type.excluded.find(w=>w===n.type&&w!==C.mark.type)).filter(C=>C.to>g).length)return null;b<t.to&&a.delete(b,t.to),g>t.from&&a.delete(t.from+m,g),h=t.from+m+c.length,a.addMark(t.from+m,h,n.type.create(l||{})),a.removeStoredMark(n.type)}}})}var Uf=f7();const OM=u7(Uf);function RM(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var X4={exports:{}},Hp={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gv;function NM(){if(gv)return Hp;gv=1;var n=zt;function e(g,b){return g===b&&(g!==0||1/g===1/b)||g!==g&&b!==b}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,s=n.useEffect,l=n.useLayoutEffect,a=n.useDebugValue;function c(g,b){var v=b(),C=r({inst:{value:v,getSnapshot:b}}),S=C[0].inst,w=C[1];return l(function(){S.value=v,S.getSnapshot=b,d(S)&&w({inst:S})},[g,v,b]),s(function(){return d(S)&&w({inst:S}),g(function(){d(S)&&w({inst:S})})},[g]),a(v),v}function d(g){var b=g.getSnapshot;g=g.value;try{var v=b();return!t(g,v)}catch{return!0}}function h(g,b){return b()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return Hp.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:m,Hp}X4.exports=NM();var Em=X4.exports;const DM=(...n)=>e=>{n.forEach(t=>{typeof t=="function"?t(e):t&&(t.current=e)})},LM=({contentComponent:n})=>{const e=Em.useSyncExternalStore(n.subscribe,n.getSnapshot,n.getServerSnapshot);return zt.createElement(zt.Fragment,null,Object.values(e))};function zM(){const n=new Set;let e={};return{subscribe(t){return n.add(t),()=>{n.delete(t)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(t,r){e={...e,[t]:OM.createPortal(r.reactElement,r.element,t)},n.forEach(s=>s())},removeRenderer(t){const r={...e};delete r[t],e=r,n.forEach(s=>s())}}}class HM extends zt.Component{constructor(e){var t;super(e),this.editorContentRef=zt.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((t=e.editor)===null||t===void 0)&&t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const t=this.editorContentRef.current;t.append(...e.options.element.childNodes),e.setOptions({element:t}),e.contentComponent=zM(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const t=document.createElement("div");t.append(...e.options.element.childNodes),e.setOptions({element:t})}render(){const{editor:e,innerRef:t,...r}=this.props;return zt.createElement(zt.Fragment,null,zt.createElement("div",{ref:DM(t,this.editorContentRef),...r}),e?.contentComponent&&zt.createElement(LM,{contentComponent:e.contentComponent}))}}const BM=E.forwardRef((n,e)=>{const t=zt.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[n.editor]);return zt.createElement(HM,{key:t,innerRef:e,...n})}),IM=zt.memo(BM);var jM=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,s,l;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(s=r;s--!==0;)if(!n(e[s],t[s]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(s of e.entries())if(!t.has(s[0]))return!1;for(s of e.entries())if(!n(s[1],t.get(s[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(s of e.entries())if(!t.has(s[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(s=r;s--!==0;)if(e[s]!==t[s])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(l=Object.keys(e),r=l.length,r!==Object.keys(t).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,l[s]))return!1;for(s=r;s--!==0;){var a=l[s];if(!(a==="_owner"&&e.$$typeof)&&!n(e[a],t[a]))return!1}return!0}return e!==e&&t!==t},VM=RM(jM),W4={exports:{}},Bp={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yv;function _M(){if(yv)return Bp;yv=1;var n=zt,e=Em;function t(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var r=typeof Object.is=="function"?Object.is:t,s=e.useSyncExternalStore,l=n.useRef,a=n.useEffect,c=n.useMemo,d=n.useDebugValue;return Bp.useSyncExternalStoreWithSelector=function(h,m,g,b,v){var C=l(null);if(C.current===null){var S={hasValue:!1,value:null};C.current=S}else S=C.current;C=c(function(){function A(Q){if(!R){if(R=!0,D=Q,Q=b(Q),v!==void 0&&S.hasValue){var te=S.value;if(v(te,Q))return P=te}return P=Q}if(te=P,r(D,Q))return te;var X=b(Q);return v!==void 0&&v(te,X)?te:(D=Q,P=X)}var R=!1,D,P,j=g===void 0?null:g;return[function(){return A(m())},j===null?void 0:function(){return A(j())}]},[m,g,b,v]);var w=s(h,C[0],C[1]);return a(function(){S.hasValue=!0,S.value=w},[w]),d(w),w},Bp}W4.exports=_M();var UM=W4.exports;const qM=typeof window<"u"?E.useLayoutEffect:E.useEffect;class PM{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const t=()=>{this.transactionNumber+=1,this.subscribers.forEach(s=>s())},r=this.editor;return r.on("transaction",t),()=>{r.off("transaction",t)}}}}function FM(n){var e;const[t]=E.useState(()=>new PM(n.editor)),r=UM.useSyncExternalStoreWithSelector(t.subscribe,t.getSnapshot,t.getServerSnapshot,n.selector,(e=n.equalityFn)!==null&&e!==void 0?e:VM);return qM(()=>t.watch(n.editor),[n.editor,t]),E.useDebugValue(r),r}const KM=!1,k1=typeof window>"u",$M=k1||!!(typeof window<"u"&&window.next);class wm{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(t=>t())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?k1||$M?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var s,l;return(l=(s=this.options.current).onBeforeCreate)===null||l===void 0?void 0:l.call(s,...r)},onBlur:(...r)=>{var s,l;return(l=(s=this.options.current).onBlur)===null||l===void 0?void 0:l.call(s,...r)},onCreate:(...r)=>{var s,l;return(l=(s=this.options.current).onCreate)===null||l===void 0?void 0:l.call(s,...r)},onDestroy:(...r)=>{var s,l;return(l=(s=this.options.current).onDestroy)===null||l===void 0?void 0:l.call(s,...r)},onFocus:(...r)=>{var s,l;return(l=(s=this.options.current).onFocus)===null||l===void 0?void 0:l.call(s,...r)},onSelectionUpdate:(...r)=>{var s,l;return(l=(s=this.options.current).onSelectionUpdate)===null||l===void 0?void 0:l.call(s,...r)},onTransaction:(...r)=>{var s,l;return(l=(s=this.options.current).onTransaction)===null||l===void 0?void 0:l.call(s,...r)},onUpdate:(...r)=>{var s,l;return(l=(s=this.options.current).onUpdate)===null||l===void 0?void 0:l.call(s,...r)},onContentError:(...r)=>{var s,l;return(l=(s=this.options.current).onContentError)===null||l===void 0?void 0:l.call(s,...r)},onDrop:(...r)=>{var s,l;return(l=(s=this.options.current).onDrop)===null||l===void 0?void 0:l.call(s,...r)},onPaste:(...r)=>{var s,l;return(l=(s=this.options.current).onPaste)===null||l===void 0?void 0:l.call(s,...r)}};return new AM(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,t){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&t.extensions?e.extensions.length!==t.extensions.length?!1:e.extensions.every((s,l)=>{var a;return s===((a=t.extensions)===null||a===void 0?void 0:a[l])}):e[r]===t[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?wm.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,s)=>r===e[s]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,t=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){t&&t.setOptions(this.options.current);return}t&&!t.isDestroyed&&(t.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function GM(n={},e=[]){const t=E.useRef(n);t.current=n;const[r]=E.useState(()=>new wm(t)),s=Em.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return E.useDebugValue(s),E.useEffect(r.onRender(e)),FM({editor:s,selector:({transactionNumber:l})=>n.shouldRerenderOnTransaction===!1?null:n.immediatelyRender&&l===0?0:l+1}),s}const Mm=E.createContext({editor:null});Mm.Consumer;const YM=()=>E.useContext(Mm),e3=E.createContext({onDragStart:void 0}),ZM=()=>E.useContext(e3),JM=zt.forwardRef((n,e)=>{const{onDragStart:t}=ZM(),r=n.as||"div";return zt.createElement(r,{...n,ref:e,"data-node-view-wrapper":"",onDragStart:t,style:{whiteSpace:"normal",...n.style}})});function QM(n){return!!(typeof n=="function"&&n.prototype&&n.prototype.isReactComponent)}function XM(n){var e;return typeof n=="object"&&((e=n.$$typeof)===null||e===void 0?void 0:e.toString())==="Symbol(react.forward_ref)"}function WM(){try{if(E.version)return parseInt(E.version.split(".")[0],10)>=19}catch{}return!1}class e8{constructor(e,{editor:t,props:r={},as:s="div",className:l=""}){this.ref=null,this.id=Math.floor(Math.random()*4294967295).toString(),this.component=e,this.editor=t,this.props=r,this.element=document.createElement(s),this.element.classList.add("react-renderer"),l&&this.element.classList.add(...l.split(" ")),this.editor.isInitialized?Uf.flushSync(()=>{this.render()}):this.render()}render(){var e;const t=this.component,r=this.props,s=this.editor,l=WM(),a=QM(t),c=XM(t),d={...r};d.ref||(l?d.ref=h=>{this.ref=h}:(a||c)&&(d.ref=h=>{this.ref=h})),this.reactElement=zt.createElement(t,{...d}),(e=s?.contentComponent)===null||e===void 0||e.setRenderer(this.id,this)}updateProps(e={}){this.props={...this.props,...e},this.render()}destroy(){var e;const t=this.editor;(e=t?.contentComponent)===null||e===void 0||e.removeRenderer(this.id)}updateAttributes(e){Object.keys(e).forEach(t=>{this.element.setAttribute(t,e[t])})}}class t8 extends kM{mount(){const e={editor:this.editor,node:this.node,decorations:this.decorations,innerDecorations:this.innerDecorations,view:this.view,selected:!1,extension:this.extension,HTMLAttributes:this.HTMLAttributes,getPos:()=>this.getPos(),updateAttributes:(h={})=>this.updateAttributes(h),deleteNode:()=>this.deleteNode(),ref:E.createRef()};if(!this.component.displayName){const h=m=>m.charAt(0).toUpperCase()+m.substring(1);this.component.displayName=h(this.extension.name)}const s={onDragStart:this.onDragStart.bind(this),nodeViewContentRef:h=>{h&&this.contentDOMElement&&h.firstChild!==this.contentDOMElement&&h.appendChild(this.contentDOMElement)}},l=this.component,a=E.memo(h=>zt.createElement(e3.Provider,{value:s},E.createElement(l,h)));a.displayName="ReactNodeView",this.node.isLeaf?this.contentDOMElement=null:this.options.contentDOMElementTag?this.contentDOMElement=document.createElement(this.options.contentDOMElementTag):this.contentDOMElement=document.createElement(this.node.isInline?"span":"div"),this.contentDOMElement&&(this.contentDOMElement.dataset.nodeViewContentReact="",this.contentDOMElement.style.whiteSpace="inherit");let c=this.node.isInline?"span":"div";this.options.as&&(c=this.options.as);const{className:d=""}=this.options;this.handleSelectionUpdate=this.handleSelectionUpdate.bind(this),this.renderer=new e8(a,{editor:this.editor,props:e,as:c,className:`node-${this.node.type.name} ${d}`.trim()}),this.editor.on("selectionUpdate",this.handleSelectionUpdate),this.updateElementAttributes()}get dom(){var e;if(this.renderer.element.firstElementChild&&!(!((e=this.renderer.element.firstElementChild)===null||e===void 0)&&e.hasAttribute("data-node-view-wrapper")))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.contentDOMElement}handleSelectionUpdate(){const{from:e,to:t}=this.editor.state.selection,r=this.getPos();if(typeof r=="number")if(e<=r&&t>=r+this.node.nodeSize){if(this.renderer.props.selected)return;this.selectNode()}else{if(!this.renderer.props.selected)return;this.deselectNode()}}update(e,t,r){const s=l=>{this.renderer.updateProps(l),typeof this.options.attrs=="function"&&this.updateElementAttributes()};if(e.type!==this.node.type)return!1;if(typeof this.options.update=="function"){const l=this.node,a=this.decorations,c=this.innerDecorations;return this.node=e,this.decorations=t,this.innerDecorations=r,this.options.update({oldNode:l,oldDecorations:a,newNode:e,newDecorations:t,oldInnerDecorations:c,innerDecorations:r,updateProps:()=>s({node:e,decorations:t,innerDecorations:r})})}return e===this.node&&this.decorations===t&&this.innerDecorations===r||(this.node=e,this.decorations=t,this.innerDecorations=r,s({node:e,decorations:t,innerDecorations:r})),!0}selectNode(){this.renderer.updateProps({selected:!0}),this.renderer.element.classList.add("ProseMirror-selectednode")}deselectNode(){this.renderer.updateProps({selected:!1}),this.renderer.element.classList.remove("ProseMirror-selectednode")}destroy(){this.renderer.destroy(),this.editor.off("selectionUpdate",this.handleSelectionUpdate),this.contentDOMElement=null}updateElementAttributes(){if(this.options.attrs){let e={};if(typeof this.options.attrs=="function"){const t=this.editor.extensionManager.attributes,r=jc(this.node,t);e=this.options.attrs({node:this.node,HTMLAttributes:r})}else e=this.options.attrs;this.renderer.updateAttributes(e)}}}function n8(n,e){return t=>t.editor.contentComponent?new t8(n,t,e):{}}const r8=/^\s*>\s$/,i8=dn.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:n}){return["blockquote",rt(this.options.HTMLAttributes,n),0]},addCommands(){return{setBlockquote:()=>({commands:n})=>n.wrapIn(this.name),toggleBlockquote:()=>({commands:n})=>n.toggleWrap(this.name),unsetBlockquote:()=>({commands:n})=>n.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Fo({find:r8,type:this.type})]}}),s8=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,o8=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,l8=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,a8=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,u8=In.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:n=>n.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:n=>n.type.name===this.name},{style:"font-weight",getAttrs:n=>/^(bold(er)?|[5-9]\d{2,})$/.test(n)&&null}]},renderHTML({HTMLAttributes:n}){return["strong",rt(this.options.HTMLAttributes,n),0]},addCommands(){return{setBold:()=>({commands:n})=>n.setMark(this.name),toggleBold:()=>({commands:n})=>n.toggleMark(this.name),unsetBold:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Ls({find:s8,type:this.type}),Ls({find:l8,type:this.type})]},addPasteRules(){return[ji({find:o8,type:this.type}),ji({find:a8,type:this.type})]}}),c8="listItem",bv="textStyle",vv=/^\s*([-+*])\s$/,f8=dn.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:n}){return["ul",rt(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleBulletList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(c8,this.editor.getAttributes(bv)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let n=Fo({find:vv,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(n=Fo({find:vv,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(bv),editor:this.editor})),[n]}}),d8=/(^|[^`])`([^`]+)`(?!`)/,h8=/(^|[^`])`([^`]+)`(?!`)/g,p8=In.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:n}){return["code",rt(this.options.HTMLAttributes,n),0]},addCommands(){return{setCode:()=>({commands:n})=>n.setMark(this.name),toggleCode:()=>({commands:n})=>n.toggleMark(this.name),unsetCode:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Ls({find:d8,type:this.type})]},addPasteRules(){return[ji({find:h8,type:this.type})]}}),m8=/^```([a-z]+)?[\s\n]$/,g8=/^~~~([a-z]+)?[\s\n]$/,y8=dn.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:n=>{var e;const{languageClassPrefix:t}=this.options,l=[...((e=n.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(a=>a.startsWith(t)).map(a=>a.replace(t,""))[0];return l||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:n,HTMLAttributes:e}){return["pre",rt(this.options.HTMLAttributes,e),["code",{class:n.attrs.language?this.options.languageClassPrefix+n.attrs.language:null},0]]},addCommands(){return{setCodeBlock:n=>({commands:e})=>e.setNode(this.name,n),toggleCodeBlock:n=>({commands:e})=>e.toggleNode(this.name,"paragraph",n)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:n,$anchor:e}=this.editor.state.selection,t=e.pos===1;return!n||e.parent.type.name!==this.name?!1:t||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:n})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=n,{selection:t}=e,{$from:r,empty:s}=t;if(!s||r.parent.type!==this.type)return!1;const l=r.parentOffset===r.parent.nodeSize-2,a=r.parent.textContent.endsWith(`

`);return!l||!a?!1:n.chain().command(({tr:c})=>(c.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:n})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=n,{selection:t,doc:r}=e,{$from:s,empty:l}=t;if(!l||s.parent.type!==this.type||!(s.parentOffset===s.parent.nodeSize-2))return!1;const c=s.after();return c===void 0?!1:r.nodeAt(c)?n.commands.command(({tr:h})=>(h.setSelection(Te.near(r.resolve(c))),!0)):n.commands.exitCode()}}},addInputRules(){return[T1({find:m8,type:this.type,getAttributes:n=>({language:n[1]})}),T1({find:g8,type:this.type,getAttributes:n=>({language:n[1]})})]},addProseMirrorPlugins(){return[new pt({key:new $t("codeBlockVSCodeHandler"),props:{handlePaste:(n,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const t=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),s=r?JSON.parse(r):void 0,l=s?.mode;if(!t||!l)return!1;const{tr:a,schema:c}=n.state,d=c.text(t.replace(/\r\n?/g,`
`));return a.replaceSelectionWith(this.type.create({language:l},d)),a.selection.$from.parent.type!==this.type&&a.setSelection(ve.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.setMeta("paste",!0),n.dispatch(a),!0}}})]}}),b8=dn.create({name:"doc",topNode:!0,content:"block+"});function v8(n={}){return new pt({view(e){return new C8(e,n)}})}class C8{constructor(e,t){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=t.width)!==null&&r!==void 0?r:1,this.color=t.color===!1?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(s=>{let l=a=>{this[s](a)};return e.dom.addEventListener(s,l),{name:s,handler:l}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){this.cursorPos!=null&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),t=!e.parent.inlineContent,r,s=this.editorView.dom,l=s.getBoundingClientRect(),a=l.width/s.offsetWidth,c=l.height/s.offsetHeight;if(t){let g=e.nodeBefore,b=e.nodeAfter;if(g||b){let v=this.editorView.nodeDOM(this.cursorPos-(g?g.nodeSize:0));if(v){let C=v.getBoundingClientRect(),S=g?C.bottom:C.top;g&&b&&(S=(S+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let w=this.width/2*c;r={left:C.left,right:C.right,top:S-w,bottom:S+w}}}}if(!r){let g=this.editorView.coordsAtPos(this.cursorPos),b=this.width/2*a;r={left:g.left-b,right:g.left+b,top:g.top,bottom:g.bottom}}let d=this.editorView.dom.offsetParent;this.element||(this.element=d.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",t),this.element.classList.toggle("prosemirror-dropcursor-inline",!t);let h,m;if(!d||d==document.body&&getComputedStyle(d).position=="static")h=-pageXOffset,m=-pageYOffset;else{let g=d.getBoundingClientRect(),b=g.width/d.offsetWidth,v=g.height/d.offsetHeight;h=g.left-d.scrollLeft*b,m=g.top-d.scrollTop*v}this.element.style.left=(r.left-h)/a+"px",this.element.style.top=(r.top-m)/c+"px",this.element.style.width=(r.right-r.left)/a+"px",this.element.style.height=(r.bottom-r.top)/c+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),s=r&&r.type.spec.disableDropCursor,l=typeof s=="function"?s(this.editorView,t,e):s;if(t&&!l){let a=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let c=j7(this.editorView.state.doc,a,this.editorView.dragging.slice);c!=null&&(a=c)}this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}const S8=St.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[v8(this.options)]}});class ht extends Te{constructor(e){super(e,e)}map(e,t){let r=e.resolve(t.map(this.head));return ht.valid(r)?new ht(r):Te.near(r)}content(){return oe.empty}eq(e){return e instanceof ht&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new ht(e.resolve(t.pos))}getBookmark(){return new Tm(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!x8(e)||!E8(e))return!1;let r=t.type.spec.allowGapCursor;if(r!=null)return r;let s=t.contentMatchAt(e.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(e,t,r=!1){e:for(;;){if(!r&&ht.valid(e))return e;let s=e.pos,l=null;for(let a=e.depth;;a--){let c=e.node(a);if(t>0?e.indexAfter(a)<c.childCount:e.index(a)>0){l=c.child(t>0?e.indexAfter(a):e.index(a)-1);break}else if(a==0)return null;s+=t;let d=e.doc.resolve(s);if(ht.valid(d))return d}for(;;){let a=t>0?l.firstChild:l.lastChild;if(!a){if(l.isAtom&&!l.isText&&!ce.isSelectable(l)){e=e.doc.resolve(s+l.nodeSize*t),r=!1;continue e}break}l=a,s+=t;let c=e.doc.resolve(s);if(ht.valid(c))return c}return null}}}ht.prototype.visible=!1;ht.findFrom=ht.findGapCursorFrom;Te.jsonID("gapcursor",ht);class Tm{constructor(e){this.pos=e}map(e){return new Tm(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return ht.valid(t)?new ht(t):Te.near(t)}}function x8(n){for(let e=n.depth;e>=0;e--){let t=n.index(e),r=n.node(e);if(t==0){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(t-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function E8(n){for(let e=n.depth;e>=0;e--){let t=n.indexAfter(e),r=n.node(e);if(t==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(t);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function w8(){return new pt({props:{decorations:k8,createSelectionBetween(n,e,t){return e.pos==t.pos&&ht.valid(t)?new ht(t):null},handleClick:T8,handleKeyDown:M8,handleDOMEvents:{beforeinput:A8}}})}const M8=T4({ArrowLeft:ac("horiz",-1),ArrowRight:ac("horiz",1),ArrowUp:ac("vert",-1),ArrowDown:ac("vert",1)});function ac(n,e){const t=n=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,s,l){let a=r.selection,c=e>0?a.$to:a.$from,d=a.empty;if(a instanceof ve){if(!l.endOfTextblock(t)||c.depth==0)return!1;d=!1,c=r.doc.resolve(e>0?c.after():c.before())}let h=ht.findGapCursorFrom(c,e,d);return h?(s&&s(r.tr.setSelection(new ht(h))),!0):!1}}function T8(n,e,t){if(!n||!n.editable)return!1;let r=n.state.doc.resolve(e);if(!ht.valid(r))return!1;let s=n.posAtCoords({left:t.clientX,top:t.clientY});return s&&s.inside>-1&&ce.isSelectable(n.state.doc.nodeAt(s.inside))?!1:(n.dispatch(n.state.tr.setSelection(new ht(r))),!0)}function A8(n,e){if(e.inputType!="insertCompositionText"||!(n.state.selection instanceof ht))return!1;let{$from:t}=n.state.selection,r=t.parent.contentMatchAt(t.index()).findWrapping(n.state.schema.nodes.text);if(!r)return!1;let s=ee.empty;for(let a=r.length-1;a>=0;a--)s=ee.from(r[a].createAndFill(null,s));let l=n.state.tr.replace(t.pos,t.pos,new oe(s,0,0));return l.setSelection(ve.near(l.doc.resolve(t.pos+1))),n.dispatch(l),!1}function k8(n){if(!(n.selection instanceof ht))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",dt.create(n.doc,[an.widget(n.selection.head,e,{key:"gapcursor"})])}const O8=St.create({name:"gapCursor",addProseMirrorPlugins(){return[w8()]},extendNodeSchema(n){var e;const t={name:n.name,options:n.options,storage:n.storage};return{allowGapCursor:(e=Oe(ue(n,"allowGapCursor",t)))!==null&&e!==void 0?e:null}}}),R8=dn.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:n}){return["br",rt(this.options.HTMLAttributes,n)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:n,chain:e,state:t,editor:r})=>n.first([()=>n.exitCode(),()=>n.command(()=>{const{selection:s,storedMarks:l}=t;if(s.$from.parent.type.spec.isolating)return!1;const{keepMarks:a}=this.options,{splittableMarks:c}=r.extensionManager,d=l||s.$to.parentOffset&&s.$from.marks();return e().insertContent({type:this.name}).command(({tr:h,dispatch:m})=>{if(m&&d&&a){const g=d.filter(b=>c.includes(b.type.name));h.ensureMarks(g)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),N8=dn.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(n=>({tag:`h${n}`,attrs:{level:n}}))},renderHTML({node:n,HTMLAttributes:e}){return[`h${this.options.levels.includes(n.attrs.level)?n.attrs.level:this.options.levels[0]}`,rt(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.setNode(this.name,n):!1,toggleHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.toggleNode(this.name,"paragraph",n):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((n,e)=>({...n,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(n=>T1({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${n}})\\s$`),type:this.type,getAttributes:{level:n}}))}});var _c=200,Ht=function(){};Ht.prototype.append=function(e){return e.length?(e=Ht.from(e),!this.length&&e||e.length<_c&&this.leafAppend(e)||this.length<_c&&e.leafPrepend(this)||this.appendInner(e)):this};Ht.prototype.prepend=function(e){return e.length?Ht.from(e).append(this):this};Ht.prototype.appendInner=function(e){return new D8(this,e)};Ht.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?Ht.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};Ht.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Ht.prototype.forEach=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length),t<=r?this.forEachInner(e,t,r,0):this.forEachInvertedInner(e,t,r,0)};Ht.prototype.map=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length);var s=[];return this.forEach(function(l,a){return s.push(e(l,a))},t,r),s};Ht.from=function(e){return e instanceof Ht?e:e&&e.length?new t3(e):Ht.empty};var t3=function(n){function e(r){n.call(this),this.values=r}n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(s,l){return s==0&&l==this.length?this:new e(this.values.slice(s,l))},e.prototype.getInner=function(s){return this.values[s]},e.prototype.forEachInner=function(s,l,a,c){for(var d=l;d<a;d++)if(s(this.values[d],c+d)===!1)return!1},e.prototype.forEachInvertedInner=function(s,l,a,c){for(var d=l-1;d>=a;d--)if(s(this.values[d],c+d)===!1)return!1},e.prototype.leafAppend=function(s){if(this.length+s.length<=_c)return new e(this.values.concat(s.flatten()))},e.prototype.leafPrepend=function(s){if(this.length+s.length<=_c)return new e(s.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e}(Ht);Ht.empty=new t3([]);var D8=function(n){function e(t,r){n.call(this),this.left=t,this.right=r,this.length=t.length+r.length,this.depth=Math.max(t.depth,r.depth)+1}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,s,l,a){var c=this.left.length;if(s<c&&this.left.forEachInner(r,s,Math.min(l,c),a)===!1||l>c&&this.right.forEachInner(r,Math.max(s-c,0),Math.min(this.length,l)-c,a+c)===!1)return!1},e.prototype.forEachInvertedInner=function(r,s,l,a){var c=this.left.length;if(s>c&&this.right.forEachInvertedInner(r,s-c,Math.max(l,c)-c,a+c)===!1||l<c&&this.left.forEachInvertedInner(r,Math.min(s,c),l,a)===!1)return!1},e.prototype.sliceInner=function(r,s){if(r==0&&s==this.length)return this;var l=this.left.length;return s<=l?this.left.slice(r,s):r>=l?this.right.slice(r-l,s-l):this.left.slice(r,l).append(this.right.slice(0,s-l))},e.prototype.leafAppend=function(r){var s=this.right.leafAppend(r);if(s)return new e(this.left,s)},e.prototype.leafPrepend=function(r){var s=this.left.leafPrepend(r);if(s)return new e(s,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(Ht);const L8=500;class rr{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let s,l;t&&(s=this.remapping(r,this.items.length),l=s.maps.length);let a=e.tr,c,d,h=[],m=[];return this.items.forEach((g,b)=>{if(!g.step){s||(s=this.remapping(r,b+1),l=s.maps.length),l--,m.push(g);return}if(s){m.push(new dr(g.map));let v=g.step.map(s.slice(l)),C;v&&a.maybeStep(v).doc&&(C=a.mapping.maps[a.mapping.maps.length-1],h.push(new dr(C,void 0,void 0,h.length+m.length))),l--,C&&s.appendMap(C,l)}else a.maybeStep(g.step);if(g.selection)return c=s?g.selection.map(s.slice(l)):g.selection,d=new rr(this.items.slice(0,r).append(m.reverse().concat(h)),this.eventCount-1),!1},this.items.length,0),{remaining:d,transform:a,selection:c}}addTransform(e,t,r,s){let l=[],a=this.eventCount,c=this.items,d=!s&&c.length?c.get(c.length-1):null;for(let m=0;m<e.steps.length;m++){let g=e.steps[m].invert(e.docs[m]),b=new dr(e.mapping.maps[m],g,t),v;(v=d&&d.merge(b))&&(b=v,m?l.pop():c=c.slice(0,c.length-1)),l.push(b),t&&(a++,t=void 0),s||(d=b)}let h=a-r.depth;return h>H8&&(c=z8(c,h),a-=h),new rr(c.append(l),a)}remapping(e,t){let r=new xa;return this.items.forEach((s,l)=>{let a=s.mirrorOffset!=null&&l-s.mirrorOffset>=e?r.maps.length-s.mirrorOffset:void 0;r.appendMap(s.map,a)},e,t),r}addMaps(e){return this.eventCount==0?this:new rr(this.items.append(e.map(t=>new dr(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let r=[],s=Math.max(0,this.items.length-t),l=e.mapping,a=e.steps.length,c=this.eventCount;this.items.forEach(b=>{b.selection&&c--},s);let d=t;this.items.forEach(b=>{let v=l.getMirror(--d);if(v==null)return;a=Math.min(a,v);let C=l.maps[v];if(b.step){let S=e.steps[v].invert(e.docs[v]),w=b.selection&&b.selection.map(l.slice(d+1,v));w&&c++,r.push(new dr(C,S,w))}else r.push(new dr(C))},s);let h=[];for(let b=t;b<a;b++)h.push(new dr(l.maps[b]));let m=this.items.slice(0,s).append(h).append(r),g=new rr(m,c);return g.emptyItemCount()>L8&&(g=g.compress(this.items.length-r.length)),g}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),r=t.maps.length,s=[],l=0;return this.items.forEach((a,c)=>{if(c>=e)s.push(a),a.selection&&l++;else if(a.step){let d=a.step.map(t.slice(r)),h=d&&d.getMap();if(r--,h&&t.appendMap(h,r),d){let m=a.selection&&a.selection.map(t.slice(r));m&&l++;let g=new dr(h.invert(),d,m),b,v=s.length-1;(b=s.length&&s[v].merge(g))?s[v]=b:s.push(g)}}else a.map&&r--},this.items.length,0),new rr(Ht.from(s.reverse()),l)}}rr.empty=new rr(Ht.empty,0);function z8(n,e){let t;return n.forEach((r,s)=>{if(r.selection&&e--==0)return t=s,!1}),n.slice(t)}class dr{constructor(e,t,r,s){this.map=e,this.step=t,this.selection=r,this.mirrorOffset=s}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new dr(t.getMap().invert(),t,this.selection)}}}class Ei{constructor(e,t,r,s,l){this.done=e,this.undone=t,this.prevRanges=r,this.prevTime=s,this.prevComposition=l}}const H8=20;function B8(n,e,t,r){let s=t.getMeta(As),l;if(s)return s.historyState;t.getMeta(V8)&&(n=new Ei(n.done,n.undone,null,0,-1));let a=t.getMeta("appendedTransaction");if(t.steps.length==0)return n;if(a&&a.getMeta(As))return a.getMeta(As).redo?new Ei(n.done.addTransform(t,void 0,r,xc(e)),n.undone,Cv(t.mapping.maps),n.prevTime,n.prevComposition):new Ei(n.done,n.undone.addTransform(t,void 0,r,xc(e)),null,n.prevTime,n.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let c=t.getMeta("composition"),d=n.prevTime==0||!a&&n.prevComposition!=c&&(n.prevTime<(t.time||0)-r.newGroupDelay||!I8(t,n.prevRanges)),h=a?Ip(n.prevRanges,t.mapping):Cv(t.mapping.maps);return new Ei(n.done.addTransform(t,d?e.selection.getBookmark():void 0,r,xc(e)),rr.empty,h,t.time,c??n.prevComposition)}else return(l=t.getMeta("rebased"))?new Ei(n.done.rebased(t,l),n.undone.rebased(t,l),Ip(n.prevRanges,t.mapping),n.prevTime,n.prevComposition):new Ei(n.done.addMaps(t.mapping.maps),n.undone.addMaps(t.mapping.maps),Ip(n.prevRanges,t.mapping),n.prevTime,n.prevComposition)}function I8(n,e){if(!e)return!1;if(!n.docChanged)return!0;let t=!1;return n.mapping.maps[0].forEach((r,s)=>{for(let l=0;l<e.length;l+=2)r<=e[l+1]&&s>=e[l]&&(t=!0)}),t}function Cv(n){let e=[];for(let t=n.length-1;t>=0&&e.length==0;t--)n[t].forEach((r,s,l,a)=>e.push(l,a));return e}function Ip(n,e){if(!n)return null;let t=[];for(let r=0;r<n.length;r+=2){let s=e.map(n[r],1),l=e.map(n[r+1],-1);s<=l&&t.push(s,l)}return t}function j8(n,e,t){let r=xc(e),s=As.get(e).spec.config,l=(t?n.undone:n.done).popEvent(e,r);if(!l)return null;let a=l.selection.resolve(l.transform.doc),c=(t?n.done:n.undone).addTransform(l.transform,e.selection.getBookmark(),s,r),d=new Ei(t?c:l.remaining,t?l.remaining:c,null,0,-1);return l.transform.setSelection(a).setMeta(As,{redo:t,historyState:d})}let jp=!1,Sv=null;function xc(n){let e=n.plugins;if(Sv!=e){jp=!1,Sv=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){jp=!0;break}}return jp}const As=new $t("history"),V8=new $t("closeHistory");function _8(n={}){return n={depth:n.depth||100,newGroupDelay:n.newGroupDelay||500},new pt({key:As,state:{init(){return new Ei(rr.empty,rr.empty,null,0,-1)},apply(e,t,r){return B8(t,r,e,n)}},config:n,props:{handleDOMEvents:{beforeinput(e,t){let r=t.inputType,s=r=="historyUndo"?r3:r=="historyRedo"?i3:null;return s?(t.preventDefault(),s(e.state,e.dispatch)):!1}}}})}function n3(n,e){return(t,r)=>{let s=As.getState(t);if(!s||(n?s.undone:s.done).eventCount==0)return!1;if(r){let l=j8(s,t,n);l&&r(e?l.scrollIntoView():l)}return!0}}const r3=n3(!1,!0),i3=n3(!0,!0),U8=St.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:n,dispatch:e})=>r3(n,e),redo:()=>({state:n,dispatch:e})=>i3(n,e)}},addProseMirrorPlugins(){return[_8(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),q8=dn.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:n}){return["hr",rt(this.options.HTMLAttributes,n)]},addCommands(){return{setHorizontalRule:()=>({chain:n,state:e})=>{const{selection:t}=e,{$from:r,$to:s}=t,l=n();return r.parentOffset===0?l.insertContentAt({from:Math.max(r.pos-1,0),to:s.pos},{type:this.name}):Wn(t)?l.insertContentAt(s.pos,{type:this.name}):l.insertContent({type:this.name}),l.command(({tr:a,dispatch:c})=>{var d;if(c){const{$to:h}=a.selection,m=h.end();if(h.nodeAfter)h.nodeAfter.isTextblock?a.setSelection(ve.create(a.doc,h.pos+1)):h.nodeAfter.isBlock?a.setSelection(ce.create(a.doc,h.pos)):a.setSelection(ve.create(a.doc,h.pos));else{const g=(d=h.parent.type.contentMatch.defaultType)===null||d===void 0?void 0:d.create();g&&(a.insert(m,g),a.setSelection(ve.create(a.doc,m+1)))}a.scrollIntoView()}return!0}).run()}}},addInputRules(){return[Q4({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),P8=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,F8=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,K8=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,$8=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,G8=In.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:n=>n.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:n=>n.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:n}){return["em",rt(this.options.HTMLAttributes,n),0]},addCommands(){return{setItalic:()=>({commands:n})=>n.setMark(this.name),toggleItalic:()=>({commands:n})=>n.toggleMark(this.name),unsetItalic:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Ls({find:P8,type:this.type}),Ls({find:K8,type:this.type})]},addPasteRules(){return[ji({find:F8,type:this.type}),ji({find:$8,type:this.type})]}}),Y8=dn.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:n}){return["li",rt(this.options.HTMLAttributes,n),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Z8="listItem",xv="textStyle",Ev=/^(\d+)\.\s$/,J8=dn.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:n=>n.hasAttribute("start")?parseInt(n.getAttribute("start")||"",10):1},type:{default:null,parseHTML:n=>n.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:n}){const{start:e,...t}=n;return e===1?["ol",rt(this.options.HTMLAttributes,t),0]:["ol",rt(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleOrderedList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Z8,this.editor.getAttributes(xv)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let n=Fo({find:Ev,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(n=Fo({find:Ev,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(xv)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[n]}}),Q8=dn.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:n}){return["p",rt(this.options.HTMLAttributes,n),0]},addCommands(){return{setParagraph:()=>({commands:n})=>n.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),X8=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,W8=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,eT=In.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["s",rt(this.options.HTMLAttributes,n),0]},addCommands(){return{setStrike:()=>({commands:n})=>n.setMark(this.name),toggleStrike:()=>({commands:n})=>n.toggleMark(this.name),unsetStrike:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Ls({find:X8,type:this.type})]},addPasteRules(){return[ji({find:W8,type:this.type})]}}),tT=dn.create({name:"text",group:"inline"}),nT=St.create({name:"starterKit",addExtensions(){const n=[];return this.options.bold!==!1&&n.push(u8.configure(this.options.bold)),this.options.blockquote!==!1&&n.push(i8.configure(this.options.blockquote)),this.options.bulletList!==!1&&n.push(f8.configure(this.options.bulletList)),this.options.code!==!1&&n.push(p8.configure(this.options.code)),this.options.codeBlock!==!1&&n.push(y8.configure(this.options.codeBlock)),this.options.document!==!1&&n.push(b8.configure(this.options.document)),this.options.dropcursor!==!1&&n.push(S8.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&n.push(O8.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&n.push(R8.configure(this.options.hardBreak)),this.options.heading!==!1&&n.push(N8.configure(this.options.heading)),this.options.history!==!1&&n.push(U8.configure(this.options.history)),this.options.horizontalRule!==!1&&n.push(q8.configure(this.options.horizontalRule)),this.options.italic!==!1&&n.push(G8.configure(this.options.italic)),this.options.listItem!==!1&&n.push(Y8.configure(this.options.listItem)),this.options.orderedList!==!1&&n.push(J8.configure(this.options.orderedList)),this.options.paragraph!==!1&&n.push(Q8.configure(this.options.paragraph)),this.options.strike!==!1&&n.push(eT.configure(this.options.strike)),this.options.text!==!1&&n.push(tT.configure(this.options.text)),n}}),rT=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,iT=dn.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:n}){return["img",rt(this.options.HTMLAttributes,n)]},addCommands(){return{setImage:n=>({commands:e})=>e.insertContent({type:this.name,attrs:n})}},addInputRules(){return[Q4({find:rT,type:this.type,getAttributes:n=>{const[,,e,t,r]=n;return{src:t,alt:e,title:r}}})]}}),sT=/^\s*(\[([( |x])?\])\s$/,oT=dn.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList"}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:n=>{const e=n.getAttribute("data-checked");return e===""||e==="true"},renderHTML:n=>({"data-checked":n.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:n,HTMLAttributes:e}){return["li",rt(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:n.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const n={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...n,Tab:()=>this.editor.commands.sinkListItem(this.name)}:n},addNodeView(){return({node:n,HTMLAttributes:e,getPos:t,editor:r})=>{const s=document.createElement("li"),l=document.createElement("label"),a=document.createElement("span"),c=document.createElement("input"),d=document.createElement("div");return l.contentEditable="false",c.type="checkbox",c.addEventListener("mousedown",h=>h.preventDefault()),c.addEventListener("change",h=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){c.checked=!c.checked;return}const{checked:m}=h.target;r.isEditable&&typeof t=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:g})=>{const b=t();if(typeof b!="number")return!1;const v=g.doc.nodeAt(b);return g.setNodeMarkup(b,void 0,{...v?.attrs,checked:m}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(n,m)||(c.checked=!c.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([h,m])=>{s.setAttribute(h,m)}),s.dataset.checked=n.attrs.checked,c.checked=n.attrs.checked,l.append(c,a),s.append(l,d),Object.entries(e).forEach(([h,m])=>{s.setAttribute(h,m)}),{dom:s,contentDOM:d,update:h=>h.type!==this.type?!1:(s.dataset.checked=h.attrs.checked,c.checked=h.attrs.checked,!0)}}},addInputRules(){return[Fo({find:sT,type:this.type,getAttributes:n=>({checked:n[n.length-1]==="x"})})]}}),lT=dn.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:n}){return["ul",rt(this.options.HTMLAttributes,n,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:n})=>n.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}}),aT=St.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:n=>{const e=n.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:n=>n.textAlign?{style:`text-align: ${n.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:n=>({commands:e})=>this.options.alignments.includes(n)?this.options.types.map(t=>e.updateAttributes(t,{textAlign:n})).every(t=>t):!1,unsetTextAlign:()=>({commands:n})=>this.options.types.map(e=>n.resetAttributes(e,"textAlign")).every(e=>e),toggleTextAlign:n=>({editor:e,commands:t})=>this.options.alignments.includes(n)?e.isActive({textAlign:n})?t.unsetTextAlign():t.setTextAlign(n):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),uT=n=>mt({find:/--$/,replace:n??"—"}),cT=n=>mt({find:/\.\.\.$/,replace:n??"…"}),fT=n=>mt({find:/(?:^|[\s{[(<'"\u2018\u201C])(")$/,replace:n??"“"}),dT=n=>mt({find:/"$/,replace:n??"”"}),hT=n=>mt({find:/(?:^|[\s{[(<'"\u2018\u201C])(')$/,replace:n??"‘"}),pT=n=>mt({find:/'$/,replace:n??"’"}),mT=n=>mt({find:/<-$/,replace:n??"←"}),gT=n=>mt({find:/->$/,replace:n??"→"}),yT=n=>mt({find:/\(c\)$/,replace:n??"©"}),bT=n=>mt({find:/\(tm\)$/,replace:n??"™"}),vT=n=>mt({find:/\(sm\)$/,replace:n??"℠"}),CT=n=>mt({find:/\(r\)$/,replace:n??"®"}),ST=n=>mt({find:/(?:^|\s)(1\/2)\s$/,replace:n??"½"}),xT=n=>mt({find:/\+\/-$/,replace:n??"±"}),ET=n=>mt({find:/!=$/,replace:n??"≠"}),wT=n=>mt({find:/<<$/,replace:n??"«"}),MT=n=>mt({find:/>>$/,replace:n??"»"}),TT=n=>mt({find:/\d+\s?([*x])\s?\d+$/,replace:n??"×"}),AT=n=>mt({find:/\^2$/,replace:n??"²"}),kT=n=>mt({find:/\^3$/,replace:n??"³"}),OT=n=>mt({find:/(?:^|\s)(1\/4)\s$/,replace:n??"¼"}),RT=n=>mt({find:/(?:^|\s)(3\/4)\s$/,replace:n??"¾"}),NT=St.create({name:"typography",addOptions(){return{closeDoubleQuote:"”",closeSingleQuote:"’",copyright:"©",ellipsis:"…",emDash:"—",laquo:"«",leftArrow:"←",multiplication:"×",notEqual:"≠",oneHalf:"½",oneQuarter:"¼",openDoubleQuote:"“",openSingleQuote:"‘",plusMinus:"±",raquo:"»",registeredTrademark:"®",rightArrow:"→",servicemark:"℠",superscriptThree:"³",superscriptTwo:"²",threeQuarters:"¾",trademark:"™"}},addInputRules(){const n=[];return this.options.emDash!==!1&&n.push(uT(this.options.emDash)),this.options.ellipsis!==!1&&n.push(cT(this.options.ellipsis)),this.options.openDoubleQuote!==!1&&n.push(fT(this.options.openDoubleQuote)),this.options.closeDoubleQuote!==!1&&n.push(dT(this.options.closeDoubleQuote)),this.options.openSingleQuote!==!1&&n.push(hT(this.options.openSingleQuote)),this.options.closeSingleQuote!==!1&&n.push(pT(this.options.closeSingleQuote)),this.options.leftArrow!==!1&&n.push(mT(this.options.leftArrow)),this.options.rightArrow!==!1&&n.push(gT(this.options.rightArrow)),this.options.copyright!==!1&&n.push(yT(this.options.copyright)),this.options.trademark!==!1&&n.push(bT(this.options.trademark)),this.options.servicemark!==!1&&n.push(vT(this.options.servicemark)),this.options.registeredTrademark!==!1&&n.push(CT(this.options.registeredTrademark)),this.options.oneHalf!==!1&&n.push(ST(this.options.oneHalf)),this.options.plusMinus!==!1&&n.push(xT(this.options.plusMinus)),this.options.notEqual!==!1&&n.push(ET(this.options.notEqual)),this.options.laquo!==!1&&n.push(wT(this.options.laquo)),this.options.raquo!==!1&&n.push(MT(this.options.raquo)),this.options.multiplication!==!1&&n.push(TT(this.options.multiplication)),this.options.superscriptTwo!==!1&&n.push(AT(this.options.superscriptTwo)),this.options.superscriptThree!==!1&&n.push(kT(this.options.superscriptThree)),this.options.oneQuarter!==!1&&n.push(OT(this.options.oneQuarter)),this.options.threeQuarters!==!1&&n.push(RT(this.options.threeQuarters)),n}}),DT=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,LT=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,zT=In.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:n=>n.getAttribute("data-color")||n.style.backgroundColor,renderHTML:n=>n.color?{"data-color":n.color,style:`background-color: ${n.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:n}){return["mark",rt(this.options.HTMLAttributes,n),0]},addCommands(){return{setHighlight:n=>({commands:e})=>e.setMark(this.name,n),toggleHighlight:n=>({commands:e})=>e.toggleMark(this.name,n),unsetHighlight:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[Ls({find:DT,type:this.type})]},addPasteRules(){return[ji({find:LT,type:this.type})]}}),HT=In.create({name:"subscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sub"},{style:"vertical-align",getAttrs(n){return n!=="sub"?!1:null}}]},renderHTML({HTMLAttributes:n}){return["sub",rt(this.options.HTMLAttributes,n),0]},addCommands(){return{setSubscript:()=>({commands:n})=>n.setMark(this.name),toggleSubscript:()=>({commands:n})=>n.toggleMark(this.name),unsetSubscript:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-,":()=>this.editor.commands.toggleSubscript()}}}),BT=In.create({name:"superscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sup"},{style:"vertical-align",getAttrs(n){return n!=="super"?!1:null}}]},renderHTML({HTMLAttributes:n}){return["sup",rt(this.options.HTMLAttributes,n),0]},addCommands(){return{setSuperscript:()=>({commands:n})=>n.setMark(this.name),toggleSuperscript:()=>({commands:n})=>n.toggleMark(this.name),unsetSuperscript:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-.":()=>this.editor.commands.toggleSuperscript()}}}),IT=In.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["u",rt(this.options.HTMLAttributes,n),0]},addCommands(){return{setUnderline:()=>({commands:n})=>n.setMark(this.name),toggleUnderline:()=>({commands:n})=>n.toggleMark(this.name),unsetUnderline:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),jT=St.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something …",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new pt({key:new $t("placeholder"),props:{decorations:({doc:n,selection:e})=>{const t=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,s=[];if(!t)return null;const l=this.editor.isEmpty;return n.descendants((a,c)=>{const d=r>=c&&r<=c+a.nodeSize,h=!a.isLeaf&&_f(a);if((d||!this.options.showOnlyCurrent)&&h){const m=[this.options.emptyNodeClass];l&&m.push(this.options.emptyEditorClass);const g=an.node(c,c+a.nodeSize,{class:m.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:a,pos:c,hasAnchor:d}):this.options.placeholder});s.push(g)}return this.options.includeChildren}),dt.create(n,s)}}})]}}),VT="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mögensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",_T="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",Ko=(n,e)=>{for(const t in e)n[t]=e[t];return n},O1="numeric",R1="ascii",N1="alpha",ca="asciinumeric",ia="alphanumeric",D1="domain",s3="emoji",UT="scheme",qT="slashscheme",Vp="whitespace";function PT(n,e){return n in e||(e[n]=[]),e[n]}function vs(n,e,t){e[O1]&&(e[ca]=!0,e[ia]=!0),e[R1]&&(e[ca]=!0,e[N1]=!0),e[ca]&&(e[ia]=!0),e[N1]&&(e[ia]=!0),e[ia]&&(e[D1]=!0),e[s3]&&(e[D1]=!0);for(const r in e){const s=PT(r,t);s.indexOf(n)<0&&s.push(n)}}function FT(n,e){const t={};for(const r in e)e[r].indexOf(n)>=0&&(t[r]=!0);return t}function xn(n=null){this.j={},this.jr=[],this.jd=null,this.t=n}xn.groups={};xn.prototype={accepts(){return!!this.t},go(n){const e=this,t=e.j[n];if(t)return t;for(let r=0;r<e.jr.length;r++){const s=e.jr[r][0],l=e.jr[r][1];if(l&&s.test(n))return l}return e.jd},has(n,e=!1){return e?n in this.j:!!this.go(n)},ta(n,e,t,r){for(let s=0;s<n.length;s++)this.tt(n[s],e,t,r)},tr(n,e,t,r){r=r||xn.groups;let s;return e&&e.j?s=e:(s=new xn(e),t&&r&&vs(e,t,r)),this.jr.push([n,s]),s},ts(n,e,t,r){let s=this;const l=n.length;if(!l)return s;for(let a=0;a<l-1;a++)s=s.tt(n[a]);return s.tt(n[l-1],e,t,r)},tt(n,e,t,r){r=r||xn.groups;const s=this;if(e&&e.j)return s.j[n]=e,e;const l=e;let a,c=s.go(n);if(c?(a=new xn,Ko(a.j,c.j),a.jr.push.apply(a.jr,c.jr),a.jd=c.jd,a.t=c.t):a=new xn,l){if(r)if(a.t&&typeof a.t=="string"){const d=Ko(FT(a.t,r),t);vs(l,d,r)}else t&&vs(l,t,r);a.t=l}return s.j[n]=a,a}};const Ae=(n,e,t,r,s)=>n.ta(e,t,r,s),ft=(n,e,t,r,s)=>n.tr(e,t,r,s),wv=(n,e,t,r,s)=>n.ts(e,t,r,s),W=(n,e,t,r,s)=>n.tt(e,t,r,s),Ur="WORD",L1="UWORD",o3="ASCIINUMERICAL",l3="ALPHANUMERICAL",Oa="LOCALHOST",z1="TLD",H1="UTLD",Ec="SCHEME",Do="SLASH_SCHEME",Am="NUM",B1="WS",km="NL",fa="OPENBRACE",da="CLOSEBRACE",Uc="OPENBRACKET",qc="CLOSEBRACKET",Pc="OPENPAREN",Fc="CLOSEPAREN",Kc="OPENANGLEBRACKET",$c="CLOSEANGLEBRACKET",Gc="FULLWIDTHLEFTPAREN",Yc="FULLWIDTHRIGHTPAREN",Zc="LEFTCORNERBRACKET",Jc="RIGHTCORNERBRACKET",Qc="LEFTWHITECORNERBRACKET",Xc="RIGHTWHITECORNERBRACKET",Wc="FULLWIDTHLESSTHAN",ef="FULLWIDTHGREATERTHAN",tf="AMPERSAND",nf="APOSTROPHE",rf="ASTERISK",wi="AT",sf="BACKSLASH",of="BACKTICK",lf="CARET",Oi="COLON",Om="COMMA",af="DOLLAR",hr="DOT",uf="EQUALS",Rm="EXCLAMATION",Yn="HYPHEN",ha="PERCENT",cf="PIPE",ff="PLUS",df="POUND",pa="QUERY",Nm="QUOTE",a3="FULLWIDTHMIDDLEDOT",Dm="SEMI",pr="SLASH",ma="TILDE",hf="UNDERSCORE",u3="EMOJI",pf="SYM";var c3=Object.freeze({__proto__:null,ALPHANUMERICAL:l3,AMPERSAND:tf,APOSTROPHE:nf,ASCIINUMERICAL:o3,ASTERISK:rf,AT:wi,BACKSLASH:sf,BACKTICK:of,CARET:lf,CLOSEANGLEBRACKET:$c,CLOSEBRACE:da,CLOSEBRACKET:qc,CLOSEPAREN:Fc,COLON:Oi,COMMA:Om,DOLLAR:af,DOT:hr,EMOJI:u3,EQUALS:uf,EXCLAMATION:Rm,FULLWIDTHGREATERTHAN:ef,FULLWIDTHLEFTPAREN:Gc,FULLWIDTHLESSTHAN:Wc,FULLWIDTHMIDDLEDOT:a3,FULLWIDTHRIGHTPAREN:Yc,HYPHEN:Yn,LEFTCORNERBRACKET:Zc,LEFTWHITECORNERBRACKET:Qc,LOCALHOST:Oa,NL:km,NUM:Am,OPENANGLEBRACKET:Kc,OPENBRACE:fa,OPENBRACKET:Uc,OPENPAREN:Pc,PERCENT:ha,PIPE:cf,PLUS:ff,POUND:df,QUERY:pa,QUOTE:Nm,RIGHTCORNERBRACKET:Jc,RIGHTWHITECORNERBRACKET:Xc,SCHEME:Ec,SEMI:Dm,SLASH:pr,SLASH_SCHEME:Do,SYM:pf,TILDE:ma,TLD:z1,UNDERSCORE:hf,UTLD:H1,UWORD:L1,WORD:Ur,WS:B1});const Vr=/[a-z]/,Jl=/\p{L}/u,_p=/\p{Emoji}/u,_r=/\d/,Up=/\s/,Mv="\r",qp=`
`,KT="️",$T="‍",Pp="￼";let uc=null,cc=null;function GT(n=[]){const e={};xn.groups=e;const t=new xn;uc==null&&(uc=Tv(VT)),cc==null&&(cc=Tv(_T)),W(t,"'",nf),W(t,"{",fa),W(t,"}",da),W(t,"[",Uc),W(t,"]",qc),W(t,"(",Pc),W(t,")",Fc),W(t,"<",Kc),W(t,">",$c),W(t,"（",Gc),W(t,"）",Yc),W(t,"「",Zc),W(t,"」",Jc),W(t,"『",Qc),W(t,"』",Xc),W(t,"＜",Wc),W(t,"＞",ef),W(t,"&",tf),W(t,"*",rf),W(t,"@",wi),W(t,"`",of),W(t,"^",lf),W(t,":",Oi),W(t,",",Om),W(t,"$",af),W(t,".",hr),W(t,"=",uf),W(t,"!",Rm),W(t,"-",Yn),W(t,"%",ha),W(t,"|",cf),W(t,"+",ff),W(t,"#",df),W(t,"?",pa),W(t,'"',Nm),W(t,"/",pr),W(t,";",Dm),W(t,"~",ma),W(t,"_",hf),W(t,"\\",sf),W(t,"・",a3);const r=ft(t,_r,Am,{[O1]:!0});ft(r,_r,r);const s=ft(r,Vr,o3,{[ca]:!0}),l=ft(r,Jl,l3,{[ia]:!0}),a=ft(t,Vr,Ur,{[R1]:!0});ft(a,_r,s),ft(a,Vr,a),ft(s,_r,s),ft(s,Vr,s);const c=ft(t,Jl,L1,{[N1]:!0});ft(c,Vr),ft(c,_r,l),ft(c,Jl,c),ft(l,_r,l),ft(l,Vr),ft(l,Jl,l);const d=W(t,qp,km,{[Vp]:!0}),h=W(t,Mv,B1,{[Vp]:!0}),m=ft(t,Up,B1,{[Vp]:!0});W(t,Pp,m),W(h,qp,d),W(h,Pp,m),ft(h,Up,m),W(m,Mv),W(m,qp),ft(m,Up,m),W(m,Pp,m);const g=ft(t,_p,u3,{[s3]:!0});W(g,"#"),ft(g,_p,g),W(g,KT,g);const b=W(g,$T);W(b,"#"),ft(b,_p,g);const v=[[Vr,a],[_r,s]],C=[[Vr,null],[Jl,c],[_r,l]];for(let S=0;S<uc.length;S++)vi(t,uc[S],z1,Ur,v);for(let S=0;S<cc.length;S++)vi(t,cc[S],H1,L1,C);vs(z1,{tld:!0,ascii:!0},e),vs(H1,{utld:!0,alpha:!0},e),vi(t,"file",Ec,Ur,v),vi(t,"mailto",Ec,Ur,v),vi(t,"http",Do,Ur,v),vi(t,"https",Do,Ur,v),vi(t,"ftp",Do,Ur,v),vi(t,"ftps",Do,Ur,v),vs(Ec,{scheme:!0,ascii:!0},e),vs(Do,{slashscheme:!0,ascii:!0},e),n=n.sort((S,w)=>S[0]>w[0]?1:-1);for(let S=0;S<n.length;S++){const w=n[S][0],R=n[S][1]?{[UT]:!0}:{[qT]:!0};w.indexOf("-")>=0?R[D1]=!0:Vr.test(w)?_r.test(w)?R[ca]=!0:R[R1]=!0:R[O1]=!0,wv(t,w,w,R)}return wv(t,"localhost",Oa,{ascii:!0}),t.jd=new xn(pf),{start:t,tokens:Ko({groups:e},c3)}}function f3(n,e){const t=YT(e.replace(/[A-Z]/g,c=>c.toLowerCase())),r=t.length,s=[];let l=0,a=0;for(;a<r;){let c=n,d=null,h=0,m=null,g=-1,b=-1;for(;a<r&&(d=c.go(t[a]));)c=d,c.accepts()?(g=0,b=0,m=c):g>=0&&(g+=t[a].length,b++),h+=t[a].length,l+=t[a].length,a++;l-=g,a-=b,h-=g,s.push({t:m.t,v:e.slice(l-h,l),s:l-h,e:l})}return s}function YT(n){const e=[],t=n.length;let r=0;for(;r<t;){let s=n.charCodeAt(r),l,a=s<55296||s>56319||r+1===t||(l=n.charCodeAt(r+1))<56320||l>57343?n[r]:n.slice(r,r+2);e.push(a),r+=a.length}return e}function vi(n,e,t,r,s){let l;const a=e.length;for(let c=0;c<a-1;c++){const d=e[c];n.j[d]?l=n.j[d]:(l=new xn(r),l.jr=s.slice(),n.j[d]=l),n=l}return l=new xn(t),l.jr=s.slice(),n.j[e[a-1]]=l,l}function Tv(n){const e=[],t=[];let r=0,s="0123456789";for(;r<n.length;){let l=0;for(;s.indexOf(n[r+l])>=0;)l++;if(l>0){e.push(t.join(""));for(let a=parseInt(n.substring(r,r+l),10);a>0;a--)t.pop();r+=l}else t.push(n[r]),r++}return e}const Ra={defaultProtocol:"http",events:null,format:Av,formatHref:Av,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Lm(n,e=null){let t=Ko({},Ra);n&&(t=Ko(t,n instanceof Lm?n.o:n));const r=t.ignoreTags,s=[];for(let l=0;l<r.length;l++)s.push(r[l].toUpperCase());this.o=t,e&&(this.defaultRender=e),this.ignoreTags=s}Lm.prototype={o:Ra,ignoreTags:[],defaultRender(n){return n},check(n){return this.get("validate",n.toString(),n)},get(n,e,t){const r=e!=null;let s=this.o[n];return s&&(typeof s=="object"?(s=t.t in s?s[t.t]:Ra[n],typeof s=="function"&&r&&(s=s(e,t))):typeof s=="function"&&r&&(s=s(e,t.t,t)),s)},getObj(n,e,t){let r=this.o[n];return typeof r=="function"&&e!=null&&(r=r(e,t.t,t)),r},render(n){const e=n.render(this);return(this.get("render",null,n)||this.defaultRender)(e,n.t,n)}};function Av(n){return n}function d3(n,e){this.t="token",this.v=n,this.tk=e}d3.prototype={isLink:!1,toString(){return this.v},toHref(n){return this.toString()},toFormattedString(n){const e=this.toString(),t=n.get("truncate",e,this),r=n.get("format",e,this);return t&&r.length>t?r.substring(0,t)+"…":r},toFormattedHref(n){return n.get("formatHref",this.toHref(n.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(n=Ra.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(n),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(n){return{type:this.t,value:this.toFormattedString(n),isLink:this.isLink,href:this.toFormattedHref(n),start:this.startIndex(),end:this.endIndex()}},validate(n){return n.get("validate",this.toString(),this)},render(n){const e=this,t=this.toHref(n.get("defaultProtocol")),r=n.get("formatHref",t,this),s=n.get("tagName",t,e),l=this.toFormattedString(n),a={},c=n.get("className",t,e),d=n.get("target",t,e),h=n.get("rel",t,e),m=n.getObj("attributes",t,e),g=n.getObj("events",t,e);return a.href=r,c&&(a.class=c),d&&(a.target=d),h&&(a.rel=h),m&&Ko(a,m),{tagName:s,attributes:a,content:l,eventListeners:g}}};function qf(n,e){class t extends d3{constructor(s,l){super(s,l),this.t=n}}for(const r in e)t.prototype[r]=e[r];return t.t=n,t}const kv=qf("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Ov=qf("text"),ZT=qf("nl"),fc=qf("url",{isLink:!0,toHref(n=Ra.defaultProtocol){return this.hasProtocol()?this.v:`${n}://${this.v}`},hasProtocol(){const n=this.tk;return n.length>=2&&n[0].t!==Oa&&n[1].t===Oi}}),Gn=n=>new xn(n);function JT({groups:n}){const e=n.domain.concat([tf,rf,wi,sf,of,lf,af,uf,Yn,Am,ha,cf,ff,df,pr,pf,ma,hf]),t=[nf,Oi,Om,hr,Rm,ha,pa,Nm,Dm,Kc,$c,fa,da,qc,Uc,Pc,Fc,Gc,Yc,Zc,Jc,Qc,Xc,Wc,ef],r=[tf,nf,rf,sf,of,lf,af,uf,Yn,fa,da,ha,cf,ff,df,pa,pr,pf,ma,hf],s=Gn(),l=W(s,ma);Ae(l,r,l),Ae(l,n.domain,l);const a=Gn(),c=Gn(),d=Gn();Ae(s,n.domain,a),Ae(s,n.scheme,c),Ae(s,n.slashscheme,d),Ae(a,r,l),Ae(a,n.domain,a);const h=W(a,wi);W(l,wi,h),W(c,wi,h),W(d,wi,h);const m=W(l,hr);Ae(m,r,l),Ae(m,n.domain,l);const g=Gn();Ae(h,n.domain,g),Ae(g,n.domain,g);const b=W(g,hr);Ae(b,n.domain,g);const v=Gn(kv);Ae(b,n.tld,v),Ae(b,n.utld,v),W(h,Oa,v);const C=W(g,Yn);W(C,Yn,C),Ae(C,n.domain,g),Ae(v,n.domain,g),W(v,hr,b),W(v,Yn,C);const S=W(v,Oi);Ae(S,n.numeric,kv);const w=W(a,Yn),A=W(a,hr);W(w,Yn,w),Ae(w,n.domain,a),Ae(A,r,l),Ae(A,n.domain,a);const R=Gn(fc);Ae(A,n.tld,R),Ae(A,n.utld,R),Ae(R,n.domain,a),Ae(R,r,l),W(R,hr,A),W(R,Yn,w),W(R,wi,h);const D=W(R,Oi),P=Gn(fc);Ae(D,n.numeric,P);const j=Gn(fc),Q=Gn();Ae(j,e,j),Ae(j,t,Q),Ae(Q,e,j),Ae(Q,t,Q),W(R,pr,j),W(P,pr,j);const te=W(c,Oi),X=W(d,Oi),le=W(X,pr),ne=W(le,pr);Ae(c,n.domain,a),W(c,hr,A),W(c,Yn,w),Ae(d,n.domain,a),W(d,hr,A),W(d,Yn,w),Ae(te,n.domain,j),W(te,pr,j),W(te,pa,j),Ae(ne,n.domain,j),Ae(ne,e,j),W(ne,pr,j);const me=[[fa,da],[Uc,qc],[Pc,Fc],[Kc,$c],[Gc,Yc],[Zc,Jc],[Qc,Xc],[Wc,ef]];for(let he=0;he<me.length;he++){const[Se,re]=me[he],$=W(j,Se);W(Q,Se,$),W($,re,j);const z=Gn(fc);Ae($,e,z);const U=Gn();Ae($,t),Ae(z,e,z),Ae(z,t,U),Ae(U,e,z),Ae(U,t,U),W(z,re,j),W(U,re,j)}return W(s,Oa,R),W(s,km,ZT),{start:s,tokens:c3}}function QT(n,e,t){let r=t.length,s=0,l=[],a=[];for(;s<r;){let c=n,d=null,h=null,m=0,g=null,b=-1;for(;s<r&&!(d=c.go(t[s].t));)a.push(t[s++]);for(;s<r&&(h=d||c.go(t[s].t));)d=null,c=h,c.accepts()?(b=0,g=c):b>=0&&b++,s++,m++;if(b<0)s-=m,s<r&&(a.push(t[s]),s++);else{a.length>0&&(l.push(Fp(Ov,e,a)),a=[]),s-=b,m-=b;const v=g.t,C=t.slice(s-m,s);l.push(Fp(v,e,C))}}return a.length>0&&l.push(Fp(Ov,e,a)),l}function Fp(n,e,t){const r=t[0].s,s=t[t.length-1].e,l=e.slice(r,s);return new n(l,t)}const XT=typeof console<"u"&&console&&console.warn||(()=>{}),WT="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",nt={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function eA(){return xn.groups={},nt.scanner=null,nt.parser=null,nt.tokenQueue=[],nt.pluginQueue=[],nt.customSchemes=[],nt.initialized=!1,nt}function Rv(n,e=!1){if(nt.initialized&&XT(`linkifyjs: already initialized - will not register custom scheme "${n}" ${WT}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(n))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);nt.customSchemes.push([n,e])}function tA(){nt.scanner=GT(nt.customSchemes);for(let n=0;n<nt.tokenQueue.length;n++)nt.tokenQueue[n][1]({scanner:nt.scanner});nt.parser=JT(nt.scanner.tokens);for(let n=0;n<nt.pluginQueue.length;n++)nt.pluginQueue[n][1]({scanner:nt.scanner,parser:nt.parser});return nt.initialized=!0,nt}function zm(n){return nt.initialized||tA(),QT(nt.parser.start,n,f3(nt.scanner.start,n))}zm.scan=f3;function h3(n,e=null,t=null){if(e&&typeof e=="object"){if(t)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);t=e,e=null}const r=new Lm(t),s=zm(n),l=[];for(let a=0;a<s.length;a++){const c=s[a];c.isLink&&(!e||c.t===e)&&r.check(c)&&l.push(c.toFormattedObject(r))}return l}function nA(n){return n.length===1?n[0].isLink:n.length===3&&n[1].isLink?["()","[]"].includes(n[0].value+n[2].value):!1}function rA(n){return new pt({key:new $t("autolink"),appendTransaction:(e,t,r)=>{const s=e.some(h=>h.docChanged)&&!t.doc.eq(r.doc),l=e.some(h=>h.getMeta("preventAutolink"));if(!s||l)return;const{tr:a}=r,c=Uw(t.doc,[...e]);if(Zw(c).forEach(({newRange:h})=>{const m=Pw(r.doc,h,v=>v.isTextblock);let g,b;if(m.length>1?(g=m[0],b=r.doc.textBetween(g.pos,g.pos+g.node.nodeSize,void 0," ")):m.length&&r.doc.textBetween(h.from,h.to," "," ").endsWith(" ")&&(g=m[0],b=r.doc.textBetween(g.pos,h.to,void 0," ")),g&&b){const v=b.split(" ").filter(A=>A!=="");if(v.length<=0)return!1;const C=v[v.length-1],S=g.pos+b.lastIndexOf(C);if(!C)return!1;const w=zm(C).map(A=>A.toObject(n.defaultProtocol));if(!nA(w))return!1;w.filter(A=>A.isLink).map(A=>({...A,from:S+A.start+1,to:S+A.end+1})).filter(A=>r.schema.marks.code?!r.doc.rangeHasMark(A.from,A.to,r.schema.marks.code):!0).filter(A=>n.validate(A.value)).filter(A=>n.shouldAutoLink(A.value)).forEach(A=>{xm(A.from,A.to,r.doc).some(R=>R.mark.type===n.type)||a.addMark(A.from,A.to,n.type.create({href:A.href}))})}}),!!a.steps.length)return a}})}function iA(n){return new pt({key:new $t("handleClickLink"),props:{handleClick:(e,t,r)=>{var s,l;if(r.button!==0||!e.editable)return!1;let a=r.target;const c=[];for(;a.nodeName!=="DIV";)c.push(a),a=a.parentNode;if(!c.find(b=>b.nodeName==="A"))return!1;const d=J4(e.state,n.type.name),h=r.target,m=(s=h?.href)!==null&&s!==void 0?s:d.href,g=(l=h?.target)!==null&&l!==void 0?l:d.target;return h&&m?(window.open(m,g),!0):!1}}})}function sA(n){return new pt({key:new $t("handlePasteLink"),props:{handlePaste:(e,t,r)=>{const{state:s}=e,{selection:l}=s,{empty:a}=l;if(a)return!1;let c="";r.content.forEach(h=>{c+=h.textContent});const d=h3(c,{defaultProtocol:n.defaultProtocol}).find(h=>h.isLink&&h.value===c);return!c||!d?!1:n.editor.commands.setMark(n.type,{href:d.href})}}})}const oA=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g;function cs(n,e){const t=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const s=typeof r=="string"?r:r.scheme;s&&t.push(s)}),!n||n.replace(oA,"").match(new RegExp(`^(?:(?:${t.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}const lA=In.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(n=>{if(typeof n=="string"){Rv(n);return}Rv(n.scheme,n.optionalSlashes)})},onDestroy(){eA()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(n,e)=>!!cs(n,e.protocols),validate:n=>!!n,shouldAutoLink:n=>!!n}},addAttributes(){return{href:{default:null,parseHTML(n){return n.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:n=>{const e=n.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:t=>!!cs(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:n}){return this.options.isAllowedUri(n.href,{defaultValidate:e=>!!cs(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",rt(this.options.HTMLAttributes,n),0]:["a",rt(this.options.HTMLAttributes,{...n,href:""}),0]},addCommands(){return{setLink:n=>({chain:e})=>{const{href:t}=n;return this.options.isAllowedUri(t,{defaultValidate:r=>!!cs(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,n).setMeta("preventAutolink",!0).run():!1},toggleLink:n=>({chain:e})=>{const{href:t}=n;return this.options.isAllowedUri(t,{defaultValidate:r=>!!cs(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().toggleMark(this.name,n,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run():!1},unsetLink:()=>({chain:n})=>n().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[ji({find:n=>{const e=[];if(n){const{protocols:t,defaultProtocol:r}=this.options,s=h3(n).filter(l=>l.isLink&&this.options.isAllowedUri(l.value,{defaultValidate:a=>!!cs(a,t),protocols:t,defaultProtocol:r}));s.length&&s.forEach(l=>e.push({text:l.value,data:{href:l.href},index:l.start}))}return e},type:this.type,getAttributes:n=>{var e;return{href:(e=n.data)===null||e===void 0?void 0:e.href}}})]},addProseMirrorPlugins(){const n=[],{protocols:e,defaultProtocol:t}=this.options;return this.options.autolink&&n.push(rA({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:s=>!!cs(s,e),protocols:e,defaultProtocol:t}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&n.push(iA({type:this.type})),this.options.linkOnPaste&&n.push(sA({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),n}}),aA=lA.extend({inclusive:!1,parseHTML(){return[{tag:'a[href]:not([data-type="button"]):not([href *= "javascript:" i])'}]},addProseMirrorPlugins(){const{editor:n}=this;return[...this.parent?.()||[],new pt({props:{handleKeyDown:(e,t)=>{const{selection:r}=n.state;return t.key==="Escape"&&r.empty!==!0&&n.commands.focus(r.to,{scrollIntoView:!1}),!1},handleClick(e,t){const{schema:r,doc:s,tr:l}=e.state;let a;if(r.marks.link&&(a=If(s.resolve(t),r.marks.link)),!a)return;const{from:c,to:d}=a,h=Math.min(c,d),m=Math.max(c,d);if(t<h||t>m)return;const g=s.resolve(h),b=s.resolve(m),v=l.setSelection(new ve(g,b));e.dispatch(v)}}})]}}),uA=St.create({name:"selection",addProseMirrorPlugins(){const{editor:n}=this;return[new pt({key:new $t("selection"),props:{decorations(e){return e.selection.empty||n.isFocused===!0||!n.isEditable||Wn(e.selection)?null:dt.create(e.doc,[an.inline(e.selection.from,e.selection.to,{class:"selection"})])}}})]}});function Pf(){return typeof window<"u"}function Pi(n){return p3(n)?(n.nodeName||"").toLowerCase():"#document"}function Mn(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function vr(n){var e;return(e=(p3(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function p3(n){return Pf()?n instanceof Node||n instanceof Mn(n).Node:!1}function tt(n){return Pf()?n instanceof Element||n instanceof Mn(n).Element:!1}function bt(n){return Pf()?n instanceof HTMLElement||n instanceof Mn(n).HTMLElement:!1}function I1(n){return!Pf()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Mn(n).ShadowRoot}function Va(n){const{overflow:e,overflowX:t,overflowY:r,display:s}=Xn(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(s)}function cA(n){return["table","td","th"].includes(Pi(n))}function Ff(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function Hm(n){const e=Kf(),t=tt(n)?Xn(n):n;return["transform","translate","scale","rotate","perspective"].some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function fA(n){let e=Zr(n);for(;bt(e)&&!Yr(e);){if(Hm(e))return e;if(Ff(e))return null;e=Zr(e)}return null}function Kf(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Yr(n){return["html","body","#document"].includes(Pi(n))}function Xn(n){return Mn(n).getComputedStyle(n)}function $f(n){return tt(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Zr(n){if(Pi(n)==="html")return n;const e=n.assignedSlot||n.parentNode||I1(n)&&n.host||vr(n);return I1(e)?e.host:e}function m3(n){const e=Zr(n);return Yr(e)?n.ownerDocument?n.ownerDocument.body:n.body:bt(e)&&Va(e)?e:m3(e)}function Bi(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=m3(n),l=s===((r=n.ownerDocument)==null?void 0:r.body),a=Mn(s);if(l){const c=j1(a);return e.concat(a,a.visualViewport||[],Va(s)?s:[],c&&t?Bi(c):[])}return e.concat(s,Bi(s,[],t))}function j1(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}const mf=Math.min,ks=Math.max,gf=Math.round,Ho=Math.floor,gr=n=>({x:n,y:n}),dA={left:"right",right:"left",bottom:"top",top:"bottom"},hA={start:"end",end:"start"};function Nv(n,e,t){return ks(n,mf(e,t))}function $o(n,e){return typeof n=="function"?n(e):n}function Vi(n){return n.split("-")[0]}function Gf(n){return n.split("-")[1]}function Bm(n){return n==="x"?"y":"x"}function g3(n){return n==="y"?"height":"width"}function Kr(n){return["top","bottom"].includes(Vi(n))?"y":"x"}function y3(n){return Bm(Kr(n))}function pA(n,e,t){t===void 0&&(t=!1);const r=Gf(n),s=y3(n),l=g3(s);let a=s==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(a=yf(a)),[a,yf(a)]}function mA(n){const e=yf(n);return[V1(n),e,V1(e)]}function V1(n){return n.replace(/start|end/g,e=>hA[e])}function gA(n,e,t){const r=["left","right"],s=["right","left"],l=["top","bottom"],a=["bottom","top"];switch(n){case"top":case"bottom":return t?e?s:r:e?r:s;case"left":case"right":return e?l:a;default:return[]}}function yA(n,e,t,r){const s=Gf(n);let l=gA(Vi(n),t==="start",r);return s&&(l=l.map(a=>a+"-"+s),e&&(l=l.concat(l.map(V1)))),l}function yf(n){return n.replace(/left|right|bottom|top/g,e=>dA[e])}function bA(n){return{top:0,right:0,bottom:0,left:0,...n}}function vA(n){return typeof n!="number"?bA(n):{top:n,right:n,bottom:n,left:n}}function bf(n){const{x:e,y:t,width:r,height:s}=n;return{width:r,height:s,top:t,left:e,right:e+r,bottom:t+s,x:e,y:t}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var CA=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],vf=CA.join(","),b3=typeof Element>"u",Go=b3?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Cf=!b3&&Element.prototype.getRootNode?function(n){var e;return n==null||(e=n.getRootNode)===null||e===void 0?void 0:e.call(n)}:function(n){return n?.ownerDocument},Sf=function n(e,t){var r;t===void 0&&(t=!0);var s=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),l=s===""||s==="true",a=l||t&&e&&n(e.parentNode);return a},SA=function(e){var t,r=e==null||(t=e.getAttribute)===null||t===void 0?void 0:t.call(e,"contenteditable");return r===""||r==="true"},v3=function(e,t,r){if(Sf(e))return[];var s=Array.prototype.slice.apply(e.querySelectorAll(vf));return t&&Go.call(e,vf)&&s.unshift(e),s=s.filter(r),s},C3=function n(e,t,r){for(var s=[],l=Array.from(e);l.length;){var a=l.shift();if(!Sf(a,!1))if(a.tagName==="SLOT"){var c=a.assignedElements(),d=c.length?c:a.children,h=n(d,!0,r);r.flatten?s.push.apply(s,h):s.push({scopeParent:a,candidates:h})}else{var m=Go.call(a,vf);m&&r.filter(a)&&(t||!e.includes(a))&&s.push(a);var g=a.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(a),b=!Sf(g,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(a));if(g&&b){var v=n(g===!0?a.children:g.children,!0,r);r.flatten?s.push.apply(s,v):s.push({scopeParent:a,candidates:v})}else l.unshift.apply(l,a.children)}}return s},S3=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},x3=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||SA(e))&&!S3(e)?0:e.tabIndex},xA=function(e,t){var r=x3(e);return r<0&&t&&!S3(e)?0:r},EA=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},E3=function(e){return e.tagName==="INPUT"},wA=function(e){return E3(e)&&e.type==="hidden"},MA=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return t},TA=function(e,t){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===t)return e[r]},AA=function(e){if(!e.name)return!0;var t=e.form||Cf(e),r=function(c){return t.querySelectorAll('input[type="radio"][name="'+c+'"]')},s;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")s=r(window.CSS.escape(e.name));else try{s=r(e.name)}catch(a){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",a.message),!1}var l=TA(s,e.form);return!l||l===e},kA=function(e){return E3(e)&&e.type==="radio"},OA=function(e){return kA(e)&&!AA(e)},RA=function(e){var t,r=e&&Cf(e),s=(t=r)===null||t===void 0?void 0:t.host,l=!1;if(r&&r!==e){var a,c,d;for(l=!!((a=s)!==null&&a!==void 0&&(c=a.ownerDocument)!==null&&c!==void 0&&c.contains(s)||e!=null&&(d=e.ownerDocument)!==null&&d!==void 0&&d.contains(e));!l&&s;){var h,m,g;r=Cf(s),s=(h=r)===null||h===void 0?void 0:h.host,l=!!((m=s)!==null&&m!==void 0&&(g=m.ownerDocument)!==null&&g!==void 0&&g.contains(s))}}return l},Dv=function(e){var t=e.getBoundingClientRect(),r=t.width,s=t.height;return r===0&&s===0},NA=function(e,t){var r=t.displayCheck,s=t.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var l=Go.call(e,"details>summary:first-of-type"),a=l?e.parentElement:e;if(Go.call(a,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof s=="function"){for(var c=e;e;){var d=e.parentElement,h=Cf(e);if(d&&!d.shadowRoot&&s(d)===!0)return Dv(e);e.assignedSlot?e=e.assignedSlot:!d&&h!==e.ownerDocument?e=h.host:e=d}e=c}if(RA(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return Dv(e);return!1},DA=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var r=0;r<t.children.length;r++){var s=t.children.item(r);if(s.tagName==="LEGEND")return Go.call(t,"fieldset[disabled] *")?!0:!s.contains(e)}return!0}t=t.parentElement}return!1},_1=function(e,t){return!(t.disabled||Sf(t)||wA(t)||NA(t,e)||MA(t)||DA(t))},U1=function(e,t){return!(OA(t)||x3(t)<0||!_1(e,t))},LA=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},zA=function n(e){var t=[],r=[];return e.forEach(function(s,l){var a=!!s.scopeParent,c=a?s.scopeParent:s,d=xA(c,a),h=a?n(s.candidates):c;d===0?a?t.push.apply(t,h):t.push(c):r.push({documentOrder:l,tabIndex:d,item:s,isScope:a,content:h})}),r.sort(EA).reduce(function(s,l){return l.isScope?s.push.apply(s,l.content):s.push(l.content),s},[]).concat(t)},Yf=function(e,t){t=t||{};var r;return t.getShadowRoot?r=C3([e],t.includeContainer,{filter:U1.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:LA}):r=v3(e,t.includeContainer,U1.bind(null,t)),zA(r)},HA=function(e,t){t=t||{};var r;return t.getShadowRoot?r=C3([e],t.includeContainer,{filter:_1.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):r=v3(e,t.includeContainer,_1.bind(null,t)),r},w3=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return Go.call(e,vf)===!1?!1:U1(t,e)};function M3(){const n=navigator.userAgentData;return n!=null&&n.platform?n.platform:navigator.platform}function T3(){const n=navigator.userAgentData;return n&&Array.isArray(n.brands)?n.brands.map(e=>{let{brand:t,version:r}=e;return t+"/"+r}).join(" "):navigator.userAgent}function A3(){return/apple/i.test(navigator.vendor)}function q1(){const n=/android/i;return n.test(M3())||n.test(T3())}function BA(){return M3().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function k3(){return T3().includes("jsdom/")}const Lv="data-floating-ui-focusable",IA="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])",Kp="ArrowLeft",$p="ArrowRight",jA="ArrowUp",VA="ArrowDown";function mr(n){let e=n.activeElement;for(;((t=e)==null||(t=t.shadowRoot)==null?void 0:t.activeElement)!=null;){var t;e=e.shadowRoot.activeElement}return e}function Ut(n,e){if(!n||!e)return!1;const t=e.getRootNode==null?void 0:e.getRootNode();if(n.contains(e))return!0;if(t&&I1(t)){let r=e;for(;r;){if(n===r)return!0;r=r.parentNode||r.host}}return!1}function Pr(n){return"composedPath"in n?n.composedPath()[0]:n.target}function Gp(n,e){if(e==null)return!1;if("composedPath"in n)return n.composedPath().includes(e);const t=n;return t.target!=null&&e.contains(t.target)}function _A(n){return n.matches("html,body")}function Kt(n){return n?.ownerDocument||document}function Im(n){return bt(n)&&n.matches(IA)}function P1(n){return n?n.getAttribute("role")==="combobox"&&Im(n):!1}function UA(n){if(!n||k3())return!0;try{return n.matches(":focus-visible")}catch{return!0}}function xf(n){return n?n.hasAttribute(Lv)?n:n.querySelector("["+Lv+"]")||n:null}function Io(n,e){let t=n.filter(s=>{var l;return s.parentId===e&&((l=s.context)==null?void 0:l.open)}),r=t;for(;r.length;)r=n.filter(s=>{var l;return(l=r)==null?void 0:l.some(a=>{var c;return s.parentId===a.id&&((c=s.context)==null?void 0:c.open)})}),t=t.concat(r);return t}function qA(n,e){let t,r=-1;function s(l,a){a>r&&(t=l,r=a),Io(n,l).forEach(d=>{s(d.id,a+1)})}return s(e,0),n.find(l=>l.id===t)}function zv(n,e){var t;let r=[],s=(t=n.find(l=>l.id===e))==null?void 0:t.parentId;for(;s;){const l=n.find(a=>a.id===s);s=l?.parentId,l&&(r=r.concat(l))}return r}function qt(n){n.preventDefault(),n.stopPropagation()}function PA(n){return"nativeEvent"in n}function O3(n){return n.mozInputSource===0&&n.isTrusted?!0:q1()&&n.pointerType?n.type==="click"&&n.buttons===1:n.detail===0&&!n.pointerType}function R3(n){return k3()?!1:!q1()&&n.width===0&&n.height===0||q1()&&n.width===1&&n.height===1&&n.pressure===0&&n.detail===0&&n.pointerType==="mouse"||n.width<1&&n.height<1&&n.pressure===0&&n.detail===0&&n.pointerType==="touch"}function Na(n,e){const t=["mouse","pen"];return e||t.push("",void 0),t.includes(n)}var FA=typeof document<"u",KA=function(){},et=FA?E.useLayoutEffect:KA;const $A={...c7};function En(n){const e=E.useRef(n);return et(()=>{e.current=n}),e}const GA=$A.useInsertionEffect,YA=GA||(n=>n());function vt(n){const e=E.useRef(()=>{});return YA(()=>{e.current=n}),E.useCallback(function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return e.current==null?void 0:e.current(...r)},[])}function dc(n,e,t){return Math.floor(n/e)!==t}function ga(n,e){return e<0||e>=n.current.length}function Yp(n,e){return Wt(n,{disabledIndices:e})}function Hv(n,e){return Wt(n,{decrement:!0,startingIndex:n.current.length,disabledIndices:e})}function Wt(n,e){let{startingIndex:t=-1,decrement:r=!1,disabledIndices:s,amount:l=1}=e===void 0?{}:e,a=t;do a+=r?-l:l;while(a>=0&&a<=n.current.length-1&&wc(n,a,s));return a}function ZA(n,e){let{event:t,orientation:r,loop:s,rtl:l,cols:a,disabledIndices:c,minIndex:d,maxIndex:h,prevIndex:m,stopEvent:g=!1}=e,b=m;if(t.key===jA){if(g&&qt(t),m===-1)b=h;else if(b=Wt(n,{startingIndex:b,amount:a,decrement:!0,disabledIndices:c}),s&&(m-a<d||b<0)){const v=m%a,C=h%a,S=h-(C-v);C===v?b=h:b=C>v?S:S-a}ga(n,b)&&(b=m)}if(t.key===VA&&(g&&qt(t),m===-1?b=d:(b=Wt(n,{startingIndex:m,amount:a,disabledIndices:c}),s&&m+a>h&&(b=Wt(n,{startingIndex:m%a-a,amount:a,disabledIndices:c}))),ga(n,b)&&(b=m)),r==="both"){const v=Ho(m/a);t.key===(l?Kp:$p)&&(g&&qt(t),m%a!==a-1?(b=Wt(n,{startingIndex:m,disabledIndices:c}),s&&dc(b,a,v)&&(b=Wt(n,{startingIndex:m-m%a-1,disabledIndices:c}))):s&&(b=Wt(n,{startingIndex:m-m%a-1,disabledIndices:c})),dc(b,a,v)&&(b=m)),t.key===(l?$p:Kp)&&(g&&qt(t),m%a!==0?(b=Wt(n,{startingIndex:m,decrement:!0,disabledIndices:c}),s&&dc(b,a,v)&&(b=Wt(n,{startingIndex:m+(a-m%a),decrement:!0,disabledIndices:c}))):s&&(b=Wt(n,{startingIndex:m+(a-m%a),decrement:!0,disabledIndices:c})),dc(b,a,v)&&(b=m));const C=Ho(h/a)===v;ga(n,b)&&(s&&C?b=t.key===(l?$p:Kp)?h:Wt(n,{startingIndex:m-m%a-1,disabledIndices:c}):b=m)}return b}function JA(n,e,t){const r=[];let s=0;return n.forEach((l,a)=>{let{width:c,height:d}=l,h=!1;for(t&&(s=0);!h;){const m=[];for(let g=0;g<c;g++)for(let b=0;b<d;b++)m.push(s+g+b*e);s%e+c<=e&&m.every(g=>r[g]==null)?(m.forEach(g=>{r[g]=a}),h=!0):s++}}),[...r]}function QA(n,e,t,r,s){if(n===-1)return-1;const l=t.indexOf(n),a=e[n];switch(s){case"tl":return l;case"tr":return a?l+a.width-1:l;case"bl":return a?l+(a.height-1)*r:l;case"br":return t.lastIndexOf(n)}}function XA(n,e){return e.flatMap((t,r)=>n.includes(t)?[r]:[])}function wc(n,e,t){if(typeof t=="function")return t(e);if(t)return t.includes(e);const r=n.current[e];return r==null||r.hasAttribute("disabled")||r.getAttribute("aria-disabled")==="true"}const _a=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function N3(n,e){const t=Yf(n,_a()),r=t.length;if(r===0)return;const s=mr(Kt(n)),l=t.indexOf(s),a=l===-1?e===1?0:r-1:l+e;return t[a]}function D3(n){return N3(Kt(n).body,1)||n}function L3(n){return N3(Kt(n).body,-1)||n}function ya(n,e){const t=e||n.currentTarget,r=n.relatedTarget;return!r||!Ut(t,r)}function WA(n){Yf(n,_a()).forEach(t=>{t.dataset.tabindex=t.getAttribute("tabindex")||"",t.setAttribute("tabindex","-1")})}function Bv(n){n.querySelectorAll("[data-tabindex]").forEach(t=>{const r=t.dataset.tabindex;delete t.dataset.tabindex,r?t.setAttribute("tabindex",r):t.removeAttribute("tabindex")})}function Iv(n,e,t){let{reference:r,floating:s}=n;const l=Kr(e),a=y3(e),c=g3(a),d=Vi(e),h=l==="y",m=r.x+r.width/2-s.width/2,g=r.y+r.height/2-s.height/2,b=r[c]/2-s[c]/2;let v;switch(d){case"top":v={x:m,y:r.y-s.height};break;case"bottom":v={x:m,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:g};break;case"left":v={x:r.x-s.width,y:g};break;default:v={x:r.x,y:r.y}}switch(Gf(e)){case"start":v[a]-=b*(t&&h?-1:1);break;case"end":v[a]+=b*(t&&h?-1:1);break}return v}const ek=async(n,e,t)=>{const{placement:r="bottom",strategy:s="absolute",middleware:l=[],platform:a}=t,c=l.filter(Boolean),d=await(a.isRTL==null?void 0:a.isRTL(e));let h=await a.getElementRects({reference:n,floating:e,strategy:s}),{x:m,y:g}=Iv(h,r,d),b=r,v={},C=0;for(let S=0;S<c.length;S++){const{name:w,fn:A}=c[S],{x:R,y:D,data:P,reset:j}=await A({x:m,y:g,initialPlacement:r,placement:b,strategy:s,middlewareData:v,rects:h,platform:a,elements:{reference:n,floating:e}});m=R??m,g=D??g,v={...v,[w]:{...v[w],...P}},j&&C<=50&&(C++,typeof j=="object"&&(j.placement&&(b=j.placement),j.rects&&(h=j.rects===!0?await a.getElementRects({reference:n,floating:e,strategy:s}):j.rects),{x:m,y:g}=Iv(h,b,d)),S=-1)}return{x:m,y:g,placement:b,strategy:s,middlewareData:v}};async function z3(n,e){var t;e===void 0&&(e={});const{x:r,y:s,platform:l,rects:a,elements:c,strategy:d}=n,{boundary:h="clippingAncestors",rootBoundary:m="viewport",elementContext:g="floating",altBoundary:b=!1,padding:v=0}=$o(e,n),C=vA(v),w=c[b?g==="floating"?"reference":"floating":g],A=bf(await l.getClippingRect({element:(t=await(l.isElement==null?void 0:l.isElement(w)))==null||t?w:w.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(c.floating)),boundary:h,rootBoundary:m,strategy:d})),R=g==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,D=await(l.getOffsetParent==null?void 0:l.getOffsetParent(c.floating)),P=await(l.isElement==null?void 0:l.isElement(D))?await(l.getScale==null?void 0:l.getScale(D))||{x:1,y:1}:{x:1,y:1},j=bf(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:R,offsetParent:D,strategy:d}):R);return{top:(A.top-j.top+C.top)/P.y,bottom:(j.bottom-A.bottom+C.bottom)/P.y,left:(A.left-j.left+C.left)/P.x,right:(j.right-A.right+C.right)/P.x}}const tk=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:s,middlewareData:l,rects:a,initialPlacement:c,platform:d,elements:h}=e,{mainAxis:m=!0,crossAxis:g=!0,fallbackPlacements:b,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:S=!0,...w}=$o(n,e);if((t=l.arrow)!=null&&t.alignmentOffset)return{};const A=Vi(s),R=Kr(c),D=Vi(c)===c,P=await(d.isRTL==null?void 0:d.isRTL(h.floating)),j=b||(D||!S?[yf(c)]:mA(c)),Q=C!=="none";!b&&Q&&j.push(...yA(c,S,C,P));const te=[c,...j],X=await z3(e,w),le=[];let ne=((r=l.flip)==null?void 0:r.overflows)||[];if(m&&le.push(X[A]),g){const re=pA(s,a,P);le.push(X[re[0]],X[re[1]])}if(ne=[...ne,{placement:s,overflows:le}],!le.every(re=>re<=0)){var me,he;const re=(((me=l.flip)==null?void 0:me.index)||0)+1,$=te[re];if($&&(!(g==="alignment"?R!==Kr($):!1)||ne.every(H=>H.overflows[0]>0&&Kr(H.placement)===R)))return{data:{index:re,overflows:ne},reset:{placement:$}};let z=(he=ne.filter(U=>U.overflows[0]<=0).sort((U,H)=>U.overflows[1]-H.overflows[1])[0])==null?void 0:he.placement;if(!z)switch(v){case"bestFit":{var Se;const U=(Se=ne.filter(H=>{if(Q){const Z=Kr(H.placement);return Z===R||Z==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(Z=>Z>0).reduce((Z,k)=>Z+k,0)]).sort((H,Z)=>H[1]-Z[1])[0])==null?void 0:Se[0];U&&(z=U);break}case"initialPlacement":z=c;break}if(s!==z)return{reset:{placement:z}}}return{}}}};async function nk(n,e){const{placement:t,platform:r,elements:s}=n,l=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=Vi(t),c=Gf(t),d=Kr(t)==="y",h=["left","top"].includes(a)?-1:1,m=l&&d?-1:1,g=$o(e,n);let{mainAxis:b,crossAxis:v,alignmentAxis:C}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return c&&typeof C=="number"&&(v=c==="end"?C*-1:C),d?{x:v*m,y:b*h}:{x:b*h,y:v*m}}const rk=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:s,y:l,placement:a,middlewareData:c}=e,d=await nk(e,n);return a===((t=c.offset)==null?void 0:t.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:s+d.x,y:l+d.y,data:{...d,placement:a}}}}},ik=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:s}=e,{mainAxis:l=!0,crossAxis:a=!1,limiter:c={fn:w=>{let{x:A,y:R}=w;return{x:A,y:R}}},...d}=$o(n,e),h={x:t,y:r},m=await z3(e,d),g=Kr(Vi(s)),b=Bm(g);let v=h[b],C=h[g];if(l){const w=b==="y"?"top":"left",A=b==="y"?"bottom":"right",R=v+m[w],D=v-m[A];v=Nv(R,v,D)}if(a){const w=g==="y"?"top":"left",A=g==="y"?"bottom":"right",R=C+m[w],D=C-m[A];C=Nv(R,C,D)}const S=c.fn({...e,[b]:v,[g]:C});return{...S,data:{x:S.x-t,y:S.y-r,enabled:{[b]:l,[g]:a}}}}}},sk=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:s,rects:l,middlewareData:a}=e,{offset:c=0,mainAxis:d=!0,crossAxis:h=!0}=$o(n,e),m={x:t,y:r},g=Kr(s),b=Bm(g);let v=m[b],C=m[g];const S=$o(c,e),w=typeof S=="number"?{mainAxis:S,crossAxis:0}:{mainAxis:0,crossAxis:0,...S};if(d){const D=b==="y"?"height":"width",P=l.reference[b]-l.floating[D]+w.mainAxis,j=l.reference[b]+l.reference[D]-w.mainAxis;v<P?v=P:v>j&&(v=j)}if(h){var A,R;const D=b==="y"?"width":"height",P=["top","left"].includes(Vi(s)),j=l.reference[g]-l.floating[D]+(P&&((A=a.offset)==null?void 0:A[g])||0)+(P?0:w.crossAxis),Q=l.reference[g]+l.reference[D]+(P?0:((R=a.offset)==null?void 0:R[g])||0)-(P?w.crossAxis:0);C<j?C=j:C>Q&&(C=Q)}return{[b]:v,[g]:C}}}};function H3(n){const e=Xn(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=bt(n),l=s?n.offsetWidth:t,a=s?n.offsetHeight:r,c=gf(t)!==l||gf(r)!==a;return c&&(t=l,r=a),{width:t,height:r,$:c}}function jm(n){return tt(n)?n:n.contextElement}function jo(n){const e=jm(n);if(!bt(e))return gr(1);const t=e.getBoundingClientRect(),{width:r,height:s,$:l}=H3(e);let a=(l?gf(t.width):t.width)/r,c=(l?gf(t.height):t.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!c||!Number.isFinite(c))&&(c=1),{x:a,y:c}}const ok=gr(0);function B3(n){const e=Mn(n);return!Kf()||!e.visualViewport?ok:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function lk(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Mn(n)?!1:e}function zs(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const s=n.getBoundingClientRect(),l=jm(n);let a=gr(1);e&&(r?tt(r)&&(a=jo(r)):a=jo(n));const c=lk(l,t,r)?B3(l):gr(0);let d=(s.left+c.x)/a.x,h=(s.top+c.y)/a.y,m=s.width/a.x,g=s.height/a.y;if(l){const b=Mn(l),v=r&&tt(r)?Mn(r):r;let C=b,S=j1(C);for(;S&&r&&v!==C;){const w=jo(S),A=S.getBoundingClientRect(),R=Xn(S),D=A.left+(S.clientLeft+parseFloat(R.paddingLeft))*w.x,P=A.top+(S.clientTop+parseFloat(R.paddingTop))*w.y;d*=w.x,h*=w.y,m*=w.x,g*=w.y,d+=D,h+=P,C=Mn(S),S=j1(C)}}return bf({width:m,height:g,x:d,y:h})}function Vm(n,e){const t=$f(n).scrollLeft;return e?e.left+t:zs(vr(n)).left+t}function I3(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),s=r.left+e.scrollLeft-(t?0:Vm(n,r)),l=r.top+e.scrollTop;return{x:s,y:l}}function ak(n){let{elements:e,rect:t,offsetParent:r,strategy:s}=n;const l=s==="fixed",a=vr(r),c=e?Ff(e.floating):!1;if(r===a||c&&l)return t;let d={scrollLeft:0,scrollTop:0},h=gr(1);const m=gr(0),g=bt(r);if((g||!g&&!l)&&((Pi(r)!=="body"||Va(a))&&(d=$f(r)),bt(r))){const v=zs(r);h=jo(r),m.x=v.x+r.clientLeft,m.y=v.y+r.clientTop}const b=a&&!g&&!l?I3(a,d,!0):gr(0);return{width:t.width*h.x,height:t.height*h.y,x:t.x*h.x-d.scrollLeft*h.x+m.x+b.x,y:t.y*h.y-d.scrollTop*h.y+m.y+b.y}}function uk(n){return Array.from(n.getClientRects())}function ck(n){const e=vr(n),t=$f(n),r=n.ownerDocument.body,s=ks(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),l=ks(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-t.scrollLeft+Vm(n);const c=-t.scrollTop;return Xn(r).direction==="rtl"&&(a+=ks(e.clientWidth,r.clientWidth)-s),{width:s,height:l,x:a,y:c}}function fk(n,e){const t=Mn(n),r=vr(n),s=t.visualViewport;let l=r.clientWidth,a=r.clientHeight,c=0,d=0;if(s){l=s.width,a=s.height;const h=Kf();(!h||h&&e==="fixed")&&(c=s.offsetLeft,d=s.offsetTop)}return{width:l,height:a,x:c,y:d}}function dk(n,e){const t=zs(n,!0,e==="fixed"),r=t.top+n.clientTop,s=t.left+n.clientLeft,l=bt(n)?jo(n):gr(1),a=n.clientWidth*l.x,c=n.clientHeight*l.y,d=s*l.x,h=r*l.y;return{width:a,height:c,x:d,y:h}}function jv(n,e,t){let r;if(e==="viewport")r=fk(n,t);else if(e==="document")r=ck(vr(n));else if(tt(e))r=dk(e,t);else{const s=B3(n);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return bf(r)}function j3(n,e){const t=Zr(n);return t===e||!tt(t)||Yr(t)?!1:Xn(t).position==="fixed"||j3(t,e)}function hk(n,e){const t=e.get(n);if(t)return t;let r=Bi(n,[],!1).filter(c=>tt(c)&&Pi(c)!=="body"),s=null;const l=Xn(n).position==="fixed";let a=l?Zr(n):n;for(;tt(a)&&!Yr(a);){const c=Xn(a),d=Hm(a);!d&&c.position==="fixed"&&(s=null),(l?!d&&!s:!d&&c.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Va(a)&&!d&&j3(n,a))?r=r.filter(m=>m!==a):s=c,a=Zr(a)}return e.set(n,r),r}function pk(n){let{element:e,boundary:t,rootBoundary:r,strategy:s}=n;const a=[...t==="clippingAncestors"?Ff(e)?[]:hk(e,this._c):[].concat(t),r],c=a[0],d=a.reduce((h,m)=>{const g=jv(e,m,s);return h.top=ks(g.top,h.top),h.right=mf(g.right,h.right),h.bottom=mf(g.bottom,h.bottom),h.left=ks(g.left,h.left),h},jv(e,c,s));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function mk(n){const{width:e,height:t}=H3(n);return{width:e,height:t}}function gk(n,e,t){const r=bt(e),s=vr(e),l=t==="fixed",a=zs(n,!0,l,e);let c={scrollLeft:0,scrollTop:0};const d=gr(0);function h(){d.x=Vm(s)}if(r||!r&&!l)if((Pi(e)!=="body"||Va(s))&&(c=$f(e)),r){const v=zs(e,!0,l,e);d.x=v.x+e.clientLeft,d.y=v.y+e.clientTop}else s&&h();l&&!r&&s&&h();const m=s&&!r&&!l?I3(s,c):gr(0),g=a.left+c.scrollLeft-d.x-m.x,b=a.top+c.scrollTop-d.y-m.y;return{x:g,y:b,width:a.width,height:a.height}}function Zp(n){return Xn(n).position==="static"}function Vv(n,e){if(!bt(n)||Xn(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return vr(n)===t&&(t=t.ownerDocument.body),t}function V3(n,e){const t=Mn(n);if(Ff(n))return t;if(!bt(n)){let s=Zr(n);for(;s&&!Yr(s);){if(tt(s)&&!Zp(s))return s;s=Zr(s)}return t}let r=Vv(n,e);for(;r&&cA(r)&&Zp(r);)r=Vv(r,e);return r&&Yr(r)&&Zp(r)&&!Hm(r)?t:r||fA(n)||t}const yk=async function(n){const e=this.getOffsetParent||V3,t=this.getDimensions,r=await t(n.floating);return{reference:gk(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function bk(n){return Xn(n).direction==="rtl"}const vk={convertOffsetParentRelativeRectToViewportRelativeRect:ak,getDocumentElement:vr,getClippingRect:pk,getOffsetParent:V3,getElementRects:yk,getClientRects:uk,getDimensions:mk,getScale:jo,isElement:tt,isRTL:bk};function _3(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function Ck(n,e){let t=null,r;const s=vr(n);function l(){var c;clearTimeout(r),(c=t)==null||c.disconnect(),t=null}function a(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),l();const h=n.getBoundingClientRect(),{left:m,top:g,width:b,height:v}=h;if(c||e(),!b||!v)return;const C=Ho(g),S=Ho(s.clientWidth-(m+b)),w=Ho(s.clientHeight-(g+v)),A=Ho(m),D={rootMargin:-C+"px "+-S+"px "+-w+"px "+-A+"px",threshold:ks(0,mf(1,d))||1};let P=!0;function j(Q){const te=Q[0].intersectionRatio;if(te!==d){if(!P)return a();te?a(!1,te):r=setTimeout(()=>{a(!1,1e-7)},1e3)}te===1&&!_3(h,n.getBoundingClientRect())&&a(),P=!1}try{t=new IntersectionObserver(j,{...D,root:s.ownerDocument})}catch{t=new IntersectionObserver(j,D)}t.observe(n)}return a(!0),l}function _m(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:l=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,h=jm(n),m=s||l?[...h?Bi(h):[],...Bi(e)]:[];m.forEach(A=>{s&&A.addEventListener("scroll",t,{passive:!0}),l&&A.addEventListener("resize",t)});const g=h&&c?Ck(h,t):null;let b=-1,v=null;a&&(v=new ResizeObserver(A=>{let[R]=A;R&&R.target===h&&v&&(v.unobserve(e),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var D;(D=v)==null||D.observe(e)})),t()}),h&&!d&&v.observe(h),v.observe(e));let C,S=d?zs(n):null;d&&w();function w(){const A=zs(n);S&&!_3(S,A)&&t(),S=A,C=requestAnimationFrame(w)}return t(),()=>{var A;m.forEach(R=>{s&&R.removeEventListener("scroll",t),l&&R.removeEventListener("resize",t)}),g?.(),(A=v)==null||A.disconnect(),v=null,d&&cancelAnimationFrame(C)}}const Sk=rk,xk=ik,Ek=tk,wk=sk,Mk=(n,e,t)=>{const r=new Map,s={platform:vk,...t},l={...s.platform,_c:r};return ek(n,e,{...s,platform:l})};var Tk=typeof document<"u",Ak=function(){},Mc=Tk?E.useLayoutEffect:Ak;function Ef(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,s;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Ef(n[r],e[r]))return!1;return!0}if(s=Object.keys(n),t=s.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=t;r--!==0;){const l=s[r];if(!(l==="_owner"&&n.$$typeof)&&!Ef(n[l],e[l]))return!1}return!0}return n!==n&&e!==e}function U3(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function _v(n,e){const t=U3(n);return Math.round(e*t)/t}function Jp(n){const e=E.useRef(n);return Mc(()=>{e.current=n}),e}function kk(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:s,elements:{reference:l,floating:a}={},transform:c=!0,whileElementsMounted:d,open:h}=n,[m,g]=E.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[b,v]=E.useState(r);Ef(b,r)||v(r);const[C,S]=E.useState(null),[w,A]=E.useState(null),R=E.useCallback(H=>{H!==Q.current&&(Q.current=H,S(H))},[]),D=E.useCallback(H=>{H!==te.current&&(te.current=H,A(H))},[]),P=l||C,j=a||w,Q=E.useRef(null),te=E.useRef(null),X=E.useRef(m),le=d!=null,ne=Jp(d),me=Jp(s),he=Jp(h),Se=E.useCallback(()=>{if(!Q.current||!te.current)return;const H={placement:e,strategy:t,middleware:b};me.current&&(H.platform=me.current),Mk(Q.current,te.current,H).then(Z=>{const k={...Z,isPositioned:he.current!==!1};re.current&&!Ef(X.current,k)&&(X.current=k,Uf.flushSync(()=>{g(k)}))})},[b,e,t,me,he]);Mc(()=>{h===!1&&X.current.isPositioned&&(X.current.isPositioned=!1,g(H=>({...H,isPositioned:!1})))},[h]);const re=E.useRef(!1);Mc(()=>(re.current=!0,()=>{re.current=!1}),[]),Mc(()=>{if(P&&(Q.current=P),j&&(te.current=j),P&&j){if(ne.current)return ne.current(P,j,Se);Se()}},[P,j,Se,ne,le]);const $=E.useMemo(()=>({reference:Q,floating:te,setReference:R,setFloating:D}),[R,D]),z=E.useMemo(()=>({reference:P,floating:j}),[P,j]),U=E.useMemo(()=>{const H={position:t,left:0,top:0};if(!z.floating)return H;const Z=_v(z.floating,m.x),k=_v(z.floating,m.y);return c?{...H,transform:"translate("+Z+"px, "+k+"px)",...U3(z.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:Z,top:k}},[t,c,z.floating,m.x,m.y]);return E.useMemo(()=>({...m,update:Se,refs:$,elements:z,floatingStyles:U}),[m,Se,$,z,U])}const Um=(n,e)=>({...Sk(n),options:[n,e]}),qm=(n,e)=>({...xk(n),options:[n,e]}),Ok=(n,e)=>({...wk(n),options:[n,e]}),Pm=(n,e)=>({...Ek(n),options:[n,e]});function Is(n){const e=E.useRef(void 0),t=E.useCallback(r=>{const s=n.map(l=>{if(l!=null){if(typeof l=="function"){const a=l,c=a(r);return typeof c=="function"?c:()=>{a(null)}}return l.current=r,()=>{l.current=null}}});return()=>{s.forEach(l=>l?.())}},n);return E.useMemo(()=>n.every(r=>r==null)?null:r=>{e.current&&(e.current(),e.current=void 0),r!=null&&(e.current=t(r))},n)}function Rk(n,e){const t=n.compareDocumentPosition(e);return t&Node.DOCUMENT_POSITION_FOLLOWING||t&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:t&Node.DOCUMENT_POSITION_PRECEDING||t&Node.DOCUMENT_POSITION_CONTAINS?1:0}const q3=E.createContext({register:()=>{},unregister:()=>{},map:new Map,elementsRef:{current:[]}});function Nk(n){const{children:e,elementsRef:t,labelsRef:r}=n,[s,l]=E.useState(()=>new Set),a=E.useCallback(h=>{l(m=>new Set(m).add(h))},[]),c=E.useCallback(h=>{l(m=>{const g=new Set(m);return g.delete(h),g})},[]),d=E.useMemo(()=>{const h=new Map;return Array.from(s.keys()).sort(Rk).forEach((g,b)=>{h.set(g,b)}),h},[s]);return T.jsx(q3.Provider,{value:E.useMemo(()=>({register:a,unregister:c,map:d,elementsRef:t,labelsRef:r}),[a,c,d,t,r]),children:e})}function Dk(n){n===void 0&&(n={});const{label:e}=n,{register:t,unregister:r,map:s,elementsRef:l,labelsRef:a}=E.useContext(q3),[c,d]=E.useState(null),h=E.useRef(null),m=E.useCallback(g=>{if(h.current=g,c!==null&&(l.current[c]=g,a)){var b;const v=e!==void 0;a.current[c]=v?e:(b=g?.textContent)!=null?b:null}},[c,l,a,e]);return et(()=>{const g=h.current;if(g)return t(g),()=>{r(g)}},[t,r]),et(()=>{const g=h.current?s.get(h.current):null;g!=null&&d(g)},[s]),E.useMemo(()=>({ref:m,index:c??-1}),[c,m])}const Lk="data-floating-ui-focusable",Uv="active",qv="selected",Ua="ArrowLeft",qa="ArrowRight",P3="ArrowUp",Zf="ArrowDown",zk={...c7};let Pv=!1,Hk=0;const Fv=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Hk++;function Bk(){const[n,e]=E.useState(()=>Pv?Fv():void 0);return et(()=>{n==null&&e(Fv())},[]),E.useEffect(()=>{Pv=!0},[]),n}const Ik=zk.useId,Fm=Ik||Bk;function jk(){const n=new Map;return{emit(e,t){var r;(r=n.get(e))==null||r.forEach(s=>s(t))},on(e,t){n.has(e)||n.set(e,new Set),n.get(e).add(t)},off(e,t){var r;(r=n.get(e))==null||r.delete(t)}}}const Vk=E.createContext(null),_k=E.createContext(null),Jf=()=>{var n;return((n=E.useContext(Vk))==null?void 0:n.id)||null},Pa=()=>E.useContext(_k);function Hs(n){return"data-floating-ui-"+n}function on(n){n.current!==-1&&(clearTimeout(n.current),n.current=-1)}const Kv=Hs("safe-polygon");function Qp(n,e,t){if(t&&!Na(t))return 0;if(typeof n=="number")return n;if(typeof n=="function"){const r=n();return typeof r=="number"?r:r?.[e]}return n?.[e]}function Xp(n){return typeof n=="function"?n():n}function Uk(n,e){e===void 0&&(e={});const{open:t,onOpenChange:r,dataRef:s,events:l,elements:a}=n,{enabled:c=!0,delay:d=0,handleClose:h=null,mouseOnly:m=!1,restMs:g=0,move:b=!0}=e,v=Pa(),C=Jf(),S=En(h),w=En(d),A=En(t),R=En(g),D=E.useRef(),P=E.useRef(-1),j=E.useRef(),Q=E.useRef(-1),te=E.useRef(!0),X=E.useRef(!1),le=E.useRef(()=>{}),ne=E.useRef(!1),me=vt(()=>{var U;const H=(U=s.current.openEvent)==null?void 0:U.type;return H?.includes("mouse")&&H!=="mousedown"});E.useEffect(()=>{if(!c)return;function U(H){let{open:Z}=H;Z||(on(P),on(Q),te.current=!0,ne.current=!1)}return l.on("openchange",U),()=>{l.off("openchange",U)}},[c,l]),E.useEffect(()=>{if(!c||!S.current||!t)return;function U(Z){me()&&r(!1,Z,"hover")}const H=Kt(a.floating).documentElement;return H.addEventListener("mouseleave",U),()=>{H.removeEventListener("mouseleave",U)}},[a.floating,t,r,c,S,me]);const he=E.useCallback(function(U,H,Z){H===void 0&&(H=!0),Z===void 0&&(Z="hover");const k=Qp(w.current,"close",D.current);k&&!j.current?(on(P),P.current=window.setTimeout(()=>r(!1,U,Z),k)):H&&(on(P),r(!1,U,Z))},[w,r]),Se=vt(()=>{le.current(),j.current=void 0}),re=vt(()=>{if(X.current){const U=Kt(a.floating).body;U.style.pointerEvents="",U.removeAttribute(Kv),X.current=!1}}),$=vt(()=>s.current.openEvent?["click","mousedown"].includes(s.current.openEvent.type):!1);E.useEffect(()=>{if(!c)return;function U(q){if(on(P),te.current=!1,m&&!Na(D.current)||Xp(R.current)>0&&!Qp(w.current,"open"))return;const J=Qp(w.current,"open",D.current);J?P.current=window.setTimeout(()=>{A.current||r(!0,q,"hover")},J):t||r(!0,q,"hover")}function H(q){if($()){re();return}le.current();const J=Kt(a.floating);if(on(Q),ne.current=!1,S.current&&s.current.floatingContext){t||on(P),j.current=S.current({...s.current.floatingContext,tree:v,x:q.clientX,y:q.clientY,onClose(){re(),Se(),$()||he(q,!0,"safe-polygon")}});const Ce=j.current;J.addEventListener("mousemove",Ce),le.current=()=>{J.removeEventListener("mousemove",Ce)};return}(D.current==="touch"?!Ut(a.floating,q.relatedTarget):!0)&&he(q)}function Z(q){$()||s.current.floatingContext&&(S.current==null||S.current({...s.current.floatingContext,tree:v,x:q.clientX,y:q.clientY,onClose(){re(),Se(),$()||he(q)}})(q))}function k(){on(P)}function F(q){$()||he(q,!1)}if(tt(a.domReference)){const q=a.domReference,J=a.floating;return t&&q.addEventListener("mouseleave",Z),b&&q.addEventListener("mousemove",U,{once:!0}),q.addEventListener("mouseenter",U),q.addEventListener("mouseleave",H),J&&(J.addEventListener("mouseleave",Z),J.addEventListener("mouseenter",k),J.addEventListener("mouseleave",F)),()=>{t&&q.removeEventListener("mouseleave",Z),b&&q.removeEventListener("mousemove",U),q.removeEventListener("mouseenter",U),q.removeEventListener("mouseleave",H),J&&(J.removeEventListener("mouseleave",Z),J.removeEventListener("mouseenter",k),J.removeEventListener("mouseleave",F))}}},[a,c,n,m,b,he,Se,re,r,t,A,v,w,S,s,$,R]),et(()=>{var U;if(c&&t&&(U=S.current)!=null&&(U=U.__options)!=null&&U.blockPointerEvents&&me()){X.current=!0;const Z=a.floating;if(tt(a.domReference)&&Z){var H;const k=Kt(a.floating).body;k.setAttribute(Kv,"");const F=a.domReference,q=v==null||(H=v.nodesRef.current.find(J=>J.id===C))==null||(H=H.context)==null?void 0:H.elements.floating;return q&&(q.style.pointerEvents=""),k.style.pointerEvents="none",F.style.pointerEvents="auto",Z.style.pointerEvents="auto",()=>{k.style.pointerEvents="",F.style.pointerEvents="",Z.style.pointerEvents=""}}}},[c,t,C,a,v,S,me]),et(()=>{t||(D.current=void 0,ne.current=!1,Se(),re())},[t,Se,re]),E.useEffect(()=>()=>{Se(),on(P),on(Q),re()},[c,a.domReference,Se,re]);const z=E.useMemo(()=>{function U(H){D.current=H.pointerType}return{onPointerDown:U,onPointerEnter:U,onMouseMove(H){const{nativeEvent:Z}=H;function k(){!te.current&&!A.current&&r(!0,Z,"hover")}m&&!Na(D.current)||t||Xp(R.current)===0||ne.current&&H.movementX**2+H.movementY**2<2||(on(Q),D.current==="touch"?k():(ne.current=!0,Q.current=window.setTimeout(k,Xp(R.current))))}}},[m,r,t,A,R]);return E.useMemo(()=>c?{reference:z}:{},[c,z])}const $v=()=>{},qk=E.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:$v,setState:$v,isInstantPhase:!1});function Pk(n){const{children:e,delay:t,timeoutMs:r=0}=n,[s,l]=E.useReducer((d,h)=>({...d,...h}),{delay:t,timeoutMs:r,initialDelay:t,currentId:null,isInstantPhase:!1}),a=E.useRef(null),c=E.useCallback(d=>{l({currentId:d})},[]);return et(()=>{s.currentId?a.current===null?a.current=s.currentId:s.isInstantPhase||l({isInstantPhase:!0}):(s.isInstantPhase&&l({isInstantPhase:!1}),a.current=null)},[s.currentId,s.isInstantPhase]),T.jsx(qk.Provider,{value:E.useMemo(()=>({...s,setState:l,setCurrentId:c}),[s,c]),children:e})}let Gv=0;function ds(n,e){e===void 0&&(e={});const{preventScroll:t=!1,cancelPrevious:r=!0,sync:s=!1}=e;r&&cancelAnimationFrame(Gv);const l=()=>n?.focus({preventScroll:t});s?l():Gv=requestAnimationFrame(l)}function Fk(n){return n?.ownerDocument||document}const Vo={inert:new WeakMap,"aria-hidden":new WeakMap,none:new WeakMap};function Yv(n){return n==="inert"?Vo.inert:n==="aria-hidden"?Vo["aria-hidden"]:Vo.none}let hc=new WeakSet,pc={},Wp=0;const Kk=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,F3=n=>n&&(n.host||F3(n.parentNode)),$k=(n,e)=>e.map(t=>{if(n.contains(t))return t;const r=F3(t);return n.contains(r)?r:null}).filter(t=>t!=null);function Gk(n,e,t,r){const s="data-floating-ui-inert",l=r?"inert":t?"aria-hidden":null,a=$k(e,n),c=new Set,d=new Set(a),h=[];pc[s]||(pc[s]=new WeakMap);const m=pc[s];a.forEach(g),b(e),c.clear();function g(v){!v||c.has(v)||(c.add(v),v.parentNode&&g(v.parentNode))}function b(v){!v||d.has(v)||[].forEach.call(v.children,C=>{if(Pi(C)!=="script")if(c.has(C))b(C);else{const S=l?C.getAttribute(l):null,w=S!==null&&S!=="false",A=Yv(l),R=(A.get(C)||0)+1,D=(m.get(C)||0)+1;A.set(C,R),m.set(C,D),h.push(C),R===1&&w&&hc.add(C),D===1&&C.setAttribute(s,""),!w&&l&&C.setAttribute(l,l==="inert"?"":"true")}})}return Wp++,()=>{h.forEach(v=>{const C=Yv(l),w=(C.get(v)||0)-1,A=(m.get(v)||0)-1;C.set(v,w),m.set(v,A),w||(!hc.has(v)&&l&&v.removeAttribute(l),hc.delete(v)),A||v.removeAttribute(s)}),Wp--,Wp||(Vo.inert=new WeakMap,Vo["aria-hidden"]=new WeakMap,Vo.none=new WeakMap,hc=new WeakSet,pc={})}}function Zv(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);const r=Fk(n[0]).body;return Gk(n.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,e,t)}const Qf={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0},wf=E.forwardRef(function(e,t){const[r,s]=E.useState();et(()=>{A3()&&s("button")},[]);const l={ref:t,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[Hs("focus-guard")]:"",style:Qf};return T.jsx("span",{...e,...l})}),K3=E.createContext(null),Jv=Hs("portal");function Yk(n){n===void 0&&(n={});const{id:e,root:t}=n,r=Fm(),s=$3(),[l,a]=E.useState(null),c=E.useRef(null);return et(()=>()=>{l?.remove(),queueMicrotask(()=>{c.current=null})},[l]),et(()=>{if(!r||c.current)return;const d=e?document.getElementById(e):null;if(!d)return;const h=document.createElement("div");h.id=r,h.setAttribute(Jv,""),d.appendChild(h),c.current=h,a(h)},[e,r]),et(()=>{if(t===null||!r||c.current)return;let d=t||s?.portalNode;d&&!tt(d)&&(d=d.current),d=d||document.body;let h=null;e&&(h=document.createElement("div"),h.id=e,d.appendChild(h));const m=document.createElement("div");m.id=r,m.setAttribute(Jv,""),d=h||d,d.appendChild(m),c.current=m,a(m)},[e,t,r,s]),l}function Km(n){const{children:e,id:t,root:r,preserveTabOrder:s=!0}=n,l=Yk({id:t,root:r}),[a,c]=E.useState(null),d=E.useRef(null),h=E.useRef(null),m=E.useRef(null),g=E.useRef(null),b=a?.modal,v=a?.open,C=!!a&&!a.modal&&a.open&&s&&!!(r||l);return E.useEffect(()=>{if(!l||!s||b)return;function S(w){l&&ya(w)&&(w.type==="focusin"?Bv:WA)(l)}return l.addEventListener("focusin",S,!0),l.addEventListener("focusout",S,!0),()=>{l.removeEventListener("focusin",S,!0),l.removeEventListener("focusout",S,!0)}},[l,s,b]),E.useEffect(()=>{l&&(v||Bv(l))},[v,l]),T.jsxs(K3.Provider,{value:E.useMemo(()=>({preserveTabOrder:s,beforeOutsideRef:d,afterOutsideRef:h,beforeInsideRef:m,afterInsideRef:g,portalNode:l,setFocusManagerState:c}),[s,l]),children:[C&&l&&T.jsx(wf,{"data-type":"outside",ref:d,onFocus:S=>{if(ya(S,l)){var w;(w=m.current)==null||w.focus()}else{const A=a?a.domReference:null,R=L3(A);R?.focus()}}}),C&&l&&T.jsx("span",{"aria-owns":l.id,style:Qf}),l&&Uf.createPortal(e,l),C&&l&&T.jsx(wf,{"data-type":"outside",ref:h,onFocus:S=>{if(ya(S,l)){var w;(w=g.current)==null||w.focus()}else{const A=a?a.domReference:null,R=D3(A);R?.focus(),a?.closeOnFocusOut&&a?.onOpenChange(!1,S.nativeEvent,"focus-out")}}})]})}const $3=()=>E.useContext(K3);function Qv(n){return E.useMemo(()=>e=>{n.forEach(t=>{t&&(t.current=e)})},n)}const Zk=20;let hs=[];function Jk(n){hs=hs.filter(e=>e.isConnected),n&&Pi(n)!=="body"&&(hs.push(n),hs.length>Zk&&(hs=hs.slice(-20)))}function Xv(){return hs.slice().reverse().find(n=>n.isConnected)}function Qk(n){const e=_a();return w3(n,e)?n:Yf(n,e)[0]||n}function Wv(n,e){var t;if(!e.current.includes("floating")&&!((t=n.getAttribute("role"))!=null&&t.includes("dialog")))return;const r=_a(),l=HA(n,r).filter(c=>{const d=c.getAttribute("data-tabindex")||"";return w3(c,r)||c.hasAttribute("data-tabindex")&&!d.startsWith("-")}),a=n.getAttribute("tabindex");e.current.includes("floating")||l.length===0?a!=="0"&&n.setAttribute("tabindex","0"):(a!=="-1"||n.hasAttribute("data-tabindex")&&n.getAttribute("data-tabindex")!=="-1")&&(n.setAttribute("tabindex","-1"),n.setAttribute("data-tabindex","-1"))}const Xk=E.forwardRef(function(e,t){return T.jsx("button",{...e,type:"button",ref:t,tabIndex:-1,style:Qf})});function G3(n){const{context:e,children:t,disabled:r=!1,order:s=["content"],guards:l=!0,initialFocus:a=0,returnFocus:c=!0,restoreFocus:d=!1,modal:h=!0,visuallyHiddenDismiss:m=!1,closeOnFocusOut:g=!0,outsideElementsInert:b=!1,getInsideElements:v=()=>[]}=n,{open:C,onOpenChange:S,events:w,dataRef:A,elements:{domReference:R,floating:D}}=e,P=vt(()=>{var xe;return(xe=A.current.floatingContext)==null?void 0:xe.nodeId}),j=vt(v),Q=typeof a=="number"&&a<0,te=P1(R)&&Q,X=Kk(),le=X?l:!0,ne=!le||X&&b,me=En(s),he=En(a),Se=En(c),re=Pa(),$=$3(),z=E.useRef(null),U=E.useRef(null),H=E.useRef(!1),Z=E.useRef(!1),k=E.useRef(-1),F=$!=null,q=xf(D),J=vt(function(xe){return xe===void 0&&(xe=q),xe?Yf(xe,_a()):[]}),ie=vt(xe=>{const Ne=J(xe);return me.current.map(Ee=>R&&Ee==="reference"?R:q&&Ee==="floating"?q:Ne).filter(Boolean).flat()});E.useEffect(()=>{if(r||!h)return;function xe(Ee){if(Ee.key==="Tab"){Ut(q,mr(Kt(q)))&&J().length===0&&!te&&qt(Ee);const we=ie(),at=Pr(Ee);me.current[0]==="reference"&&at===R&&(qt(Ee),Ee.shiftKey?ds(we[we.length-1]):ds(we[1])),me.current[1]==="floating"&&at===q&&Ee.shiftKey&&(qt(Ee),ds(we[0]))}}const Ne=Kt(q);return Ne.addEventListener("keydown",xe),()=>{Ne.removeEventListener("keydown",xe)}},[r,R,q,h,me,te,J,ie]),E.useEffect(()=>{if(r||!D)return;function xe(Ne){const Ee=Pr(Ne),at=J().indexOf(Ee);at!==-1&&(k.current=at)}return D.addEventListener("focusin",xe),()=>{D.removeEventListener("focusin",xe)}},[r,D,J]),E.useEffect(()=>{if(r||!g)return;function xe(){Z.current=!0,setTimeout(()=>{Z.current=!1})}function Ne(Ee){const we=Ee.relatedTarget,at=Ee.currentTarget,st=Pr(Ee);queueMicrotask(()=>{const Qe=P(),Bt=!(Ut(R,we)||Ut(D,we)||Ut(we,D)||Ut($?.portalNode,we)||we!=null&&we.hasAttribute(Hs("focus-guard"))||re&&(Io(re.nodesRef.current,Qe).find(_e=>{var Ye,Yt;return Ut((Ye=_e.context)==null?void 0:Ye.elements.floating,we)||Ut((Yt=_e.context)==null?void 0:Yt.elements.domReference,we)})||zv(re.nodesRef.current,Qe).find(_e=>{var Ye,Yt,de;return[(Ye=_e.context)==null?void 0:Ye.elements.floating,xf((Yt=_e.context)==null?void 0:Yt.elements.floating)].includes(we)||((de=_e.context)==null?void 0:de.elements.domReference)===we})));if(at===R&&q&&Wv(q,me),d&&at!==R&&!(st!=null&&st.isConnected)&&mr(Kt(q))===Kt(q).body){bt(q)&&q.focus();const _e=k.current,Ye=J(),Yt=Ye[_e]||Ye[Ye.length-1]||q;bt(Yt)&&Yt.focus()}if(A.current.insideReactTree){A.current.insideReactTree=!1;return}(te||!h)&&we&&Bt&&!Z.current&&we!==Xv()&&(H.current=!0,S(!1,Ee,"focus-out"))})}if(D&&bt(R))return R.addEventListener("focusout",Ne),R.addEventListener("pointerdown",xe),D.addEventListener("focusout",Ne),()=>{R.removeEventListener("focusout",Ne),R.removeEventListener("pointerdown",xe),D.removeEventListener("focusout",Ne)}},[r,R,D,q,h,re,$,S,g,d,J,te,P,me,A]);const Ce=E.useRef(null),se=E.useRef(null),qe=Qv([Ce,$?.beforeInsideRef]),ze=Qv([se,$?.afterInsideRef]);E.useEffect(()=>{var xe,Ne;if(r||!D)return;const Ee=Array.from(($==null||(xe=$.portalNode)==null?void 0:xe.querySelectorAll("["+Hs("portal")+"]"))||[]),we=re?zv(re.nodesRef.current,P()):[],at=re&&!h?we.map(_e=>{var Ye;return(Ye=_e.context)==null?void 0:Ye.elements.floating}):[],st=(Ne=we.find(_e=>{var Ye;return P1(((Ye=_e.context)==null?void 0:Ye.elements.domReference)||null)}))==null||(Ne=Ne.context)==null?void 0:Ne.elements.domReference,Qe=[D,st,...Ee,...at,...j(),z.current,U.current,Ce.current,se.current,$?.beforeOutsideRef.current,$?.afterOutsideRef.current,me.current.includes("reference")||te?R:null].filter(_e=>_e!=null),Bt=h||te?Zv(Qe,!ne,ne):Zv(Qe);return()=>{Bt()}},[r,R,D,h,me,$,te,le,ne,re,P,j]),et(()=>{if(r||!bt(q))return;const xe=Kt(q),Ne=mr(xe);queueMicrotask(()=>{const Ee=ie(q),we=he.current,at=(typeof we=="number"?Ee[we]:we.current)||q,st=Ut(q,Ne);!Q&&!st&&C&&ds(at,{preventScroll:at===q})})},[r,C,q,Q,ie,he]),et(()=>{if(r||!q)return;const xe=Kt(q),Ne=mr(xe);Jk(Ne);function Ee(st){let{reason:Qe,event:Bt,nested:_e}=st;if(["hover","safe-polygon"].includes(Qe)&&Bt.type==="mouseleave"&&(H.current=!0),Qe==="outside-press")if(_e)H.current=!1;else if(O3(Bt)||R3(Bt))H.current=!1;else{let Ye=!1;document.createElement("div").focus({get preventScroll(){return Ye=!0,!1}}),Ye?H.current=!1:H.current=!0}}w.on("openchange",Ee);const we=xe.createElement("span");we.setAttribute("tabindex","-1"),we.setAttribute("aria-hidden","true"),Object.assign(we.style,Qf),F&&R&&R.insertAdjacentElement("afterend",we);function at(){if(typeof Se.current=="boolean"){const st=R||Xv();return st&&st.isConnected?st:we}return Se.current.current||we}return()=>{w.off("openchange",Ee);const st=mr(xe),Qe=Ut(D,st)||re&&Io(re.nodesRef.current,P()).some(_e=>{var Ye;return Ut((Ye=_e.context)==null?void 0:Ye.elements.floating,st)}),Bt=at();queueMicrotask(()=>{const _e=Qk(Bt);Se.current&&!H.current&&bt(_e)&&(!(_e!==st&&st!==xe.body)||Qe)&&_e.focus({preventScroll:!0}),we.remove()})}},[r,D,q,Se,A,w,re,F,R,P]),E.useEffect(()=>{queueMicrotask(()=>{H.current=!1})},[r]),et(()=>{if(!r&&$)return $.setFocusManagerState({modal:h,closeOnFocusOut:g,open:C,onOpenChange:S,domReference:R}),()=>{$.setFocusManagerState(null)}},[r,$,h,C,S,g,R]),et(()=>{r||q&&Wv(q,me)},[r,q,me]);function Gt(xe){return r||!m||!h?null:T.jsx(Xk,{ref:xe==="start"?z:U,onClick:Ne=>S(!1,Ne.nativeEvent),children:typeof m=="string"?m:"Dismiss"})}const An=!r&&le&&(h?!te:!0)&&(F||h);return T.jsxs(T.Fragment,{children:[An&&T.jsx(wf,{"data-type":"inside",ref:qe,onFocus:xe=>{if(h){const Ee=ie();ds(s[0]==="reference"?Ee[0]:Ee[Ee.length-1])}else if($!=null&&$.preserveTabOrder&&$.portalNode)if(H.current=!1,ya(xe,$.portalNode)){const Ee=D3(R);Ee?.focus()}else{var Ne;(Ne=$.beforeOutsideRef.current)==null||Ne.focus()}}}),!te&&Gt("start"),t,Gt("end"),An&&T.jsx(wf,{"data-type":"inside",ref:ze,onFocus:xe=>{if(h)ds(ie()[0]);else if($!=null&&$.preserveTabOrder&&$.portalNode)if(g&&(H.current=!0),ya(xe,$.portalNode)){const Ee=L3(R);Ee?.focus()}else{var Ne;(Ne=$.afterOutsideRef.current)==null||Ne.focus()}}})]})}function e7(n){return bt(n.target)&&n.target.tagName==="BUTTON"}function Wk(n){return bt(n.target)&&n.target.tagName==="A"}function t7(n){return Im(n)}function Y3(n,e){e===void 0&&(e={});const{open:t,onOpenChange:r,dataRef:s,elements:{domReference:l}}=n,{enabled:a=!0,event:c="click",toggle:d=!0,ignoreMouse:h=!1,keyboardHandlers:m=!0,stickIfOpen:g=!0}=e,b=E.useRef(),v=E.useRef(!1),C=E.useMemo(()=>({onPointerDown(S){b.current=S.pointerType},onMouseDown(S){const w=b.current;S.button===0&&c!=="click"&&(Na(w,!0)&&h||(t&&d&&(!(s.current.openEvent&&g)||s.current.openEvent.type==="mousedown")?r(!1,S.nativeEvent,"click"):(S.preventDefault(),r(!0,S.nativeEvent,"click"))))},onClick(S){const w=b.current;if(c==="mousedown"&&b.current){b.current=void 0;return}Na(w,!0)&&h||(t&&d&&(!(s.current.openEvent&&g)||s.current.openEvent.type==="click")?r(!1,S.nativeEvent,"click"):r(!0,S.nativeEvent,"click"))},onKeyDown(S){b.current=void 0,!(S.defaultPrevented||!m||e7(S))&&(S.key===" "&&!t7(l)&&(S.preventDefault(),v.current=!0),!Wk(S)&&S.key==="Enter"&&r(!(t&&d),S.nativeEvent,"click"))},onKeyUp(S){S.defaultPrevented||!m||e7(S)||t7(l)||S.key===" "&&v.current&&(v.current=!1,r(!(t&&d),S.nativeEvent,"click"))}}),[s,l,c,h,m,r,t,g,d]);return E.useMemo(()=>a?{reference:C}:{},[a,C])}const eO={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},tO={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},n7=n=>{var e,t;return{escapeKey:typeof n=="boolean"?n:(e=n?.escapeKey)!=null?e:!1,outsidePress:typeof n=="boolean"?n:(t=n?.outsidePress)!=null?t:!0}};function $m(n,e){e===void 0&&(e={});const{open:t,onOpenChange:r,elements:s,dataRef:l}=n,{enabled:a=!0,escapeKey:c=!0,outsidePress:d=!0,outsidePressEvent:h="pointerdown",referencePress:m=!1,referencePressEvent:g="pointerdown",ancestorScroll:b=!1,bubbles:v,capture:C}=e,S=Pa(),w=vt(typeof d=="function"?d:()=>!1),A=typeof d=="function"?w:d,R=E.useRef(!1),{escapeKey:D,outsidePress:P}=n7(v),{escapeKey:j,outsidePress:Q}=n7(C),te=E.useRef(!1),X=E.useRef(-1),le=vt($=>{var z;if(!t||!a||!c||$.key!=="Escape"||te.current)return;const U=(z=l.current.floatingContext)==null?void 0:z.nodeId,H=S?Io(S.nodesRef.current,U):[];if(!D&&($.stopPropagation(),H.length>0)){let Z=!0;if(H.forEach(k=>{var F;if((F=k.context)!=null&&F.open&&!k.context.dataRef.current.__escapeKeyBubbles){Z=!1;return}}),!Z)return}r(!1,PA($)?$.nativeEvent:$,"escape-key")}),ne=vt($=>{var z;const U=()=>{var H;le($),(H=Pr($))==null||H.removeEventListener("keydown",U)};(z=Pr($))==null||z.addEventListener("keydown",U)}),me=vt($=>{var z;const U=l.current.insideReactTree;l.current.insideReactTree=!1;const H=R.current;if(R.current=!1,h==="click"&&H||U||typeof A=="function"&&!A($))return;const Z=Pr($),k="["+Hs("inert")+"]",F=Kt(s.floating).querySelectorAll(k);let q=tt(Z)?Z:null;for(;q&&!Yr(q);){const se=Zr(q);if(Yr(se)||!tt(se))break;q=se}if(F.length&&tt(Z)&&!_A(Z)&&!Ut(Z,s.floating)&&Array.from(F).every(se=>!Ut(q,se)))return;if(bt(Z)&&re){const se=Yr(Z),qe=Xn(Z),ze=/auto|scroll/,Gt=se||ze.test(qe.overflowX),An=se||ze.test(qe.overflowY),xe=Gt&&Z.clientWidth>0&&Z.scrollWidth>Z.clientWidth,Ne=An&&Z.clientHeight>0&&Z.scrollHeight>Z.clientHeight,Ee=qe.direction==="rtl",we=Ne&&(Ee?$.offsetX<=Z.offsetWidth-Z.clientWidth:$.offsetX>Z.clientWidth),at=xe&&$.offsetY>Z.clientHeight;if(we||at)return}const J=(z=l.current.floatingContext)==null?void 0:z.nodeId,ie=S&&Io(S.nodesRef.current,J).some(se=>{var qe;return Gp($,(qe=se.context)==null?void 0:qe.elements.floating)});if(Gp($,s.floating)||Gp($,s.domReference)||ie)return;const Ce=S?Io(S.nodesRef.current,J):[];if(Ce.length>0){let se=!0;if(Ce.forEach(qe=>{var ze;if((ze=qe.context)!=null&&ze.open&&!qe.context.dataRef.current.__outsidePressBubbles){se=!1;return}}),!se)return}r(!1,$,"outside-press")}),he=vt($=>{var z;const U=()=>{var H;me($),(H=Pr($))==null||H.removeEventListener(h,U)};(z=Pr($))==null||z.addEventListener(h,U)});E.useEffect(()=>{if(!t||!a)return;l.current.__escapeKeyBubbles=D,l.current.__outsidePressBubbles=P;let $=-1;function z(F){r(!1,F,"ancestor-scroll")}function U(){window.clearTimeout($),te.current=!0}function H(){$=window.setTimeout(()=>{te.current=!1},Kf()?5:0)}const Z=Kt(s.floating);c&&(Z.addEventListener("keydown",j?ne:le,j),Z.addEventListener("compositionstart",U),Z.addEventListener("compositionend",H)),A&&Z.addEventListener(h,Q?he:me,Q);let k=[];return b&&(tt(s.domReference)&&(k=Bi(s.domReference)),tt(s.floating)&&(k=k.concat(Bi(s.floating))),!tt(s.reference)&&s.reference&&s.reference.contextElement&&(k=k.concat(Bi(s.reference.contextElement)))),k=k.filter(F=>{var q;return F!==((q=Z.defaultView)==null?void 0:q.visualViewport)}),k.forEach(F=>{F.addEventListener("scroll",z,{passive:!0})}),()=>{c&&(Z.removeEventListener("keydown",j?ne:le,j),Z.removeEventListener("compositionstart",U),Z.removeEventListener("compositionend",H)),A&&Z.removeEventListener(h,Q?he:me,Q),k.forEach(F=>{F.removeEventListener("scroll",z)}),window.clearTimeout($)}},[l,s,c,A,h,t,r,b,a,D,P,le,j,ne,me,Q,he]),E.useEffect(()=>{l.current.insideReactTree=!1},[l,A,h]);const Se=E.useMemo(()=>({onKeyDown:le,...m&&{[eO[g]]:$=>{r(!1,$.nativeEvent,"reference-press")},...g!=="click"&&{onClick($){r(!1,$.nativeEvent,"reference-press")}}}}),[le,r,m,g]),re=E.useMemo(()=>({onKeyDown:le,onMouseDown(){R.current=!0},onMouseUp(){R.current=!0},[tO[h]]:()=>{l.current.insideReactTree=!0},onBlurCapture(){S||(on(X),l.current.insideReactTree=!0,X.current=window.setTimeout(()=>{l.current.insideReactTree=!1}))}}),[le,h,l,S]);return E.useMemo(()=>a?{reference:Se,floating:re}:{},[a,Se,re])}function nO(n){const{open:e=!1,onOpenChange:t,elements:r}=n,s=Fm(),l=E.useRef({}),[a]=E.useState(()=>jk()),c=Jf()!=null,[d,h]=E.useState(r.reference),m=vt((v,C,S)=>{l.current.openEvent=v?C:void 0,a.emit("openchange",{open:v,event:C,reason:S,nested:c}),t?.(v,C,S)}),g=E.useMemo(()=>({setPositionReference:h}),[]),b=E.useMemo(()=>({reference:d||r.reference||null,floating:r.floating||null,domReference:r.reference}),[d,r.reference,r.floating]);return E.useMemo(()=>({dataRef:l,open:e,onOpenChange:m,elements:b,events:a,floatingId:s,refs:g}),[e,m,b,a,s,g])}function Gm(n){n===void 0&&(n={});const{nodeId:e}=n,t=nO({...n,elements:{reference:null,floating:null,...n.elements}}),r=n.rootContext||t,s=r.elements,[l,a]=E.useState(null),[c,d]=E.useState(null),m=s?.domReference||l,g=E.useRef(null),b=Pa();et(()=>{m&&(g.current=m)},[m]);const v=kk({...n,elements:{...s,...c&&{reference:c}}}),C=E.useCallback(D=>{const P=tt(D)?{getBoundingClientRect:()=>D.getBoundingClientRect(),getClientRects:()=>D.getClientRects(),contextElement:D}:D;d(P),v.refs.setReference(P)},[v.refs]),S=E.useCallback(D=>{(tt(D)||D===null)&&(g.current=D,a(D)),(tt(v.refs.reference.current)||v.refs.reference.current===null||D!==null&&!tt(D))&&v.refs.setReference(D)},[v.refs]),w=E.useMemo(()=>({...v.refs,setReference:S,setPositionReference:C,domReference:g}),[v.refs,S,C]),A=E.useMemo(()=>({...v.elements,domReference:m}),[v.elements,m]),R=E.useMemo(()=>({...v,...r,refs:w,elements:A,nodeId:e}),[v,w,A,e,r]);return et(()=>{r.dataRef.current.floatingContext=R;const D=b?.nodesRef.current.find(P=>P.id===e);D&&(D.context=R)}),E.useMemo(()=>({...v,context:R,refs:w,elements:A}),[v,w,A,R])}function e1(){return BA()&&A3()}function rO(n,e){e===void 0&&(e={});const{open:t,onOpenChange:r,events:s,dataRef:l,elements:a}=n,{enabled:c=!0,visibleOnly:d=!0}=e,h=E.useRef(!1),m=E.useRef(-1),g=E.useRef(!0);E.useEffect(()=>{if(!c)return;const v=Mn(a.domReference);function C(){!t&&bt(a.domReference)&&a.domReference===mr(Kt(a.domReference))&&(h.current=!0)}function S(){g.current=!0}function w(){g.current=!1}return v.addEventListener("blur",C),e1()&&(v.addEventListener("keydown",S,!0),v.addEventListener("pointerdown",w,!0)),()=>{v.removeEventListener("blur",C),e1()&&(v.removeEventListener("keydown",S,!0),v.removeEventListener("pointerdown",w,!0))}},[a.domReference,t,c]),E.useEffect(()=>{if(!c)return;function v(C){let{reason:S}=C;(S==="reference-press"||S==="escape-key")&&(h.current=!0)}return s.on("openchange",v),()=>{s.off("openchange",v)}},[s,c]),E.useEffect(()=>()=>{on(m)},[]);const b=E.useMemo(()=>({onMouseLeave(){h.current=!1},onFocus(v){if(h.current)return;const C=Pr(v.nativeEvent);if(d&&tt(C)){if(e1()&&!v.relatedTarget){if(!g.current&&!Im(C))return}else if(!UA(C))return}r(!0,v.nativeEvent,"focus")},onBlur(v){h.current=!1;const C=v.relatedTarget,S=v.nativeEvent,w=tt(C)&&C.hasAttribute(Hs("focus-guard"))&&C.getAttribute("data-type")==="outside";m.current=window.setTimeout(()=>{var A;const R=mr(a.domReference?a.domReference.ownerDocument:document);!C&&R===a.domReference||Ut((A=l.current.floatingContext)==null?void 0:A.refs.floating.current,R)||Ut(a.domReference,R)||w||r(!1,S,"focus")})}}),[l,a.domReference,r,d]);return E.useMemo(()=>c?{reference:b}:{},[c,b])}function t1(n,e,t){const r=new Map,s=t==="item";let l=n;if(s&&n){const{[Uv]:a,[qv]:c,...d}=n;l=d}return{...t==="floating"&&{tabIndex:-1,[Lk]:""},...l,...e.map(a=>{const c=a?a[t]:null;return typeof c=="function"?n?c(n):null:c}).concat(n).reduce((a,c)=>(c&&Object.entries(c).forEach(d=>{let[h,m]=d;if(!(s&&[Uv,qv].includes(h)))if(h.indexOf("on")===0){if(r.has(h)||r.set(h,[]),typeof m=="function"){var g;(g=r.get(h))==null||g.push(m),a[h]=function(){for(var b,v=arguments.length,C=new Array(v),S=0;S<v;S++)C[S]=arguments[S];return(b=r.get(h))==null?void 0:b.map(w=>w(...C)).find(w=>w!==void 0)}}}else a[h]=m}),a),{})}}function Ym(n){n===void 0&&(n=[]);const e=n.map(c=>c?.reference),t=n.map(c=>c?.floating),r=n.map(c=>c?.item),s=E.useCallback(c=>t1(c,n,"reference"),e),l=E.useCallback(c=>t1(c,n,"floating"),t),a=E.useCallback(c=>t1(c,n,"item"),r);return E.useMemo(()=>({getReferenceProps:s,getFloatingProps:l,getItemProps:a}),[s,l,a])}const iO="Escape";function Xf(n,e,t){switch(n){case"vertical":return e;case"horizontal":return t;default:return e||t}}function mc(n,e){return Xf(e,n===P3||n===Zf,n===Ua||n===qa)}function n1(n,e,t){return Xf(e,n===Zf,t?n===Ua:n===qa)||n==="Enter"||n===" "||n===""}function r7(n,e,t){return Xf(e,t?n===Ua:n===qa,n===Zf)}function i7(n,e,t,r){const s=t?n===qa:n===Ua,l=n===P3;return e==="both"||e==="horizontal"&&r&&r>1?n===iO:Xf(e,s,l)}function sO(n,e){const{open:t,onOpenChange:r,elements:s,floatingId:l}=n,{listRef:a,activeIndex:c,onNavigate:d=()=>{},enabled:h=!0,selectedIndex:m=null,allowEscape:g=!1,loop:b=!1,nested:v=!1,rtl:C=!1,virtual:S=!1,focusItemOnOpen:w="auto",focusItemOnHover:A=!0,openOnArrowKeyDown:R=!0,disabledIndices:D=void 0,orientation:P="vertical",parentOrientation:j,cols:Q=1,scrollItemIntoView:te=!0,virtualItemRef:X,itemSizes:le,dense:ne=!1}=e,me=xf(s.floating),he=En(me),Se=Jf(),re=Pa();et(()=>{n.dataRef.current.orientation=P},[n,P]);const $=vt(()=>{d(H.current===-1?null:H.current)}),z=P1(s.domReference),U=E.useRef(w),H=E.useRef(m??-1),Z=E.useRef(null),k=E.useRef(!0),F=E.useRef($),q=E.useRef(!!s.floating),J=E.useRef(t),ie=E.useRef(!1),Ce=E.useRef(!1),se=En(D),qe=En(t),ze=En(te),Gt=En(m),[An,xe]=E.useState(),[Ne,Ee]=E.useState(),we=vt(()=>{function de(Ue){if(S){var He;(He=Ue.id)!=null&&He.endsWith("-fui-option")&&(Ue.id=l+"-"+Math.random().toString(16).slice(2,10)),xe(Ue.id),re?.events.emit("virtualfocus",Ue),X&&(X.current=Ue)}else ds(Ue,{sync:ie.current,preventScroll:!0})}const je=a.current[H.current],ge=Ce.current;je&&de(je),(ie.current?Ue=>Ue():requestAnimationFrame)(()=>{const Ue=a.current[H.current]||je;if(!Ue)return;je||de(Ue);const He=ze.current;He&&st&&(ge||!k.current)&&(Ue.scrollIntoView==null||Ue.scrollIntoView(typeof He=="boolean"?{block:"nearest",inline:"nearest"}:He))})});et(()=>{h&&(t&&s.floating?U.current&&m!=null&&(Ce.current=!0,H.current=m,$()):q.current&&(H.current=-1,F.current()))},[h,t,s.floating,m,$]),et(()=>{if(h&&t&&s.floating)if(c==null){if(ie.current=!1,Gt.current!=null)return;if(q.current&&(H.current=-1,we()),(!J.current||!q.current)&&U.current&&(Z.current!=null||U.current===!0&&Z.current==null)){let de=0;const je=()=>{a.current[0]==null?(de<2&&(de?requestAnimationFrame:queueMicrotask)(je),de++):(H.current=Z.current==null||n1(Z.current,P,C)||v?Yp(a,se.current):Hv(a,se.current),Z.current=null,$())};je()}}else ga(a,c)||(H.current=c,we(),Ce.current=!1)},[h,t,s.floating,c,Gt,v,a,P,C,$,we,se]),et(()=>{var de;if(!h||s.floating||!re||S||!q.current)return;const je=re.nodesRef.current,ge=(de=je.find(He=>He.id===Se))==null||(de=de.context)==null?void 0:de.elements.floating,Xe=mr(Kt(s.floating)),Ue=je.some(He=>He.context&&Ut(He.context.elements.floating,Xe));ge&&!Ue&&k.current&&ge.focus({preventScroll:!0})},[h,s.floating,re,Se,S]),et(()=>{if(!h||!re||!S||Se)return;function de(je){Ee(je.id),X&&(X.current=je)}return re.events.on("virtualfocus",de),()=>{re.events.off("virtualfocus",de)}},[h,re,S,Se,X]),et(()=>{F.current=$,J.current=t,q.current=!!s.floating}),et(()=>{t||(Z.current=null,U.current=w)},[t,w]);const at=c!=null,st=E.useMemo(()=>{function de(ge){if(!qe.current)return;const Xe=a.current.indexOf(ge);Xe!==-1&&H.current!==Xe&&(H.current=Xe,$())}return{onFocus(ge){let{currentTarget:Xe}=ge;ie.current=!0,de(Xe)},onClick:ge=>{let{currentTarget:Xe}=ge;return Xe.focus({preventScroll:!0})},...A&&{onMouseMove(ge){let{currentTarget:Xe}=ge;ie.current=!0,Ce.current=!1,de(Xe)},onPointerLeave(ge){let{pointerType:Xe}=ge;if(!(!k.current||Xe==="touch")&&(ie.current=!0,H.current=-1,$(),!S)){var Ue;(Ue=he.current)==null||Ue.focus({preventScroll:!0})}}}}},[qe,he,A,a,$,S]),Qe=E.useCallback(()=>{var de;return j??(re==null||(de=re.nodesRef.current.find(je=>je.id===Se))==null||(de=de.context)==null||(de=de.dataRef)==null?void 0:de.current.orientation)},[Se,re,j]),Bt=vt(de=>{if(k.current=!1,ie.current=!0,de.which===229||!qe.current&&de.currentTarget===he.current)return;if(v&&i7(de.key,P,C,Q)){mc(de.key,Qe())||qt(de),r(!1,de.nativeEvent,"list-navigation"),bt(s.domReference)&&(S?re?.events.emit("virtualfocus",s.domReference):s.domReference.focus());return}const je=H.current,ge=Yp(a,D),Xe=Hv(a,D);if(z||(de.key==="Home"&&(qt(de),H.current=ge,$()),de.key==="End"&&(qt(de),H.current=Xe,$())),Q>1){const Ue=le||Array.from({length:a.current.length},()=>({width:1,height:1})),He=JA(Ue,Q,ne),pn=He.findIndex(mn=>mn!=null&&!wc(a,mn,D)),Ot=He.reduce((mn,Cr,Sr)=>Cr!=null&&!wc(a,Cr,D)?Sr:mn,-1),Fi=He[ZA({current:He.map(mn=>mn!=null?a.current[mn]:null)},{event:de,orientation:P,loop:b,rtl:C,cols:Q,disabledIndices:XA([...(typeof D!="function"?D:null)||a.current.map((mn,Cr)=>wc(a,Cr,D)?Cr:void 0),void 0],He),minIndex:pn,maxIndex:Ot,prevIndex:QA(H.current>Xe?ge:H.current,Ue,He,Q,de.key===Zf?"bl":de.key===(C?Ua:qa)?"tr":"tl"),stopEvent:!0})];if(Fi!=null&&(H.current=Fi,$()),P==="both")return}if(mc(de.key,P)){if(qt(de),t&&!S&&mr(de.currentTarget.ownerDocument)===de.currentTarget){H.current=n1(de.key,P,C)?ge:Xe,$();return}n1(de.key,P,C)?b?H.current=je>=Xe?g&&je!==a.current.length?-1:ge:Wt(a,{startingIndex:je,disabledIndices:D}):H.current=Math.min(Xe,Wt(a,{startingIndex:je,disabledIndices:D})):b?H.current=je<=ge?g&&je!==-1?a.current.length:Xe:Wt(a,{startingIndex:je,decrement:!0,disabledIndices:D}):H.current=Math.max(ge,Wt(a,{startingIndex:je,decrement:!0,disabledIndices:D})),ga(a,H.current)&&(H.current=-1),$()}}),_e=E.useMemo(()=>S&&t&&at&&{"aria-activedescendant":Ne||An},[S,t,at,Ne,An]),Ye=E.useMemo(()=>({"aria-orientation":P==="both"?void 0:P,...z?{}:_e,onKeyDown:Bt,onPointerMove(){k.current=!0}}),[_e,Bt,P,z]),Yt=E.useMemo(()=>{function de(ge){w==="auto"&&O3(ge.nativeEvent)&&(U.current=!0)}function je(ge){U.current=w,w==="auto"&&R3(ge.nativeEvent)&&(U.current=!0)}return{..._e,onKeyDown(ge){k.current=!1;const Xe=ge.key.startsWith("Arrow"),Ue=["Home","End"].includes(ge.key),He=Xe||Ue,pn=r7(ge.key,P,C),Ot=i7(ge.key,P,C,Q),Fi=r7(ge.key,Qe(),C),mn=mc(ge.key,P),Cr=(v?Fi:mn)||ge.key==="Enter"||ge.key.trim()==="";if(S&&t){const xr=re?.nodesRef.current.find(js=>js.parentId==null),gn=re&&xr?qA(re.nodesRef.current,xr.id):null;if(He&&gn&&X){const js=new KeyboardEvent("keydown",{key:ge.key,bubbles:!0});if(pn||Ot){var Sr,Ki;const Fa=((Sr=gn.context)==null?void 0:Sr.elements.domReference)===ge.currentTarget,Qo=Ot&&!Fa?(Ki=gn.context)==null?void 0:Ki.elements.domReference:pn?a.current.find(Vs=>Vs?.id===An):null;Qo&&(qt(ge),Qo.dispatchEvent(js),Ee(void 0))}if((mn||Ue)&&gn.context&&gn.context.open&&gn.parentId&&ge.currentTarget!==gn.context.elements.domReference){var or;qt(ge),(or=gn.context.elements.domReference)==null||or.dispatchEvent(js);return}}return Bt(ge)}if(!(!t&&!R&&Xe)){if(Cr){const xr=mc(ge.key,Qe());Z.current=v&&xr?null:ge.key}if(v){Fi&&(qt(ge),t?(H.current=Yp(a,se.current),$()):r(!0,ge.nativeEvent,"list-navigation"));return}mn&&(m!=null&&(H.current=m),qt(ge),!t&&R?r(!0,ge.nativeEvent,"list-navigation"):Bt(ge),t&&$())}},onFocus(){t&&!S&&(H.current=-1,$())},onPointerDown:je,onPointerEnter:je,onMouseDown:de,onClick:de}},[An,_e,Q,Bt,se,w,a,v,$,r,t,R,P,Qe,C,m,re,S,X]);return E.useMemo(()=>h?{reference:Yt,floating:Ye,item:st}:{},[h,Yt,Ye,st])}const oO=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function Zm(n,e){var t,r;e===void 0&&(e={});const{open:s,elements:l,floatingId:a}=n,{enabled:c=!0,role:d="dialog"}=e,h=Fm(),m=((t=l.domReference)==null?void 0:t.id)||h,g=E.useMemo(()=>{var R;return((R=xf(l.floating))==null?void 0:R.id)||a},[l.floating,a]),b=(r=oO.get(d))!=null?r:d,C=Jf()!=null,S=E.useMemo(()=>b==="tooltip"||d==="label"?{["aria-"+(d==="label"?"labelledby":"describedby")]:s?g:void 0}:{"aria-expanded":s?"true":"false","aria-haspopup":b==="alertdialog"?"dialog":b,"aria-controls":s?g:void 0,...b==="listbox"&&{role:"combobox"},...b==="menu"&&{id:m},...b==="menu"&&C&&{role:"menuitem"},...d==="select"&&{"aria-autocomplete":"none"},...d==="combobox"&&{"aria-autocomplete":"list"}},[b,g,C,s,m,d]),w=E.useMemo(()=>{const R={id:g,...b&&{role:b}};return b==="tooltip"||d==="label"?R:{...R,...b==="menu"&&{"aria-labelledby":m}}},[b,g,m,d]),A=E.useCallback(R=>{let{active:D,selected:P}=R;const j={role:"option",...D&&{id:g+"-fui-option"}};switch(d){case"select":return{...j,"aria-selected":D&&P};case"combobox":return{...j,"aria-selected":P}}return{}},[g,d]);return E.useMemo(()=>c?{reference:S,floating:w,item:A}:{},[c,S,w,A])}function lO(n,e){var t;const{open:r,dataRef:s}=n,{listRef:l,activeIndex:a,onMatch:c,onTypingChange:d,enabled:h=!0,findMatch:m=null,resetMs:g=750,ignoreKeys:b=[],selectedIndex:v=null}=e,C=E.useRef(-1),S=E.useRef(""),w=E.useRef((t=v??a)!=null?t:-1),A=E.useRef(null),R=vt(c),D=vt(d),P=En(m),j=En(b);et(()=>{r&&(on(C),A.current=null,S.current="")},[r]),et(()=>{if(r&&S.current===""){var ne;w.current=(ne=v??a)!=null?ne:-1}},[r,v,a]);const Q=vt(ne=>{ne?s.current.typing||(s.current.typing=ne,D(ne)):s.current.typing&&(s.current.typing=ne,D(ne))}),te=vt(ne=>{function me(z,U,H){const Z=P.current?P.current(U,H):U.find(k=>k?.toLocaleLowerCase().indexOf(H.toLocaleLowerCase())===0);return Z?z.indexOf(Z):-1}const he=l.current;if(S.current.length>0&&S.current[0]!==" "&&(me(he,he,S.current)===-1?Q(!1):ne.key===" "&&qt(ne)),he==null||j.current.includes(ne.key)||ne.key.length!==1||ne.ctrlKey||ne.metaKey||ne.altKey)return;r&&ne.key!==" "&&(qt(ne),Q(!0)),he.every(z=>{var U,H;return z?((U=z[0])==null?void 0:U.toLocaleLowerCase())!==((H=z[1])==null?void 0:H.toLocaleLowerCase()):!0})&&S.current===ne.key&&(S.current="",w.current=A.current),S.current+=ne.key,on(C),C.current=window.setTimeout(()=>{S.current="",w.current=A.current,Q(!1)},g);const re=w.current,$=me(he,[...he.slice((re||0)+1),...he.slice(0,(re||0)+1)],S.current);$!==-1?(R($),A.current=$):ne.key!==" "&&(S.current="",Q(!1))}),X=E.useMemo(()=>({onKeyDown:te}),[te]),le=E.useMemo(()=>({onKeyDown:te,onKeyUp(ne){ne.key===" "&&Q(!1)}}),[te,Q]);return E.useMemo(()=>h?{reference:X,floating:le}:{},[h,X,le])}function aO({initialOpen:n=!1,placement:e="top",open:t,onOpenChange:r,delay:s=600,closeDelay:l=0}={}){const[a,c]=E.useState(n),d=t??a,h=r??c,m=Gm({placement:e,open:d,onOpenChange:h,whileElementsMounted:_m,middleware:[Um(4),Pm({crossAxis:e.includes("-"),fallbackAxisSideDirection:"start",padding:4}),qm({padding:4})]}),g=m.context,b=Uk(g,{mouseOnly:!0,move:!1,restMs:s,enabled:t==null,delay:{close:l}}),v=rO(g,{enabled:t==null}),C=$m(g),S=Zm(g,{role:"tooltip"}),w=Ym([b,v,C,S]);return E.useMemo(()=>({open:d,setOpen:h,...w,...m}),[d,h,w,m])}const F1=E.createContext(null);function Z3(){const n=E.useContext(F1);if(n==null)throw new Error("Tooltip components must be wrapped in <TooltipProvider />");return n}function J3({children:n,...e}){const t=aO(e);return e.useDelayGroup?T.jsx(Pk,{delay:{open:e.delay??0,close:e.closeDelay??0},timeoutMs:e.timeout,children:T.jsx(F1.Provider,{value:t,children:n})}):T.jsx(F1.Provider,{value:t,children:n})}const Q3=E.forwardRef(function({children:e,asChild:t=!1,...r},s){const l=Z3(),a=E.isValidElement(e)?parseInt(E.version,10)>=19?e.props.ref:e.ref:void 0,c=Is([l.refs.setReference,s,a]);if(t&&E.isValidElement(e)){const d={"data-tooltip-state":l.open?"open":"closed"};return E.cloneElement(e,l.getReferenceProps({ref:c,...r,...typeof e.props=="object"?e.props:{},...d}))}return T.jsx("button",{ref:c,"data-tooltip-state":l.open?"open":"closed",...l.getReferenceProps(r),children:e})}),X3=E.forwardRef(function({style:e,children:t,portal:r=!0,portalProps:s={},...l},a){const c=Z3(),d=Is([c.refs.setFloating,a]);if(!c.open)return null;const h=T.jsx("div",{ref:d,style:{...c.floatingStyles,...e},...c.getFloatingProps(l),className:"tiptap-tooltip",children:t});return r?T.jsx(Km,{...s,children:h}):h});J3.displayName="Tooltip";Q3.displayName="TooltipTrigger";X3.displayName="TooltipContent";const uO={ctrl:"⌘",alt:"⌥",shift:"⇧"},cO=(n,e)=>{if(e){const t=n.toLowerCase();return uO[t]||n.toUpperCase()}return n.charAt(0).toUpperCase()+n.slice(1)},fO=(n,e)=>n?n.split("-").map(t=>t.trim()).map(t=>cO(t,e)):[],dO=({shortcuts:n})=>n.length===0?null:T.jsx("div",{children:n.map((e,t)=>T.jsxs(E.Fragment,{children:[t>0&&T.jsx("kbd",{children:"+"}),T.jsx("kbd",{children:e})]},t))}),Ct=E.forwardRef(({className:n="",children:e,tooltip:t,showTooltip:r=!0,shortcutKeys:s,"aria-label":l,...a},c)=>{const d=E.useMemo(()=>typeof navigator<"u"&&navigator.platform.toLowerCase().includes("mac"),[]),h=E.useMemo(()=>fO(s,d),[s,d]);return!t||!r?T.jsx("button",{className:`tiptap-button ${n}`.trim(),ref:c,"aria-label":l,...a,children:e}):T.jsxs(J3,{delay:200,children:[T.jsx(Q3,{className:`tiptap-button ${n}`.trim(),ref:c,"aria-label":l,...a,children:e}),T.jsxs(X3,{children:[t,T.jsx(dO,{shortcuts:h})]})]})});Ct.displayName="Button";const K1=E.forwardRef(({orientation:n="horizontal",size:e,className:t="",style:r={},...s},l)=>{const a={...r,...n==="horizontal"&&!e&&{flex:1},...e&&{width:n==="vertical"?"1px":e,height:n==="horizontal"?"1px":e}};return T.jsx("div",{ref:l,...s,className:t,style:a})});K1.displayName="Spacer";const Zo=E.forwardRef(({decorative:n,orientation:e="vertical",className:t="",...r},s)=>{const a=n?{role:"none"}:{"aria-orientation":e==="vertical"?e:void 0,role:"separator"};return T.jsx("div",{className:`tiptap-separator ${t}`.trim(),"data-orientation":e,...a,...r,ref:s})});Zo.displayName="Separator";const Jm=n=>e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})},Qm=(n,e)=>{E.useEffect(()=>{const t=n.current;if(!t)return;let r=!0;r&&requestAnimationFrame(e);const s=new MutationObserver(()=>{r&&requestAnimationFrame(e)});return s.observe(t,{childList:!0,subtree:!0,attributes:!0}),()=>{r=!1,s.disconnect()}},[n,e])},hO=n=>{E.useEffect(()=>{const e=n.current;if(!e)return;const t=()=>Array.from(e.querySelectorAll('button:not([disabled]), [role="button"]:not([disabled]), [tabindex="0"]:not([disabled])')),r=(d,h,m)=>{d.preventDefault();let g=h;g>=m.length?g=0:g<0&&(g=m.length-1),m[g]?.focus()},s=d=>{const h=t();if(!h.length)return;const m=document.activeElement,g=h.indexOf(m);if(!e.contains(m))return;const v={ArrowRight:()=>r(d,g+1,h),ArrowDown:()=>r(d,g+1,h),ArrowLeft:()=>r(d,g-1,h),ArrowUp:()=>r(d,g-1,h),Home:()=>r(d,0,h),End:()=>r(d,h.length-1,h)}[d.key];v&&v()},l=d=>{const h=d.target;e.contains(h)&&h.setAttribute("data-focus-visible","true")},a=d=>{const h=d.target;e.contains(h)&&h.removeAttribute("data-focus-visible")};return e.addEventListener("keydown",s),e.addEventListener("focus",l,!0),e.addEventListener("blur",a,!0),t().forEach(d=>{d.addEventListener("focus",l),d.addEventListener("blur",a)}),()=>{e.removeEventListener("keydown",s),e.removeEventListener("focus",l,!0),e.removeEventListener("blur",a,!0),t().forEach(h=>{h.removeEventListener("focus",l),h.removeEventListener("blur",a)})}},[n])},pO=n=>{const[e,t]=E.useState(!0),r=E.useRef(!1);E.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[]);const s=E.useCallback(()=>{if(!r.current)return;const l=n.current;if(!l)return;const a=Array.from(l.children).some(c=>c instanceof HTMLElement&&c.getAttribute("role")==="group"?c.children.length>0:!1);t(a)},[n]);return Qm(n,s),e},mO=n=>{const[e,t]=E.useState(!0),r=E.useRef(!1);E.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[]);const s=E.useCallback(()=>{if(!r.current)return;const l=n.current;if(!l)return;const a=Array.from(l.children).some(c=>c instanceof HTMLElement);t(a)},[n]);return Qm(n,s),e},gO=n=>{const[e,t]=E.useState(!0),r=E.useRef(!1);E.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[]);const s=E.useCallback(()=>{if(!r.current)return;const l=n.current;if(!l)return;const a=l.previousElementSibling,c=l.nextElementSibling;if(!a||!c){t(!1);return}const d=a.getAttribute("role")==="group"&&c.getAttribute("role")==="group",h=a.children.length>0&&c.children.length>0;t(d&&h)},[n]);return Qm(n,s),e},W3=E.forwardRef(({children:n,className:e,variant:t="fixed",...r},s)=>{const l=E.useRef(null),a=pO(l);return hO(l),a?T.jsx("div",{ref:Jm([l,s]),role:"toolbar","aria-label":"toolbar","data-variant":t,className:`f-tiptap-editor-toolbar ${e||""}`,...r,children:n}):null});W3.displayName="Toolbar";const Mi=E.forwardRef(({children:n,className:e,...t},r)=>{const s=E.useRef(null);return mO(s)?T.jsx("div",{ref:Jm([s,r]),role:"group",className:`f-tiptap-editor-toolbar__group ${e||""}`,...t,children:n}):null});Mi.displayName="ToolbarGroup";const Ti=E.forwardRef(({...n},e)=>{const t=E.useRef(null);return gO(t)?T.jsx(Zo,{ref:Jm([t,e]),orientation:"vertical",decorative:!0,...n}):null});Ti.displayName="ToolbarSeparator";const eC=E.memo(({className:n,...e})=>T.jsx("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:T.jsx("path",{d:"M20.71 7.04006C21.1 6.65006 21.1 6.00006 20.71 5.63006L18.37 3.29006C18 2.90006 17.35 2.90006 16.96 3.29006L15.12 5.12006L18.87 8.87006M3 17.2501V21.0001H6.75L17.81 9.93006L14.06 6.18006L3 17.2501Z",fill:"currentColor"})}));eC.displayName="EditIcon";const tC=E.memo(({className:n,...e})=>T.jsx("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.7071 5.29289C19.0976 5.68342 19.0976 6.31658 18.7071 6.70711L13.4142 12L18.7071 17.2929C19.0976 17.6834 19.0976 18.3166 18.7071 18.7071C18.3166 19.0976 17.6834 19.0976 17.2929 18.7071L12 13.4142L6.70711 18.7071C6.31658 19.0976 5.68342 19.0976 5.29289 18.7071C4.90237 18.3166 4.90237 17.6834 5.29289 17.2929L10.5858 12L5.29289 6.70711C4.90237 6.31658 4.90237 5.68342 5.29289 5.29289C5.68342 4.90237 6.31658 4.90237 6.70711 5.29289L12 10.5858L17.2929 5.29289C17.6834 4.90237 18.3166 4.90237 18.7071 5.29289Z",fill:"currentColor"})}));tC.displayName="XIcon";let yO=0;const bO=()=>yO++;let $1=[];const vO=({html:n,serializedAttrs:e})=>{$1=[{html:n,serializedAttrs:e},...$1.slice(0,9)]},CO=n=>{const e=E.useCallback(h=>{h.defaultPrevented||window.top.postMessage({type:"f-tiptap-node:click",attrs:n.node.attrs},"*")},[]),t=E.useCallback(h=>{h.defaultPrevented||n.deleteNode()},[n]),[r,s]=E.useState(-1),[l,a]=E.useState(!1),[c,d]=E.useState("");return E.useEffect(()=>{r===-1&&s(bO())},[r]),E.useEffect(()=>{if(!l&&r!==-1){const h=JSON.stringify(n.node.attrs),m=$1.find(g=>g.serializedAttrs===h);if(m){d(m.html),a(!0);return}else window.top.postMessage({type:"f-tiptap-node:render",uniqueId:r,attrs:n.node.attrs},"*")}},[l,r]),E.useEffect(()=>{const h=m=>{m.data.type==="f-input-tiptap:render-nodes"&&m.data.nodes.forEach(g=>{if(g.unique_id===r){const b=JSON.stringify(n.node.attrs);vO({html:g.html,serializedAttrs:b}),d(g.html),a(!0)}})};return window.addEventListener("message",h),()=>{window.removeEventListener("message",h)}},[r]),T.jsxs(JM,{className:"tiptap-folio-tiptap-node",tabIndex:0,children:[c?T.jsx("div",{className:"tiptap-folio-tiptap-node__html",dangerouslySetInnerHTML:{__html:c}}):T.jsx("div",{className:"tiptap-folio-tiptap-node__loader-wrap rounded",children:T.jsx("span",{className:"folio-loader"})}),T.jsxs("div",{className:"tiptap-folio-tiptap-node__hover-controls",children:[T.jsx(Ct,{type:"button",role:"button",tabIndex:-1,"aria-label":"Edit",tooltip:"Edit",onClick:e,children:T.jsx(eC,{className:"tiptap-button-icon"})}),T.jsx(Ct,{type:"button",role:"button",tabIndex:-1,"aria-label":"Remove",tooltip:"Remove",onClick:t,children:T.jsx(tC,{className:"tiptap-button-icon"})})]})]})},SO=dn.create({name:"folioTiptapNode",group:"block",draggable:!0,selectable:!0,atom:!0,addAttributes(){return{version:{default:1},type:{default:""},data:{default:{}}}},parseHTML(){return[]},renderHTML({HTMLAttributes:n}){return["div",rt({"data-type":"folio-tiptap-node"},n)]},addNodeView(){return n8(CO)},addCommands(){return{setFolioTiptapNode:(n={})=>({commands:e})=>e.insertContent(n)}}});function hn(n){const{editor:e}=YM();return E.useMemo(()=>n||e,[n,e])}const Xm=E.memo(({className:n,...e})=>T.jsx("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.29289 8.29289C5.68342 7.90237 6.31658 7.90237 6.70711 8.29289L12 13.5858L17.2929 8.29289C17.6834 7.90237 18.3166 7.90237 18.7071 8.29289C19.0976 8.68342 19.0976 9.31658 18.7071 9.70711L12.7071 15.7071C12.3166 16.0976 11.6834 16.0976 11.2929 15.7071L5.29289 9.70711C4.90237 9.31658 4.90237 8.68342 5.29289 8.29289Z",fill:"currentColor"})}));Xm.displayName="ChevronDownIcon";const G1=E.memo(({className:n,...e})=>T.jsx("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:T.jsx("path",{d:"M6 3C6.55228 3 7 3.44772 7 4V11H17V4C17 3.44772 17.4477 3 18 3C18.5523 3 19 3.44772 19 4V20C19 20.5523 18.5523 21 18 21C17.4477 21 17 20.5523 17 20V13H7V20C7 20.5523 6.55228 21 6 21C5.44772 21 5 20.5523 5 20V4C5 3.44772 5.44772 3 6 3Z",fill:"currentColor"})}));G1.displayName="HeadingIcon";const Wf=(n,e)=>e?.schema?e.schema.spec.marks.get(n)!==void 0:!1,Jo=(n,e)=>e?.schema?e.schema.spec.nodes.get(n)!==void 0:!1;function xO(n){return!!n&&n.content.size===0}function EO(n){const{editor:e,node:t,nodePos:r}=n;if(!e||!e.state?.doc)return null;const s=t!=null,l=r!=null;if(!s&&!l)return null;if(l)try{const d=e.state.doc.nodeAt(r);if(d)return{pos:r,node:d}}catch(d){return console.error("Error checking node at position:",d),null}let a=-1,c=null;return e.state.doc.descendants((d,h)=>d===t?(a=h,c=d,!1):!0),a!==-1&&c!==null?{pos:a,node:c}:null}const nC=E.memo(({className:n,...e})=>T.jsxs("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[T.jsx("path",{d:"M5 6C5 5.44772 4.55228 5 4 5C3.44772 5 3 5.44772 3 6V18C3 18.5523 3.44772 19 4 19C4.55228 19 5 18.5523 5 18V13H11V18C11 18.5523 11.4477 19 12 19C12.5523 19 13 18.5523 13 18V6C13 5.44772 12.5523 5 12 5C11.4477 5 11 5.44772 11 6V11H5V6Z",fill:"currentColor"}),T.jsx("path",{d:"M21.0001 10C21.0001 9.63121 20.7971 9.29235 20.472 9.11833C20.1468 8.94431 19.7523 8.96338 19.4454 9.16795L16.4454 11.168C15.9859 11.4743 15.8617 12.0952 16.1681 12.5547C16.4744 13.0142 17.0953 13.1384 17.5548 12.8321L19.0001 11.8685V18C19.0001 18.5523 19.4478 19 20.0001 19C20.5524 19 21.0001 18.5523 21.0001 18V10Z",fill:"currentColor"})]}));nC.displayName="HeadingOneIcon";const rC=E.memo(({className:n,...e})=>T.jsxs("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[T.jsx("path",{d:"M5 6C5 5.44772 4.55228 5 4 5C3.44772 5 3 5.44772 3 6V18C3 18.5523 3.44772 19 4 19C4.55228 19 5 18.5523 5 18V13H11V18C11 18.5523 11.4477 19 12 19C12.5523 19 13 18.5523 13 18V6C13 5.44772 12.5523 5 12 5C11.4477 5 11 5.44772 11 6V11H5V6Z",fill:"currentColor"}),T.jsx("path",{d:"M22.0001 12C22.0001 10.7611 21.1663 9.79297 20.0663 9.42632C18.9547 9.05578 17.6171 9.28724 16.4001 10.2C15.9582 10.5314 15.8687 11.1582 16.2001 11.6C16.5314 12.0418 17.1582 12.1314 17.6001 11.8C18.383 11.2128 19.0455 11.1942 19.4338 11.3237C19.8339 11.457 20.0001 11.7389 20.0001 12C20.0001 12.4839 19.8554 12.7379 19.6537 12.9481C19.4275 13.1837 19.1378 13.363 18.7055 13.6307C18.6313 13.6767 18.553 13.7252 18.4701 13.777C17.9572 14.0975 17.3128 14.5261 16.8163 15.2087C16.3007 15.9177 16.0001 16.8183 16.0001 18C16.0001 18.5523 16.4478 19 17.0001 19H21.0001C21.5523 19 22.0001 18.5523 22.0001 18C22.0001 17.4477 21.5523 17 21.0001 17H18.131C18.21 16.742 18.3176 16.5448 18.4338 16.385C18.6873 16.0364 19.0429 15.7775 19.5301 15.473C19.5898 15.4357 19.6536 15.3966 19.7205 15.3556C20.139 15.0992 20.6783 14.7687 21.0964 14.3332C21.6447 13.7621 22.0001 13.0161 22.0001 12Z",fill:"currentColor"})]}));rC.displayName="HeadingTwoIcon";const iC=E.memo(({className:n,...e})=>T.jsxs("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[T.jsx("path",{d:"M4 5C4.55228 5 5 5.44772 5 6V11H11V6C11 5.44772 11.4477 5 12 5C12.5523 5 13 5.44772 13 6V18C13 18.5523 12.5523 19 12 19C11.4477 19 11 18.5523 11 18V13H5V18C5 18.5523 4.55228 19 4 19C3.44772 19 3 18.5523 3 18V6C3 5.44772 3.44772 5 4 5Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.4608 11.2169C19.1135 11.0531 18.5876 11.0204 18.0069 11.3619C17.5309 11.642 16.918 11.4831 16.638 11.007C16.358 10.531 16.5169 9.91809 16.9929 9.63807C18.1123 8.97962 19.3364 8.94691 20.314 9.40808C21.2839 9.86558 21.9999 10.818 21.9999 12C21.9999 12.7957 21.6838 13.5587 21.1212 14.1213C20.5586 14.6839 19.7956 15 18.9999 15C18.4476 15 17.9999 14.5523 17.9999 14C17.9999 13.4477 18.4476 13 18.9999 13C19.2651 13 19.5195 12.8947 19.707 12.7071C19.8946 12.5196 19.9999 12.2652 19.9999 12C19.9999 11.6821 19.8159 11.3844 19.4608 11.2169Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.0001 14C18.0001 13.4477 18.4478 13 19.0001 13C19.7957 13 20.5588 13.3161 21.1214 13.8787C21.684 14.4413 22.0001 15.2043 22.0001 16C22.0001 17.2853 21.2767 18.3971 20.1604 18.8994C19.0257 19.41 17.642 19.2315 16.4001 18.3C15.9582 17.9686 15.8687 17.3418 16.2001 16.9C16.5314 16.4582 17.1582 16.3686 17.6001 16.7C18.3581 17.2685 18.9744 17.24 19.3397 17.0756C19.7234 16.9029 20.0001 16.5147 20.0001 16C20.0001 15.7348 19.8947 15.4804 19.7072 15.2929C19.5196 15.1054 19.2653 15 19.0001 15C18.4478 15 18.0001 14.5523 18.0001 14Z",fill:"currentColor"})]}));iC.displayName="HeadingThreeIcon";const sC=E.memo(({className:n,...e})=>T.jsxs("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[T.jsx("path",{d:"M4 5C4.55228 5 5 5.44772 5 6V11H11V6C11 5.44772 11.4477 5 12 5C12.5523 5 13 5.44772 13 6V18C13 18.5523 12.5523 19 12 19C11.4477 19 11 18.5523 11 18V13H5V18C5 18.5523 4.55228 19 4 19C3.44772 19 3 18.5523 3 18V6C3 5.44772 3.44772 5 4 5Z",fill:"currentColor"}),T.jsx("path",{d:"M17 9C17.5523 9 18 9.44772 18 10V13H20V10C20 9.44772 20.4477 9 21 9C21.5523 9 22 9.44772 22 10V18C22 18.5523 21.5523 19 21 19C20.4477 19 20 18.5523 20 18V15H17C16.4477 15 16 14.5523 16 14V10C16 9.44772 16.4477 9 17 9Z",fill:"currentColor"})]}));sC.displayName="HeadingFourIcon";const oC=E.memo(({className:n,...e})=>T.jsxs("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[T.jsx("path",{d:"M5 6C5 5.44772 4.55228 5 4 5C3.44772 5 3 5.44772 3 6V18C3 18.5523 3.44772 19 4 19C4.55228 19 5 18.5523 5 18V13H11V18C11 18.5523 11.4477 19 12 19C12.5523 19 13 18.5523 13 18V6C13 5.44772 12.5523 5 12 5C11.4477 5 11 5.44772 11 6V11H5V6Z",fill:"currentColor"}),T.jsx("path",{d:"M16 10C16 9.44772 16.4477 9 17 9H21C21.5523 9 22 9.44772 22 10C22 10.5523 21.5523 11 21 11H18V12H18.3C20.2754 12 22 13.4739 22 15.5C22 17.5261 20.2754 19 18.3 19C17.6457 19 17.0925 18.8643 16.5528 18.5944C16.0588 18.3474 15.8586 17.7468 16.1055 17.2528C16.3525 16.7588 16.9532 16.5586 17.4472 16.8056C17.7074 16.9357 17.9542 17 18.3 17C19.3246 17 20 16.2739 20 15.5C20 14.7261 19.3246 14 18.3 14H17C16.4477 14 16 13.5523 16 13L16 12.9928V10Z",fill:"currentColor"})]}));oC.displayName="HeadingFiveIcon";const lC=E.memo(({className:n,...e})=>T.jsxs("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[T.jsx("path",{d:"M5 6C5 5.44772 4.55228 5 4 5C3.44772 5 3 5.44772 3 6V18C3 18.5523 3.44772 19 4 19C4.55228 19 5 18.5523 5 18V13H11V18C11 18.5523 11.4477 19 12 19C12.5523 19 13 18.5523 13 18V6C13 5.44772 12.5523 5 12 5C11.4477 5 11 5.44772 11 6V11H5V6Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.7071 9.29289C21.0976 9.68342 21.0976 10.3166 20.7071 10.7071C19.8392 11.575 19.2179 12.2949 18.7889 13.0073C18.8587 13.0025 18.929 13 19 13C20.6569 13 22 14.3431 22 16C22 17.6569 20.6569 19 19 19C17.3431 19 16 17.6569 16 16C16 14.6007 16.2837 13.4368 16.8676 12.3419C17.4384 11.2717 18.2728 10.3129 19.2929 9.29289C19.6834 8.90237 20.3166 8.90237 20.7071 9.29289ZM19 17C18.4477 17 18 16.5523 18 16C18 15.4477 18.4477 15 19 15C19.5523 15 20 15.4477 20 16C20 16.5523 19.5523 17 19 17Z",fill:"currentColor"})]}));lC.displayName="HeadingSixIcon";const aC={1:nC,2:rC,3:iC,4:sC,5:oC,6:lC},wO={1:"Ctrl-Alt-1",2:"Ctrl-Alt-2",3:"Ctrl-Alt-3",4:"Ctrl-Alt-4",5:"Ctrl-Alt-5",6:"Ctrl-Alt-6"};function MO(n,e){if(!n)return!1;try{return n.can().toggleNode("heading","paragraph",{level:e})}catch{return!1}}function TO(n,e){return n?n.isActive("heading",{level:e}):!1}function AO(n,e){n&&(n.isActive("heading",{level:e})?n.chain().focus().setNode("paragraph").run():n.chain().focus().toggleNode("heading","paragraph",{level:e}).run())}function kO(n,e,t=!1){return!!(!n||t||!MO(n,e))}function OO(n){const{editor:e,hideWhenUnavailable:t,headingInSchema:r}=n;return!(!r||!e||t&&Wn(e.state.selection))}function uC(n){return`Heading ${n}`}function RO(n,e,t=!1){const r=Jo("heading",n),s=kO(n,e,t),l=TO(n,e),a=aC[e],c=wO[e],d=uC(e);return{headingInSchema:r,isDisabled:s,isActive:l,Icon:a,shortcutKey:c,formattedName:d}}const cC=E.forwardRef(({editor:n,level:e,text:t,hideWhenUnavailable:r=!1,className:s="",disabled:l,onClick:a,children:c,...d},h)=>{const m=hn(n),{headingInSchema:g,isDisabled:b,isActive:v,Icon:C,shortcutKey:S,formattedName:w}=RO(m,e,l),A=E.useCallback(D=>{a?.(D),!D.defaultPrevented&&!b&&m&&AO(m,e)},[a,b,m,e]);return!E.useMemo(()=>OO({editor:m,hideWhenUnavailable:r,headingInSchema:g}),[m,e,r,g])||!m||!m.isEditable?null:T.jsx(Ct,{type:"button",className:s.trim(),disabled:b,"data-style":"ghost","data-active-state":v?"on":"off","data-disabled":b,role:"button",tabIndex:-1,"aria-label":w,"aria-pressed":v,tooltip:w,shortcutKeys:S,onClick:A,...d,ref:h,children:c||T.jsxs(T.Fragment,{children:[T.jsx(C,{className:"tiptap-button-icon"}),t&&T.jsx("span",{className:"tiptap-button-text",children:t})]})})});cC.displayName="HeadingButton";const fC=E.createContext(null);function Wm(){const n=E.useContext(fC);if(!n)throw new Error("DropdownMenu components must be wrapped in <DropdownMenu />");return n}function NO({initialOpen:n=!1,open:e,onOpenChange:t,side:r="bottom",align:s="start"}){const[l,a]=E.useState(n),[c,d]=E.useState(`${r}-${s}`),[h,m]=E.useState(null),g=e??l,b=t??a,v=E.useRef([]),C=E.useRef([]),S=Gm({open:g,onOpenChange:b,placement:c,middleware:[Um({mainAxis:4}),Pm(),qm({padding:4})],whileElementsMounted:_m}),{context:w}=S,A=Ym([Y3(w,{event:"mousedown",toggle:!0,ignoreMouse:!1}),Zm(w,{role:"menu"}),$m(w,{outsidePress:!0,outsidePressEvent:"mousedown"}),sO(w,{listRef:v,activeIndex:h,onNavigate:m,loop:!0}),lO(w,{listRef:C,onMatch:g?m:void 0,activeIndex:h})]),R=E.useCallback((D,P)=>{d(`${D}-${P}`)},[]);return E.useMemo(()=>({open:g,setOpen:b,activeIndex:h,setActiveIndex:m,elementsRef:v,labelsRef:C,updatePosition:R,...A,...S}),[g,b,h,A,S,R])}function dC({children:n,...e}){const t=NO(e);return T.jsx(fC.Provider,{value:t,children:T.jsx(Nk,{elementsRef:t.elementsRef,labelsRef:t.labelsRef,children:n})})}const eg=E.forwardRef(({children:n,asChild:e=!1,...t},r)=>{const s=Wm(),l=E.isValidElement(n)?parseInt(E.version,10)>=19?n.props.ref:n.ref:void 0,a=Is([s.refs.setReference,r,l]);if(e&&E.isValidElement(n)){const c={"data-state":s.open?"open":"closed"};return E.cloneElement(n,s.getReferenceProps({ref:a,...t,...typeof n.props=="object"?n.props:{},"aria-expanded":s.open,"aria-haspopup":"menu",...c}))}return T.jsx("button",{ref:a,"aria-expanded":s.open,"aria-haspopup":"menu","data-state":s.open?"open":"closed",...s.getReferenceProps(t),children:n})});eg.displayName="DropdownMenuTrigger";const tg=E.forwardRef(({style:n,className:e,orientation:t="vertical",side:r="bottom",align:s="start",portal:l=!0,portalProps:a={},...c},d)=>{const h=Wm(),m=Is([h.refs.setFloating,d]);if(E.useEffect(()=>{h.updatePosition(r,s)},[h,r,s]),!h.open)return null;const g=T.jsx(G3,{context:h.context,modal:!1,initialFocus:0,returnFocus:!0,children:T.jsx("div",{ref:m,className:`tiptap-dropdown-menu ${e||""}`,style:{position:h.strategy,top:h.y??0,left:h.x??0,outline:"none",...n},"aria-orientation":t,"data-orientation":t,"data-state":h.open?"open":"closed","data-side":r,"data-align":s,...h.getFloatingProps(c),children:c.children})});return l?T.jsx(Km,{...a,children:g}):g});tg.displayName="DropdownMenuContent";const ng=E.forwardRef(({children:n,disabled:e,asChild:t=!1,onSelect:r,className:s,...l},a)=>{const c=Wm(),d=Dk({label:e?null:n?.toString()}),h=c.activeIndex===d.index,m=E.useCallback(b=>{e||(r?.(),l.onClick?.(b),c.setOpen(!1))},[c,e,r,l]),g={ref:Is([d.ref,a]),role:"menuitem",className:s,tabIndex:h?0:-1,"data-highlighted":h,"aria-disabled":e,...c.getItemProps({...l,onClick:m})};if(t&&E.isValidElement(n)){const b=n.props,v={...g,...typeof n.props=="object"?n.props:{}},C={onClick:S=>{m(S),b.onClick?.(S)}};return E.cloneElement(n,{...v,...C})}return T.jsx("div",{...g,children:n})});ng.displayName="DropdownMenuItem";const rg=E.forwardRef(({children:n,label:e,className:t,...r},s)=>T.jsx("div",{...r,ref:s,role:"group","aria-label":e,className:`tiptap-button-group ${t||""}`,children:n}));rg.displayName="DropdownMenuGroup";const DO=E.forwardRef(({className:n,...e},t)=>T.jsx(Zo,{ref:t,className:`tiptap-dropdown-menu-separator ${n||""}`,...e}));DO.displayName=Zo.displayName;function LO({editor:n,levels:e=[1,2,3,4,5,6],hideWhenUnavailable:t=!1,onOpenChange:r,...s}){const[l,a]=E.useState(!1),c=hn(n),d=Jo("heading",c),h=E.useCallback(S=>{a(S),r?.(S)},[r]),m=E.useCallback(()=>{if(!c)return T.jsx(G1,{className:"tiptap-button-icon"});const S=e.find(A=>c.isActive("heading",{level:A}));if(!S)return T.jsx(G1,{className:"tiptap-button-icon"});const w=aC[S];return T.jsx(w,{className:"tiptap-button-icon"})},[c,e]),g=E.useCallback(()=>c?e.some(S=>c.can().toggleNode("heading","paragraph",{level:S})):!1,[c,e]),b=!g(),v=c?.isActive("heading")??!1;return!E.useMemo(()=>!(!d||!c||t&&(Wn(c.state.selection)||!g())),[d,c,t,g])||!c||!c.isEditable?null:T.jsxs(dC,{open:l,onOpenChange:h,children:[T.jsx(eg,{asChild:!0,children:T.jsxs(Ct,{type:"button",disabled:b,"data-style":"ghost","data-active-state":v?"on":"off","data-disabled":b,role:"button",tabIndex:-1,"aria-label":"Format text as heading","aria-pressed":v,tooltip:"Heading",...s,children:[m(),T.jsx(Xm,{className:"tiptap-button-dropdown-small"})]})}),T.jsx(tg,{children:T.jsx(rg,{children:e.map(S=>T.jsx(ng,{asChild:!0,children:T.jsx(cC,{editor:c,level:S,text:uC(S),tooltip:""})},`heading-${S}`))})})]})}const hC=E.memo(({className:n,...e})=>T.jsxs("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 3C3.44772 3 3 3.44772 3 4V8C3 8.55228 3.44772 9 4 9H8C8.55228 9 9 8.55228 9 8V4C9 3.44772 8.55228 3 8 3H4ZM5 5V7H7V5H5Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 3C15.4477 3 15 3.44772 15 4V8C15 8.55228 15.4477 9 16 9H20C20.5523 9 21 8.55228 21 8V4C21 3.44772 20.5523 3 20 3H16ZM17 5V7H19V5H17Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 15C3.44772 15 3 15.4477 3 16V20C3 20.5523 3.44772 21 4 21H8C8.55228 21 9 20.5523 9 20V16C9 15.4477 8.55228 15 8 15H4ZM5 17V19H7V17H5Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 15C15.4477 15 15 15.4477 15 16V20C15 20.5523 15.4477 21 16 21H20C20.5523 21 21 20.5523 21 20V16C21 15.4477 20.5523 15 20 15H16ZM17 17V19H19V17H17Z",fill:"currentColor"})]}));hC.displayName="BlocksIcon";function zO(n,e){if(!n)return console.log("No editor available for insertFolioTiptapNode"),!1;try{return n.commands.setFolioTiptapNode(e)}catch(t){return console.error("insertFolioTiptapNode error",t),!1}}const pC=E.forwardRef(({editor:n,disabled:e,folioTiptapNodes:t},r)=>{const s=hn(n),l=E.useCallback(a=>{!a.defaultPrevented&&!e&&t&&t[0]&&window.top.postMessage({type:"f-tiptap-node-button:click",attrs:{type:t[0]}},"*")},[e]);return E.useEffect(()=>{const a=c=>{c.origin===window.origin&&(!c.data||c.data.type!=="f-c-tiptap-overlay:saved"||zO(s,c.data.node))};return window.addEventListener("message",a),()=>{window.removeEventListener("message",a)}},[s]),!s||!s.isEditable?null:T.jsx(Ct,{ref:r,type:"button","data-style":"ghost",role:"button",tabIndex:-1,"aria-label":"Add Folio Tiptap Node",tooltip:"Add Folio Tiptap Node",onClick:l,children:T.jsx(hC,{className:"tiptap-button-icon"})})});pC.displayName="FolioTiptapNodeButton";const ed=E.memo(({className:n,...e})=>T.jsxs("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 6C7 5.44772 7.44772 5 8 5H21C21.5523 5 22 5.44772 22 6C22 6.55228 21.5523 7 21 7H8C7.44772 7 7 6.55228 7 6Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 12C7 11.4477 7.44772 11 8 11H21C21.5523 11 22 11.4477 22 12C22 12.5523 21.5523 13 21 13H8C7.44772 13 7 12.5523 7 12Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 18C7 17.4477 7.44772 17 8 17H21C21.5523 17 22 17.4477 22 18C22 18.5523 21.5523 19 21 19H8C7.44772 19 7 18.5523 7 18Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 6C2 5.44772 2.44772 5 3 5H3.01C3.56228 5 4.01 5.44772 4.01 6C4.01 6.55228 3.56228 7 3.01 7H3C2.44772 7 2 6.55228 2 6Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 12C2 11.4477 2.44772 11 3 11H3.01C3.56228 11 4.01 11.4477 4.01 12C4.01 12.5523 3.56228 13 3.01 13H3C2.44772 13 2 12.5523 2 12Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 18C2 17.4477 2.44772 17 3 17H3.01C3.56228 17 4.01 17.4477 4.01 18C4.01 18.5523 3.56228 19 3.01 19H3C2.44772 19 2 18.5523 2 18Z",fill:"currentColor"})]}));ed.displayName="ListIcon";const mC=E.memo(({className:n,...e})=>T.jsxs("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 6C9 5.44772 9.44772 5 10 5H21C21.5523 5 22 5.44772 22 6C22 6.55228 21.5523 7 21 7H10C9.44772 7 9 6.55228 9 6Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 12C9 11.4477 9.44772 11 10 11H21C21.5523 11 22 11.4477 22 12C22 12.5523 21.5523 13 21 13H10C9.44772 13 9 12.5523 9 12Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 18C9 17.4477 9.44772 17 10 17H21C21.5523 17 22 17.4477 22 18C22 18.5523 21.5523 19 21 19H10C9.44772 19 9 18.5523 9 18Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 6C3 5.44772 3.44772 5 4 5H5C5.55228 5 6 5.44772 6 6V10C6 10.5523 5.55228 11 5 11C4.44772 11 4 10.5523 4 10V7C3.44772 7 3 6.55228 3 6Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 10C3 9.44772 3.44772 9 4 9H6C6.55228 9 7 9.44772 7 10C7 10.5523 6.55228 11 6 11H4C3.44772 11 3 10.5523 3 10Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.82219 13.0431C6.54543 13.4047 6.99997 14.1319 6.99997 15C6.99997 15.5763 6.71806 16.0426 6.48747 16.35C6.31395 16.5814 6.1052 16.8044 5.91309 17H5.99997C6.55226 17 6.99997 17.4477 6.99997 18C6.99997 18.5523 6.55226 19 5.99997 19H3.99997C3.44769 19 2.99997 18.5523 2.99997 18C2.99997 17.4237 3.28189 16.9575 3.51247 16.65C3.74323 16.3424 4.03626 16.0494 4.26965 15.8161C4.27745 15.8083 4.2852 15.8006 4.29287 15.7929C4.55594 15.5298 4.75095 15.3321 4.88748 15.15C4.96287 15.0495 4.99021 14.9922 4.99911 14.9714C4.99535 14.9112 4.9803 14.882 4.9739 14.8715C4.96613 14.8588 4.95382 14.845 4.92776 14.8319C4.87723 14.8067 4.71156 14.7623 4.44719 14.8944C3.95321 15.1414 3.35254 14.9412 3.10555 14.4472C2.85856 13.9533 3.05878 13.3526 3.55276 13.1056C4.28839 12.7378 5.12272 12.6934 5.82219 13.0431Z",fill:"currentColor"})]}));mC.displayName="ListOrderedIcon";const gC=E.memo(({className:n,...e})=>T.jsxs("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 6C2 4.89543 2.89543 4 4 4H8C9.10457 4 10 4.89543 10 6V10C10 11.1046 9.10457 12 8 12H4C2.89543 12 2 11.1046 2 10V6ZM8 6H4V10H8V6Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.70711 14.2929C10.0976 14.6834 10.0976 15.3166 9.70711 15.7071L5.70711 19.7071C5.31658 20.0976 4.68342 20.0976 4.29289 19.7071L2.29289 17.7071C1.90237 17.3166 1.90237 16.6834 2.29289 16.2929C2.68342 15.9024 3.31658 15.9024 3.70711 16.2929L5 17.5858L8.29289 14.2929C8.68342 13.9024 9.31658 13.9024 9.70711 14.2929Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 6C12 5.44772 12.4477 5 13 5H21C21.5523 5 22 5.44772 22 6C22 6.55228 21.5523 7 21 7H13C12.4477 7 12 6.55228 12 6Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 12C12 11.4477 12.4477 11 13 11H21C21.5523 11 22 11.4477 22 12C22 12.5523 21.5523 13 21 13H13C12.4477 13 12 12.5523 12 12Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 18C12 17.4477 12.4477 17 13 17H21C21.5523 17 22 17.4477 22 18C22 18.5523 21.5523 19 21 19H13C12.4477 19 12 18.5523 12 18Z",fill:"currentColor"})]}));gC.displayName="ListTodoIcon";const yC=[{label:"Bullet List",type:"bulletList",icon:ed},{label:"Ordered List",type:"orderedList",icon:mC},{label:"Task List",type:"taskList",icon:gC}],HO={bulletList:"Ctrl-Shift-8",orderedList:"Ctrl-Shift-7",taskList:"Ctrl-Shift-9"};function bC(n,e){if(!n)return!1;switch(e){case"bulletList":return n.can().toggleBulletList();case"orderedList":return n.can().toggleOrderedList();case"taskList":return n.can().toggleList("taskList","taskItem");default:return!1}}function ig(n,e){if(!n)return!1;switch(e){case"bulletList":return n.isActive("bulletList");case"orderedList":return n.isActive("orderedList");case"taskList":return n.isActive("taskList");default:return!1}}function BO(n,e){if(n)switch(e){case"bulletList":n.chain().focus().toggleBulletList().run();break;case"orderedList":n.chain().focus().toggleOrderedList().run();break;case"taskList":n.chain().focus().toggleList("taskList","taskItem").run();break}}function IO(n){return yC.find(e=>e.type===n)}function jO(n){const{editor:e,type:t,hideWhenUnavailable:r,listInSchema:s}=n;return!(!s||!e||r&&(Wn(e.state.selection)||!bC(e,t)))}function VO(n,e){const t=Jo(e,n),r=IO(e),s=ig(n,e),l=HO[e];return{listInSchema:t,listOption:r,isActive:s,shortcutKey:l}}const vC=E.forwardRef(({editor:n,type:e,hideWhenUnavailable:t=!1,className:r="",onClick:s,text:l,children:a,...c},d)=>{const h=hn(n),{listInSchema:m,listOption:g,isActive:b,shortcutKey:v}=VO(h,e),C=g?.icon||ed,S=E.useCallback(A=>{s?.(A),!A.defaultPrevented&&h&&BO(h,e)},[s,h,e]);return!E.useMemo(()=>jO({editor:h,type:e,hideWhenUnavailable:t,listInSchema:m}),[h,e,t,m])||!h||!h.isEditable?null:T.jsx(Ct,{type:"button",className:r.trim(),"data-style":"ghost","data-active-state":b?"on":"off",role:"button",tabIndex:-1,"aria-label":g?.label||e,"aria-pressed":b,tooltip:g?.label||e,shortcutKeys:v,onClick:S,...c,ref:d,children:a||T.jsxs(T.Fragment,{children:[T.jsx(C,{className:"tiptap-button-icon"}),l&&T.jsx("span",{className:"tiptap-button-text",children:l})]})})});vC.displayName="ListButton";function _O(n,e){return n?e.some(t=>bC(n,t)):!1}function UO(n,e){return n?e.some(t=>ig(n,t)):!1}function qO(n){return yC.filter(e=>!e.type||n.includes(e.type))}function PO(n){const{editor:e,hideWhenUnavailable:t,listInSchema:r,canToggleAny:s}=n;return!(!r||!e||t&&(Wn(e.state.selection)||!s))}function FO(n,e){const[t,r]=E.useState(!1),s=e.some(h=>Jo(h,n)),l=E.useMemo(()=>qO(e),[e]),a=_O(n,e),c=UO(n,e),d=E.useCallback((h,m)=>{r(h),m?.(h)},[]);return{isOpen:t,setIsOpen:r,listInSchema:s,filteredLists:l,canToggleAny:a,isAnyActive:c,handleOpenChange:d}}function KO(n,e){return E.useCallback(()=>{const t=e.find(r=>ig(n,r.type));return t?T.jsx(t.icon,{className:"tiptap-button-icon"}):T.jsx(ed,{className:"tiptap-button-icon"})},[n,e])}function $O({editor:n,types:e=["bulletList","orderedList","taskList"],hideWhenUnavailable:t=!1,onOpenChange:r,...s}){const l=hn(n),{isOpen:a,listInSchema:c,filteredLists:d,canToggleAny:h,isAnyActive:m,handleOpenChange:g}=FO(l,e),b=KO(l,d),v=E.useMemo(()=>PO({editor:l,hideWhenUnavailable:t,listInSchema:c,canToggleAny:h}),[l,e,t,c,h]),C=E.useCallback(S=>g(S,r),[g,r]);return!v||!l||!l.isEditable?null:T.jsxs(dC,{open:a,onOpenChange:C,children:[T.jsx(eg,{asChild:!0,children:T.jsxs(Ct,{type:"button","data-style":"ghost","data-active-state":m?"on":"off",role:"button",tabIndex:-1,"aria-label":"List options",tooltip:"List",...s,children:[b(),T.jsx(Xm,{className:"tiptap-button-dropdown-small"})]})}),T.jsx(tg,{children:T.jsx(rg,{children:d.map(S=>T.jsx(ng,{asChild:!0,children:T.jsx(vC,{editor:l,type:S.type,text:S.label,hideWhenUnavailable:t,tooltip:""})},S.type))})})]})}const CC=E.memo(({className:n,...e})=>T.jsxs("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 6C8 5.44772 8.44772 5 9 5H16C16.5523 5 17 5.44772 17 6C17 6.55228 16.5523 7 16 7H9C8.44772 7 8 6.55228 8 6Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 3C4.55228 3 5 3.44772 5 4L5 20C5 20.5523 4.55229 21 4 21C3.44772 21 3 20.5523 3 20L3 4C3 3.44772 3.44772 3 4 3Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 12C8 11.4477 8.44772 11 9 11H20C20.5523 11 21 11.4477 21 12C21 12.5523 20.5523 13 20 13H9C8.44772 13 8 12.5523 8 12Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 18C8 17.4477 8.44772 17 9 17H16C16.5523 17 17 17.4477 17 18C17 18.5523 16.5523 19 16 19H9C8.44772 19 8 18.5523 8 18Z",fill:"currentColor"})]}));CC.displayName="BlockQuoteIcon";function GO(n){if(!n)return!1;try{return n.can().toggleWrap("blockquote")}catch{return!1}}function YO(n){return n?n.isActive("blockquote"):!1}function ZO(n){return n?n.chain().focus().toggleWrap("blockquote").run():!1}function JO(n,e,t=!1){return!!(!n||t||!e)}function QO(n){const{editor:e,hideWhenUnavailable:t,nodeInSchema:r,canToggle:s}=n;return!r||!e||t&&(Wn(e.state.selection)||!s)?!1:!!e?.isEditable}function XO(n,e=!1,t=!1){const r=Jo("blockquote",n),s=GO(n),l=JO(n,s,e),a=YO(n),c=E.useMemo(()=>QO({editor:n,hideWhenUnavailable:t,nodeInSchema:r,canToggle:s}),[n,t,r,s]),d=E.useCallback(()=>!l&&n?ZO(n):!1,[n,l]);return{nodeInSchema:r,canToggle:s,isDisabled:l,isActive:a,shouldShow:c,handleToggle:d,shortcutKey:"Ctrl-Shift-b",label:"Blockquote"}}const SC=E.forwardRef(({editor:n,text:e,hideWhenUnavailable:t=!1,className:r="",disabled:s,onClick:l,children:a,...c},d)=>{const h=hn(n),{isDisabled:m,isActive:g,shouldShow:b,handleToggle:v,shortcutKey:C,label:S}=XO(h,s,t),w=E.useCallback(A=>{l?.(A),!A.defaultPrevented&&!m&&v()},[l,m,v]);return!b||!h||!h.isEditable?null:T.jsx(Ct,{type:"button",className:r.trim(),disabled:m,"data-style":"ghost","data-active-state":g?"on":"off","data-disabled":m,role:"button",tabIndex:-1,"aria-label":"blockquote","aria-pressed":g,tooltip:S,shortcutKeys:C,onClick:w,...c,ref:d,children:a||T.jsxs(T.Fragment,{children:[T.jsx(CC,{className:"tiptap-button-icon"}),e&&T.jsx("span",{className:"tiptap-button-text",children:e})]})})});SC.displayName="BlockQuoteButton";const xC=E.memo(({className:n,...e})=>T.jsxs("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.70711 2.29289C7.09763 2.68342 7.09763 3.31658 6.70711 3.70711L4.41421 6L6.70711 8.29289C7.09763 8.68342 7.09763 9.31658 6.70711 9.70711C6.31658 10.0976 5.68342 10.0976 5.29289 9.70711L2.29289 6.70711C1.90237 6.31658 1.90237 5.68342 2.29289 5.29289L5.29289 2.29289C5.68342 1.90237 6.31658 1.90237 6.70711 2.29289Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.2929 2.29289C10.6834 1.90237 11.3166 1.90237 11.7071 2.29289L14.7071 5.29289C15.0976 5.68342 15.0976 6.31658 14.7071 6.70711L11.7071 9.70711C11.3166 10.0976 10.6834 10.0976 10.2929 9.70711C9.90237 9.31658 9.90237 8.68342 10.2929 8.29289L12.5858 6L10.2929 3.70711C9.90237 3.31658 9.90237 2.68342 10.2929 2.29289Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17 4C17 3.44772 17.4477 3 18 3H19C20.6569 3 22 4.34315 22 6V18C22 19.6569 20.6569 21 19 21H5C3.34315 21 2 19.6569 2 18V12C2 11.4477 2.44772 11 3 11C3.55228 11 4 11.4477 4 12V18C4 18.5523 4.44772 19 5 19H19C19.5523 19 20 18.5523 20 18V6C20 5.44772 19.5523 5 19 5H18C17.4477 5 17 4.55228 17 4Z",fill:"currentColor"})]}));xC.displayName="CodeBlockIcon";function WO(n){if(!n)return!1;try{return n.can().toggleNode("codeBlock","paragraph")}catch{return!1}}function eR(n){return n?n.isActive("codeBlock"):!1}function tR(n){return n?n.chain().focus().toggleNode("codeBlock","paragraph").run():!1}function nR(n,e,t=!1){return!!(!n||t||!e)}function rR(n){const{editor:e,hideWhenUnavailable:t,nodeInSchema:r,canToggle:s}=n;return!r||!e||t&&(Wn(e.state.selection)||!s)?!1:!!e?.isEditable}function iR(n,e=!1,t=!1){const r=Jo("codeBlock",n),s=WO(n),l=nR(n,s,e),a=eR(n),c=E.useMemo(()=>rR({editor:n,hideWhenUnavailable:t,nodeInSchema:r,canToggle:s}),[n,t,r,s]),d=E.useCallback(()=>!l&&n?tR(n):!1,[n,l]);return{nodeInSchema:r,canToggle:s,isDisabled:l,isActive:a,shouldShow:c,handleToggle:d,shortcutKey:"Ctrl-Alt-c",label:"Code Block"}}const EC=E.forwardRef(({editor:n,text:e,hideWhenUnavailable:t=!1,className:r="",disabled:s,onClick:l,children:a,...c},d)=>{const h=hn(n),{isDisabled:m,isActive:g,shouldShow:b,handleToggle:v,shortcutKey:C,label:S}=iR(h,s,t),w=E.useCallback(A=>{l?.(A),!A.defaultPrevented&&!m&&v()},[l,m,v]);return!b||!h||!h.isEditable?null:T.jsx(Ct,{type:"button",className:r.trim(),disabled:m,"data-style":"ghost","data-active-state":g?"on":"off","data-disabled":m,role:"button",tabIndex:-1,"aria-label":"codeBlock","aria-pressed":g,tooltip:S,shortcutKeys:C,onClick:w,...c,ref:d,children:a||T.jsxs(T.Fragment,{children:[T.jsx(xC,{className:"tiptap-button-icon"}),e&&T.jsx("span",{className:"tiptap-button-text",children:e})]})})});EC.displayName="CodeBlockButton";function sR({editor:n,containerRef:e,query:t,items:r,onSelect:s,onClose:l,orientation:a="vertical",autoSelectFirstItem:c=!0}){const[d,h]=E.useState(c?0:-1);return E.useEffect(()=>{const m=b=>{if(!r.length)return!1;const v=()=>h(S=>S===-1?0:(S+1)%r.length),C=()=>h(S=>S===-1?r.length-1:(S-1+r.length)%r.length);switch(b.key){case"ArrowUp":return a==="horizontal"?!1:(b.preventDefault(),C(),!0);case"ArrowDown":return a==="horizontal"?!1:(b.preventDefault(),v(),!0);case"ArrowLeft":return a==="vertical"?!1:(b.preventDefault(),C(),!0);case"ArrowRight":return a==="vertical"?!1:(b.preventDefault(),v(),!0);case"Tab":return b.preventDefault(),b.shiftKey?C():v(),!0;case"Home":return b.preventDefault(),h(0),!0;case"End":return b.preventDefault(),h(r.length-1),!0;case"Enter":return b.isComposing?!1:(b.preventDefault(),d!==-1&&r[d]&&s?.(r[d]),!0);case"Escape":return b.preventDefault(),l?.(),!0;default:return!1}};let g=null;if(n?g=n.view.dom:e?.current&&(g=e.current),g)return g.addEventListener("keydown",m,!0),()=>{g?.removeEventListener("keydown",m,!0)}},[n,e,r,d,s,l,a]),E.useEffect(()=>{t&&h(c?0:-1)},[t,c]),{selectedIndex:r.length?d:void 0,setSelectedIndex:h}}const wC=E.memo(({className:n,...e})=>T.jsx("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.43471 4.01458C4.34773 4.06032 4.26607 4.11977 4.19292 4.19292C4.11977 4.26607 4.06032 4.34773 4.01458 4.43471C2.14611 6.40628 1 9.0693 1 12C1 18.0751 5.92487 23 12 23C14.9306 23 17.5936 21.854 19.5651 19.9856C19.6522 19.9398 19.7339 19.8803 19.8071 19.8071C19.8803 19.7339 19.9398 19.6522 19.9856 19.5651C21.854 17.5936 23 14.9306 23 12C23 5.92487 18.0751 1 12 1C9.0693 1 6.40628 2.14611 4.43471 4.01458ZM6.38231 4.9681C7.92199 3.73647 9.87499 3 12 3C16.9706 3 21 7.02944 21 12C21 14.125 20.2635 16.078 19.0319 17.6177L6.38231 4.9681ZM17.6177 19.0319C16.078 20.2635 14.125 21 12 21C7.02944 21 3 16.9706 3 12C3 9.87499 3.73647 7.92199 4.9681 6.38231L17.6177 19.0319Z",fill:"currentColor"})}));wC.displayName="BanIcon";const sg=E.memo(({className:n,...e})=>T.jsx("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.7072 4.70711C15.0977 4.31658 15.0977 3.68342 14.7072 3.29289C14.3167 2.90237 13.6835 2.90237 13.293 3.29289L8.69294 7.89286L8.68594 7.9C8.13626 8.46079 7.82837 9.21474 7.82837 10C7.82837 10.2306 7.85491 10.4584 7.90631 10.6795L2.29289 16.2929C2.10536 16.4804 2 16.7348 2 17V20C2 20.5523 2.44772 21 3 21H12C12.2652 21 12.5196 20.8946 12.7071 20.7071L15.3205 18.0937C15.5416 18.1452 15.7695 18.1717 16.0001 18.1717C16.7853 18.1717 17.5393 17.8639 18.1001 17.3142L22.7072 12.7071C23.0977 12.3166 23.0977 11.6834 22.7072 11.2929C22.3167 10.9024 21.6835 10.9024 21.293 11.2929L16.6971 15.8887C16.5105 16.0702 16.2605 16.1717 16.0001 16.1717C15.7397 16.1717 15.4897 16.0702 15.303 15.8887L10.1113 10.697C9.92992 10.5104 9.82837 10.2604 9.82837 10C9.82837 9.73963 9.92992 9.48958 10.1113 9.30297L14.7072 4.70711ZM13.5858 17L9.00004 12.4142L4 17.4142V19H11.5858L13.5858 17Z",fill:"currentColor"})}));sg.displayName="HighlighterIcon";const MC=E.createContext(null);function TC(){const n=E.useContext(MC);if(!n)throw new Error("Popover components must be wrapped in <Popover />");return n}function oR({initialOpen:n=!1,modal:e,open:t,onOpenChange:r,side:s="bottom",align:l="center",sideOffset:a=4,alignOffset:c=0}={}){const[d,h]=E.useState(n),[m,g]=E.useState(),[b,v]=E.useState(),[C,S]=E.useState(`${s}-${l}`),[w,A]=E.useState({sideOffset:a,alignOffset:c}),R=t??d,D=r??h,P=E.useMemo(()=>[Um({mainAxis:w.sideOffset,crossAxis:w.alignOffset}),Pm({fallbackAxisSideDirection:"end",crossAxis:!1}),qm({limiter:Ok({offset:w.sideOffset})})],[w.sideOffset,w.alignOffset]),j=Gm({placement:C,open:R,onOpenChange:D,whileElementsMounted:_m,middleware:P}),Q=Ym([Y3(j.context),$m(j.context),Zm(j.context)]),te=E.useCallback((X,le,ne,me)=>{S(`${X}-${le}`),(ne!==void 0||me!==void 0)&&A({sideOffset:ne??w.sideOffset,alignOffset:me??w.alignOffset})},[w.sideOffset,w.alignOffset]);return E.useMemo(()=>({open:R,setOpen:D,...Q,...j,modal:e,labelId:m,descriptionId:b,setLabelId:g,setDescriptionId:v,updatePosition:te}),[R,D,Q,j,e,m,b,te])}function AC({children:n,modal:e=!1,...t}){const r=oR({modal:e,...t});return T.jsx(MC.Provider,{value:r,children:n})}const og=E.forwardRef(function({children:e,asChild:t=!1,...r},s){const l=TC(),a=E.isValidElement(e)?parseInt(E.version,10)>=19?e.props.ref:e.ref:void 0,c=Is([l.refs.setReference,s,a]);return t&&E.isValidElement(e)?E.cloneElement(e,l.getReferenceProps({ref:c,...r,...e.props,"data-state":l.open?"open":"closed"})):T.jsx("button",{ref:c,"data-state":l.open?"open":"closed",...l.getReferenceProps(r),children:e})}),lg=E.forwardRef(function({className:e,side:t="bottom",align:r="center",sideOffset:s,alignOffset:l,style:a,portal:c=!0,portalProps:d={},asChild:h=!1,children:m,...g},b){const v=TC(),C=E.isValidElement(m)?parseInt(E.version,10)>=19?m.props.ref:m.ref:void 0,S=Is([v.refs.setFloating,b,C]);if(E.useEffect(()=>{v.updatePosition(t,r,s,l)},[v,t,r,s,l]),!v.context.open)return null;const w={ref:S,style:{position:v.strategy,top:v.y??0,left:v.x??0,...a},"aria-labelledby":v.labelId,"aria-describedby":v.descriptionId,className:`tiptap-popover ${e||""}`,"data-side":t,"data-align":r,"data-state":v.context.open?"open":"closed",...v.getFloatingProps(g)},A=h&&E.isValidElement(m)?E.cloneElement(m,{...w,...m.props}):T.jsx("div",{...w,children:m}),R=T.jsx(G3,{context:v.context,modal:v.modal,children:A});return c?T.jsx(Km,{...d,children:R}):R});og.displayName="PopoverTrigger";lg.displayName="PopoverContent";function ag(n){if(!n)return!1;try{return n.can().setMark("highlight")}catch{return!1}}function lR(n,e){return n?n.isActive("highlight",{color:e}):!1}function aR(n,e,t,r){if(n)try{const s=n.chain().focus();if(xO(t))s.toggleMark("highlight",{color:e}).run();else if(r!=null&&r!==-1)s.setNodeSelection(r).toggleMark("highlight",{color:e}).run();else if(t){const l=EO({editor:n,node:t});l?s.setNodeSelection(l.pos).toggleMark("highlight",{color:e}).run():s.toggleMark("highlight",{color:e}).run()}else s.toggleMark("highlight",{color:e}).run();n.chain().setMeta("hideDragHandle",!0).run()}catch(s){console.error("Failed to apply highlight:",s)}}function uR(n,e=!1){return!n||e?!0:n.isActive("code")||n.isActive("codeBlock")||!ag(n)}function cR(n,e,t){return!(!t||!n||e&&(Wn(n.state.selection)||!ag(n)))}function fR(n,e,t=!1,r=!1){const s=Wf("highlight",n),l=uR(n,t),a=lR(n,e),c=E.useMemo(()=>cR(n,r,s),[n,r,s]);return{highlightInSchema:s,isDisabled:l,isActive:a,shouldShow:c}}const kC=E.forwardRef(({editor:n,node:e,nodePos:t,color:r,text:s,hideWhenUnavailable:l=!1,className:a="",disabled:c,onClick:d,onApplied:h,children:m,style:g,...b},v)=>{const C=hn(n),{isDisabled:S,isActive:w,shouldShow:A}=fR(C,r,c,l),R=E.useCallback(P=>{d?.(P),!P.defaultPrevented&&!S&&C&&(aR(C,r,e,t),h?.(r))},[r,C,S,e,t,d,h]),D=E.useMemo(()=>({...g,"--highlight-color":r}),[r,g]);return!A||!C||!C.isEditable?null:T.jsx(Ct,{type:"button",className:a.trim(),disabled:S,"data-style":"ghost","data-active-state":w?"on":"off","data-disabled":S,role:"button",tabIndex:-1,"aria-label":`${r} highlight color`,"aria-pressed":w,onClick:R,style:D,...b,ref:v,children:m||T.jsxs(T.Fragment,{children:[T.jsx("span",{className:"tiptap-button-highlight",style:{"--highlight-color":r}}),s&&T.jsx("span",{className:"tiptap-button-text",children:s})]})})});kC.displayName="ColorHighlightButton";const OC=[{label:"Green",value:"var(--tt-color-highlight-green)",border:"var(--tt-color-highlight-green-contrast)"},{label:"Blue",value:"var(--tt-color-highlight-blue)",border:"var(--tt-color-highlight-blue-contrast)"},{label:"Red",value:"var(--tt-color-highlight-red)",border:"var(--tt-color-highlight-red-contrast)"},{label:"Purple",value:"var(--tt-color-highlight-purple)",border:"var(--tt-color-highlight-purple-contrast)"},{label:"Yellow",value:"var(--tt-color-highlight-yellow)",border:"var(--tt-color-highlight-yellow-contrast)"}],ug=E.forwardRef(({className:n,children:e,...t},r)=>T.jsx(Ct,{type:"button",className:n,"data-style":"ghost","data-appearance":"default",role:"button",tabIndex:-1,"aria-label":"Highlight text",tooltip:"Highlight",ref:r,...t,children:e||T.jsx(sg,{className:"tiptap-button-icon"})}));ug.displayName="ColorHighlightPopoverButton";function RC({editor:n,colors:e=OC,onClose:t}){const r=hn(n),s=E.useRef(null),l=E.useCallback(()=>{r&&(r.chain().focus().unsetMark("highlight").run(),t?.())},[r,t]),a=E.useMemo(()=>[...e,{label:"Remove highlight",value:"none"}],[e]),{selectedIndex:c}=sR({containerRef:s,items:a,orientation:"both",onSelect:d=>{d.value==="none"&&l(),t?.()},onClose:t,autoSelectFirstItem:!1});return T.jsxs("div",{ref:s,className:"tiptap-color-highlight-content",tabIndex:0,children:[T.jsx("div",{className:"tiptap-button-group","data-orientation":"horizontal",children:e.map((d,h)=>T.jsx(kC,{editor:r,color:d.value,"aria-label":`${d.label} highlight color`,tabIndex:h===c?0:-1,"data-highlighted":c===h,onClick:t},d.value))}),T.jsx(Zo,{}),T.jsx("div",{className:"tiptap-button-group",children:T.jsx(Ct,{onClick:l,"aria-label":"Remove highlight",tabIndex:c===e.length?0:-1,type:"button",role:"menuitem","data-style":"ghost","data-highlighted":c===e.length,children:T.jsx(wC,{className:"tiptap-button-icon"})})})]})}function dR({editor:n,colors:e=OC,hideWhenUnavailable:t=!1,...r}){const s=hn(n),[l,a]=E.useState(!1),[c,d]=E.useState(!1),h=Wf("highlight",s);E.useEffect(()=>{if(!s)return;const b=()=>{let v=!1;(!h||!s)&&(v=!0),(s.isActive("code")||s.isActive("codeBlock"))&&(v=!0),d(v)};return s.on("selectionUpdate",b),s.on("update",b),()=>{s.off("selectionUpdate",b),s.off("update",b)}},[s,h]);const m=s?.isActive("highlight")??!1;return!E.useMemo(()=>!t||!s?!0:!(Wn(s.state.selection)||!ag(s)),[t,s])||!s||!s.isEditable?null:T.jsxs(AC,{open:l,onOpenChange:a,children:[T.jsx(og,{asChild:!0,children:T.jsx(ug,{disabled:c,"data-active-state":m?"on":"off","data-disabled":c,"aria-pressed":m,...r})}),T.jsx(lg,{"aria-label":"Highlight colors",children:T.jsx(RC,{editor:s,colors:e,onClose:()=>a(!1)})})]})}const NC=E.memo(({className:n,...e})=>T.jsx("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 4C21 3.44772 20.5523 3 20 3C19.4477 3 19 3.44772 19 4V11C19 11.7956 18.6839 12.5587 18.1213 13.1213C17.5587 13.6839 16.7956 14 16 14H6.41421L9.70711 10.7071C10.0976 10.3166 10.0976 9.68342 9.70711 9.29289C9.31658 8.90237 8.68342 8.90237 8.29289 9.29289L3.29289 14.2929C2.90237 14.6834 2.90237 15.3166 3.29289 15.7071L8.29289 20.7071C8.68342 21.0976 9.31658 21.0976 9.70711 20.7071C10.0976 20.3166 10.0976 19.6834 9.70711 19.2929L6.41421 16H16C17.3261 16 18.5979 15.4732 19.5355 14.5355C20.4732 13.5979 21 12.3261 21 11V4Z",fill:"currentColor"})}));NC.displayName="CornerDownLeftIcon";const DC=E.memo(({className:n,...e})=>T.jsxs("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[T.jsx("path",{d:"M14 3C14 2.44772 14.4477 2 15 2H21C21.5523 2 22 2.44772 22 3V9C22 9.55228 21.5523 10 21 10C20.4477 10 20 9.55228 20 9V5.41421L10.7071 14.7071C10.3166 15.0976 9.68342 15.0976 9.29289 14.7071C8.90237 14.3166 8.90237 13.6834 9.29289 13.2929L18.5858 4H15C14.4477 4 14 3.55228 14 3Z",fill:"currentColor"}),T.jsx("path",{d:"M4.29289 7.29289C4.48043 7.10536 4.73478 7 5 7H11C11.5523 7 12 6.55228 12 6C12 5.44772 11.5523 5 11 5H5C4.20435 5 3.44129 5.31607 2.87868 5.87868C2.31607 6.44129 2 7.20435 2 8V19C2 19.7957 2.31607 20.5587 2.87868 21.1213C3.44129 21.6839 4.20435 22 5 22H16C16.7957 22 17.5587 21.6839 18.1213 21.1213C18.6839 20.5587 19 19.7957 19 19V13C19 12.4477 18.5523 12 18 12C17.4477 12 17 12.4477 17 13V19C17 19.2652 16.8946 19.5196 16.7071 19.7071C16.5196 19.8946 16.2652 20 16 20H5C4.73478 20 4.48043 19.8946 4.29289 19.7071C4.10536 19.5196 4 19.2652 4 19V8C4 7.73478 4.10536 7.48043 4.29289 7.29289Z",fill:"currentColor"})]}));DC.displayName="ExternalLinkIcon";const cg=E.memo(({className:n,...e})=>T.jsxs("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[T.jsx("path",{d:"M16.9958 1.06669C15.4226 1.05302 13.907 1.65779 12.7753 2.75074L12.765 2.76086L11.045 4.47086C10.6534 4.86024 10.6515 5.49341 11.0409 5.88507C11.4303 6.27673 12.0634 6.27858 12.4551 5.88919L14.1697 4.18456C14.9236 3.45893 15.9319 3.05752 16.9784 3.06662C18.0272 3.07573 19.0304 3.49641 19.772 4.23804C20.5137 4.97967 20.9344 5.98292 20.9435 7.03171C20.9526 8.07776 20.5515 9.08563 19.8265 9.83941L16.833 12.8329C16.4274 13.2386 15.9393 13.5524 15.4019 13.7529C14.8645 13.9533 14.2903 14.0359 13.7181 13.9949C13.146 13.9539 12.5894 13.7904 12.0861 13.5154C11.5827 13.2404 11.1444 12.8604 10.8008 12.401C10.47 11.9588 9.84333 11.8685 9.40108 12.1993C8.95883 12.5301 8.86849 13.1568 9.1993 13.599C9.71464 14.288 10.3721 14.858 11.1272 15.2705C11.8822 15.683 12.7171 15.9283 13.5753 15.9898C14.4334 16.0513 15.2948 15.9274 16.1009 15.6267C16.907 15.326 17.639 14.8555 18.2473 14.247L21.2472 11.2471L21.2593 11.2347C22.3523 10.1031 22.9571 8.58751 22.9434 7.01433C22.9297 5.44115 22.2987 3.93628 21.1863 2.82383C20.0738 1.71138 18.5689 1.08036 16.9958 1.06669Z",fill:"currentColor"}),T.jsx("path",{d:"M10.4247 8.0102C9.56657 7.94874 8.70522 8.07256 7.89911 8.37326C7.09305 8.67395 6.36096 9.14458 5.75272 9.753L2.75285 12.7529L2.74067 12.7653C1.64772 13.8969 1.04295 15.4125 1.05662 16.9857C1.07029 18.5589 1.70131 20.0637 2.81376 21.1762C3.9262 22.2886 5.43108 22.9196 7.00426 22.9333C8.57744 22.947 10.0931 22.3422 11.2247 21.2493L11.2371 21.2371L12.9471 19.5271C13.3376 19.1366 13.3376 18.5034 12.9471 18.1129C12.5565 17.7223 11.9234 17.7223 11.5328 18.1129L9.82932 19.8164C9.07555 20.5414 8.06768 20.9425 7.02164 20.9334C5.97285 20.9243 4.9696 20.5036 4.22797 19.762C3.48634 19.0203 3.06566 18.0171 3.05655 16.9683C3.04746 15.9222 3.44851 14.9144 4.17355 14.1606L7.16719 11.167C7.5727 10.7613 8.06071 10.4476 8.59811 10.2471C9.13552 10.0467 9.70976 9.96412 10.2819 10.0051C10.854 10.0461 11.4106 10.2096 11.9139 10.4846C12.4173 10.7596 12.8556 11.1397 13.1992 11.599C13.53 12.0412 14.1567 12.1316 14.5989 11.8007C15.0412 11.4699 15.1315 10.8433 14.8007 10.401C14.2854 9.71205 13.6279 9.14198 12.8729 8.72948C12.1178 8.31697 11.2829 8.07166 10.4247 8.0102Z",fill:"currentColor"})]}));cg.displayName="LinkIcon";const LC=E.memo(({className:n,...e})=>T.jsx("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 5V4C7 3.17477 7.40255 2.43324 7.91789 1.91789C8.43324 1.40255 9.17477 1 10 1H14C14.8252 1 15.5668 1.40255 16.0821 1.91789C16.5975 2.43324 17 3.17477 17 4V5H21C21.5523 5 22 5.44772 22 6C22 6.55228 21.5523 7 21 7H20V20C20 20.8252 19.5975 21.5668 19.0821 22.0821C18.5668 22.5975 17.8252 23 17 23H7C6.17477 23 5.43324 22.5975 4.91789 22.0821C4.40255 21.5668 4 20.8252 4 20V7H3C2.44772 7 2 6.55228 2 6C2 5.44772 2.44772 5 3 5H7ZM9 4C9 3.82523 9.09745 3.56676 9.33211 3.33211C9.56676 3.09745 9.82523 3 10 3H14C14.1748 3 14.4332 3.09745 14.6679 3.33211C14.9025 3.56676 15 3.82523 15 4V5H9V4ZM6 7V20C6 20.1748 6.09745 20.4332 6.33211 20.6679C6.56676 20.9025 6.82523 21 7 21H17C17.1748 21 17.4332 20.9025 17.6679 20.6679C17.9025 20.4332 18 20.1748 18 20V7H6Z",fill:"currentColor"})}));LC.displayName="TrashIcon";const zC=n=>{const{editor:e,onSetLink:t,onLinkActive:r}=n,[s,l]=E.useState("");E.useEffect(()=>{if(!e)return;const{href:d}=e.getAttributes("link");e.isActive("link")&&!s&&(l(d||""),r?.())},[e,r,s]),E.useEffect(()=>{if(!e)return;const d=()=>{const{href:h}=e.getAttributes("link");l(h||""),e.isActive("link")&&!s&&r?.()};return e.on("selectionUpdate",d),()=>{e.off("selectionUpdate",d)}},[e,r,s]);const a=E.useCallback(()=>{if(!s||!e)return;const{from:d,to:h}=e.state.selection,m=e.state.doc.textBetween(d,h);e.chain().focus().extendMarkRange("link").insertContent({type:"text",text:m||s,marks:[{type:"link",attrs:{href:s}}]}).run(),t?.()},[e,t,s]),c=E.useCallback(()=>{e&&(e.chain().focus().unsetMark("link",{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),l(""))},[e]);return{url:s,setUrl:l,setLink:a,removeLink:c,isActive:e?.isActive("link")||!1}},fg=E.forwardRef(({className:n,children:e,...t},r)=>T.jsx(Ct,{type:"button",className:n,"data-style":"ghost",role:"button",tabIndex:-1,"aria-label":"Link",tooltip:"Link",ref:r,...t,children:e||T.jsx(cg,{className:"tiptap-button-icon"})})),hR=({editor:n})=>{const e=hn(n),t=zC({editor:e});return T.jsx(HC,{...t})},HC=({url:n,setUrl:e,setLink:t,removeLink:r,isActive:s})=>{const l=a=>{a.key==="Enter"&&(a.preventDefault(),t())};return T.jsxs(T.Fragment,{children:[T.jsx("input",{type:"url",placeholder:"Paste a link...",value:n,onChange:a=>e(a.target.value),onKeyDown:l,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",className:"tiptap-input tiptap-input-clamp"}),T.jsx("div",{className:"tiptap-button-group","data-orientation":"horizontal",children:T.jsx(Ct,{type:"button",onClick:t,title:"Apply link",disabled:!n&&!s,"data-style":"ghost",children:T.jsx(NC,{className:"tiptap-button-icon"})})}),T.jsx(Zo,{}),T.jsxs("div",{className:"tiptap-button-group","data-orientation":"horizontal",children:[T.jsx(Ct,{type:"button",onClick:()=>window.open(n,"_blank"),title:"Open in new window",disabled:!n&&!s,"data-style":"ghost",children:T.jsx(DC,{className:"tiptap-button-icon"})}),T.jsx(Ct,{type:"button",onClick:r,title:"Remove link",disabled:!n&&!s,"data-style":"ghost",children:T.jsx(LC,{className:"tiptap-button-icon"})})]})]})};function pR({editor:n,hideWhenUnavailable:e=!1,onOpenChange:t,autoOpenOnLinkActive:r=!0,...s}){const l=hn(n),a=Wf("link",l),[c,d]=E.useState(!1),g=zC({editor:l,onSetLink:()=>{d(!1)},onLinkActive:()=>d(r)}),b=E.useMemo(()=>!l||l.isActive("codeBlock")?!0:!l.can().setLink?.({href:""}),[l]),v=E.useMemo(()=>{if(!l)return!1;try{return l.can().setMark("link")}catch{return!1}},[l]),C=l?.isActive("link")??!1,S=E.useCallback(A=>{d(A),t?.(A)},[t]);return!E.useMemo(()=>!(!a||!l||e&&(Wn(l.state.selection)||!v)),[a,e,l,v])||!l||!l.isEditable?null:T.jsxs(AC,{open:c,onOpenChange:S,children:[T.jsx(og,{asChild:!0,children:T.jsx(fg,{disabled:b,"data-active-state":C?"on":"off","data-disabled":b,...s})}),T.jsx(lg,{children:T.jsx(HC,{...g})})]})}fg.displayName="LinkButton";const BC=E.memo(({className:n,...e})=>T.jsx("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 2.5C5.17157 2.5 4.5 3.17157 4.5 4V20C4.5 20.8284 5.17157 21.5 6 21.5H15C16.4587 21.5 17.8576 20.9205 18.8891 19.8891C19.9205 18.8576 20.5 17.4587 20.5 16C20.5 14.5413 19.9205 13.1424 18.8891 12.1109C18.6781 11.9 18.4518 11.7079 18.2128 11.5359C19.041 10.5492 19.5 9.29829 19.5 8C19.5 6.54131 18.9205 5.14236 17.8891 4.11091C16.8576 3.07946 15.4587 2.5 14 2.5H6ZM14 10.5C14.663 10.5 15.2989 10.2366 15.7678 9.76777C16.2366 9.29893 16.5 8.66304 16.5 8C16.5 7.33696 16.2366 6.70107 15.7678 6.23223C15.2989 5.76339 14.663 5.5 14 5.5H7.5V10.5H14ZM7.5 18.5V13.5H15C15.663 13.5 16.2989 13.7634 16.7678 14.2322C17.2366 14.7011 17.5 15.337 17.5 16C17.5 16.663 17.2366 17.2989 16.7678 17.7678C16.2989 18.2366 15.663 18.5 15 18.5H7.5Z",fill:"currentColor"})}));BC.displayName="BoldIcon";const IC=E.memo(({className:n,...e})=>T.jsxs("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[T.jsx("path",{d:"M15.4545 4.2983C15.6192 3.77115 15.3254 3.21028 14.7983 3.04554C14.2712 2.88081 13.7103 3.1746 13.5455 3.70175L8.54554 19.7017C8.38081 20.2289 8.6746 20.7898 9.20175 20.9545C9.72889 21.1192 10.2898 20.8254 10.4545 20.2983L15.4545 4.2983Z",fill:"currentColor"}),T.jsx("path",{d:"M6.70711 7.29289C7.09763 7.68342 7.09763 8.31658 6.70711 8.70711L3.41421 12L6.70711 15.2929C7.09763 15.6834 7.09763 16.3166 6.70711 16.7071C6.31658 17.0976 5.68342 17.0976 5.29289 16.7071L1.29289 12.7071C0.902369 12.3166 0.902369 11.6834 1.29289 11.2929L5.29289 7.29289C5.68342 6.90237 6.31658 6.90237 6.70711 7.29289Z",fill:"currentColor"}),T.jsx("path",{d:"M17.2929 7.29289C17.6834 6.90237 18.3166 6.90237 18.7071 7.29289L22.7071 11.2929C23.0976 11.6834 23.0976 12.3166 22.7071 12.7071L18.7071 16.7071C18.3166 17.0976 17.6834 17.0976 17.2929 16.7071C16.9024 16.3166 16.9024 15.6834 17.2929 15.2929L20.5858 12L17.2929 8.70711C16.9024 8.31658 16.9024 7.68342 17.2929 7.29289Z",fill:"currentColor"})]}));IC.displayName="Code2Icon";const jC=E.memo(({className:n,...e})=>T.jsx("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:T.jsx("path",{d:"M15.0222 3H19C19.5523 3 20 3.44772 20 4C20 4.55228 19.5523 5 19 5H15.693L10.443 19H14C14.5523 19 15 19.4477 15 20C15 20.5523 14.5523 21 14 21H9.02418C9.00802 21.0004 8.99181 21.0004 8.97557 21H5C4.44772 21 4 20.5523 4 20C4 19.4477 4.44772 19 5 19H8.30704L13.557 5H10C9.44772 5 9 4.55228 9 4C9 3.44772 9.44772 3 10 3H14.9782C14.9928 2.99968 15.0075 2.99967 15.0222 3Z",fill:"currentColor"})}));jC.displayName="ItalicIcon";const VC=E.memo(({className:n,...e})=>T.jsxs("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[T.jsx("path",{d:"M9.00039 3H16.0001C16.5524 3 17.0001 3.44772 17.0001 4C17.0001 4.55229 16.5524 5 16.0001 5H9.00011C8.68006 4.99983 8.36412 5.07648 8.07983 5.22349C7.79555 5.37051 7.55069 5.5836 7.36585 5.84487C7.181 6.10614 7.06155 6.40796 7.01754 6.72497C6.97352 7.04198 7.00623 7.36492 7.11292 7.66667C7.29701 8.18737 7.02414 8.75872 6.50344 8.94281C5.98274 9.1269 5.4114 8.85403 5.2273 8.33333C5.01393 7.72984 4.94851 7.08396 5.03654 6.44994C5.12456 5.81592 5.36346 5.21229 5.73316 4.68974C6.10285 4.1672 6.59256 3.74101 7.16113 3.44698C7.72955 3.15303 8.36047 2.99975 9.00039 3Z",fill:"currentColor"}),T.jsx("path",{d:"M18 13H20C20.5523 13 21 12.5523 21 12C21 11.4477 20.5523 11 20 11H4C3.44772 11 3 11.4477 3 12C3 12.5523 3.44772 13 4 13H14C14.7956 13 15.5587 13.3161 16.1213 13.8787C16.6839 14.4413 17 15.2044 17 16C17 16.7956 16.6839 17.5587 16.1213 18.1213C15.5587 18.6839 14.7956 19 14 19H6C5.44772 19 5 19.4477 5 20C5 20.5523 5.44772 21 6 21H14C15.3261 21 16.5979 20.4732 17.5355 19.5355C18.4732 18.5979 19 17.3261 19 16C19 14.9119 18.6453 13.8604 18 13Z",fill:"currentColor"})]}));VC.displayName="StrikeIcon";const _C=E.memo(({className:n,...e})=>T.jsxs("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.29289 7.29289C3.68342 6.90237 4.31658 6.90237 4.70711 7.29289L12.7071 15.2929C13.0976 15.6834 13.0976 16.3166 12.7071 16.7071C12.3166 17.0976 11.6834 17.0976 11.2929 16.7071L3.29289 8.70711C2.90237 8.31658 2.90237 7.68342 3.29289 7.29289Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.7071 7.29289C13.0976 7.68342 13.0976 8.31658 12.7071 8.70711L4.70711 16.7071C4.31658 17.0976 3.68342 17.0976 3.29289 16.7071C2.90237 16.3166 2.90237 15.6834 3.29289 15.2929L11.2929 7.29289C11.6834 6.90237 12.3166 6.90237 12.7071 7.29289Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.4079 14.3995C18.0284 14.0487 18.7506 13.9217 19.4536 14.0397C20.1566 14.1578 20.7977 14.5138 21.2696 15.0481L21.2779 15.0574L21.2778 15.0575C21.7439 15.5988 22 16.2903 22 17C22 18.0823 21.3962 18.8401 20.7744 19.3404C20.194 19.8073 19.4858 20.141 18.9828 20.378C18.9638 20.387 18.9451 20.3958 18.9266 20.4045C18.4473 20.6306 18.2804 20.7817 18.1922 20.918C18.1773 20.9412 18.1619 20.9681 18.1467 21H21C21.5523 21 22 21.4477 22 22C22 22.5523 21.5523 23 21 23H17C16.4477 23 16 22.5523 16 22C16 21.1708 16.1176 20.4431 16.5128 19.832C16.9096 19.2184 17.4928 18.8695 18.0734 18.5956C18.6279 18.334 19.138 18.0901 19.5207 17.7821C19.8838 17.49 20 17.2477 20 17C20 16.7718 19.9176 16.5452 19.7663 16.3672C19.5983 16.1792 19.3712 16.0539 19.1224 16.0121C18.8722 15.9701 18.6152 16.015 18.3942 16.1394C18.1794 16.2628 18.0205 16.4549 17.9422 16.675C17.7572 17.1954 17.1854 17.4673 16.665 17.2822C16.1446 17.0972 15.8728 16.5254 16.0578 16.005C16.2993 15.3259 16.7797 14.7584 17.4039 14.4018L17.4079 14.3995L17.4079 14.3995Z",fill:"currentColor"})]}));_C.displayName="SubscriptIcon";const UC=E.memo(({className:n,...e})=>T.jsxs("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.7071 7.29289C13.0976 7.68342 13.0976 8.31658 12.7071 8.70711L4.70711 16.7071C4.31658 17.0976 3.68342 17.0976 3.29289 16.7071C2.90237 16.3166 2.90237 15.6834 3.29289 15.2929L11.2929 7.29289C11.6834 6.90237 12.3166 6.90237 12.7071 7.29289Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.29289 7.29289C3.68342 6.90237 4.31658 6.90237 4.70711 7.29289L12.7071 15.2929C13.0976 15.6834 13.0976 16.3166 12.7071 16.7071C12.3166 17.0976 11.6834 17.0976 11.2929 16.7071L3.29289 8.70711C2.90237 8.31658 2.90237 7.68342 3.29289 7.29289Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.405 1.40657C18.0246 1.05456 18.7463 0.92634 19.4492 1.04344C20.1521 1.16054 20.7933 1.51583 21.2652 2.0497L21.2697 2.05469L21.2696 2.05471C21.7431 2.5975 22 3.28922 22 4.00203C22 5.08579 21.3952 5.84326 20.7727 6.34289C20.1966 6.80531 19.4941 7.13675 18.9941 7.37261C18.9714 7.38332 18.9491 7.39383 18.9273 7.40415C18.4487 7.63034 18.2814 7.78152 18.1927 7.91844C18.1778 7.94155 18.1625 7.96834 18.1473 8.00003H21C21.5523 8.00003 22 8.44774 22 9.00003C22 9.55231 21.5523 10 21 10H17C16.4477 10 16 9.55231 16 9.00003C16 8.17007 16.1183 7.44255 16.5138 6.83161C16.9107 6.21854 17.4934 5.86971 18.0728 5.59591C18.6281 5.33347 19.1376 5.09075 19.5208 4.78316C19.8838 4.49179 20 4.25026 20 4.00203C20 3.77192 19.9178 3.54865 19.7646 3.37182C19.5968 3.18324 19.3696 3.05774 19.1205 3.01625C18.8705 2.97459 18.6137 3.02017 18.3933 3.14533C18.1762 3.26898 18.0191 3.45826 17.9406 3.67557C17.7531 4.19504 17.18 4.46414 16.6605 4.27662C16.141 4.0891 15.8719 3.51596 16.0594 2.99649C16.303 2.3219 16.7817 1.76125 17.4045 1.40689L17.405 1.40657Z",fill:"currentColor"})]}));UC.displayName="SuperscriptIcon";const qC=E.memo(({className:n,...e})=>T.jsx("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 4C7 3.44772 6.55228 3 6 3C5.44772 3 5 3.44772 5 4V10C5 11.8565 5.7375 13.637 7.05025 14.9497C8.36301 16.2625 10.1435 17 12 17C13.8565 17 15.637 16.2625 16.9497 14.9497C18.2625 13.637 19 11.8565 19 10V4C19 3.44772 18.5523 3 18 3C17.4477 3 17 3.44772 17 4V10C17 11.3261 16.4732 12.5979 15.5355 13.5355C14.5979 14.4732 13.3261 15 12 15C10.6739 15 9.40215 14.4732 8.46447 13.5355C7.52678 12.5979 7 11.3261 7 10V4ZM4 19C3.44772 19 3 19.4477 3 20C3 20.5523 3.44772 21 4 21H20C20.5523 21 21 20.5523 21 20C21 19.4477 20.5523 19 20 19H4Z",fill:"currentColor"})}));qC.displayName="UnderlineIcon";const mR={bold:BC,italic:jC,underline:qC,strike:VC,code:IC,superscript:UC,subscript:_C},gR={bold:"Ctrl-b",italic:"Ctrl-i",underline:"Ctrl-u",strike:"Ctrl-Shift-s",code:"Ctrl-e",superscript:"Ctrl-.",subscript:"Ctrl-,"};function PC(n,e){if(!n)return!1;try{return n.can().toggleMark(e)}catch{return!1}}function yR(n,e){return n?n.isActive(e):!1}function bR(n,e){n&&n.chain().focus().toggleMark(e).run()}function vR(n,e,t=!1){return!!(!n||t||n.isActive("codeBlock")||!PC(n,e))}function CR(n){const{editor:e,type:t,hideWhenUnavailable:r,markInSchema:s}=n;return!(!s||!e||r&&(Wn(e.state.selection)||!PC(e,t)))}function SR(n){return n.charAt(0).toUpperCase()+n.slice(1)}function xR(n,e,t=!1){const r=Wf(e,n),s=vR(n,e,t),l=yR(n,e),a=mR[e],c=gR[e],d=SR(e);return{markInSchema:r,isDisabled:s,isActive:l,Icon:a,shortcutKey:c,formattedName:d}}const Si=E.forwardRef(({editor:n,type:e,text:t,hideWhenUnavailable:r=!1,className:s="",disabled:l,onClick:a,children:c,...d},h)=>{const m=hn(n),{markInSchema:g,isDisabled:b,isActive:v,Icon:C,shortcutKey:S,formattedName:w}=xR(m,e,l),A=E.useCallback(D=>{a?.(D),!D.defaultPrevented&&!b&&m&&bR(m,e)},[a,b,m,e]);return!E.useMemo(()=>CR({editor:m,type:e,hideWhenUnavailable:r,markInSchema:g}),[m,e,r,g])||!m||!m.isEditable?null:T.jsx(Ct,{type:"button",className:s.trim(),disabled:b,"data-style":"ghost","data-active-state":v?"on":"off","data-disabled":b,role:"button",tabIndex:-1,"aria-label":e,"aria-pressed":v,tooltip:w,shortcutKeys:S,onClick:A,...d,ref:h,children:c||T.jsxs(T.Fragment,{children:[T.jsx(C,{className:"tiptap-button-icon"}),t&&T.jsx("span",{className:"tiptap-button-text",children:t})]})})});Si.displayName="MarkButton";const FC=E.memo(({className:n,...e})=>T.jsxs("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 6C2 5.44772 2.44772 5 3 5H21C21.5523 5 22 5.44772 22 6C22 6.55228 21.5523 7 21 7H3C2.44772 7 2 6.55228 2 6Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 12C6 11.4477 6.44772 11 7 11H17C17.5523 11 18 11.4477 18 12C18 12.5523 17.5523 13 17 13H7C6.44772 13 6 12.5523 6 12Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 18C4 17.4477 4.44772 17 5 17H19C19.5523 17 20 17.4477 20 18C20 18.5523 19.5523 19 19 19H5C4.44772 19 4 18.5523 4 18Z",fill:"currentColor"})]}));FC.displayName="AlignCenterIcon";const KC=E.memo(({className:n,...e})=>T.jsxs("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 6C2 5.44772 2.44772 5 3 5H21C21.5523 5 22 5.44772 22 6C22 6.55228 21.5523 7 21 7H3C2.44772 7 2 6.55228 2 6Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 12C2 11.4477 2.44772 11 3 11H21C21.5523 11 22 11.4477 22 12C22 12.5523 21.5523 13 21 13H3C2.44772 13 2 12.5523 2 12Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 18C2 17.4477 2.44772 17 3 17H21C21.5523 17 22 17.4477 22 18C22 18.5523 21.5523 19 21 19H3C2.44772 19 2 18.5523 2 18Z",fill:"currentColor"})]}));KC.displayName="AlignJustifyIcon";const $C=E.memo(({className:n,...e})=>T.jsxs("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 6C2 5.44772 2.44772 5 3 5H21C21.5523 5 22 5.44772 22 6C22 6.55228 21.5523 7 21 7H3C2.44772 7 2 6.55228 2 6Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 12C2 11.4477 2.44772 11 3 11H15C15.5523 11 16 11.4477 16 12C16 12.5523 15.5523 13 15 13H3C2.44772 13 2 12.5523 2 12Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 18C2 17.4477 2.44772 17 3 17H17C17.5523 17 18 17.4477 18 18C18 18.5523 17.5523 19 17 19H3C2.44772 19 2 18.5523 2 18Z",fill:"currentColor"})]}));$C.displayName="AlignLeftIcon";const GC=E.memo(({className:n,...e})=>T.jsxs("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 6C2 5.44772 2.44772 5 3 5H21C21.5523 5 22 5.44772 22 6C22 6.55228 21.5523 7 21 7H3C2.44772 7 2 6.55228 2 6Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 12C8 11.4477 8.44772 11 9 11H21C21.5523 11 22 11.4477 22 12C22 12.5523 21.5523 13 21 13H9C8.44772 13 8 12.5523 8 12Z",fill:"currentColor"}),T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 18C6 17.4477 6.44772 17 7 17H21C21.5523 17 22 17.4477 22 18C22 18.5523 21.5523 19 21 19H7C6.44772 19 6 18.5523 6 18Z",fill:"currentColor"})]}));GC.displayName="AlignRightIcon";const ER={left:$C,center:FC,right:GC,justify:KC},wR={left:"Ctrl-Shift-l",center:"Ctrl-Shift-e",right:"Ctrl-Shift-r",justify:"Ctrl-Shift-j"},MR={left:"Align left",center:"Align center",right:"Align right",justify:"Align justify"};function TR(n){return"setTextAlign"in n}function AR(n){if(!n)return!1;const e=n.extensionManager.extensions.some(t=>t.name==="textAlign");return e||console.warn("TextAlign extension is not available. Make sure it is included in your editor configuration."),e}function kR(n,e,t){if(!n||!t)return!1;try{return n.can().setTextAlign(e)}catch{return!1}}function OR(n,e){return n?n.isActive({textAlign:e}):!1}function RR(n,e){if(!n)return!1;const t=n.chain().focus();return TR(t)?t.setTextAlign(e).run():!1}function NR(n,e,t,r=!1){return!!(!n||!e||r||!t)}function DR(n,e,t){return!(!n?.isEditable||t&&!e)}function LR(n,e,t=!1,r=!1){const s=E.useMemo(()=>AR(n),[n]),l=E.useMemo(()=>kR(n,e,s),[n,e,s]),a=NR(n,s,l,t),c=OR(n,e),d=E.useCallback(()=>!s||!n||a?!1:RR(n,e),[s,n,a,e]),h=E.useMemo(()=>DR(n,l,r),[n,l,r]),m=ER[e],g=wR[e],b=MR[e];return{alignAvailable:s,canAlign:l,isDisabled:a,isActive:c,handleAlignment:d,shouldShow:h,Icon:m,shortcutKey:g,label:b}}const sa=E.forwardRef(({editor:n,align:e,text:t,hideWhenUnavailable:r=!1,className:s="",disabled:l,onClick:a,children:c,...d},h)=>{const m=hn(n),{isDisabled:g,isActive:b,handleAlignment:v,shouldShow:C,Icon:S,shortcutKey:w,label:A}=LR(m,e,l,r),R=E.useCallback(D=>{a?.(D),!D.defaultPrevented&&!l&&v()},[a,l,v]);return!C||!m||!m.isEditable?null:T.jsx(Ct,{type:"button",className:s.trim(),disabled:g,"data-style":"ghost","data-active-state":b?"on":"off","data-disabled":g,role:"button",tabIndex:-1,"aria-label":A,"aria-pressed":b,tooltip:A,shortcutKeys:w,onClick:R,...d,ref:h,children:c||T.jsxs(T.Fragment,{children:[T.jsx(S,{className:"tiptap-button-icon"}),t&&T.jsx("span",{className:"tiptap-button-text",children:t})]})})});sa.displayName="TextAlignButton";const YC=E.memo(({className:n,...e})=>T.jsx("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.7071 2.29289C15.3166 1.90237 14.6834 1.90237 14.2929 2.29289C13.9024 2.68342 13.9024 3.31658 14.2929 3.70711L17.5858 7H9.5C7.77609 7 6.12279 7.68482 4.90381 8.90381C3.68482 10.1228 3 11.7761 3 13.5C3 14.3536 3.16813 15.1988 3.49478 15.9874C3.82144 16.7761 4.30023 17.4926 4.90381 18.0962C6.12279 19.3152 7.77609 20 9.5 20H13C13.5523 20 14 19.5523 14 19C14 18.4477 13.5523 18 13 18H9.5C8.30653 18 7.16193 17.5259 6.31802 16.682C5.90016 16.2641 5.56869 15.768 5.34254 15.2221C5.1164 14.6761 5 14.0909 5 13.5C5 12.3065 5.47411 11.1619 6.31802 10.318C7.16193 9.47411 8.30653 9 9.5 9H17.5858L14.2929 12.2929C13.9024 12.6834 13.9024 13.3166 14.2929 13.7071C14.6834 14.0976 15.3166 14.0976 15.7071 13.7071L20.7071 8.70711C21.0976 8.31658 21.0976 7.68342 20.7071 7.29289L15.7071 2.29289Z",fill:"currentColor"})}));YC.displayName="Redo2Icon";const ZC=E.memo(({className:n,...e})=>T.jsx("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.70711 3.70711C10.0976 3.31658 10.0976 2.68342 9.70711 2.29289C9.31658 1.90237 8.68342 1.90237 8.29289 2.29289L3.29289 7.29289C2.90237 7.68342 2.90237 8.31658 3.29289 8.70711L8.29289 13.7071C8.68342 14.0976 9.31658 14.0976 9.70711 13.7071C10.0976 13.3166 10.0976 12.6834 9.70711 12.2929L6.41421 9H14.5C15.0909 9 15.6761 9.1164 16.2221 9.34254C16.768 9.56869 17.2641 9.90016 17.682 10.318C18.0998 10.7359 18.4313 11.232 18.6575 11.7779C18.8836 12.3239 19 12.9091 19 13.5C19 14.0909 18.8836 14.6761 18.6575 15.2221C18.4313 15.768 18.0998 16.2641 17.682 16.682C17.2641 17.0998 16.768 17.4313 16.2221 17.6575C15.6761 17.8836 15.0909 18 14.5 18H11C10.4477 18 10 18.4477 10 19C10 19.5523 10.4477 20 11 20H14.5C15.3536 20 16.1988 19.8319 16.9874 19.5052C17.7761 19.1786 18.4926 18.6998 19.0962 18.0962C19.6998 17.4926 20.1786 16.7761 20.5052 15.9874C20.8319 15.1988 21 14.3536 21 13.5C21 12.6464 20.8319 11.8012 20.5052 11.0126C20.1786 10.2239 19.6998 9.50739 19.0962 8.90381C18.4926 8.30022 17.7761 7.82144 16.9874 7.49478C16.1988 7.16813 15.3536 7 14.5 7H6.41421L9.70711 3.70711Z",fill:"currentColor"})}));ZC.displayName="Undo2Icon";const zR={undo:ZC,redo:YC},HR={undo:"Ctrl-z",redo:"Ctrl-Shift-z"},BR={undo:"Undo",redo:"Redo"};function JC(n,e){return n?e==="undo"?n.can().undo():n.can().redo():!1}function IR(n,e){if(!n)return!1;const t=n.chain().focus();return e==="undo"?t.undo().run():t.redo().run()}function jR(n,e,t=!1){return t?!0:!JC(n,e)}function VR(n,e,t=!1){const r=E.useMemo(()=>JC(n,e),[n,e]),s=jR(n,e,t),l=E.useCallback(()=>{!n||s||IR(n,e)},[n,e,s]),a=zR[e],c=BR[e],d=HR[e];return{canExecute:r,isDisabled:s,handleAction:l,Icon:a,actionLabel:c,shortcutKey:d}}const Y1=E.forwardRef(({editor:n,action:e,text:t,className:r="",disabled:s,onClick:l,children:a,...c},d)=>{const h=hn(n),{isDisabled:m,handleAction:g,Icon:b,actionLabel:v,shortcutKey:C}=VR(h,e,s),S=E.useCallback(w=>{l?.(w),!w.defaultPrevented&&!s&&g()},[l,s,g]);return!h||!h.isEditable?null:T.jsx(Ct,{ref:d,type:"button",className:r.trim(),disabled:m,"data-style":"ghost","data-disabled":m,role:"button",tabIndex:-1,"aria-label":v,tooltip:v,shortcutKeys:C,onClick:S,...c,children:a||T.jsxs(T.Fragment,{children:[T.jsx(b,{className:"tiptap-button-icon"}),t&&T.jsx("span",{className:"tiptap-button-text",children:t})]})})});Y1.displayName="UndoRedoButton";const QC=E.memo(({className:n,...e})=>T.jsx("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:T.jsx("path",{d:"M12.7071 5.70711C13.0976 5.31658 13.0976 4.68342 12.7071 4.29289C12.3166 3.90237 11.6834 3.90237 11.2929 4.29289L4.29289 11.2929C3.90237 11.6834 3.90237 12.3166 4.29289 12.7071L11.2929 19.7071C11.6834 20.0976 12.3166 20.0976 12.7071 19.7071C13.0976 19.3166 13.0976 18.6834 12.7071 18.2929L7.41421 13L19 13C19.5523 13 20 12.5523 20 12C20 11.4477 19.5523 11 19 11L7.41421 11L12.7071 5.70711Z",fill:"currentColor"})}));QC.displayName="ArrowLeftIcon";const r1=768;function _R(){const[n,e]=E.useState(void 0);return E.useEffect(()=>{const t=window.matchMedia(`(max-width: ${r1-1}px)`),r=()=>{e(window.innerWidth<r1)};return t.addEventListener("change",r),e(window.innerWidth<r1),()=>t.removeEventListener("change",r)},[]),!!n}function XC(){const[n,e]=E.useState({width:0,height:0,offsetTop:0});return E.useEffect(()=>{t();function t(){if(typeof window>"u")return;const s=window.visualViewport;if(!s)return;const{width:l=0,height:a=0,offsetTop:c=0}=s;e(d=>l===d.width&&a===d.height&&c===d.offsetTop?d:{width:l,height:a,offsetTop:c})}const r=window.visualViewport;return r&&(r.addEventListener("resize",t),r.addEventListener("scroll",t)),()=>{r&&(r.removeEventListener("resize",t),r.removeEventListener("scroll",t))}},[]),n}function UR({editor:n,overlayHeight:e=0,elementRef:t=null}){const{height:r}=XC(),[s,l]=E.useState({x:0,y:0,width:0,height:0}),a=E.useCallback(()=>{const c=t?.current??document.body,{x:d,y:h,width:m,height:g}=c.getBoundingClientRect();l({x:d,y:h,width:m,height:g})},[t]);return E.useEffect(()=>{const c=t?.current??document.body;a();const d=new ResizeObserver(()=>{window.requestAnimationFrame(a)});return d.observe(c),window.addEventListener("scroll",a,{passive:!0}),()=>{d.disconnect(),window.removeEventListener("scroll",a)}},[t,a]),E.useEffect(()=>{(()=>{if(!n)return;const{state:d,view:h}=n;if(!h.hasFocus())return;const{from:m}=d.selection,g=h.coordsAtPos(m);if(r<s.height&&g&&!(r-g.top-e>0)){const v=g.top-r/2;window.scrollTo({top:v,behavior:"smooth"})}})()},[n,e,r,s.height]),s}function qR(){try{return l6}catch{return null}}function PR(n,e){if(n&&typeof n.serializeForClipboard=="function")return n.serializeForClipboard(e);const t=qR();if(t&&typeof t?.__serializeForClipboard=="function")return t.__serializeForClipboard(n,e);throw new Error("No supported clipboard serialization method found.")}function FR(n){const e=n.getBoundingClientRect(),t=n.closest('[role="dialog"]');if(t&&window.getComputedStyle(t).transform!=="none"){const r=t.getBoundingClientRect();return{top:e.top-r.top,left:e.left-r.left,width:e.width}}return{top:e.top,left:e.left,width:e.width}}function s7(n,e){const t=["li","p:not(:first-child)","pre","blockquote","h1","h2","h3","h4","h5","h6",...e.customNodes.map(r=>`[data-type=${r}]`)].join(", ");return document.elementsFromPoint(n.x,n.y).find(r=>r.parentElement?.matches?.(".ProseMirror")||r.matches(t))}function KR(n,e,t){const r=n.getBoundingClientRect();return e.posAtCoords({left:r.left+50+t.dragHandleWidth,top:r.top+1})?.inside}function o7(n,e){const t=e.state.doc.resolve(n);return t.depth>1?t.before(t.depth):n}function $R(n){let e="";function t(c,d){if(d.focus(),!c.dataTransfer)return;const h=s7({x:c.clientX+50+n.dragHandleWidth,y:c.clientY},n);if(!(h instanceof Element))return;let m=KR(h,d,n);if(m==null||m<0)return;m=o7(m,d);const{from:g,to:b}=d.state.selection,v=g-b,C=o7(g,d);let S=!1;const w=d.state.doc.resolve(C);if(w.node().type.name==="doc")S=!0;else{const j=ce.create(d.state.doc,w.before());S=!(m+1>=j.$from.pos&&m<=j.$to.pos)}let A=d.state.selection;if(!S&&v!==0&&!(d.state.selection instanceof ce)){const j=ce.create(d.state.doc,b-1);A=ve.create(d.state.doc,m,j.$to.pos)}else if(A=ce.create(d.state.doc,m),A.node.type.isInline||A.node.type.name==="tableRow"){let j=d.state.doc.resolve(A.from);A=ce.create(d.state.doc,j.before())}d.dispatch(d.state.tr.setSelection(A)),d.state.selection instanceof ce&&d.state.selection.node.type.name==="listItem"&&(e=h.parentElement.tagName);const R=d.state.selection.content(),{dom:D,text:P}=PR(d,R);c.dataTransfer.clearData(),c.dataTransfer.setData("text/html",D.innerHTML),c.dataTransfer.setData("text/plain",P),c.dataTransfer.effectAllowed="copyMove",c.dataTransfer.setDragImage(h,0,0),d.dragging={slice:R,move:c.ctrlKey}}let r=null;function s(){r&&r.classList.add("hide")}function l(){r&&r.classList.remove("hide")}function a(c){if(c.target instanceof Element){const d=c.relatedTarget;if(d?.classList.contains("tiptap")||d?.classList.contains("drag-handle"))return}s()}return new pt({key:new $t(n.pluginKey),view:c=>{const d=n.dragHandleSelector?document.querySelector(n.dragHandleSelector):null;r=d??document.createElement("div"),r.draggable=!0,r.dataset.dragHandle="",r.classList.add("drag-handle");function h(g){t(g,c)}r.addEventListener("dragstart",h);function m(g){s();let b=window.scrollY;g.clientY<n.scrollTreshold?window.scrollTo({top:b-30,behavior:"smooth"}):window.innerHeight-g.clientY<n.scrollTreshold&&window.scrollTo({top:b+30,behavior:"smooth"})}return r.addEventListener("drag",m),s(),d||c?.dom?.parentElement?.appendChild(r),c?.dom?.parentElement?.addEventListener("mouseout",a),{destroy:()=>{d||r?.remove?.(),r?.removeEventListener("drag",m),r?.removeEventListener("dragstart",h),r=null,c?.dom?.parentElement?.removeEventListener("mouseout",a)}}},props:{handleDOMEvents:{mousemove:(c,d)=>{if(!c.editable)return;const h=s7({x:d.clientX+50+n.dragHandleWidth,y:d.clientY},n),m=h?.closest(".not-draggable"),g=n.excludedTags.concat(["ol","ul"]).join(", ");if(!(h instanceof Element)||h.matches(g)||m){s();return}const b=window.getComputedStyle(h),v=parseInt(b.lineHeight,10),C=isNaN(v)?parseInt(b.fontSize)*1.2:v,S=parseInt(b.paddingTop,10),w=FR(h);w.top+=(C-24)/2,w.top+=S,h.matches("ul:not([data-type=taskList]) li, ol li")&&(w.left-=n.dragHandleWidth),w.width=n.dragHandleWidth,r&&(r.style.left=`${w.left-w.width}px`,r.style.top=`${w.top}px`,l())},keydown:()=>{s()},mousewheel:()=>{s()},dragstart:c=>{c.dom.classList.add("dragging")},drop:(c,d)=>{c.dom.classList.remove("dragging"),s();let h=null;const m=c.posAtCoords({left:d.clientX,top:d.clientY});if(!m||(c.state.selection instanceof ce&&(h=c.state.selection.node),!h))return;const b=c.state.doc.resolve(m.pos).parent.type.name==="listItem";if(c.state.selection instanceof ce&&c.state.selection.node.type.name==="listItem"&&!b&&e=="OL"){const v=c.state.schema.nodes.orderedList?.createAndFill(null,h),C=new oe(ee.from(v),0,0);c.dragging={slice:C,move:d.ctrlKey}}},dragend:c=>{c.dom.classList.remove("dragging")}}}})}const GR=St.create({name:"globalDragHandle",addOptions(){return{dragHandleWidth:20,scrollTreshold:100,excludedTags:[],customNodes:[]}},addProseMirrorPlugins(){return[$R({pluginKey:"globalDragHandle",dragHandleWidth:this.options.dragHandleWidth,scrollTreshold:this.options.scrollTreshold,dragHandleSelector:this.options.dragHandleSelector,excludedTags:this.options.excludedTags,customNodes:this.options.customNodes})]}});function WC(n,e,t){for(let r=0;;r++){if(r==n.childCount||r==e.childCount)return n.childCount==e.childCount?null:t;let s=n.child(r),l=e.child(r);if(s==l){t+=s.nodeSize;continue}if(!s.sameMarkup(l))return t;if(s.isText&&s.text!=l.text){for(let a=0;s.text[a]==l.text[a];a++)t++;return t}if(s.content.size||l.content.size){let a=WC(s.content,l.content,t+1);if(a!=null)return a}t+=s.nodeSize}}function eS(n,e,t,r){for(let s=n.childCount,l=e.childCount;;){if(s==0||l==0)return s==l?null:{a:t,b:r};let a=n.child(--s),c=e.child(--l),d=a.nodeSize;if(a==c){t-=d,r-=d;continue}if(!a.sameMarkup(c))return{a:t,b:r};if(a.isText&&a.text!=c.text){let h=0,m=Math.min(a.text.length,c.text.length);for(;h<m&&a.text[a.text.length-h-1]==c.text[c.text.length-h-1];)h++,t--,r--;return{a:t,b:r}}if(a.content.size||c.content.size){let h=eS(a.content,c.content,t-1,r-1);if(h)return h}t-=d,r-=d}}class lt{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,t,r,s=0,l){for(let a=0,c=0;c<t;a++){let d=this.content[a],h=c+d.nodeSize;if(h>e&&r(d,s+c,l||null,a)!==!1&&d.content.size){let m=c+1;d.nodesBetween(Math.max(0,e-m),Math.min(d.content.size,t-m),r,s+m)}c=h}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,r,s){let l="",a=!0;return this.nodesBetween(e,t,(c,d)=>{let h=c.isText?c.text.slice(Math.max(e,d)-d,t-d):c.isLeaf?s?typeof s=="function"?s(c):s:c.type.spec.leafText?c.type.spec.leafText(c):"":"";c.isBlock&&(c.isLeaf&&h||c.isTextblock)&&r&&(a?a=!1:l+=r),l+=h},0),l}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,r=e.firstChild,s=this.content.slice(),l=0;for(t.isText&&t.sameMarkup(r)&&(s[s.length-1]=t.withText(t.text+r.text),l=1);l<e.content.length;l++)s.push(e.content[l]);return new lt(s,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let r=[],s=0;if(t>e)for(let l=0,a=0;a<t;l++){let c=this.content[l],d=a+c.nodeSize;d>e&&((a<e||d>t)&&(c.isText?c=c.cut(Math.max(0,e-a),Math.min(c.text.length,t-a)):c=c.cut(Math.max(0,e-a-1),Math.min(c.content.size,t-a-1))),r.push(c),s+=c.nodeSize),a=d}return new lt(r,s)}cutByIndex(e,t){return e==t?lt.empty:e==0&&t==this.content.length?this:new lt(this.content.slice(e,t))}replaceChild(e,t){let r=this.content[e];if(r==t)return this;let s=this.content.slice(),l=this.size+t.nodeSize-r.nodeSize;return s[e]=t,new lt(s,l)}addToStart(e){return new lt([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new lt(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,r=0;t<this.content.length;t++){let s=this.content[t];e(s,r,t),r+=s.nodeSize}}findDiffStart(e,t=0){return WC(this,e,t)}findDiffEnd(e,t=this.size,r=e.size){return eS(this,e,t,r)}findIndex(e,t=-1){if(e==0)return gc(0,e);if(e==this.size)return gc(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,s=0;;r++){let l=this.child(r),a=s+l.nodeSize;if(a>=e)return a==e||t>0?gc(r+1,a):gc(r,s);s=a}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return lt.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new lt(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return lt.empty;let t,r=0;for(let s=0;s<e.length;s++){let l=e[s];r+=l.nodeSize,s&&l.isText&&e[s-1].sameMarkup(l)?(t||(t=e.slice(0,s)),t[t.length-1]=l.withText(t[t.length-1].text+l.text)):t&&t.push(l)}return new lt(t||e,r)}static from(e){if(!e)return lt.empty;if(e instanceof lt)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new lt([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}lt.empty=new lt([],0);const i1={index:0,offset:0};function gc(n,e){return i1.index=n,i1.offset=e,i1}class YR extends Error{}class At{constructor(e,t,r){this.content=e,this.openStart=t,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let r=nS(this.content,e+this.openStart,t);return r&&new At(r,this.openStart,this.openEnd)}removeBetween(e,t){return new At(tS(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return At.empty;let r=t.openStart||0,s=t.openEnd||0;if(typeof r!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new At(lt.fromJSON(e,t.content),r,s)}static maxOpen(e,t=!0){let r=0,s=0;for(let l=e.firstChild;l&&!l.isLeaf&&(t||!l.type.spec.isolating);l=l.firstChild)r++;for(let l=e.lastChild;l&&!l.isLeaf&&(t||!l.type.spec.isolating);l=l.lastChild)s++;return new At(e,r,s)}}At.empty=new At(lt.empty,0,0);function tS(n,e,t){let{index:r,offset:s}=n.findIndex(e),l=n.maybeChild(r),{index:a,offset:c}=n.findIndex(t);if(s==e||l.isText){if(c!=t&&!n.child(a).isText)throw new RangeError("Removing non-flat range");return n.cut(0,e).append(n.cut(t))}if(r!=a)throw new RangeError("Removing non-flat range");return n.replaceChild(r,l.copy(tS(l.content,e-s-1,t-s-1)))}function nS(n,e,t,r){let{index:s,offset:l}=n.findIndex(e),a=n.maybeChild(s);if(l==e||a.isText)return n.cut(0,e).append(t).append(n.cut(e));let c=nS(a.content,e-l-1,t);return c&&n.replaceChild(s,a.copy(c))}const rS=65535,iS=Math.pow(2,16);function ZR(n,e){return n+e*iS}function l7(n){return n&rS}function JR(n){return(n-(n&rS))/iS}const sS=1,oS=2,Tc=4,lS=8;class a7{constructor(e,t,r){this.pos=e,this.delInfo=t,this.recover=r}get deleted(){return(this.delInfo&lS)>0}get deletedBefore(){return(this.delInfo&(sS|Tc))>0}get deletedAfter(){return(this.delInfo&(oS|Tc))>0}get deletedAcross(){return(this.delInfo&Tc)>0}}class Hn{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&Hn.empty)return Hn.empty}recover(e){let t=0,r=l7(e);if(!this.inverted)for(let s=0;s<r;s++)t+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[r*3]+t+JR(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,r){let s=0,l=this.inverted?2:1,a=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let d=this.ranges[c]-(this.inverted?s:0);if(d>e)break;let h=this.ranges[c+l],m=this.ranges[c+a],g=d+h;if(e<=g){let b=h?e==d?-1:e==g?1:t:t,v=d+s+(b<0?0:m);if(r)return v;let C=e==(t<0?d:g)?null:ZR(c/3,e-d),S=e==d?oS:e==g?sS:Tc;return(t<0?e!=d:e!=g)&&(S|=lS),new a7(v,S,C)}s+=m-h}return r?e+s:new a7(e+s,0,null)}touches(e,t){let r=0,s=l7(t),l=this.inverted?2:1,a=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let d=this.ranges[c]-(this.inverted?r:0);if(d>e)break;let h=this.ranges[c+l],m=d+h;if(e<=m&&c==s*3)return!0;r+=this.ranges[c+a]-h}return!1}forEach(e){let t=this.inverted?2:1,r=this.inverted?1:2;for(let s=0,l=0;s<this.ranges.length;s+=3){let a=this.ranges[s],c=a-(this.inverted?l:0),d=a+(this.inverted?0:l),h=this.ranges[s+t],m=this.ranges[s+r];e(c,c+h,d,d+m),l+=m-h}}invert(){return new Hn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Hn.empty:new Hn(e<0?[0,-e,0]:[0,0,e])}}Hn.empty=new Hn([]);const s1=Object.create(null);class nn{getMap(){return Hn.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=s1[t.stepType];if(!r)throw new RangeError(`No step type ${t.stepType} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in s1)throw new RangeError("Duplicate use of step JSON ID "+e);return s1[e]=t,t.prototype.jsonID=e,t}}class wt{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new wt(e,null)}static fail(e){return new wt(null,e)}static fromReplace(e,t,r,s){try{return wt.ok(e.replace(t,r,s))}catch(l){if(l instanceof YR)return wt.fail(l.message);throw l}}}function dg(n,e,t){let r=[];for(let s=0;s<n.childCount;s++){let l=n.child(s);l.content.size&&(l=l.copy(dg(l.content,e,l))),l.isInline&&(l=e(l,t,s)),r.push(l)}return lt.fromArray(r)}class Cs extends nn{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=e.resolve(this.from),s=r.node(r.sharedDepth(this.to)),l=new At(dg(t.content,(a,c)=>!a.isAtom||!c.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),s),t.openStart,t.openEnd);return wt.fromReplace(e,this.from,this.to,l)}invert(){return new Ss(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new Cs(t.pos,r.pos,this.mark)}merge(e){return e instanceof Cs&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Cs(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Cs(t.from,t.to,e.markFromJSON(t.mark))}}nn.jsonID("addMark",Cs);class Ss extends nn{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=new At(dg(t.content,s=>s.mark(this.mark.removeFromSet(s.marks)),e),t.openStart,t.openEnd);return wt.fromReplace(e,this.from,this.to,r)}invert(){return new Cs(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new Ss(t.pos,r.pos,this.mark)}merge(e){return e instanceof Ss&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ss(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Ss(t.from,t.to,e.markFromJSON(t.mark))}}nn.jsonID("removeMark",Ss);class xs extends nn{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return wt.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return wt.fromReplace(e,this.pos,this.pos+1,new At(lt.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let r=this.mark.addToSet(t.marks);if(r.length==t.marks.length){for(let s=0;s<t.marks.length;s++)if(!t.marks[s].isInSet(r))return new xs(this.pos,t.marks[s]);return new xs(this.pos,this.mark)}}return new Da(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new xs(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new xs(t.pos,e.markFromJSON(t.mark))}}nn.jsonID("addNodeMark",xs);class Da extends nn{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return wt.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return wt.fromReplace(e,this.pos,this.pos+1,new At(lt.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new xs(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Da(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Da(t.pos,e.markFromJSON(t.mark))}}nn.jsonID("removeNodeMark",Da);class Ai extends nn{constructor(e,t,r,s=!1){super(),this.from=e,this.to=t,this.slice=r,this.structure=s}apply(e){return this.structure&&Z1(e,this.from,this.to)?wt.fail("Structure replace would overwrite content"):wt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Hn([this.from,this.to-this.from,this.slice.size])}invert(e){return new Ai(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deletedAcross&&r.deletedAcross?null:new Ai(t.pos,Math.max(t.pos,r.pos),this.slice)}merge(e){if(!(e instanceof Ai)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?At.empty:new At(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Ai(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?At.empty:new At(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Ai(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Ai(t.from,t.to,At.fromJSON(e,t.slice),!!t.structure)}}nn.jsonID("replace",Ai);class ba extends nn{constructor(e,t,r,s,l,a,c=!1){super(),this.from=e,this.to=t,this.gapFrom=r,this.gapTo=s,this.slice=l,this.insert=a,this.structure=c}apply(e){if(this.structure&&(Z1(e,this.from,this.gapFrom)||Z1(e,this.gapTo,this.to)))return wt.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return wt.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,t.content);return r?wt.fromReplace(e,this.from,this.to,r):wt.fail("Content does not fit in gap")}getMap(){return new Hn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new ba(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),s=e.map(this.gapFrom,-1),l=e.map(this.gapTo,1);return t.deletedAcross&&r.deletedAcross||s<t.pos||l>r.pos?null:new ba(t.pos,r.pos,s,l,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new ba(t.from,t.to,t.gapFrom,t.gapTo,At.fromJSON(e,t.slice),t.insert,!!t.structure)}}nn.jsonID("replaceAround",ba);function Z1(n,e,t){let r=n.resolve(e),s=t-e,l=r.depth;for(;s>0&&l>0&&r.indexAfter(l)==r.node(l).childCount;)l--,s--;if(s>0){let a=r.node(l).maybeChild(r.indexAfter(l));for(;s>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,s--}}return!1}function QR(n,e){let t=n.resolve(e),r=t.index();return XR(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(r,r+1)}function XR(n,e){return!!(n&&e&&!n.isLeaf&&n.canAppend(e))}class va extends nn{constructor(e,t,r){super(),this.pos=e,this.attr=t,this.value=r}apply(e){let t=e.nodeAt(this.pos);if(!t)return wt.fail("No node at attribute step's position");let r=Object.create(null);for(let l in t.attrs)r[l]=t.attrs[l];r[this.attr]=this.value;let s=t.type.create(r,null,t.marks);return wt.fromReplace(e,this.pos,this.pos+1,new At(lt.from(s),0,t.isLeaf?0:1))}getMap(){return Hn.empty}invert(e){return new va(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new va(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new va(t.pos,t.attr,t.value)}}nn.jsonID("attr",va);class Mf extends nn{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let s in e.attrs)t[s]=e.attrs[s];t[this.attr]=this.value;let r=e.type.create(t,e.content,e.marks);return wt.ok(r)}getMap(){return Hn.empty}invert(e){return new Mf(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Mf(t.attr,t.value)}}nn.jsonID("docAttr",Mf);let La=class extends Error{};La=function n(e){let t=Error.call(this,e);return t.__proto__=n.prototype,t};La.prototype=Object.create(Error.prototype);La.prototype.constructor=La;La.prototype.name="TransformError";function WR(n,e,t){let r=[];for(let a=0;a<n.mapping.maps.length;a++){let c=n.mapping.maps[a];if(c){for(let d=0;d<r.length;d++)r[d]=c.map(r[d]);c.forEach((d,h,m,g)=>r.push(m,g))}}let s=[];for(let a=0;a<r.length;a+=2){let c=r[a],d=r[a+1],h=n.doc.resolve(c),m=h.sharedDepth(d),g=h.node(m);for(let b=h.indexAfter(m),v=h.after(m+1);v<=d;++b){let C=g.maybeChild(b);if(!C)break;if(b&&s.indexOf(v)==-1){let S=g.child(b-1);S.type==C.type&&t.includes(S.type)&&s.push(v)}v+=C.nodeSize}}let l=!1;s.sort((a,c)=>a-c);for(let a=s.length-1;a>=0;a--)QR(n.doc,s[a])&&(e.join(s[a]),l=!0);return l}const eN=St.create({name:"autoJoiner",addOptions(){return{elementsToJoin:[]}},addProseMirrorPlugins(){const n=new $t(this.name),e=[this.editor.schema.nodes.bulletList,this.editor.schema.nodes.orderedList];return this.options.elementsToJoin.forEach(t=>{const r=kt(t,this.editor.schema);e.push(r)}),[new pt({key:n,appendTransaction(t,r,s){let l=s.tr,a=!1;for(const c of t)a=WR(c,l,e)||a;if(a)return l}})]}}),tN=({onHighlighterClick:n,onLinkClick:e,isMobile:t,blockEditor:r,editor:s,folioTiptapNodes:l})=>T.jsxs(T.Fragment,{children:[T.jsx(K1,{}),T.jsxs(Mi,{children:[T.jsx(Y1,{action:"undo"}),T.jsx(Y1,{action:"redo"})]}),T.jsx(Ti,{}),T.jsxs(Mi,{children:[T.jsx(LO,{levels:[1,2,3,4]}),T.jsx($O,{types:["bulletList","orderedList","taskList"]}),T.jsx(SC,{}),T.jsx(EC,{})]}),T.jsx(Ti,{}),T.jsxs(Mi,{children:[T.jsx(Si,{type:"bold"}),T.jsx(Si,{type:"italic"}),T.jsx(Si,{type:"strike"}),T.jsx(Si,{type:"code"}),T.jsx(Si,{type:"underline"}),t?T.jsx(ug,{onClick:n}):T.jsx(dR,{}),t?T.jsx(fg,{onClick:e}):T.jsx(pR,{})]}),T.jsx(Ti,{}),T.jsxs(Mi,{children:[T.jsx(Si,{type:"superscript"}),T.jsx(Si,{type:"subscript"})]}),T.jsx(Ti,{}),T.jsxs(Mi,{children:[T.jsx(sa,{align:"left"}),T.jsx(sa,{align:"center"}),T.jsx(sa,{align:"right"}),T.jsx(sa,{align:"justify"})]}),T.jsx(Ti,{}),T.jsx(Mi,{children:r?T.jsx(pC,{editor:s,folioTiptapNodes:l}):null}),T.jsx(K1,{}),t&&T.jsx(Ti,{})]}),nN=({type:n,onBack:e})=>T.jsxs(T.Fragment,{children:[T.jsx(Mi,{children:T.jsxs(Ct,{"data-style":"ghost",onClick:e,children:[T.jsx(QC,{className:"tiptap-button-icon"}),n==="highlighter"?T.jsx(sg,{className:"tiptap-button-icon"}):T.jsx(cg,{className:"tiptap-button-icon"})]})}),T.jsx(Ti,{}),n==="highlighter"?T.jsx(RC,{}):T.jsx(hR,{})]});function rN({onCreate:n,onUpdate:e,defaultContent:t,type:r,folioTiptapNodes:s}){const l=_R(),a=XC(),[c,d]=E.useState("main"),h=E.useRef(null),m=r==="block",g=GM({onUpdate:e,onCreate:n,content:t,immediatelyRender:!1,editorProps:{attributes:{autocomplete:"off",autocorrect:"off",autocapitalize:"off","aria-label":"Main content area, start typing to enter text."}},extensions:[nT,aT.configure({types:["heading","paragraph"]}),IT,jT.configure({placeholder:document.documentElement.lang==="cs"?'Stiskněte "/" pro příkazy':'Press "/" for commands'}),...m?[lT]:[],...m?[oT.configure({nested:!0})]:[],zT.configure({multicolor:!0}),...m?[iT]:[],NT,BT,HT,uA,aA.configure({openOnClick:!1}),...m?[SO]:[],GR.configure({dragHandleWidth:20,scrollTreshold:100}),eN.configure({elementsToJoin:["bulletList","orderedList"]})]}),b=UR({editor:g,overlayHeight:h.current?.getBoundingClientRect().height??0});return E.useEffect(()=>{!l&&c!=="main"&&d("main")},[l,c]),T.jsx(Mm.Provider,{value:{editor:g},children:T.jsxs("div",{className:`f-tiptap-editor f-tiptap-editor--${m?"block":"rich-text"}`,children:[T.jsx(W3,{ref:h,style:l?{bottom:`calc(100% - ${a.height-b.y}px)`}:{},children:c==="main"?T.jsx(tN,{onHighlighterClick:()=>d("highlighter"),onLinkClick:()=>d("link"),isMobile:l,blockEditor:m,editor:g,folioTiptapNodes:s}):T.jsx(nN,{type:c==="highlighter"?"highlighter":"link",onBack:()=>d("main")})}),T.jsx("div",{className:"f-tiptap-editor__content-wrap",children:T.jsx(IM,{editor:g,role:"presentation",className:"f-tiptap-editor__content f-tiptap-styles"})})]})})}function iN({onCreate:n,onUpdate:e,defaultContent:t,type:r,folioTiptapNodes:s}){switch(r){case"block":case"rich-text":return T.jsx(rN,{onCreate:n,onUpdate:e,defaultContent:t,type:r,folioTiptapNodes:s});default:throw new Error(`Unknown editor type: ${r}`)}}window.Folio=window.Folio||{};window.Folio.Tiptap=window.Folio.Tiptap||{};window.Folio.Tiptap.root=window.Folio.Tiptap.root||null;window.Folio.Tiptap.init=n=>{if(window.Folio.Tiptap.root)throw new Error("Tiptap editor is already initialized");if(!n.node)throw new Error("Node is required");const e=l=>l.view.dom.closest(".f-tiptap-editor").clientHeight,t=({editor:l})=>{window.top.postMessage({type:"f-tiptap:created",height:e(l)},"*"),n.onCreate&&n.onCreate({editor:l})},r=({editor:l})=>{window.top.postMessage({type:"f-tiptap:updated",content:l.getJSON(),height:e(l)},"*"),n.onUpdate&&n.onUpdate({editor:l})},s=Ox.createRoot(n.node);return s.render(T.jsx(E.StrictMode,{children:T.jsx(iN,{onCreate:t,onUpdate:r,defaultContent:n.content,type:n.type,folioTiptapNodes:n.folioTiptapNodes||[]})})),s};window.Folio.Tiptap.destroy=n=>{n&&n.unmount()};window.addEventListener("message",n=>{if(n.origin===window.origin&&n.data){if(n.data.type==="f-input-tiptap:start"){if(!window.Folio.Tiptap.root){const e=document.querySelector(".f-tiptap-iframe-content");if(!e)throw new Error("Node not found for Tiptap editor");if(n.data.stylesheetPath){const t=document.createElement("link");t.rel="stylesheet",t.href=n.data.stylesheetPath,document.head.insertBefore(t,document.head.firstChild)}e.classList.toggle("f-tiptap-iframe-content--console-aside",!!n.data.windowWidth&&n.data.windowWidth>=1700),window.Folio.Tiptap.init({node:e,type:e.dataset.tiptapType==="block"?"block":"rich-text",folioTiptapNodes:n.data.folioTiptapNodes,content:n.data.content})}}else if(n.data.type==="f-input-tiptap:window-resize"){const e=document.querySelector(".f-tiptap-iframe-content");e&&e.classList.toggle("f-tiptap-iframe-content--console-aside",!!n.data.windowWidth&&n.data.windowWidth>=1700)}}});window.top.postMessage({type:"f-tiptap:javascript-evaluated"},"*");
//# sourceMappingURL=folio-tiptap.js.map
