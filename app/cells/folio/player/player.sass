@import 'video-js'

$gray: #C9CBCC !default
$medium-gray: #E8E8E8 !default
$gray-medium-dark: #6F7172 !default
$transition-duration: .3s !default

$f-player-background: $medium-gray !default
$f-player-color: $gray-medium-dark !default
$f-player-border-radius: $border-radius !default
$f-player-play-button-background-image: url("data:image/svg+xml,%3Csvg width='36' height='36' viewBox='0 0 36 36' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='36' height='36' rx='4' fill='currentColor'/%3E%3Cpath d='M14 11.14V25.14L25 18.14L14 11.14Z' fill='white'/%3E%3C/svg%3E%0A") !default
$f-player-pause-button-background-image: url("data:image/svg+xml,%3Csvg width='36' height='36' viewBox='0 0 36 36' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='36' height='36' rx='4' fill='currentColor'/%3E%3Cpath d='M20 25H24V11H20M12 25H16V11H12V25Z' fill='white'/%3E%3C/svg%3E%0A") !default
$f-player-seek-backward-background-image: url("data:image/svg+xml,%3Csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M20 13.5C20 17.09 17.09 20 13.5 20H6V18H13.5C16 18 18 16 18 13.5C18 11 16 9 13.5 9H7.83L10.91 12.09L9.5 13.5L4 8L9.5 2.5L10.92 3.91L7.83 7H13.5C17.09 7 20 9.91 20 13.5Z' fill='%236F7172'/%3E%3C/svg%3E%0A") !default
$f-player-seek-forward-background-image: url("data:image/svg+xml,%3Csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10.5 18H18V20H10.5C6.91 20 4 17.09 4 13.5C4 9.91 6.91 7 10.5 7H16.17L13.08 3.91L14.5 2.5L20 8L14.5 13.5L13.09 12.09L16.17 9H10.5C8 9 6 11 6 13.5C6 16 8 18 10.5 18Z' fill='%236F7172'/%3E%3C/svg%3E%0A") !default
$f-player-action-modal-background-image: url("data:image/svg+xml,%3Csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M19 3C19.5304 3 20.0391 3.21071 20.4142 3.58579C20.7893 3.96086 21 4.46957 21 5V19C21 20.11 20.1 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H19ZM16.7 9.35C16.92 9.14 16.92 8.79 16.7 8.58L15.42 7.3C15.21 7.08 14.86 7.08 14.65 7.3L13.65 8.3L15.7 10.35L16.7 9.35ZM7 14.94V17H9.06L15.12 10.94L13.06 8.88L7 14.94Z' fill='%233B4548'/%3E%3C/svg%3E%0A") !default
$f-player-action-destroy-background-image: url("data:image/svg+xml,%3Csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z' fill='%23F0655D'/%3E%3C/svg%3E%0A") !default
$f-player-fullscreen-background-image: url("data:image/svg+xml,%3Csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M5 5H10V7H7V10H5V5ZM14 5H19V10H17V7H14V5ZM17 14H19V19H14V17H17V14ZM10 17V19H5V14H7V17H10Z' fill='%236F7172'/%3E%3C/svg%3E%0A") !default
$f-player-play-button-width: 36px !default
$f-player-play-button-height: 36px !default
$f-player-control-bar-padding: 24px !default
$f-player-control-font-size: $font-size-sm !default
$f-player-current-time-font-weight: $font-weight-bold !default
$f-player-control-bar-spacer: 18px !default
$f-player-transition-duration: $transition-duration !default
$f-player-progress-primary: $gray-medium-dark !default
$f-player-progress-secondary: $gray !default

.f-player
  position: relative
  color: $f-player-color
  font-size: $f-player-control-font-size
  line-height: inherit
  font-family: inherit
  min-height: 113px
  background: $f-player-background
  border-radius: $f-player-border-radius
  position: relative
  width: 100%

  &__player
    color: inherit
    font-family: inherit
    font-size: inherit
    height: auto
    line-height: inherit
    width: 100%
    background: transparent

    &,
    .vjs-volume-bar,
    .vjs-progress-holder,
    .vjs-modal-dialog
      // disable tooltips
      &::before,
      &::after
        display: none

    .vjs-menu-button-inline
    .vjs-menu-button-inline .vjs-menu,
    .vjs-has-started .vjs-control-bar,
    .vjs-audio-only-mode .vjs-control-bar
    .vjs-has-started.vjs-user-inactive.vjs-playing .vjs-control-bar,
    .vjs-progress-holder,
    &.vjs-user-inactive .vjs-progress-control .vjs-mouse-display
    .vjs-volume-panel
    .vjs-volume-panel.vjs-hover .vjs-volume-control,
    .vjs-volume-panel:active .vjs-volume-control,
    .vjs-volume-panel:focus .vjs-volume-control,
    .vjs-volume-panel .vjs-volume-control:active,
    .vjs-volume-panel.vjs-hover .vjs-mute-control ~ .vjs-volume-control,
    .vjs-volume-panel .vjs-volume-control.vjs-slider-active,
    .vjs-volume-panel.vjs-hover .vjs-volume-control.vjs-volume-vertical,
    .vjs-volume-panel:active .vjs-volume-control.vjs-volume-vertical,
    .vjs-volume-panel:focus .vjs-volume-control.vjs-volume-vertical,
    .vjs-volume-panel .vjs-volume-control:active.vjs-volume-vertical,
    .vjs-volume-panel.vjs-hover .vjs-mute-control ~ .vjs-volume-control.vjs-volume-vertical,
    .vjs-volume-panel .vjs-volume-control.vjs-slider-active.vjs-volume-vertical,
    .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-hover,
    .vjs-volume-panel.vjs-volume-panel-horizontal:active,
    .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active,
    .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-hover,
    .vjs-volume-panel.vjs-volume-panel-horizontal:active,
    .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active,
    .vjs-volume-panel .vjs-volume-control.vjs-volume-vertical,
    .vjs-volume-panel .vjs-volume-control.vjs-volume-horizontal,
    .video-js.vjs-user-inactive .vjs-volume-control .vjs-mouse-display,
    .vjs-title-bar,
    .vjs-playing.vjs-user-inactive .vjs-title-bar
      transition-duration: $f-player-transition-duration !important
      transition-delay: 0s !important

    .vjs-control-bar
      background: $f-player-background
      border-bottom-left-radius: $f-player-border-radius
      border-bottom-right-radius: $f-player-border-radius
      display: flex
      align-items: center
      flex-wrap: wrap
      gap: 10px
      padding: $f-player-control-bar-padding
      position: relative
      top: auto
      bottom: auto
      left: auto
      right: auto
      height: auto

    &.vjs-fullscreen .vjs-control-bar
      border-radius: 0

    &.vjs-has-started.vjs-user-inactive.vjs-playing .vjs-control-bar
      opacity: 1
      visibility: visible
      pointer-events: all

    .vjs-modal-dialog
      background: transparent !important

    &.vjs-error .vjs-error-display
      flex: 1 1 auto
      display: flex
      align-items: center
      justify-content: center
      gap: $f-player-control-bar-padding
      padding: $f-player-control-bar-padding
      order: 1

      .vjs-modal-dialog-content
        padding: 0
        font-size: $font-size-sm
        text-align: left
        order: 2

      .f-player__error-ico
        color: $danger
        order: 1

    .f-player--with-form-controls &.vjs-error
      display: flex
      align-items: center
      justify-content: center

      .vjs-control-bar
        display: flex !important
        flex: 0 0 auto
        width: auto
        order: 2

        > *
          display: none !important

        > .vjs-folio-player-form-control--destroy
          display: inline-block !important

    .vjs-volume-level
      background: $f-player-progress-secondary

    .vjs-play-control
      width: $f-player-play-button-width
      height: $f-player-play-button-height
      margin-right: 10px

      .vjs-icon-placeholder
        background: transparent $f-player-play-button-background-image center center no-repeat
        background-size: contain
        width: $f-player-play-button-width
        height: $f-player-play-button-height

        &::before
          display: none

      &.vjs-playing .vjs-icon-placeholder
        background-image: $f-player-pause-button-background-image

    .vjs-fullscreen-control
      width: 24px
      height: 24px

      .vjs-icon-placeholder
        background: transparent $f-player-fullscreen-background-image center center no-repeat
        width: 24px
        height: 24px

        &::before
          display: none

    .vjs-control,
    .vjs-time-control
      width: auto
      height: auto
      min-width: 24px
      min-height: 24px
      font-size: inherit
      line-height: inherit
      min-width: 0
      padding: 0
      flex: 0 0 auto
      order: 10

    .vjs-play-control
      order: 2

    .vjs-folio-player-seek-button
      order: 3

    .vjs-playback-rate.vjs-control
      order: 4

    .vjs-volume-panel
      order: 5

    .vjs-time-control
      order: 6

    .vjs-progress-control
      flex-grow: 1
      position: relative
      top: -1px

    .vjs-progress-holder
      height: 4px
      background-color: $f-player-progress-secondary
      color: $black
      margin: 0 13px

      .vjs-play-progress
        background-color: transparent

    .vjs-play-progress::before
      content: ""
      display: block
      width: 16px
      height: 16px
      line-height: 16px
      top: -8px + (4px / 2)
      right: -8px
      border-radius: 8px
      background-color: $f-player-progress-primary

    .vjs-progress-control--waveform
      margin: 0 10px

      .vjs-mouse-display
        background-color: $f-player-progress-primary

      .vjs-progress-holder
        background: transparent
        height: 24px
        margin: 0
        position: relative
        z-index: 2

      .vjs-play-progress
        color: $blue

        &::before
          display: none

    .vjs-folio-player-seek-button
      margin-top: -2px
      width: 24px
      height: 24px
      background: transparent $f-player-seek-backward-background-image center center no-repeat
      background-size: cover

      &--forward
        background-image: $f-player-seek-forward-background-image

    .vjs-folio-player-form-control
      margin-top: -2px
      width: 24px
      height: 24px
      background: transparent $f-player-action-modal-background-image center center no-repeat
      background-size: cover

      &--destroy
        background-image: $f-player-action-destroy-background-image

      &--modal
        margin-left: auto

    .vjs-folio-player-title
      overflow: hidden
      text-overflow: ellipsis
      white-space: nowrap
      flex: 0 0 100%
      margin-bottom: 6px
      order: 0

    .vjs-time-control
      display: flex
      align-items: center

      &.vjs-duration
        margin-left: -10px

      &.vjs-remaining-time
        display: none

      &.vjs-time-divider
        padding: 0 0.5ch

      &.vjs-current-time
        font-weight: $f-player-current-time-font-weight
        margin-right: -10px

    &.vjs-paused
      .vjs-big-play-button
        display: none

      .vjs-control-bar
        display: flex

    .vjs-modal-dialog .vjs-modal-dialog-content,
    .vjs-modal-dialog,
    .vjs-button > .vjs-icon-placeholder:before,
    .vjs-big-play-button .vjs-icon-placeholder:before
      position: static

    .vjs-volume-bar
      margin: 0

    .vjs-mute-control
      margin-right: 10px

    .vjs-play-progress .vjs-time-tooltip,
    .vjs-modal-dialog-description
      display: none !important

    .vjs-slider
      background-color: $f-player-progress-secondary

    .vjs-volume-panel
      display: flex
      align-items: center
      width: auto !important
      margin-right: -22px
      transition: all .1s
      padding-left: 5px
      padding-right: 5px

      &.vjs-hover
        margin-right: 0

    .vjs-playback-rate.vjs-control
      padding-left: 10px
      padding-right: 5px
      margin-left: -5px
      margin-right: -5px
      display: flex
      align-items: center
      align-self: stretch

    .vjs-playback-rate .vjs-menu
      left: 50%
      margin-left: -2em
      width: 4em

    .vjs-menu li
      font-size: inherit
      line-height: inherit

    .vjs-menu-button-popup .vjs-menu .vjs-menu-content
      max-height: none
      background: $black
      color: $white
      border-radius: $f-player-border-radius

      .vjs-menu-item:first-child
        border-top-left-radius: $f-player-border-radius
        border-top-right-radius: $f-player-border-radius

      .vjs-menu-item:last-child
        border-bottom-left-radius: $f-player-border-radius
        border-bottom-right-radius: $f-player-border-radius

    .vjs-playback-rate .vjs-playback-rate-value
      font-size: inherit
      line-height: inherit
      font-weight: $font-weight-bold
      position: static
      width: auto
      height: auto

    .vjs-button.vjs-disabled
      display: none

    .vjs-volume-control.vjs-volume-horizontal
      width: 0px
      display: flex
      align-items: center

    .vjs-progress-holder .vjs-load-progress
      display: none

    .vjs-folio-player-video-spacer
      position: relative
      border-top-left-radius: $border-radius
      border-top-right-radius: $border-radius
      overflow: hidden

    .vjs-tech
      position: absolute
      width: 100%
      height: 100%
      outline: 0

    .vjs-text-track-display
      display: none

    &.vjs-fullscreen
      display: flex
      flex-direction: column
      border-radius: 0

      .vjs-tech
        position: relative
        width: 100%
        height: 100%

      .vjs-folio-player-video-spacer
        flex: 1 1 auto

        &__spacer
          display: none

      .vjs-control-bar
        flex: 0 0 auto

    &.vjs-layout-tiny,
    &.vjs-layout-x-small,
    &.vjs-layout-small,
    &.vjs-layout-medium
      .vjs-progress-control
        order: 0
        flex: 0 0 100%
        margin: 0 !important

      .vjs-control-bar
        padding: 12px

      .vjs-play-control
        margin-right: 5px

    &.vjs-layout-x-small .vjs-custom-control-spacer
      display: none

    &.vjs-layout-x-small .vjs-progress-control
      display: flex

    &.vjs-layout-small .vjs-current-time, &.vjs-layout-small .vjs-time-divider, &.vjs-layout-small .vjs-duration, &.vjs-layout-small .vjs-playback-rate, &.vjs-layout-small .vjs-volume-control
      display: flex

  &__waveform-wrap
    position: absolute
    top: 0
    left: 0
    width: 100%
    height: 100%
    z-index: 1
    pointer-events: none
    overflow: hidden

  &__waveform
    position: absolute
    top: 0
    left: 0
    z-index: 1
    pointer-events: none
    height: 100%

  &--video
    max-width: 555px
    min-height: 396px

    &__player
     .vjs-folio-player-title
       order: 1

  &--audio
    &__player
      .vjs-text-track-display
        display: none

      .vjs-control-bar
        height: auto

  &--bound
    min-height: 0
