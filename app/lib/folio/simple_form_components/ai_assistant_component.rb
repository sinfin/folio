# frozen_string_literal: true

module Folio
  module SimpleFormComponents
    module AiAssistantComponent
      def ai_assistant_modal_toggle(wrapper_options = nil)
        trigger_class_name = Folio::Console::AiAssistant::ModalCell::TRIGGER_CLASS_NAME
        label = I18n.t("simple_form.ai_assistant.model_toggle_label")
        prompt = options[:ai_assistant_prompt]

        %{
          <button type="button" class="#{trigger_class_name}" data-prompt="#{prompt}">
            #{robot_icon}
            #{label}
          </button>
        }.html_safe
      end

      def robot_icon
        '<svg class="mr-2" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M7.99935 1.33334C8.35297 1.33334 8.69211 1.47382 8.94216 1.72387C9.19221 1.97392 9.33268 2.31305 9.33268 2.66668C9.33268 3.16001 9.06602 3.59334 8.66602 3.82001V4.66668H9.33268C10.5704 4.66668 11.7573 5.15834 12.6325 6.03351C13.5077 6.90868 13.9993 8.09567 13.9993 9.33334H14.666C14.8428 9.33334 15.0124 9.40358 15.1374 9.52861C15.2624 9.65363 15.3327 9.8232 15.3327 10V12C15.3327 12.1768 15.2624 12.3464 15.1374 12.4714C15.0124 12.5964 14.8428 12.6667 14.666 12.6667H13.9993V13.3333C13.9993 13.687 13.8589 14.0261 13.6088 14.2762C13.3588 14.5262 13.0196 14.6667 12.666 14.6667H3.33268C2.97906 14.6667 2.63992 14.5262 2.38987 14.2762C2.13982 14.0261 1.99935 13.687 1.99935 13.3333V12.6667H1.33268C1.15587 12.6667 0.986302 12.5964 0.861278 12.4714C0.736253 12.3464 0.666016 12.1768 0.666016 12V10C0.666016 9.8232 0.736253 9.65363 0.861278 9.52861C0.986302 9.40358 1.15587 9.33334 1.33268 9.33334H1.99935C1.99935 8.09567 2.49101 6.90868 3.36618 6.03351C4.24135 5.15834 5.42834 4.66668 6.66602 4.66668H7.33268V3.82001C6.93268 3.59334 6.66602 3.16001 6.66602 2.66668C6.66602 2.31305 6.80649 1.97392 7.05654 1.72387C7.30659 1.47382 7.64573 1.33334 7.99935 1.33334ZM4.99935 8.66668C4.55732 8.66668 4.1334 8.84227 3.82084 9.15483C3.50828 9.46739 3.33268 9.89132 3.33268 10.3333C3.33268 10.7754 3.50828 11.1993 3.82084 11.5119C4.1334 11.8244 4.55732 12 4.99935 12C5.44138 12 5.8653 11.8244 6.17786 11.5119C6.49042 11.1993 6.66602 10.7754 6.66602 10.3333C6.66602 9.89132 6.49042 9.46739 6.17786 9.15483C5.8653 8.84227 5.44138 8.66668 4.99935 8.66668ZM10.9993 8.66668C10.5573 8.66668 10.1334 8.84227 9.82084 9.15483C9.50828 9.46739 9.33268 9.89132 9.33268 10.3333C9.33268 10.7754 9.50828 11.1993 9.82084 11.5119C10.1334 11.8244 10.5573 12 10.9993 12C11.4414 12 11.8653 11.8244 12.1779 11.5119C12.4904 11.1993 12.666 10.7754 12.666 10.3333C12.666 9.89132 12.4904 9.46739 12.1779 9.15483C11.8653 8.84227 11.4414 8.66668 10.9993 8.66668Z" fill="#00B594"/>
         </svg>'
      end
    end
  end
end

SimpleForm.include_component(Folio::SimpleFormComponents::AiAssistantComponent)
