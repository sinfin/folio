h1: a.f-c-unlink href=console_ui_path Folio Console UI

h2 Input Tiptap

- if params[:type] == "block"
  h3 Block editor

  .my-4
    = render(Folio::Console::Ui::ButtonComponent.new(label: "Switch to rich text editor",
                                                     href: input_tiptap_console_ui_path,
                                                     variant: :gray))

  = simple_form_for "", method: :get, url: request.path do |f|
    div
      = f.input :tiptap_json, as: :tiptap, block: true, input_html: { value: '{"type":"doc","content":[{"type":"heading","attrs":{"textAlign":null,"level":1},"content":[{"type":"text","marks":[{"type":"bold"}],"text":"Folio Tiptap proof of concept"}]},{"type":"heading","attrs":{"textAlign":null,"level":2},"content":[{"type":"text","marks":[{"type":"bold"}],"text":"üéØ Shrnut√≠ po≈æadavku"}]},{"type":"heading","attrs":{"textAlign":null,"level":3},"content":[{"type":"text","marks":[{"type":"bold"}],"text":"√öƒçel"}]},{"type":"paragraph","attrs":{"textAlign":null},"content":[{"type":"text","text":"Vylep≈°it "},{"type":"text","marks":[{"type":"highlight","attrs":{"color":"var(--tt-color-highlight-green)"}}],"text":"UX p≈ôi vytv√°≈ôen√≠ ƒçl√°nk≈Ø"},{"type":"text","text":" pomoc√≠ WYSIWYG editoru."}]},{"type":"heading","attrs":{"textAlign":null,"level":3},"content":[{"type":"text","marks":[{"type":"bold"}],"text":"Kl√≠ƒçov√© akƒçn√≠ body"}]},{"type":"heading","attrs":{"textAlign":null,"level":2},"content":[{"type":"text","marks":[{"type":"bold"}],"text":"üèóÔ∏è Technick√Ω n√°vrh"}]},{"type":"heading","attrs":{"textAlign":null,"level":3},"content":[{"type":"text","marks":[{"type":"bold"}],"text":"Technick√© ≈ôe≈°en√≠ - TipTap WYSIWYG Editor"}]},{"type":"paragraph","attrs":{"textAlign":null},"content":[{"type":"text","marks":[{"type":"bold"}],"text":"TipTap"},{"type":"text","text":" je modern√≠ WYSIWYG editor postaven√Ω na ProseMirror frameworku, kter√Ω poskytuje flexibiln√≠ a roz≈°i≈ôitelnou platformu pro rich text editaci."}]},{"type":"heading","attrs":{"textAlign":null,"level":4},"content":[{"type":"text","marks":[{"type":"bold"}],"text":"Kl√≠ƒçov√© vlastnosti TipTap:"}]},{"type":"bulletList","content":[{"type":"listItem","content":[{"type":"paragraph","attrs":{"textAlign":null},"content":[{"type":"text","marks":[{"type":"bold"}],"text":"Modul√°rn√≠ architektura:"},{"type":"text","text":" Editor je slo≈æen z roz≈°√≠≈ôen√≠ (extensions), kter√© lze dynamicky p≈ôid√°vat/odeb√≠rat"}]}]},{"type":"listItem","content":[{"type":"paragraph","attrs":{"textAlign":null},"content":[{"type":"text","marks":[{"type":"bold"}],"text":"Framework agnostic:"},{"type":"text","text":" Podporuje Vue.js, React, Vanilla JS"}]}]},{"type":"listItem","content":[{"type":"paragraph","attrs":{"textAlign":null},"content":[{"type":"text","marks":[{"type":"bold"}],"text":"TypeScript podpora:"},{"type":"text","text":" Pln√° typov√° bezpeƒçnost"}]}]},{"type":"listItem","content":[{"type":"paragraph","attrs":{"textAlign":null},"content":[{"type":"text","marks":[{"type":"bold"}],"text":"Customizable:"},{"type":"text","text":" Mo≈ænost vytv√°≈ôen√≠ vlastn√≠ch roz≈°√≠≈ôen√≠ a node typ≈Ø"}]}]},{"type":"listItem","content":[{"type":"paragraph","attrs":{"textAlign":null},"content":[{"type":"text","marks":[{"type":"bold"}],"text":"Accessibility:"},{"type":"text","text":" Vestavƒõn√° podpora pro screen readery a kl√°vesov√© navigace"}]}]},{"type":"listItem","content":[{"type":"paragraph","attrs":{"textAlign":null},"content":[{"type":"text","marks":[{"type":"bold"}],"text":"AI-Powered Features:"},{"type":"text","text":" Podpora pro AI asistovan√© psan√≠ a automatick√© n√°vrhy obsahu"}]}]},{"type":"listItem","content":[{"type":"paragraph","attrs":{"textAlign":null},"content":[{"type":"text","marks":[{"type":"bold"}],"text":"Collaborative Editing:"},{"type":"text","text":" Mo≈ænost implementace real-time spolupr√°ce v√≠ce editor≈Ø souƒçasnƒõ"}]}]}]},{"type":"heading","attrs":{"textAlign":null,"level":4},"content":[{"type":"text","marks":[{"type":"bold"}],"text":"Datov√° struktura - ProseMirror JSON"}]},{"type":"paragraph","attrs":{"textAlign":null},"content":[{"type":"text","text":"Editor ukl√°d√° obsah ve form√°tu "},{"type":"text","marks":[{"type":"bold"}],"text":"ProseMirror Document JSON"},{"type":"text","text":", kter√Ω reprezentuje strukturovan√Ω dokument jako strom uzl≈Ø:"}]},{"type":"codeBlock","attrs":{"language":null},"content":[{"type":"text","text":"{\n  \"type\": \"doc\",\n  \"content\": [\n    {\n      \"type\": \"heading\",\n      \"attrs\": { \"level\": 1 },\n      \"content\": [\n        {\n          \"type\": \"text\",\n          \"text\": \"Nadpis ƒçl√°nku\"\n        }\n      ]\n    },\n    {\n      \"type\": \"paragraph\",\n      \"content\": [\n        {\n          \"type\": \"text\",\n          \"text\": \"Obyƒçejn√Ω text s \",\n          \"marks\": []\n        },\n        {\n          \"type\": \"text\",\n          \"text\": \"tuƒçn√Ωm zv√Ωraznƒõn√≠m\",\n          \"marks\": [{ \"type\": \"bold\" }]\n        }\n      ]\n    },\n    {\n      \"type\": \"bulletList\",\n      \"content\": [\n        {\n          \"type\": \"listItem\",\n          \"content\": [\n            {\n              \"type\": \"paragraph\",\n              \"content\": [\n                {\n                  \"type\": \"text\",\n                  \"text\": \"Polo≈æka seznamu\"\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    }\n  ]\n}"}]},{"type":"heading","attrs":{"textAlign":null,"level":4},"content":[{"type":"text","marks":[{"type":"bold"}],"text":"Struktura ProseMirror JSON:"}]},{"type":"bulletList","content":[{"type":"listItem","content":[{"type":"paragraph","attrs":{"textAlign":null},"content":[{"type":"text","marks":[{"type":"code"}],"text":"type"},{"type":"text","marks":[{"type":"bold"}],"text":":"},{"type":"text","text":" Typ uzlu (doc, paragraph, heading, text, atd.)"}]}]},{"type":"listItem","content":[{"type":"paragraph","attrs":{"textAlign":null},"content":[{"type":"text","marks":[{"type":"code"}],"text":"content"},{"type":"text","marks":[{"type":"bold"}],"text":":"},{"type":"text","text":" Pole potomk≈Ø uzlu"}]}]},{"type":"listItem","content":[{"type":"paragraph","attrs":{"textAlign":null},"content":[{"type":"text","marks":[{"type":"code"}],"text":"attrs"},{"type":"text","marks":[{"type":"bold"}],"text":":"},{"type":"text","text":" Atributy uzlu (nap≈ô. level u heading)"}]}]},{"type":"listItem","content":[{"type":"paragraph","attrs":{"textAlign":null},"content":[{"type":"text","marks":[{"type":"code"}],"text":"marks"},{"type":"text","marks":[{"type":"bold"}],"text":":"},{"type":"text","text":" Form√°tov√°n√≠ textu (bold, italic, link)"}]}]},{"type":"listItem","content":[{"type":"paragraph","attrs":{"textAlign":null},"content":[{"type":"text","marks":[{"type":"code"}],"text":"text"},{"type":"text","marks":[{"type":"bold"}],"text":":"},{"type":"text","text":" Textov√Ω obsah (pouze u text nod≈Ø)"}]}]}]},{"type":"heading","attrs":{"textAlign":null,"level":4},"content":[{"type":"text","marks":[{"type":"bold"}],"text":"Implementaƒçn√≠ v√Ωhody:"}]},{"type":"bulletList","content":[{"type":"listItem","content":[{"type":"paragraph","attrs":{"textAlign":null},"content":[{"type":"text","marks":[{"type":"bold"}],"text":"Validace:"},{"type":"text","text":" JSON schema zaji≈°≈•uje konzistenci dat"}]}]},{"type":"listItem","content":[{"type":"paragraph","attrs":{"textAlign":null},"content":[{"type":"text","marks":[{"type":"bold"}],"text":"Transformace:"},{"type":"text","text":" Snadn√Ω p≈ôevod mezi JSON ‚Üî HTML ‚Üî Markdown"}]}]},{"type":"listItem","content":[{"type":"paragraph","attrs":{"textAlign":null},"content":[{"type":"text","marks":[{"type":"bold"}],"text":"Verzov√°n√≠:"},{"type":"text","text":" Mo≈ænost sledov√°n√≠ zmƒõn a rollbacku"}]}]},{"type":"listItem","content":[{"type":"paragraph","attrs":{"textAlign":null},"content":[{"type":"text","marks":[{"type":"bold"}],"text":"API friendly:"},{"type":"text","text":" P≈ô√≠m√° integrace s REST/GraphQL API"}]}]}]},{"type":"heading","attrs":{"textAlign":null,"level":3},"content":[{"type":"text","marks":[{"type":"bold"}],"text":"Architektura ≈ôe≈°en√≠"}]},{"type":"paragraph","attrs":{"textAlign":null},"content":[{"type":"text","text":"Po implementaci Tiptap proof of concept p≈ôid√°me obecn√Ω \"folio block\" uzel, kter√Ω bude r≈Øzn√© druhy obsahu renderovan√© z API. T√≠mto zp≈Øsobem vytvo≈ô√≠me most mezi WYSIWYG editorem a dynamick√Ωmi komponentami renderovan√Ωmi pomoc√≠ Ruby on Rails."}]},{"type":"heading","attrs":{"textAlign":null,"level":4},"content":[{"type":"text","marks":[{"type":"bold"}],"text":"Roz≈°√≠≈ôen√≠ TipTap o \"Folio Block\" uzly"}]},{"type":"paragraph","attrs":{"textAlign":null},"content":[{"type":"text","marks":[{"type":"bold"}],"text":"Koncept Folio Block Extension:"},{"type":"text","text":" Implementujeme custom TipTap extension, kter√° p≈ôid√° nov√Ω typ uzlu "},{"type":"text","marks":[{"type":"code"}],"text":"folioBlock"},{"type":"text","text":". Tento uzel bude slou≈æit jako kontejner pro r≈Øzn√© druhy dynamick√©ho obsahu, kter√Ω se bude renderovat prost≈ôednictv√≠m API vol√°n√≠."}]},{"type":"paragraph","attrs":{"textAlign":null},"content":[{"type":"text","marks":[{"type":"bold"}],"text":"Architektura Folio Block syst√©mu:"}]},{"type":"bulletList","content":[{"type":"listItem","content":[{"type":"paragraph","attrs":{"textAlign":null},"content":[{"type":"text","marks":[{"type":"bold"}],"text":"Block Type Definition:"},{"type":"text","text":" Ka≈æd√Ω folio block bude m√≠t definovan√Ω typ (nap≈ô. \"souvisej√≠c√≠ ƒçl√°nek\", nebo \"kontaktn√≠ formul√°≈ô\")"}]}]},{"type":"listItem","content":[{"type":"paragraph","attrs":{"textAlign":null},"content":[{"type":"text","marks":[{"type":"bold"}],"text":"Metadata Storage:"},{"type":"text","text":" Uzel bude ukl√°dat metadata pot≈ôebn√° pro API vol√°n√≠ (ID, konfigurace, parametry)"}]}]},{"type":"listItem","content":[{"type":"paragraph","attrs":{"textAlign":null},"content":[{"type":"text","marks":[{"type":"bold"}],"text":"Runtime Rendering:"},{"type":"text","text":" P≈ôi zobrazen√≠ se obsah bloku naƒçte z API p≈ô√≠mo jako HTML renderovan√© pomoc√≠ Ruby on Rails"}]}]}]},{"type":"paragraph","attrs":{"textAlign":null},"content":[{"type":"text","marks":[{"type":"bold"}],"text":"Editaƒçn√≠ workflow:"},{"type":"text","text":" Editor bude obsahovat paletu dostupn√Ωch block typ≈Ø, kter√© u≈æivatel m≈Ø≈æe vlo≈æit pomoc√≠ slash commands nebo toolbar tlaƒç√≠tek. Po vlo≈æen√≠ se otev≈ôe konfiguraƒçn√≠ overlay pro nastaven√≠ specifick√Ωch parametr≈Ø bloku. Zmƒõny se projev√≠ v real-time preview p≈ô√≠mo v editoru."}]},{"type":"paragraph","attrs":{"textAlign":null},"content":[{"type":"text","marks":[{"type":"bold"}],"text":"Data persistence:"},{"type":"text","text":" Folio Block uzly se ulo≈æ√≠ do ProseMirror JSON struktury s typem "},{"type":"text","marks":[{"type":"code"}],"text":"folioBlock"},{"type":"text","text":" a atributy obsahuj√≠c√≠mi block type a konfiguraƒçn√≠ data. P≈ôi renderu se bloky nahrad√≠ v√Ωstupem dan√Ωch ruby view components."}]}]}' }

- else
  h3 Rich text editor

  .my-4
    = render(Folio::Console::Ui::ButtonComponent.new(label: "Switch to block editor",
                                                     href: input_tiptap_console_ui_path(type: "block"),
                                                     variant: :gray))

  = simple_form_for "", method: :get, url: request.path do |f|
    = f.input :tiptap_json, as: :tiptap, input_html: { value: '{"type":"doc","content":[{"type":"paragraph","attrs":{"textAlign":null},"content":[{"type":"text","marks":[{"type":"bold"}],"text":"TipTap"},{"type":"text","text":" je modern√≠ WYSIWYG editor postaven√Ω na ProseMirror frameworku, kter√Ω poskytuje flexibiln√≠ a roz≈°i≈ôitelnou platformu pro rich text editaci."}]}]}' }
